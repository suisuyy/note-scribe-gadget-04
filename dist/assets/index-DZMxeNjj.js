const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dockerfile-BuNIbK2j.js","assets/simple-mode-C4Nsj8zu.js","assets/factor-D8pE9siL.js","assets/nsis-CEAdamBV.js","assets/pug-BmUsPMDj.js","assets/javascript-iSgyE4tI.js"])))=>i.map(i=>d[i]);
var N0=o=>{throw TypeError(o)};var op=(o,e,a)=>e.has(o)||N0("Cannot "+a);var un=(o,e,a)=>(op(o,e,"read from private field"),a?a.call(o):e.get(o)),Vn=(o,e,a)=>e.has(o)?N0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,a),$n=(o,e,a,c)=>(op(o,e,"write to private field"),c?c.call(o,a):e.set(o,a),a),vr=(o,e,a)=>(op(o,e,"access private method"),a);var Xl=(o,e,a,c)=>({set _(d){$n(o,e,d,a)},get _(){return un(o,e,c)}});function _mergeNamespaces(o,e){for(var a=0;a<e.length;a++){const c=e[a];if(typeof c!="string"&&!Array.isArray(c)){for(const d in c)if(d!=="default"&&!(d in o)){const g=Object.getOwnPropertyDescriptor(c,d);g&&Object.defineProperty(o,d,g.get?g:{enumerable:!0,get:()=>c[d]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&c(b)}).observe(document,{childList:!0,subtree:!0});function a(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerPolicy&&(g.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?g.credentials="include":d.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(d){if(d.ep)return;d.ep=!0;const g=a(d);fetch(d.href,g)}})();function resolveUrl(o,e){if(o.match(/^[a-z]+:\/\//i))return o;if(o.match(/^\/\//))return window.location.protocol+o;if(o.match(/^[a-z]+:/i))return o;const a=document.implementation.createHTMLDocument(),c=a.createElement("base"),d=a.createElement("a");return a.head.appendChild(c),a.body.appendChild(d),e&&(c.href=e),d.href=o,d.href}const uuid$1=(()=>{let o=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(o+=1,`u${e()}${o}`)})();function toArray$1(o){const e=[];for(let a=0,c=o.length;a<c;a++)e.push(o[a]);return e}function px(o,e){const c=(o.ownerDocument.defaultView||window).getComputedStyle(o).getPropertyValue(e);return c?parseFloat(c.replace("px","")):0}function getNodeWidth(o){const e=px(o,"border-left-width"),a=px(o,"border-right-width");return o.clientWidth+e+a}function getNodeHeight(o){const e=px(o,"border-top-width"),a=px(o,"border-bottom-width");return o.clientHeight+e+a}function getImageSize(o,e={}){const a=e.width||getNodeWidth(o),c=e.height||getNodeHeight(o);return{width:a,height:c}}function getPixelRatio(){let o,e;try{e=process}catch{}const a=e&&e.env?e.env.devicePixelRatio:null;return a&&(o=parseInt(a,10),Number.isNaN(o)&&(o=1)),o||window.devicePixelRatio||1}const canvasDimensionLimit=16384;function checkCanvasDimensions(o){(o.width>canvasDimensionLimit||o.height>canvasDimensionLimit)&&(o.width>canvasDimensionLimit&&o.height>canvasDimensionLimit?o.width>o.height?(o.height*=canvasDimensionLimit/o.width,o.width=canvasDimensionLimit):(o.width*=canvasDimensionLimit/o.height,o.height=canvasDimensionLimit):o.width>canvasDimensionLimit?(o.height*=canvasDimensionLimit/o.width,o.width=canvasDimensionLimit):(o.width*=canvasDimensionLimit/o.height,o.height=canvasDimensionLimit))}function createImage(o){return new Promise((e,a)=>{const c=new Image;c.decode=()=>e(c),c.onload=()=>e(c),c.onerror=a,c.crossOrigin="anonymous",c.decoding="async",c.src=o})}async function svgToDataURL(o){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(o)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function nodeToDataURL(o,e,a){const c="http://www.w3.org/2000/svg",d=document.createElementNS(c,"svg"),g=document.createElementNS(c,"foreignObject");return d.setAttribute("width",`${e}`),d.setAttribute("height",`${a}`),d.setAttribute("viewBox",`0 0 ${e} ${a}`),g.setAttribute("width","100%"),g.setAttribute("height","100%"),g.setAttribute("x","0"),g.setAttribute("y","0"),g.setAttribute("externalResourcesRequired","true"),d.appendChild(g),g.appendChild(o),svgToDataURL(d)}const isInstanceOfElement=(o,e)=>{if(o instanceof e)return!0;const a=Object.getPrototypeOf(o);return a===null?!1:a.constructor.name===e.name||isInstanceOfElement(a,e)};function formatCSSText(o){const e=o.getPropertyValue("content");return`${o.cssText} content: '${e.replace(/'|"/g,"")}';`}function formatCSSProperties(o){return toArray$1(o).map(e=>{const a=o.getPropertyValue(e),c=o.getPropertyPriority(e);return`${e}: ${a}${c?" !important":""};`}).join(" ")}function getPseudoElementStyle(o,e,a){const c=`.${o}:${e}`,d=a.cssText?formatCSSText(a):formatCSSProperties(a);return document.createTextNode(`${c}{${d}}`)}function clonePseudoElement(o,e,a){const c=window.getComputedStyle(o,a),d=c.getPropertyValue("content");if(d===""||d==="none")return;const g=uuid$1();try{e.className=`${e.className} ${g}`}catch{return}const b=document.createElement("style");b.appendChild(getPseudoElementStyle(g,a,c)),e.appendChild(b)}function clonePseudoElements(o,e){clonePseudoElement(o,e,":before"),clonePseudoElement(o,e,":after")}const WOFF="application/font-woff",JPEG="image/jpeg",mimes={woff:WOFF,woff2:WOFF,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:JPEG,jpeg:JPEG,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function getExtension(o){const e=/\.([^./]*?)$/g.exec(o);return e?e[1]:""}function getMimeType(o){const e=getExtension(o).toLowerCase();return mimes[e]||""}function getContentFromDataUrl(o){return o.split(/,/)[1]}function isDataUrl(o){return o.search(/^(data:)/)!==-1}function makeDataUrl(o,e){return`data:${e};base64,${o}`}async function fetchAsDataURL(o,e,a){const c=await fetch(o,e);if(c.status===404)throw new Error(`Resource "${c.url}" not found`);const d=await c.blob();return new Promise((g,b)=>{const _=new FileReader;_.onerror=b,_.onloadend=()=>{try{g(a({res:c,result:_.result}))}catch(_e){b(_e)}},_.readAsDataURL(d)})}const cache$1={};function getCacheKey(o,e,a){let c=o.replace(/\?.*/,"");return a&&(c=o),/ttf|otf|eot|woff2?/i.test(c)&&(c=c.replace(/.*\//,"")),e?`[${e}]${c}`:c}async function resourceToDataURL(o,e,a){const c=getCacheKey(o,e,a.includeQueryParams);if(cache$1[c]!=null)return cache$1[c];a.cacheBust&&(o+=(/\?/.test(o)?"&":"?")+new Date().getTime());let d;try{const g=await fetchAsDataURL(o,a.fetchRequestInit,({res:b,result:_})=>(e||(e=b.headers.get("Content-Type")||""),getContentFromDataUrl(_)));d=makeDataUrl(g,e)}catch(g){d=a.imagePlaceholder||"";let b=`Failed to fetch resource: ${o}`;g&&(b=typeof g=="string"?g:g.message),b&&console.warn(b)}return cache$1[c]=d,d}async function cloneCanvasElement(o){const e=o.toDataURL();return e==="data:,"?o.cloneNode(!1):createImage(e)}async function cloneVideoElement(o,e){if(o.currentSrc){const g=document.createElement("canvas"),b=g.getContext("2d");g.width=o.clientWidth,g.height=o.clientHeight,b==null||b.drawImage(o,0,0,g.width,g.height);const _=g.toDataURL();return createImage(_)}const a=o.poster,c=getMimeType(a),d=await resourceToDataURL(a,c,e);return createImage(d)}async function cloneIFrameElement(o){var e;try{if(!((e=o==null?void 0:o.contentDocument)===null||e===void 0)&&e.body)return await cloneNode(o.contentDocument.body,{},!0)}catch{}return o.cloneNode(!1)}async function cloneSingleNode(o,e){return isInstanceOfElement(o,HTMLCanvasElement)?cloneCanvasElement(o):isInstanceOfElement(o,HTMLVideoElement)?cloneVideoElement(o,e):isInstanceOfElement(o,HTMLIFrameElement)?cloneIFrameElement(o):o.cloneNode(!1)}const isSlotElement=o=>o.tagName!=null&&o.tagName.toUpperCase()==="SLOT";async function cloneChildren(o,e,a){var c,d;let g=[];return isSlotElement(o)&&o.assignedNodes?g=toArray$1(o.assignedNodes()):isInstanceOfElement(o,HTMLIFrameElement)&&(!((c=o.contentDocument)===null||c===void 0)&&c.body)?g=toArray$1(o.contentDocument.body.childNodes):g=toArray$1(((d=o.shadowRoot)!==null&&d!==void 0?d:o).childNodes),g.length===0||isInstanceOfElement(o,HTMLVideoElement)||await g.reduce((b,_)=>b.then(()=>cloneNode(_,a)).then(_e=>{_e&&e.appendChild(_e)}),Promise.resolve()),e}function cloneCSSStyle(o,e){const a=e.style;if(!a)return;const c=window.getComputedStyle(o);c.cssText?(a.cssText=c.cssText,a.transformOrigin=c.transformOrigin):toArray$1(c).forEach(d=>{let g=c.getPropertyValue(d);d==="font-size"&&g.endsWith("px")&&(g=`${Math.floor(parseFloat(g.substring(0,g.length-2)))-.1}px`),isInstanceOfElement(o,HTMLIFrameElement)&&d==="display"&&g==="inline"&&(g="block"),d==="d"&&e.getAttribute("d")&&(g=`path(${e.getAttribute("d")})`),a.setProperty(d,g,c.getPropertyPriority(d))})}function cloneInputValue(o,e){isInstanceOfElement(o,HTMLTextAreaElement)&&(e.innerHTML=o.value),isInstanceOfElement(o,HTMLInputElement)&&e.setAttribute("value",o.value)}function cloneSelectValue(o,e){if(isInstanceOfElement(o,HTMLSelectElement)){const a=e,c=Array.from(a.children).find(d=>o.value===d.getAttribute("value"));c&&c.setAttribute("selected","")}}function decorate(o,e){return isInstanceOfElement(e,Element)&&(cloneCSSStyle(o,e),clonePseudoElements(o,e),cloneInputValue(o,e),cloneSelectValue(o,e)),e}async function ensureSVGSymbols(o,e){const a=o.querySelectorAll?o.querySelectorAll("use"):[];if(a.length===0)return o;const c={};for(let g=0;g<a.length;g++){const _=a[g].getAttribute("xlink:href");if(_){const _e=o.querySelector(_),tt=document.querySelector(_);!_e&&tt&&!c[_]&&(c[_]=await cloneNode(tt,e,!0))}}const d=Object.values(c);if(d.length){const g="http://www.w3.org/1999/xhtml",b=document.createElementNS(g,"svg");b.setAttribute("xmlns",g),b.style.position="absolute",b.style.width="0",b.style.height="0",b.style.overflow="hidden",b.style.display="none";const _=document.createElementNS(g,"defs");b.appendChild(_);for(let _e=0;_e<d.length;_e++)_.appendChild(d[_e]);o.appendChild(b)}return o}async function cloneNode(o,e,a){return!a&&e.filter&&!e.filter(o)?null:Promise.resolve(o).then(c=>cloneSingleNode(c,e)).then(c=>cloneChildren(o,c,e)).then(c=>decorate(o,c)).then(c=>ensureSVGSymbols(c,e))}const URL_REGEX=/url\((['"]?)([^'"]+?)\1\)/g,URL_WITH_FORMAT_REGEX=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,FONT_SRC_REGEX=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function toRegex(o){const e=o.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function parseURLs(o){const e=[];return o.replace(URL_REGEX,(a,c,d)=>(e.push(d),a)),e.filter(a=>!isDataUrl(a))}async function embed(o,e,a,c,d){try{const g=a?resolveUrl(e,a):e,b=getMimeType(e);let _;return d||(_=await resourceToDataURL(g,b,c)),o.replace(toRegex(e),`$1${_}$3`)}catch{}return o}function filterPreferredFontFormat(o,{preferredFontFormat:e}){return e?o.replace(FONT_SRC_REGEX,a=>{for(;;){const[c,,d]=URL_WITH_FORMAT_REGEX.exec(a)||[];if(!d)return"";if(d===e)return`src: ${c};`}}):o}function shouldEmbed(o){return o.search(URL_REGEX)!==-1}async function embedResources(o,e,a){if(!shouldEmbed(o))return o;const c=filterPreferredFontFormat(o,a);return parseURLs(c).reduce((g,b)=>g.then(_=>embed(_,b,e,a)),Promise.resolve(c))}async function embedProp(o,e,a){var c;const d=(c=e.style)===null||c===void 0?void 0:c.getPropertyValue(o);if(d){const g=await embedResources(d,null,a);return e.style.setProperty(o,g,e.style.getPropertyPriority(o)),!0}return!1}async function embedBackground(o,e){await embedProp("background",o,e)||await embedProp("background-image",o,e),await embedProp("mask",o,e)||await embedProp("mask-image",o,e)}async function embedImageNode(o,e){const a=isInstanceOfElement(o,HTMLImageElement);if(!(a&&!isDataUrl(o.src))&&!(isInstanceOfElement(o,SVGImageElement)&&!isDataUrl(o.href.baseVal)))return;const c=a?o.src:o.href.baseVal,d=await resourceToDataURL(c,getMimeType(c),e);await new Promise((g,b)=>{o.onload=g,o.onerror=b;const _=o;_.decode&&(_.decode=g),_.loading==="lazy"&&(_.loading="eager"),a?(o.srcset="",o.src=d):o.href.baseVal=d})}async function embedChildren(o,e){const c=toArray$1(o.childNodes).map(d=>embedImages(d,e));await Promise.all(c).then(()=>o)}async function embedImages(o,e){isInstanceOfElement(o,Element)&&(await embedBackground(o,e),await embedImageNode(o,e),await embedChildren(o,e))}function applyStyle(o,e){const{style:a}=o;e.backgroundColor&&(a.backgroundColor=e.backgroundColor),e.width&&(a.width=`${e.width}px`),e.height&&(a.height=`${e.height}px`);const c=e.style;return c!=null&&Object.keys(c).forEach(d=>{a[d]=c[d]}),o}const cssFetchCache={};async function fetchCSS(o){let e=cssFetchCache[o];if(e!=null)return e;const c=await(await fetch(o)).text();return e={url:o,cssText:c},cssFetchCache[o]=e,e}async function embedFonts(o,e){let a=o.cssText;const c=/url\(["']?([^"')]+)["']?\)/g,g=(a.match(/url\([^)]+\)/g)||[]).map(async b=>{let _=b.replace(c,"$1");return _.startsWith("https://")||(_=new URL(_,o.url).href),fetchAsDataURL(_,e.fetchRequestInit,({result:_e})=>(a=a.replace(b,`url(${_e})`),[b,_e]))});return Promise.all(g).then(()=>a)}function parseCSS(o){if(o==null)return[];const e=[],a=/(\/\*[\s\S]*?\*\/)/gi;let c=o.replace(a,"");const d=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const _e=d.exec(c);if(_e===null)break;e.push(_e[0])}c=c.replace(d,"");const g=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,b="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",_=new RegExp(b,"gi");for(;;){let _e=g.exec(c);if(_e===null){if(_e=_.exec(c),_e===null)break;g.lastIndex=_.lastIndex}else _.lastIndex=g.lastIndex;e.push(_e[0])}return e}async function getCSSRules(o,e){const a=[],c=[];return o.forEach(d=>{if("cssRules"in d)try{toArray$1(d.cssRules||[]).forEach((g,b)=>{if(g.type===CSSRule.IMPORT_RULE){let _=b+1;const _e=g.href,tt=fetchCSS(_e).then(nt=>embedFonts(nt,e)).then(nt=>parseCSS(nt).forEach(it=>{try{d.insertRule(it,it.startsWith("@import")?_+=1:d.cssRules.length)}catch(st){console.error("Error inserting rule from remote css",{rule:it,error:st})}})).catch(nt=>{console.error("Error loading remote css",nt.toString())});c.push(tt)}})}catch(g){const b=o.find(_=>_.href==null)||document.styleSheets[0];d.href!=null&&c.push(fetchCSS(d.href).then(_=>embedFonts(_,e)).then(_=>parseCSS(_).forEach(_e=>{b.insertRule(_e,d.cssRules.length)})).catch(_=>{console.error("Error loading remote stylesheet",_)})),console.error("Error inlining remote css file",g)}}),Promise.all(c).then(()=>(o.forEach(d=>{if("cssRules"in d)try{toArray$1(d.cssRules||[]).forEach(g=>{a.push(g)})}catch(g){console.error(`Error while reading CSS rules from ${d.href}`,g)}}),a))}function getWebFontRules(o){return o.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>shouldEmbed(e.style.getPropertyValue("src")))}async function parseWebFontRules(o,e){if(o.ownerDocument==null)throw new Error("Provided element is not within a Document");const a=toArray$1(o.ownerDocument.styleSheets),c=await getCSSRules(a,e);return getWebFontRules(c)}async function getWebFontCSS(o,e){const a=await parseWebFontRules(o,e);return(await Promise.all(a.map(d=>{const g=d.parentStyleSheet?d.parentStyleSheet.href:null;return embedResources(d.cssText,g,e)}))).join(`
`)}async function embedWebFonts(o,e){const a=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await getWebFontCSS(o,e);if(a){const c=document.createElement("style"),d=document.createTextNode(a);c.appendChild(d),o.firstChild?o.insertBefore(c,o.firstChild):o.appendChild(c)}}async function toSvg(o,e={}){const{width:a,height:c}=getImageSize(o,e),d=await cloneNode(o,e,!0);return await embedWebFonts(d,e),await embedImages(d,e),applyStyle(d,e),await nodeToDataURL(d,a,c)}async function toCanvas(o,e={}){const{width:a,height:c}=getImageSize(o,e),d=await toSvg(o,e),g=await createImage(d),b=document.createElement("canvas"),_=b.getContext("2d"),_e=e.pixelRatio||getPixelRatio(),tt=e.canvasWidth||a,nt=e.canvasHeight||c;return b.width=tt*_e,b.height=nt*_e,e.skipAutoScale||checkCanvasDimensions(b),b.style.width=`${tt}`,b.style.height=`${nt}`,e.backgroundColor&&(_.fillStyle=e.backgroundColor,_.fillRect(0,0,b.width,b.height)),_.drawImage(g,0,0,b.width,b.height),b}async function toPng(o,e={}){return(await toCanvas(o,e)).toDataURL()}const loadGetUserSnapshotEventListener=()=>{window.addEventListener("blur",()=>{toPng(document.body).then(o=>{window.top.postMessage({type:"USER_SNAPSHOT",snapshot:o},"http://localhost:3000"),window.top.postMessage({type:"USER_SNAPSHOT",snapshot:o},"https://gptengineer.app")})})},loadReportUrlChangeEventListener=()=>{const o=()=>{let e=document.location.href;const a=document.querySelector("body");new MutationObserver(()=>{e!==document.location.href&&(e=document.location.href,window.top.postMessage({type:"URL_CHANGED",url:document.location.href},"https://run.gptengineer.app"),window.top.postMessage({type:"URL_CHANGED",url:document.location.href},"http://localhost:3000"))}).observe(a,{childList:!0,subtree:!0})};window.addEventListener("load",o)},postMessage=o=>{window.top.postMessage(o,"https://gptengineer.app"),window.top.postMessage(o,"http://localhost:3000")},patchFetch=o=>{const e=window.fetch;window.fetch=async function(...a){var c,d;try{const g=await e(...a);if(!g.ok){const b=g!=null&&g.text?await g.text():void 0;o("non_200_response",{...g,status:g.status,url:(a==null?void 0:a[0])||g.url,body:b,method:((c=a==null?void 0:a[1])==null?void 0:c.method)||"GET",origin:window.location.origin})}return g}catch(g){throw o("fetch_error",{message:g==null?void 0:g.message,stack:g==null?void 0:g.stack,url:a==null?void 0:a[0],method:((d=a==null?void 0:a[1])==null?void 0:d.method)||"GET",origin:window.location.origin}),g}}},loadReportErrorEventListener=(()=>{let o=!1;const e=({message:a,lineno:c,colno:d,filename:g,error:b})=>({message:a,lineno:c,colno:d,filename:g,stack:b==null?void 0:b.stack});return()=>{if(o)return;const a=new Set,c=_=>{const{lineno:_e,colno:tt,filename:nt,message:it}=_;return`${it}|${nt}|${_e}|${tt}`};patchFetch(async(_,_e)=>{_==="non_200_response"?postMessage({type:"FETCH_ERROR",error:{message:`failed to call url ${_e.url} with status ${_e.status} and statusText ${_e.statusText}`,status:_e.status,statusText:_e.statusText,url:_e.url,body:_e.body}}):_==="fetch_error"&&postMessage({type:"FETCH_ERROR",error:_e})});const g=_=>a.has(_)?!0:(a.add(_),setTimeout(()=>a.delete(_),5e3),!1),b=_=>{const _e=c(_);if(g(_e))return;const tt=e(_);postMessage({type:"RUNTIME_ERROR",error:tt})};window.addEventListener("error",b),window.addEventListener("unhandledrejection",_=>{var nt,it,st,ot,ht;if(!((nt=_.reason)!=null&&nt.stack))return;const _e=((it=_.reason)==null?void 0:it.stack)||((st=_.reason)==null?void 0:st.message)||String(_.reason);if(g(_e))return;const tt={message:((ot=_.reason)==null?void 0:ot.message)||"Unhandled promise rejection",stack:((ht=_.reason)==null?void 0:ht.stack)||String(_.reason)};postMessage({type:"UNHANDLED_PROMISE_REJECTION",error:tt})}),o=!0}})(),main=()=>{window.top!==window.self&&(loadGetUserSnapshotEventListener(),loadReportUrlChangeEventListener(),loadReportErrorEventListener())};main();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var e=o.default;if(typeof e=="function"){var a=function c(){return this instanceof c?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(o).forEach(function(c){var d=Object.getOwnPropertyDescriptor(o,c);Object.defineProperty(a,c,d.get?d:{enumerable:!0,get:function(){return o[c]}})}),a}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(o){return o===null||typeof o!="object"?null:(o=z$1&&o[z$1]||o["@@iterator"],typeof o=="function"?o:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(o,e,a){this.props=o,this.context=e,this.refs=D$2,this.updater=a||B$1}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(o,e){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,e,"setState")};E$2.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F(){}F.prototype=E$2.prototype;function G$1(o,e,a){this.props=o,this.context=e,this.refs=D$2,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$2(H$1,E$2.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$1(o,e,a){var c,d={},g=null,b=null;if(e!=null)for(c in e.ref!==void 0&&(b=e.ref),e.key!==void 0&&(g=""+e.key),e)J.call(e,c)&&!L$2.hasOwnProperty(c)&&(d[c]=e[c]);var _=arguments.length-2;if(_===1)d.children=a;else if(1<_){for(var _e=Array(_),tt=0;tt<_;tt++)_e[tt]=arguments[tt+2];d.children=_e}if(o&&o.defaultProps)for(c in _=o.defaultProps,_)d[c]===void 0&&(d[c]=_[c]);return{$$typeof:l$1,type:o,key:g,ref:b,props:d,_owner:K$1.current}}function N$1(o,e){return{$$typeof:l$1,type:o.type,key:e,ref:o.ref,props:o.props,_owner:o._owner}}function O$1(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$1}function escape(o){var e={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(a){return e[a]})}var P$2=/\/+/g;function Q$1(o,e){return typeof o=="object"&&o!==null&&o.key!=null?escape(""+o.key):e.toString(36)}function R$1(o,e,a,c,d){var g=typeof o;(g==="undefined"||g==="boolean")&&(o=null);var b=!1;if(o===null)b=!0;else switch(g){case"string":case"number":b=!0;break;case"object":switch(o.$$typeof){case l$1:case n$1:b=!0}}if(b)return b=o,d=d(b),o=c===""?"."+Q$1(b,0):c,I$1(d)?(a="",o!=null&&(a=o.replace(P$2,"$&/")+"/"),R$1(d,e,a,"",function(tt){return tt})):d!=null&&(O$1(d)&&(d=N$1(d,a+(!d.key||b&&b.key===d.key?"":(""+d.key).replace(P$2,"$&/")+"/")+o)),e.push(d)),1;if(b=0,c=c===""?".":c+":",I$1(o))for(var _=0;_<o.length;_++){g=o[_];var _e=c+Q$1(g,_);b+=R$1(g,e,a,_e,d)}else if(_e=A$1(o),typeof _e=="function")for(o=_e.call(o),_=0;!(g=o.next()).done;)g=g.value,_e=c+Q$1(g,_++),b+=R$1(g,e,a,_e,d);else if(g==="object")throw e=String(o),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return b}function S$2(o,e,a){if(o==null)return o;var c=[],d=0;return R$1(o,c,"","",function(g){return e.call(a,g,d++)}),c}function T$1(o){if(o._status===-1){var e=o._result;e=e(),e.then(function(a){(o._status===0||o._status===-1)&&(o._status=1,o._result=a)},function(a){(o._status===0||o._status===-1)&&(o._status=2,o._result=a)}),o._status===-1&&(o._status=0,o._result=e)}if(o._status===1)return o._result.default;throw o._result}var U$2={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(o,e,a){S$2(o,function(){e.apply(this,arguments)},a)},count:function(o){var e=0;return S$2(o,function(){e++}),e},toArray:function(o){return S$2(o,function(e){return e})||[]},only:function(o){if(!O$1(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$2;react_production_min.Fragment=p$2;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(o,e,a){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var c=C$2({},o.props),d=o.key,g=o.ref,b=o._owner;if(e!=null){if(e.ref!==void 0&&(g=e.ref,b=K$1.current),e.key!==void 0&&(d=""+e.key),o.type&&o.type.defaultProps)var _=o.type.defaultProps;for(_e in e)J.call(e,_e)&&!L$2.hasOwnProperty(_e)&&(c[_e]=e[_e]===void 0&&_!==void 0?_[_e]:e[_e])}var _e=arguments.length-2;if(_e===1)c.children=a;else if(1<_e){_=Array(_e);for(var tt=0;tt<_e;tt++)_[tt]=arguments[tt+2];c.children=_}return{$$typeof:l$1,type:o.type,key:d,ref:g,props:c,_owner:b}};react_production_min.createContext=function(o){return o={$$typeof:u,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t$1,_context:o},o.Consumer=o};react_production_min.createElement=M$1;react_production_min.createFactory=function(o){var e=M$1.bind(null,o);return e.type=o,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$2,render:o}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(o){return{$$typeof:y,_payload:{_status:-1,_result:o},_init:T$1}};react_production_min.memo=function(o,e){return{$$typeof:x,type:o,compare:e===void 0?null:e}};react_production_min.startTransition=function(o){var e=V$1.transition;V$1.transition={};try{o()}finally{V$1.transition=e}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(o,e){return U$2.current.useCallback(o,e)};react_production_min.useContext=function(o){return U$2.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$2.current.useDeferredValue(o)};react_production_min.useEffect=function(o,e){return U$2.current.useEffect(o,e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(o,e,a){return U$2.current.useImperativeHandle(o,e,a)};react_production_min.useInsertionEffect=function(o,e){return U$2.current.useInsertionEffect(o,e)};react_production_min.useLayoutEffect=function(o,e){return U$2.current.useLayoutEffect(o,e)};react_production_min.useMemo=function(o,e){return U$2.current.useMemo(o,e)};react_production_min.useReducer=function(o,e,a){return U$2.current.useReducer(o,e,a)};react_production_min.useRef=function(o){return U$2.current.useRef(o)};react_production_min.useState=function(o){return U$2.current.useState(o)};react_production_min.useSyncExternalStore=function(o,e,a){return U$2.current.useSyncExternalStore(o,e,a)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(o,e,a){var c,d={},g=null,b=null;a!==void 0&&(g=""+a),e.key!==void 0&&(g=""+e.key),e.ref!==void 0&&(b=e.ref);for(c in e)m$1.call(e,c)&&!p$1.hasOwnProperty(c)&&(d[c]=e[c]);if(o&&o.defaultProps)for(c in e=o.defaultProps,e)d[c]===void 0&&(d[c]=e[c]);return{$$typeof:k,type:o,key:g,ref:b,props:d,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function e(zt,nn){var wt=zt.length;zt.push(nn);e:for(;0<wt;){var fn=wt-1>>>1,Sn=zt[fn];if(0<d(Sn,nn))zt[fn]=nn,zt[wt]=Sn,wt=fn;else break e}}function a(zt){return zt.length===0?null:zt[0]}function c(zt){if(zt.length===0)return null;var nn=zt[0],wt=zt.pop();if(wt!==nn){zt[0]=wt;e:for(var fn=0,Sn=zt.length,Pt=Sn>>>1;fn<Pt;){var wn=2*(fn+1)-1,In=zt[wn],xn=wn+1,Wn=zt[xn];if(0>d(In,wt))xn<Sn&&0>d(Wn,In)?(zt[fn]=Wn,zt[xn]=wt,fn=xn):(zt[fn]=In,zt[wn]=wt,fn=wn);else if(xn<Sn&&0>d(Wn,wt))zt[fn]=Wn,zt[xn]=wt,fn=xn;else break e}}return nn}function d(zt,nn){var wt=zt.sortIndex-nn.sortIndex;return wt!==0?wt:zt.id-nn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;o.unstable_now=function(){return g.now()}}else{var b=Date,_=b.now();o.unstable_now=function(){return b.now()-_}}var _e=[],tt=[],nt=1,it=null,st=3,ot=!1,ht=!1,dt=!1,Et=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function St(zt){for(var nn=a(tt);nn!==null;){if(nn.callback===null)c(tt);else if(nn.startTime<=zt)c(tt),nn.sortIndex=nn.expirationTime,e(_e,nn);else break;nn=a(tt)}}function Tt(zt){if(dt=!1,St(zt),!ht)if(a(_e)!==null)ht=!0,On(bt);else{var nn=a(tt);nn!==null&&hn(Tt,nn.startTime-zt)}}function bt(zt,nn){ht=!1,dt&&(dt=!1,pt(Nt),Nt=-1),ot=!0;var wt=st;try{for(St(nn),it=a(_e);it!==null&&(!(it.expirationTime>nn)||zt&&!tn());){var fn=it.callback;if(typeof fn=="function"){it.callback=null,st=it.priorityLevel;var Sn=fn(it.expirationTime<=nn);nn=o.unstable_now(),typeof Sn=="function"?it.callback=Sn:it===a(_e)&&c(_e),St(nn)}else c(_e);it=a(_e)}if(it!==null)var Pt=!0;else{var wn=a(tt);wn!==null&&hn(Tt,wn.startTime-nn),Pt=!1}return Pt}finally{it=null,st=wt,ot=!1}}var vt=!1,kt=null,Nt=-1,en=5,jt=-1;function tn(){return!(o.unstable_now()-jt<en)}function Yt(){if(kt!==null){var zt=o.unstable_now();jt=zt;var nn=!0;try{nn=kt(!0,zt)}finally{nn?pn():(vt=!1,kt=null)}}else vt=!1}var pn;if(typeof gt=="function")pn=function(){gt(Yt)};else if(typeof MessageChannel<"u"){var mn=new MessageChannel,dn=mn.port2;mn.port1.onmessage=Yt,pn=function(){dn.postMessage(null)}}else pn=function(){Et(Yt,0)};function On(zt){kt=zt,vt||(vt=!0,pn())}function hn(zt,nn){Nt=Et(function(){zt(o.unstable_now())},nn)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(zt){zt.callback=null},o.unstable_continueExecution=function(){ht||ot||(ht=!0,On(bt))},o.unstable_forceFrameRate=function(zt){0>zt||125<zt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):en=0<zt?Math.floor(1e3/zt):5},o.unstable_getCurrentPriorityLevel=function(){return st},o.unstable_getFirstCallbackNode=function(){return a(_e)},o.unstable_next=function(zt){switch(st){case 1:case 2:case 3:var nn=3;break;default:nn=st}var wt=st;st=nn;try{return zt()}finally{st=wt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(zt,nn){switch(zt){case 1:case 2:case 3:case 4:case 5:break;default:zt=3}var wt=st;st=zt;try{return nn()}finally{st=wt}},o.unstable_scheduleCallback=function(zt,nn,wt){var fn=o.unstable_now();switch(typeof wt=="object"&&wt!==null?(wt=wt.delay,wt=typeof wt=="number"&&0<wt?fn+wt:fn):wt=fn,zt){case 1:var Sn=-1;break;case 2:Sn=250;break;case 5:Sn=1073741823;break;case 4:Sn=1e4;break;default:Sn=5e3}return Sn=wt+Sn,zt={id:nt++,callback:nn,priorityLevel:zt,startTime:wt,expirationTime:Sn,sortIndex:-1},wt>fn?(zt.sortIndex=wt,e(tt,zt),a(_e)===null&&zt===a(tt)&&(dt?(pt(Nt),Nt=-1):dt=!0,hn(Tt,wt-fn))):(zt.sortIndex=Sn,e(_e,zt),ht||ot||(ht=!0,On(bt))),zt},o.unstable_shouldYield=tn,o.unstable_wrapCallback=function(zt){var nn=st;return function(){var wt=st;st=nn;try{return zt.apply(this,arguments)}finally{st=wt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(o){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+o,a=1;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+o+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,e){ha(o,e),ha(o+"Capture",e)}function ha(o,e){for(ea[o]=e,o=0;o<e.length;o++)da.add(e[o])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,e,a,c){if(a!==null&&a.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,e,a,c){if(e===null||typeof e>"u"||pa(o,e,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$1(o,e,a,c,d,g,b){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=o,this.type=e,this.sanitizeURL=g,this.removeEmptyString=b}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z[o]=new v$1(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var e=o[0];z[e]=new v$1(e,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z[o]=new v$1(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z[o]=new v$1(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z[o]=new v$1(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z[o]=new v$1(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z[o]=new v$1(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z[o]=new v$1(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z[o]=new v$1(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var e=o.replace(ra,sa);z[e]=new v$1(e,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var e=o.replace(ra,sa);z[e]=new v$1(e,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var e=o.replace(ra,sa);z[e]=new v$1(e,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z[o]=new v$1(o,1,!1,o.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z[o]=new v$1(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,e,a,c){var d=z.hasOwnProperty(e)?z[e]:null;(d!==null?d.type!==0:c||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,a,d,c)&&(a=null),c||d===null?oa(e)&&(a===null?o.removeAttribute(e):o.setAttribute(e,""+a)):d.mustUseProperty?o[d.propertyName]=a===null?d.type===3?!1:"":a:(e=d.attributeName,c=d.attributeNamespace,a===null?o.removeAttribute(e):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?o.setAttributeNS(c,e,a):o.setAttribute(e,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+o}var Na=!1;function Oa(o,e){if(!o||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(tt){var c=tt}Reflect.construct(o,[],e)}else{try{e.call()}catch(tt){c=tt}o.call(e.prototype)}else{try{throw Error()}catch(tt){c=tt}o()}}catch(tt){if(tt&&c&&typeof tt.stack=="string"){for(var d=tt.stack.split(`
`),g=c.stack.split(`
`),b=d.length-1,_=g.length-1;1<=b&&0<=_&&d[b]!==g[_];)_--;for(;1<=b&&0<=_;b--,_--)if(d[b]!==g[_]){if(b!==1||_!==1)do if(b--,_--,0>_||d[b]!==g[_]){var _e=`
`+d[b].replace(" at new "," at ");return o.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",o.displayName)),_e}while(1<=b&&0<=_);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var e=o.render;return o=o.displayName,o||(o=e.displayName||e.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return e=o.displayName||null,e!==null?e:Qa(o.type)||"Memo";case Ha:e=o._payload,o=o._init;try{return Qa(o(e))}catch{}}return null}function Ra(o){var e=o.type;switch(o.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=e.render,o=o.displayName||o.name||"",e.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var e=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(o){var e=Ta(o)?"checked":"value",a=Object.getOwnPropertyDescriptor(o.constructor.prototype,e),c=""+o[e];if(!o.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(o,e,{configurable:!0,get:function(){return d.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(o,e,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){o._valueTracker=null,delete o[e]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var e=o._valueTracker;if(!e)return!0;var a=e.getValue(),c="";return o&&(c=Ta(o)?o.checked?"true":"false":o.value),o=c,o!==a?(e.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,e){var a=e.checked;return A({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??o._wrapperState.initialChecked})}function Za(o,e){var a=e.defaultValue==null?"":e.defaultValue,c=e.checked!=null?e.checked:e.defaultChecked;a=Sa(e.value!=null?e.value:a),o._wrapperState={initialChecked:c,initialValue:a,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(o,e){e=e.checked,e!=null&&ta(o,"checked",e,!1)}function bb(o,e){ab(o,e);var a=Sa(e.value),c=e.type;if(a!=null)c==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+a):o.value!==""+a&&(o.value=""+a);else if(c==="submit"||c==="reset"){o.removeAttribute("value");return}e.hasOwnProperty("value")?cb(o,e.type,a):e.hasOwnProperty("defaultValue")&&cb(o,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(o.defaultChecked=!!e.defaultChecked)}function db(o,e,a){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var c=e.type;if(!(c!=="submit"&&c!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+o._wrapperState.initialValue,a||e===o.value||(o.value=e),o.defaultValue=e}a=o.name,a!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,a!==""&&(o.name=a)}function cb(o,e,a){(e!=="number"||Xa(o.ownerDocument)!==o)&&(a==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+a&&(o.defaultValue=""+a))}var eb=Array.isArray;function fb(o,e,a,c){if(o=o.options,e){e={};for(var d=0;d<a.length;d++)e["$"+a[d]]=!0;for(a=0;a<o.length;a++)d=e.hasOwnProperty("$"+o[a].value),o[a].selected!==d&&(o[a].selected=d),d&&c&&(o[a].defaultSelected=!0)}else{for(a=""+Sa(a),e=null,d=0;d<o.length;d++){if(o[d].value===a){o[d].selected=!0,c&&(o[d].defaultSelected=!0);return}e!==null||o[d].disabled||(e=o[d])}e!==null&&(e.selected=!0)}}function gb(o,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},e,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,e){var a=e.value;if(a==null){if(a=e.children,e=e.defaultValue,a!=null){if(e!=null)throw Error(p(92));if(eb(a)){if(1<a.length)throw Error(p(93));a=a[0]}e=a}e==null&&(e=""),a=e}o._wrapperState={initialValue:Sa(a)}}function ib(o,e){var a=Sa(e.value),c=Sa(e.defaultValue);a!=null&&(a=""+a,a!==o.value&&(o.value=a),e.defaultValue==null&&o.defaultValue!==a&&(o.defaultValue=a)),c!=null&&(o.defaultValue=""+c)}function jb(o){var e=o.textContent;e===o._wrapperState.initialValue&&e!==""&&e!==null&&(o.value=e)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,e){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(e):o==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,a,c,d){MSApp.execUnsafeLocalFunction(function(){return o(e,a,c,d)})}:o}(function(o,e){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;e.firstChild;)o.appendChild(e.firstChild)}});function ob(o,e){if(e){var a=o.firstChild;if(a&&a===o.lastChild&&a.nodeType===3){a.nodeValue=e;return}}o.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(e){e=e+o.charAt(0).toUpperCase()+o.substring(1),pb[e]=pb[o]})});function rb(o,e,a){return e==null||typeof e=="boolean"||e===""?"":a||typeof e!="number"||e===0||pb.hasOwnProperty(o)&&pb[o]?(""+e).trim():e+"px"}function sb(o,e){o=o.style;for(var a in e)if(e.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=rb(a,e[a],c);a==="float"&&(a="cssFloat"),c?o.setProperty(a,d):o[a]=d}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,e){if(e){if(tb[o]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p(137,o));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p(62))}}function vb(o,e){if(o.indexOf("-")===-1)return typeof e.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p(280));var e=o.stateNode;e&&(e=Db(e),yb(o.stateNode,o.type,e))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,e=Ab;if(Ab=zb=null,Bb(o),e)for(o=0;o<e.length;o++)Bb(e[o])}}function Gb(o,e){return o(e)}function Hb(){}var Ib=!1;function Jb(o,e,a){if(Ib)return o(e,a);Ib=!0;try{return Gb(o,e,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,e){var a=o.stateNode;if(a===null)return null;var c=Db(a);if(c===null)return null;a=c[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(o=o.type,c=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!c;break e;default:o=!1}if(o)return null;if(a&&typeof a!="function")throw Error(p(231,e,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,e,a,c,d,g,b,_,_e){var tt=Array.prototype.slice.call(arguments,3);try{e.apply(a,tt)}catch(nt){this.onError(nt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,e,a,c,d,g,b,_,_e){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,e,a,c,d,g,b,_,_e){if(Tb.apply(this,arguments),Ob){if(Ob){var tt=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=tt)}}function Vb(o){var e=o,a=o;if(o.alternate)for(;e.return;)e=e.return;else{o=e;do e=o,e.flags&4098&&(a=e.return),o=e.return;while(o)}return e.tag===3?a:null}function Wb(o){if(o.tag===13){var e=o.memoizedState;if(e===null&&(o=o.alternate,o!==null&&(e=o.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p(188))}function Yb(o){var e=o.alternate;if(!e){if(e=Vb(o),e===null)throw Error(p(188));return e!==o?null:o}for(var a=o,c=e;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Xb(d),o;if(g===c)return Xb(d),e;g=g.sibling}throw Error(p(188))}if(a.return!==c.return)a=d,c=g;else{for(var b=!1,_=d.child;_;){if(_===a){b=!0,a=d,c=g;break}if(_===c){b=!0,c=d,a=g;break}_=_.sibling}if(!b){for(_=g.child;_;){if(_===a){b=!0,a=g,c=d;break}if(_===c){b=!0,c=g,a=d;break}_=_.sibling}if(!b)throw Error(p(189))}}if(a.alternate!==c)throw Error(p(190))}if(a.tag!==3)throw Error(p(188));return a.stateNode.current===a?o:e}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var e=$b(o);if(e!==null)return e;o=o.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,e){var a=o.pendingLanes;if(a===0)return 0;var c=0,d=o.suspendedLanes,g=o.pingedLanes,b=a&268435455;if(b!==0){var _=b&~d;_!==0?c=tc(_):(g&=b,g!==0&&(c=tc(g)))}else b=a&~d,b!==0?c=tc(b):g!==0&&(c=tc(g));if(c===0)return 0;if(e!==0&&e!==c&&!(e&d)&&(d=c&-c,g=e&-e,d>=g||d===16&&(g&4194240)!==0))return e;if(c&4&&(c|=a&16),e=o.entangledLanes,e!==0)for(o=o.entanglements,e&=c;0<e;)a=31-oc(e),d=1<<a,c|=o[a],e&=~d;return c}function vc(o,e){switch(o){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,e){for(var a=o.suspendedLanes,c=o.pingedLanes,d=o.expirationTimes,g=o.pendingLanes;0<g;){var b=31-oc(g),_=1<<b,_e=d[b];_e===-1?(!(_&a)||_&c)&&(d[b]=vc(_,e)):_e<=e&&(o.expiredLanes|=_),g&=~_}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc;return rc<<=1,!(rc&4194240)&&(rc=64),o}function zc(o){for(var e=[],a=0;31>a;a++)e.push(o);return e}function Ac(o,e,a){o.pendingLanes|=e,e!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,e=31-oc(e),o[e]=a}function Bc(o,e){var a=o.pendingLanes&~e;o.pendingLanes=e,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=e,o.mutableReadLanes&=e,o.entangledLanes&=e,e=o.entanglements;var c=o.eventTimes;for(o=o.expirationTimes;0<a;){var d=31-oc(a),g=1<<d;e[d]=0,c[d]=-1,o[d]=-1,a&=~g}}function Cc(o,e){var a=o.entangledLanes|=e;for(o=o.entanglements;a;){var c=31-oc(a),d=1<<c;d&e|o[c]&e&&(o[c]|=e),a&=~d}}var C$1=0;function Dc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,e){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(o,e,a,c,d,g){return o===null||o.nativeEvent!==g?(o={blockedOn:e,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),o):(o.eventSystemFlags|=c,e=o.targetContainers,d!==null&&e.indexOf(d)===-1&&e.push(d),o)}function Uc(o,e,a,c,d){switch(e){case"focusin":return Lc=Tc(Lc,o,e,a,c,d),!0;case"dragenter":return Mc=Tc(Mc,o,e,a,c,d),!0;case"mouseover":return Nc=Tc(Nc,o,e,a,c,d),!0;case"pointerover":var g=d.pointerId;return Oc.set(g,Tc(Oc.get(g)||null,o,e,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Pc.set(g,Tc(Pc.get(g)||null,o,e,a,c,d)),!0}return!1}function Vc(o){var e=Wc(o.target);if(e!==null){var a=Vb(e);if(a!==null){if(e=a.tag,e===13){if(e=Wb(a),e!==null){o.blockedOn=e,Ic(o.priority,function(){Gc(a)});return}}else if(e===3&&a.stateNode.current.memoizedState.isDehydrated){o.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var e=o.targetContainers;0<e.length;){var a=Yc(o.domEventName,o.eventSystemFlags,e[0],o.nativeEvent);if(a===null){a=o.nativeEvent;var c=new a.constructor(a.type,a);wb=c,a.target.dispatchEvent(c),wb=null}else return e=Cb(a),e!==null&&Fc(e),o.blockedOn=a,!1;e.shift()}return!0}function Zc(o,e,a){Xc(o)&&a.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,e){o.blockedOn===e&&(o.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(o){function e(d){return ad(d,o)}if(0<Kc.length){ad(Kc[0],o);for(var a=1;a<Kc.length;a++){var c=Kc[a];c.blockedOn===o&&(c.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(e),Pc.forEach(e),a=0;a<Qc.length;a++)c=Qc[a],c.blockedOn===o&&(c.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(o,e,a,c){var d=C$1,g=cd.transition;cd.transition=null;try{C$1=1,fd(o,e,a,c)}finally{C$1=d,cd.transition=g}}function gd(o,e,a,c){var d=C$1,g=cd.transition;cd.transition=null;try{C$1=4,fd(o,e,a,c)}finally{C$1=d,cd.transition=g}}function fd(o,e,a,c){if(dd){var d=Yc(o,e,a,c);if(d===null)hd(o,e,c,id$1,a),Sc(o,c);else if(Uc(d,o,e,a,c))c.stopPropagation();else if(Sc(o,c),e&4&&-1<Rc.indexOf(o)){for(;d!==null;){var g=Cb(d);if(g!==null&&Ec(g),g=Yc(o,e,a,c),g===null&&hd(o,e,c,id$1,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else hd(o,e,c,null,a)}}var id$1=null;function Yc(o,e,a,c){if(id$1=null,o=xb(c),o=Wc(o),o!==null)if(e=Vb(o),e===null)o=null;else if(a=e.tag,a===13){if(o=Wb(e),o!==null)return o;o=null}else if(a===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;o=null}else e!==o&&(o=null);return id$1=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,e=ld,a=e.length,c,d="value"in kd?kd.value:kd.textContent,g=d.length;for(o=0;o<a&&e[o]===d[o];o++);var b=a-o;for(c=1;c<=b&&e[a-c]===d[g-c];c++);return md=d.slice(o,1<c?1-c:void 0)}function od(o){var e=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&e===13&&(o=13)):o=e,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function e(a,c,d,g,b){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var _ in o)o.hasOwnProperty(_)&&(a=o[_],this[_]=a?a(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(o):(o=Od[o])?!!e[o]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(o){if(o.key){var e=Md[o.key]||o.key;if(e!=="Unidentified")return e}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae$1||be&&8<be&&11>=be),ee$1=" ",fe=!1;function ge(o,e){switch(o){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie$2=!1;function je(o,e){switch(o){case"compositionend":return he(e);case"keypress":return e.which!==32?null:(fe=!0,ee$1);case"textInput":return o=e.data,o===ee$1&&fe?null:o;default:return null}}function ke(o,e){if(ie$2)return o==="compositionend"||!ae$1&&ge(o,e)?(o=nd(),md=ld=kd=null,ie$2=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de&&e.locale!=="ko"?null:e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(o){var e=o&&o.nodeName&&o.nodeName.toLowerCase();return e==="input"?!!le[o.type]:e==="textarea"}function ne$1(o,e,a,c){Eb(c),e=oe$1(e,"onChange"),0<e.length&&(a=new td("onChange","change",null,a,c),o.push({event:a,listeners:e}))}var pe=null,qe=null;function re$1(o){se$1(o,0)}function te$1(o){var e=ue(o);if(Wa(e))return o}function ve(o,e){if(o==="change")return e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(o){if(o.propertyName==="value"&&te$1(qe)){var e=[];ne$1(e,qe,o,xb(o)),Jb(re$1,e)}}function Ce(o,e,a){o==="focusin"?(Ae(),pe=e,qe=a,pe.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te$1(qe)}function Ee(o,e){if(o==="click")return te$1(e)}function Fe(o,e){if(o==="input"||o==="change")return te$1(e)}function Ge(o,e){return o===e&&(o!==0||1/o===1/e)||o!==o&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(o,e){if(He(o,e))return!0;if(typeof o!="object"||o===null||typeof e!="object"||e===null)return!1;var a=Object.keys(o),c=Object.keys(e);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!ja.call(e,d)||!He(o[d],e[d]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,e){var a=Je(o);o=0;for(var c;a;){if(a.nodeType===3){if(c=o+a.textContent.length,o<=e&&c>=e)return{node:a,offset:e-o};o=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le(o,e){return o&&e?o===e?!0:o&&o.nodeType===3?!1:e&&e.nodeType===3?Le(o,e.parentNode):"contains"in o?o.contains(e):o.compareDocumentPosition?!!(o.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var o=window,e=Xa();e instanceof o.HTMLIFrameElement;){try{var a=typeof e.contentWindow.location.href=="string"}catch{a=!1}if(a)o=e.contentWindow;else break;e=Xa(o.document)}return e}function Ne(o){var e=o&&o.nodeName&&o.nodeName.toLowerCase();return e&&(e==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||e==="textarea"||o.contentEditable==="true")}function Oe(o){var e=Me(),a=o.focusedElem,c=o.selectionRange;if(e!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(c!==null&&Ne(a)){if(e=c.start,o=c.end,o===void 0&&(o=e),"selectionStart"in a)a.selectionStart=e,a.selectionEnd=Math.min(o,a.value.length);else if(o=(e=a.ownerDocument||document)&&e.defaultView||window,o.getSelection){o=o.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!o.extend&&g>c&&(d=c,c=g,g=d),d=Ke(a,g);var b=Ke(a,c);d&&b&&(o.rangeCount!==1||o.anchorNode!==d.node||o.anchorOffset!==d.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(e=e.createRange(),e.setStart(d.node,d.offset),o.removeAllRanges(),g>c?(o.addRange(e),o.extend(b.node,b.offset)):(e.setEnd(b.node,b.offset),o.addRange(e)))}}for(e=[],o=a;o=o.parentNode;)o.nodeType===1&&e.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<e.length;a++)o=e[a],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te$1=!1;function Ue(o,e,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te$1||Qe==null||Qe!==Xa(c)||(c=Qe,"selectionStart"in c&&Ne(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Se&&Ie(Se,c)||(Se=c,c=oe$1(Re,"onSelect"),0<c.length&&(e=new td("onSelect","select",null,e,a),o.push({event:e,listeners:c}),e.target=Qe)))}function Ve(o,e){var a={};return a[o.toLowerCase()]=e.toLowerCase(),a["Webkit"+o]="webkit"+e,a["Moz"+o]="moz"+e,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var e=We[o],a;for(a in e)if(e.hasOwnProperty(a)&&a in Ye)return Xe[o]=e[a];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,e){df.set(o,e),fa(e,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,e,a){var c=o.type||"unknown-event";o.currentTarget=a,Ub(c,e,void 0,o),o.currentTarget=null}function se$1(o,e){e=(e&4)!==0;for(var a=0;a<o.length;a++){var c=o[a],d=c.event;c=c.listeners;e:{var g=void 0;if(e)for(var b=c.length-1;0<=b;b--){var _=c[b],_e=_.instance,tt=_.currentTarget;if(_=_.listener,_e!==g&&d.isPropagationStopped())break e;nf(d,_,tt),g=_e}else for(b=0;b<c.length;b++){if(_=c[b],_e=_.instance,tt=_.currentTarget,_=_.listener,_e!==g&&d.isPropagationStopped())break e;nf(d,_,tt),g=_e}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D$1(o,e){var a=e[of];a===void 0&&(a=e[of]=new Set);var c=o+"__bubble";a.has(c)||(pf(e,o,2,!1),a.add(c))}function qf(o,e,a){var c=0;e&&(c|=4),pf(a,o,c,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,o),qf(a,!0,o))});var e=o.nodeType===9?o:o.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(o,e,a,c){switch(jd(e)){case 1:var d=ed;break;case 4:d=gd;break;default:d=fd}a=d.bind(null,e,a,o),d=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(d=!0),c?d!==void 0?o.addEventListener(e,a,{capture:!0,passive:d}):o.addEventListener(e,a,!0):d!==void 0?o.addEventListener(e,a,{passive:d}):o.addEventListener(e,a,!1)}function hd(o,e,a,c,d){var g=c;if(!(e&1)&&!(e&2)&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var _=c.stateNode.containerInfo;if(_===d||_.nodeType===8&&_.parentNode===d)break;if(b===4)for(b=c.return;b!==null;){var _e=b.tag;if((_e===3||_e===4)&&(_e=b.stateNode.containerInfo,_e===d||_e.nodeType===8&&_e.parentNode===d))return;b=b.return}for(;_!==null;){if(b=Wc(_),b===null)return;if(_e=b.tag,_e===5||_e===6){c=g=b;continue e}_=_.parentNode}}c=c.return}Jb(function(){var tt=g,nt=xb(a),it=[];e:{var st=df.get(o);if(st!==void 0){var ot=td,ht=o;switch(o){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":ot=Rd;break;case"focusin":ht="focus",ot=Fd;break;case"focusout":ht="blur",ot=Fd;break;case"beforeblur":case"afterblur":ot=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=Vd;break;case $e:case af:case bf:ot=Hd;break;case cf:ot=Xd;break;case"scroll":ot=vd;break;case"wheel":ot=Zd;break;case"copy":case"cut":case"paste":ot=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=Td}var dt=(e&4)!==0,Et=!dt&&o==="scroll",pt=dt?st!==null?st+"Capture":null:st;dt=[];for(var gt=tt,St;gt!==null;){St=gt;var Tt=St.stateNode;if(St.tag===5&&Tt!==null&&(St=Tt,pt!==null&&(Tt=Kb(gt,pt),Tt!=null&&dt.push(tf(gt,Tt,St)))),Et)break;gt=gt.return}0<dt.length&&(st=new ot(st,ht,null,a,nt),it.push({event:st,listeners:dt}))}}if(!(e&7)){e:{if(st=o==="mouseover"||o==="pointerover",ot=o==="mouseout"||o==="pointerout",st&&a!==wb&&(ht=a.relatedTarget||a.fromElement)&&(Wc(ht)||ht[uf]))break e;if((ot||st)&&(st=nt.window===nt?nt:(st=nt.ownerDocument)?st.defaultView||st.parentWindow:window,ot?(ht=a.relatedTarget||a.toElement,ot=tt,ht=ht?Wc(ht):null,ht!==null&&(Et=Vb(ht),ht!==Et||ht.tag!==5&&ht.tag!==6)&&(ht=null)):(ot=null,ht=tt),ot!==ht)){if(dt=Bd,Tt="onMouseLeave",pt="onMouseEnter",gt="mouse",(o==="pointerout"||o==="pointerover")&&(dt=Td,Tt="onPointerLeave",pt="onPointerEnter",gt="pointer"),Et=ot==null?st:ue(ot),St=ht==null?st:ue(ht),st=new dt(Tt,gt+"leave",ot,a,nt),st.target=Et,st.relatedTarget=St,Tt=null,Wc(nt)===tt&&(dt=new dt(pt,gt+"enter",ht,a,nt),dt.target=St,dt.relatedTarget=Et,Tt=dt),Et=Tt,ot&&ht)t:{for(dt=ot,pt=ht,gt=0,St=dt;St;St=vf(St))gt++;for(St=0,Tt=pt;Tt;Tt=vf(Tt))St++;for(;0<gt-St;)dt=vf(dt),gt--;for(;0<St-gt;)pt=vf(pt),St--;for(;gt--;){if(dt===pt||pt!==null&&dt===pt.alternate)break t;dt=vf(dt),pt=vf(pt)}dt=null}else dt=null;ot!==null&&wf(it,st,ot,dt,!1),ht!==null&&Et!==null&&wf(it,Et,ht,dt,!0)}}e:{if(st=tt?ue(tt):window,ot=st.nodeName&&st.nodeName.toLowerCase(),ot==="select"||ot==="input"&&st.type==="file")var bt=ve;else if(me(st))if(we)bt=Fe;else{bt=De;var vt=Ce}else(ot=st.nodeName)&&ot.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(bt=Ee);if(bt&&(bt=bt(o,tt))){ne$1(it,bt,a,nt);break e}vt&&vt(o,st,tt),o==="focusout"&&(vt=st._wrapperState)&&vt.controlled&&st.type==="number"&&cb(st,"number",st.value)}switch(vt=tt?ue(tt):window,o){case"focusin":(me(vt)||vt.contentEditable==="true")&&(Qe=vt,Re=tt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(it,a,nt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(it,a,nt)}var kt;if(ae$1)e:{switch(o){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else ie$2?ge(o,a)&&(Nt="onCompositionEnd"):o==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(de&&a.locale!=="ko"&&(ie$2||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ie$2&&(kt=nd()):(kd=nt,ld="value"in kd?kd.value:kd.textContent,ie$2=!0)),vt=oe$1(tt,Nt),0<vt.length&&(Nt=new Ld(Nt,o,null,a,nt),it.push({event:Nt,listeners:vt}),kt?Nt.data=kt:(kt=he(a),kt!==null&&(Nt.data=kt)))),(kt=ce?je(o,a):ke(o,a))&&(tt=oe$1(tt,"onBeforeInput"),0<tt.length&&(nt=new Ld("onBeforeInput","beforeinput",null,a,nt),it.push({event:nt,listeners:tt}),nt.data=kt))}se$1(it,e)})}function tf(o,e,a){return{instance:o,listener:e,currentTarget:a}}function oe$1(o,e){for(var a=e+"Capture",c=[];o!==null;){var d=o,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=Kb(o,a),g!=null&&c.unshift(tf(o,g,d)),g=Kb(o,e),g!=null&&c.push(tf(o,g,d))),o=o.return}return c}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,e,a,c,d){for(var g=e._reactName,b=[];a!==null&&a!==c;){var _=a,_e=_.alternate,tt=_.stateNode;if(_e!==null&&_e===c)break;_.tag===5&&tt!==null&&(_=tt,d?(_e=Kb(a,g),_e!=null&&b.unshift(tf(a,_e,_))):d||(_e=Kb(a,g),_e!=null&&b.push(tf(a,_e,_)))),a=a.return}b.length!==0&&o.push({event:e,listeners:b})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,e,a){if(e=zf(e),zf(o)!==e&&a)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,e){return o==="textarea"||o==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,e){var a=e,c=0;do{var d=a.nextSibling;if(o.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){o.removeChild(d),bd(e);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);bd(e)}function Lf(o){for(;o!=null;o=o.nextSibling){var e=o.nodeType;if(e===1||e===3)break;if(e===8){if(e=o.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var e=0;o;){if(o.nodeType===8){var a=o.data;if(a==="$"||a==="$!"||a==="$?"){if(e===0)return o;e--}else a==="/$"&&e++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var e=o[Of];if(e)return e;for(var a=o.parentNode;a;){if(e=a[uf]||a[Of]){if(a=e.alternate,e.child!==null||a!==null&&a.child!==null)for(o=Mf(o);o!==null;){if(a=o[Of])return a;o=Mf(o)}return e}o=a,a=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E$1(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(o,e){Tf++,Sf[Tf]=o.current,o.current=e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,e){var a=o.type.contextTypes;if(!a)return Vf;var c=o.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===e)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=e[g];return c&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=e,o.__reactInternalMemoizedMaskedChildContext=d),d}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E$1(Wf),E$1(H)}function ag(o,e,a){if(H.current!==Vf)throw Error(p(168));G(H,e),G(Wf,a)}function bg(o,e,a){var c=o.stateNode;if(e=e.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in e))throw Error(p(108,Ra(o)||"Unknown",d));return A({},a,c)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,o),G(Wf,Wf.current),!0}function dg(o,e,a){var c=o.stateNode;if(!c)throw Error(p(169));a?(o=bg(o,e,Xf),c.__reactInternalMemoizedMergedChildContext=o,E$1(Wf),E$1(H),G(H,o)):E$1(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,e=C$1;try{var a=eg;for(C$1=1;o<a.length;o++){var c=a[o];do c=c(!0);while(c!==null)}eg=null,fg=!1}catch(d){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),d}finally{C$1=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,e){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=e}function ug(o,e,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var c=rg;o=sg;var d=32-oc(c)-1;c&=~(1<<d),a+=1;var g=32-oc(e)+d;if(30<g){var b=d-d%5;g=(c&(1<<b)-1).toString(32),c>>=b,d-=b,rg=1<<32-oc(e)+d|a<<d|c,sg=g+o}else rg=1<<g|a<<d|c,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(o,e){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=e,a.return=o,e=o.deletions,e===null?(o.deletions=[a],o.flags|=16):e.push(a)}function Cg(o,e){switch(o.tag){case 5:var a=o.type;return e=e.nodeType!==1||a.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(o.stateNode=e,xg=o,yg=Lf(e.firstChild),!0):!1;case 6:return e=o.pendingProps===""||e.nodeType!==3?null:e,e!==null?(o.stateNode=e,xg=o,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(a=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:e,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=e,a.return=o,o.child=a,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I){var e=yg;if(e){var a=e;if(!Cg(o,e)){if(Dg(o))throw Error(p(418));e=Lf(a.nextSibling);var c=xg;e&&Cg(o,e)?Ag(c,a):(o.flags=o.flags&-4097|2,I=!1,xg=o)}}else{if(Dg(o))throw Error(p(418));o.flags=o.flags&-4097|2,I=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I)return Fg(o),I=!0,!1;var e;if((e=o.tag!==3)&&!(e=o.tag!==5)&&(e=o.type,e=e!=="head"&&e!=="body"&&!Ef(o.type,o.memoizedProps)),e&&(e=yg)){if(Dg(o))throw Hg(),Error(p(418));for(;e;)Ag(o,e),e=Lf(e.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p(317));e:{for(o=o.nextSibling,e=0;o;){if(o.nodeType===8){var a=o.data;if(a==="/$"){if(e===0){yg=Lf(o.nextSibling);break e}e--}else a!=="$"&&a!=="$!"&&a!=="$?"||e++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua.ReactCurrentBatchConfig;function Lg(o,e,a){if(o=a.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p(309));var c=a.stateNode}if(!c)throw Error(p(147,o));var d=c,g=""+o;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===g?e.ref:(e=function(b){var _=d.refs;b===null?delete _[g]:_[g]=b},e._stringRef=g,e)}if(typeof o!="string")throw Error(p(284));if(!a._owner)throw Error(p(290,o))}return o}function Mg(o,e){throw o=Object.prototype.toString.call(e),Error(p(31,o==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":o))}function Ng(o){var e=o._init;return e(o._payload)}function Og(o){function e(pt,gt){if(o){var St=pt.deletions;St===null?(pt.deletions=[gt],pt.flags|=16):St.push(gt)}}function a(pt,gt){if(!o)return null;for(;gt!==null;)e(pt,gt),gt=gt.sibling;return null}function c(pt,gt){for(pt=new Map;gt!==null;)gt.key!==null?pt.set(gt.key,gt):pt.set(gt.index,gt),gt=gt.sibling;return pt}function d(pt,gt){return pt=Pg(pt,gt),pt.index=0,pt.sibling=null,pt}function g(pt,gt,St){return pt.index=St,o?(St=pt.alternate,St!==null?(St=St.index,St<gt?(pt.flags|=2,gt):St):(pt.flags|=2,gt)):(pt.flags|=1048576,gt)}function b(pt){return o&&pt.alternate===null&&(pt.flags|=2),pt}function _(pt,gt,St,Tt){return gt===null||gt.tag!==6?(gt=Qg(St,pt.mode,Tt),gt.return=pt,gt):(gt=d(gt,St),gt.return=pt,gt)}function _e(pt,gt,St,Tt){var bt=St.type;return bt===ya?nt(pt,gt,St.props.children,Tt,St.key):gt!==null&&(gt.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Ha&&Ng(bt)===gt.type)?(Tt=d(gt,St.props),Tt.ref=Lg(pt,gt,St),Tt.return=pt,Tt):(Tt=Rg(St.type,St.key,St.props,null,pt.mode,Tt),Tt.ref=Lg(pt,gt,St),Tt.return=pt,Tt)}function tt(pt,gt,St,Tt){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==St.containerInfo||gt.stateNode.implementation!==St.implementation?(gt=Sg(St,pt.mode,Tt),gt.return=pt,gt):(gt=d(gt,St.children||[]),gt.return=pt,gt)}function nt(pt,gt,St,Tt,bt){return gt===null||gt.tag!==7?(gt=Tg(St,pt.mode,Tt,bt),gt.return=pt,gt):(gt=d(gt,St),gt.return=pt,gt)}function it(pt,gt,St){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return gt=Qg(""+gt,pt.mode,St),gt.return=pt,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return St=Rg(gt.type,gt.key,gt.props,null,pt.mode,St),St.ref=Lg(pt,null,gt),St.return=pt,St;case wa:return gt=Sg(gt,pt.mode,St),gt.return=pt,gt;case Ha:var Tt=gt._init;return it(pt,Tt(gt._payload),St)}if(eb(gt)||Ka(gt))return gt=Tg(gt,pt.mode,St,null),gt.return=pt,gt;Mg(pt,gt)}return null}function st(pt,gt,St,Tt){var bt=gt!==null?gt.key:null;if(typeof St=="string"&&St!==""||typeof St=="number")return bt!==null?null:_(pt,gt,""+St,Tt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case va:return St.key===bt?_e(pt,gt,St,Tt):null;case wa:return St.key===bt?tt(pt,gt,St,Tt):null;case Ha:return bt=St._init,st(pt,gt,bt(St._payload),Tt)}if(eb(St)||Ka(St))return bt!==null?null:nt(pt,gt,St,Tt,null);Mg(pt,St)}return null}function ot(pt,gt,St,Tt,bt){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number")return pt=pt.get(St)||null,_(gt,pt,""+Tt,bt);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case va:return pt=pt.get(Tt.key===null?St:Tt.key)||null,_e(gt,pt,Tt,bt);case wa:return pt=pt.get(Tt.key===null?St:Tt.key)||null,tt(gt,pt,Tt,bt);case Ha:var vt=Tt._init;return ot(pt,gt,St,vt(Tt._payload),bt)}if(eb(Tt)||Ka(Tt))return pt=pt.get(St)||null,nt(gt,pt,Tt,bt,null);Mg(gt,Tt)}return null}function ht(pt,gt,St,Tt){for(var bt=null,vt=null,kt=gt,Nt=gt=0,en=null;kt!==null&&Nt<St.length;Nt++){kt.index>Nt?(en=kt,kt=null):en=kt.sibling;var jt=st(pt,kt,St[Nt],Tt);if(jt===null){kt===null&&(kt=en);break}o&&kt&&jt.alternate===null&&e(pt,kt),gt=g(jt,gt,Nt),vt===null?bt=jt:vt.sibling=jt,vt=jt,kt=en}if(Nt===St.length)return a(pt,kt),I&&tg(pt,Nt),bt;if(kt===null){for(;Nt<St.length;Nt++)kt=it(pt,St[Nt],Tt),kt!==null&&(gt=g(kt,gt,Nt),vt===null?bt=kt:vt.sibling=kt,vt=kt);return I&&tg(pt,Nt),bt}for(kt=c(pt,kt);Nt<St.length;Nt++)en=ot(kt,pt,Nt,St[Nt],Tt),en!==null&&(o&&en.alternate!==null&&kt.delete(en.key===null?Nt:en.key),gt=g(en,gt,Nt),vt===null?bt=en:vt.sibling=en,vt=en);return o&&kt.forEach(function(tn){return e(pt,tn)}),I&&tg(pt,Nt),bt}function dt(pt,gt,St,Tt){var bt=Ka(St);if(typeof bt!="function")throw Error(p(150));if(St=bt.call(St),St==null)throw Error(p(151));for(var vt=bt=null,kt=gt,Nt=gt=0,en=null,jt=St.next();kt!==null&&!jt.done;Nt++,jt=St.next()){kt.index>Nt?(en=kt,kt=null):en=kt.sibling;var tn=st(pt,kt,jt.value,Tt);if(tn===null){kt===null&&(kt=en);break}o&&kt&&tn.alternate===null&&e(pt,kt),gt=g(tn,gt,Nt),vt===null?bt=tn:vt.sibling=tn,vt=tn,kt=en}if(jt.done)return a(pt,kt),I&&tg(pt,Nt),bt;if(kt===null){for(;!jt.done;Nt++,jt=St.next())jt=it(pt,jt.value,Tt),jt!==null&&(gt=g(jt,gt,Nt),vt===null?bt=jt:vt.sibling=jt,vt=jt);return I&&tg(pt,Nt),bt}for(kt=c(pt,kt);!jt.done;Nt++,jt=St.next())jt=ot(kt,pt,Nt,jt.value,Tt),jt!==null&&(o&&jt.alternate!==null&&kt.delete(jt.key===null?Nt:jt.key),gt=g(jt,gt,Nt),vt===null?bt=jt:vt.sibling=jt,vt=jt);return o&&kt.forEach(function(Yt){return e(pt,Yt)}),I&&tg(pt,Nt),bt}function Et(pt,gt,St,Tt){if(typeof St=="object"&&St!==null&&St.type===ya&&St.key===null&&(St=St.props.children),typeof St=="object"&&St!==null){switch(St.$$typeof){case va:e:{for(var bt=St.key,vt=gt;vt!==null;){if(vt.key===bt){if(bt=St.type,bt===ya){if(vt.tag===7){a(pt,vt.sibling),gt=d(vt,St.props.children),gt.return=pt,pt=gt;break e}}else if(vt.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Ha&&Ng(bt)===vt.type){a(pt,vt.sibling),gt=d(vt,St.props),gt.ref=Lg(pt,vt,St),gt.return=pt,pt=gt;break e}a(pt,vt);break}else e(pt,vt);vt=vt.sibling}St.type===ya?(gt=Tg(St.props.children,pt.mode,Tt,St.key),gt.return=pt,pt=gt):(Tt=Rg(St.type,St.key,St.props,null,pt.mode,Tt),Tt.ref=Lg(pt,gt,St),Tt.return=pt,pt=Tt)}return b(pt);case wa:e:{for(vt=St.key;gt!==null;){if(gt.key===vt)if(gt.tag===4&&gt.stateNode.containerInfo===St.containerInfo&&gt.stateNode.implementation===St.implementation){a(pt,gt.sibling),gt=d(gt,St.children||[]),gt.return=pt,pt=gt;break e}else{a(pt,gt);break}else e(pt,gt);gt=gt.sibling}gt=Sg(St,pt.mode,Tt),gt.return=pt,pt=gt}return b(pt);case Ha:return vt=St._init,Et(pt,gt,vt(St._payload),Tt)}if(eb(St))return ht(pt,gt,St,Tt);if(Ka(St))return dt(pt,gt,St,Tt);Mg(pt,St)}return typeof St=="string"&&St!==""||typeof St=="number"?(St=""+St,gt!==null&&gt.tag===6?(a(pt,gt.sibling),gt=d(gt,St),gt.return=pt,pt=gt):(a(pt,gt),gt=Qg(St,pt.mode,Tt),gt.return=pt,pt=gt),b(pt)):a(pt,gt)}return Et}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(o){var e=Wg.current;E$1(Wg),o._currentValue=e}function bh(o,e,a){for(;o!==null;){var c=o.alternate;if((o.childLanes&e)!==e?(o.childLanes|=e,c!==null&&(c.childLanes|=e)):c!==null&&(c.childLanes&e)!==e&&(c.childLanes|=e),o===a)break;o=o.return}}function ch(o,e){Xg=o,Zg=Yg=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&e&&(dh=!0),o.firstContext=null)}function eh(o){var e=o._currentValue;if(Zg!==o)if(o={context:o,memoizedValue:e,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=o,Xg.dependencies={lanes:0,firstContext:o}}else Yg=Yg.next=o;return e}var fh=null;function gh(o){fh===null?fh=[o]:fh.push(o)}function hh(o,e,a,c){var d=e.interleaved;return d===null?(a.next=a,gh(e)):(a.next=d.next,d.next=a),e.interleaved=a,ih(o,c)}function ih(o,e){o.lanes|=e;var a=o.alternate;for(a!==null&&(a.lanes|=e),a=o,o=o.return;o!==null;)o.childLanes|=e,a=o.alternate,a!==null&&(a.childLanes|=e),a=o,o=o.return;return a.tag===3?a.stateNode:null}var jh=!1;function kh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(o,e){o=o.updateQueue,e.updateQueue===o&&(e.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function mh(o,e){return{eventTime:o,lane:e,tag:0,payload:null,callback:null,next:null}}function nh(o,e,a){var c=o.updateQueue;if(c===null)return null;if(c=c.shared,K&2){var d=c.pending;return d===null?e.next=e:(e.next=d.next,d.next=e),c.pending=e,ih(o,a)}return d=c.interleaved,d===null?(e.next=e,gh(c)):(e.next=d.next,d.next=e),c.interleaved=e,ih(o,a)}function oh(o,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194240)!==0)){var c=e.lanes;c&=o.pendingLanes,a|=c,e.lanes=a,Cc(o,a)}}function ph(o,e){var a=o.updateQueue,c=o.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var b={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=b:g=g.next=b,a=a.next}while(a!==null);g===null?d=g=e:g=g.next=e}else d=g=e;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},o.updateQueue=a;return}o=a.lastBaseUpdate,o===null?a.firstBaseUpdate=e:o.next=e,a.lastBaseUpdate=e}function qh(o,e,a,c){var d=o.updateQueue;jh=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var _e=_,tt=_e.next;_e.next=null,b===null?g=tt:b.next=tt,b=_e;var nt=o.alternate;nt!==null&&(nt=nt.updateQueue,_=nt.lastBaseUpdate,_!==b&&(_===null?nt.firstBaseUpdate=tt:_.next=tt,nt.lastBaseUpdate=_e))}if(g!==null){var it=d.baseState;b=0,nt=tt=_e=null,_=g;do{var st=_.lane,ot=_.eventTime;if((c&st)===st){nt!==null&&(nt=nt.next={eventTime:ot,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var ht=o,dt=_;switch(st=e,ot=a,dt.tag){case 1:if(ht=dt.payload,typeof ht=="function"){it=ht.call(ot,it,st);break e}it=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=dt.payload,st=typeof ht=="function"?ht.call(ot,it,st):ht,st==null)break e;it=A({},it,st);break e;case 2:jh=!0}}_.callback!==null&&_.lane!==0&&(o.flags|=64,st=d.effects,st===null?d.effects=[_]:st.push(_))}else ot={eventTime:ot,lane:st,tag:_.tag,payload:_.payload,callback:_.callback,next:null},nt===null?(tt=nt=ot,_e=it):nt=nt.next=ot,b|=st;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;st=_,_=st.next,st.next=null,d.lastBaseUpdate=st,d.shared.pending=null}}while(!0);if(nt===null&&(_e=it),d.baseState=_e,d.firstBaseUpdate=tt,d.lastBaseUpdate=nt,e=d.shared.interleaved,e!==null){d=e;do b|=d.lane,d=d.next;while(d!==e)}else g===null&&(d.shared.lanes=0);rh|=b,o.lanes=b,o.memoizedState=it}}function sh(o,e,a){if(o=e.effects,e.effects=null,o!==null)for(e=0;e<o.length;e++){var c=o[e],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(p(191,d));d.call(c)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(o){if(o===th)throw Error(p(174));return o}function yh(o,e){switch(G(wh,e),G(vh,o),G(uh,th),o=e.nodeType,o){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:o=o===8?e.parentNode:e,e=o.namespaceURI||null,o=o.tagName,e=lb(e,o)}E$1(uh),G(uh,e)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(o){xh(wh.current);var e=xh(uh.current),a=lb(e,o.type);e!==a&&(G(vh,o),G(uh,a))}function Bh(o){vh.current===o&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(o){for(var e=o;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===o)break;for(;e.sibling===null;){if(e.return===null||e.return===o)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Eh(){for(var o=0;o<Dh.length;o++)Dh[o]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p(321))}function Mh(o,e){if(e===null)return!1;for(var a=0;a<e.length&&a<o.length;a++)if(!He(o[a],e[a]))return!1;return!0}function Nh(o,e,a,c,d,g){if(Hh=g,M=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=o===null||o.memoizedState===null?Oh:Ph,o=a(c,d),Jh){g=0;do{if(Jh=!1,Kh=0,25<=g)throw Error(p(301));g+=1,O=N=null,e.updateQueue=null,Fh.current=Qh,o=a(c,d)}while(Jh)}if(Fh.current=Rh,e=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,e)throw Error(p(300));return o}function Sh(){var o=Kh!==0;return Kh=0,o}function Th(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=o:O=O.next=o,O}function Uh(){if(N===null){var o=M.alternate;o=o!==null?o.memoizedState:null}else o=N.next;var e=O===null?M.memoizedState:O.next;if(e!==null)O=e,N=o;else{if(o===null)throw Error(p(310));N=o,o={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=o:O=O.next=o}return O}function Vh(o,e){return typeof e=="function"?e(o):e}function Wh(o){var e=Uh(),a=e.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=o;var c=N,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var _=b=null,_e=null,tt=g;do{var nt=tt.lane;if((Hh&nt)===nt)_e!==null&&(_e=_e.next={lane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),c=tt.hasEagerState?tt.eagerState:o(c,tt.action);else{var it={lane:nt,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null};_e===null?(_=_e=it,b=c):_e=_e.next=it,M.lanes|=nt,rh|=nt}tt=tt.next}while(tt!==null&&tt!==g);_e===null?b=c:_e.next=_,He(c,e.memoizedState)||(dh=!0),e.memoizedState=c,e.baseState=b,e.baseQueue=_e,a.lastRenderedState=c}if(o=a.interleaved,o!==null){d=o;do g=d.lane,M.lanes|=g,rh|=g,d=d.next;while(d!==o)}else d===null&&(a.lanes=0);return[e.memoizedState,a.dispatch]}function Xh(o){var e=Uh(),a=e.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=o;var c=a.dispatch,d=a.pending,g=e.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do g=o(g,b.action),b=b.next;while(b!==d);He(g,e.memoizedState)||(dh=!0),e.memoizedState=g,e.baseQueue===null&&(e.baseState=g),a.lastRenderedState=g}return[g,c]}function Yh(){}function Zh(o,e){var a=M,c=Uh(),d=e(),g=!He(c.memoizedState,d);if(g&&(c.memoizedState=d,dh=!0),c=c.queue,$h(ai.bind(null,a,c,o),[o]),c.getSnapshot!==e||g||O!==null&&O.memoizedState.tag&1){if(a.flags|=2048,bi(9,ci.bind(null,a,c,d,e),void 0,null),Q===null)throw Error(p(349));Hh&30||di(a,e,d)}return d}function di(o,e,a){o.flags|=16384,o={getSnapshot:e,value:a},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.stores=[o]):(a=e.stores,a===null?e.stores=[o]:a.push(o))}function ci(o,e,a,c){e.value=a,e.getSnapshot=c,ei(e)&&fi(o)}function ai(o,e,a){return a(function(){ei(e)&&fi(o)})}function ei(o){var e=o.getSnapshot;o=o.value;try{var a=e();return!He(o,a)}catch{return!0}}function fi(o){var e=ih(o,1);e!==null&&gi(e,o,1,-1)}function hi(o){var e=Th();return typeof o=="function"&&(o=o()),e.memoizedState=e.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:o},e.queue=o,o=o.dispatch=ii.bind(null,M,o),[e.memoizedState,o]}function bi(o,e,a,c){return o={tag:o,create:e,destroy:a,deps:c,next:null},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.lastEffect=o.next=o):(a=e.lastEffect,a===null?e.lastEffect=o.next=o:(c=a.next,a.next=o,o.next=c,e.lastEffect=o)),o}function ji(){return Uh().memoizedState}function ki(o,e,a,c){var d=Th();M.flags|=o,d.memoizedState=bi(1|e,a,void 0,c===void 0?null:c)}function li(o,e,a,c){var d=Uh();c=c===void 0?null:c;var g=void 0;if(N!==null){var b=N.memoizedState;if(g=b.destroy,c!==null&&Mh(c,b.deps)){d.memoizedState=bi(e,a,g,c);return}}M.flags|=o,d.memoizedState=bi(1|e,a,g,c)}function mi(o,e){return ki(8390656,8,o,e)}function $h(o,e){return li(2048,8,o,e)}function ni(o,e){return li(4,2,o,e)}function oi(o,e){return li(4,4,o,e)}function pi(o,e){if(typeof e=="function")return o=o(),e(o),function(){e(null)};if(e!=null)return o=o(),e.current=o,function(){e.current=null}}function qi(o,e,a){return a=a!=null?a.concat([o]):null,li(4,4,pi.bind(null,e,o),a)}function ri(){}function si(o,e){var a=Uh();e=e===void 0?null:e;var c=a.memoizedState;return c!==null&&e!==null&&Mh(e,c[1])?c[0]:(a.memoizedState=[o,e],o)}function ti(o,e){var a=Uh();e=e===void 0?null:e;var c=a.memoizedState;return c!==null&&e!==null&&Mh(e,c[1])?c[0]:(o=o(),a.memoizedState=[o,e],o)}function ui(o,e,a){return Hh&21?(He(a,e)||(a=yc(),M.lanes|=a,rh|=a,o.baseState=!0),e):(o.baseState&&(o.baseState=!1,dh=!0),o.memoizedState=a)}function vi(o,e){var a=C$1;C$1=a!==0&&4>a?a:4,o(!0);var c=Gh.transition;Gh.transition={};try{o(!1),e()}finally{C$1=a,Gh.transition=c}}function wi(){return Uh().memoizedState}function xi(o,e,a){var c=yi(o);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},zi(o))Ai(e,a);else if(a=hh(o,e,a,c),a!==null){var d=R();gi(a,o,c,d),Bi(a,e,c)}}function ii(o,e,a){var c=yi(o),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(zi(o))Ai(e,d);else{var g=o.alternate;if(o.lanes===0&&(g===null||g.lanes===0)&&(g=e.lastRenderedReducer,g!==null))try{var b=e.lastRenderedState,_=g(b,a);if(d.hasEagerState=!0,d.eagerState=_,He(_,b)){var _e=e.interleaved;_e===null?(d.next=d,gh(e)):(d.next=_e.next,_e.next=d),e.interleaved=d;return}}catch{}finally{}a=hh(o,e,d,c),a!==null&&(d=R(),gi(a,o,c,d),Bi(a,e,c))}}function zi(o){var e=o.alternate;return o===M||e!==null&&e===M}function Ai(o,e){Jh=Ih=!0;var a=o.pending;a===null?e.next=e:(e.next=a.next,a.next=e),o.pending=e}function Bi(o,e,a){if(a&4194240){var c=e.lanes;c&=o.pendingLanes,a|=c,e.lanes=a,Cc(o,a)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(o,e){return Th().memoizedState=[o,e===void 0?null:e],o},useContext:eh,useEffect:mi,useImperativeHandle:function(o,e,a){return a=a!=null?a.concat([o]):null,ki(4194308,4,pi.bind(null,e,o),a)},useLayoutEffect:function(o,e){return ki(4194308,4,o,e)},useInsertionEffect:function(o,e){return ki(4,2,o,e)},useMemo:function(o,e){var a=Th();return e=e===void 0?null:e,o=o(),a.memoizedState=[o,e],o},useReducer:function(o,e,a){var c=Th();return e=a!==void 0?a(e):e,c.memoizedState=c.baseState=e,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:e},c.queue=o,o=o.dispatch=xi.bind(null,M,o),[c.memoizedState,o]},useRef:function(o){var e=Th();return o={current:o},e.memoizedState=o},useState:hi,useDebugValue:ri,useDeferredValue:function(o){return Th().memoizedState=o},useTransition:function(){var o=hi(!1),e=o[0];return o=vi.bind(null,o[1]),Th().memoizedState=o,[e,o]},useMutableSource:function(){},useSyncExternalStore:function(o,e,a){var c=M,d=Th();if(I){if(a===void 0)throw Error(p(407));a=a()}else{if(a=e(),Q===null)throw Error(p(349));Hh&30||di(c,e,a)}d.memoizedState=a;var g={value:a,getSnapshot:e};return d.queue=g,mi(ai.bind(null,c,g,o),[o]),c.flags|=2048,bi(9,ci.bind(null,c,g,a,e),void 0,null),a},useId:function(){var o=Th(),e=Q.identifierPrefix;if(I){var a=sg,c=rg;a=(c&~(1<<32-oc(c)-1)).toString(32)+a,e=":"+e+"R"+a,a=Kh++,0<a&&(e+="H"+a.toString(32)),e+=":"}else a=Lh++,e=":"+e+"r"+a.toString(32)+":";return o.memoizedState=e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(o){var e=Uh();return ui(e,N.memoizedState,o)},useTransition:function(){var o=Wh(Vh)[0],e=Uh().memoizedState;return[o,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(o){var e=Uh();return N===null?e.memoizedState=o:ui(e,N.memoizedState,o)},useTransition:function(){var o=Xh(Vh)[0],e=Uh().memoizedState;return[o,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(o,e){if(o&&o.defaultProps){e=A({},e),o=o.defaultProps;for(var a in o)e[a]===void 0&&(e[a]=o[a]);return e}return e}function Di(o,e,a,c){e=o.memoizedState,a=a(c,e),a=a==null?e:A({},e,a),o.memoizedState=a,o.lanes===0&&(o.updateQueue.baseState=a)}var Ei={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,e,a){o=o._reactInternals;var c=R(),d=yi(o),g=mh(c,d);g.payload=e,a!=null&&(g.callback=a),e=nh(o,g,d),e!==null&&(gi(e,o,d,c),oh(e,o,d))},enqueueReplaceState:function(o,e,a){o=o._reactInternals;var c=R(),d=yi(o),g=mh(c,d);g.tag=1,g.payload=e,a!=null&&(g.callback=a),e=nh(o,g,d),e!==null&&(gi(e,o,d,c),oh(e,o,d))},enqueueForceUpdate:function(o,e){o=o._reactInternals;var a=R(),c=yi(o),d=mh(a,c);d.tag=2,e!=null&&(d.callback=e),e=nh(o,d,c),e!==null&&(gi(e,o,c,a),oh(e,o,c))}};function Fi(o,e,a,c,d,g,b){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(c,g,b):e.prototype&&e.prototype.isPureReactComponent?!Ie(a,c)||!Ie(d,g):!0}function Gi(o,e,a){var c=!1,d=Vf,g=e.contextType;return typeof g=="object"&&g!==null?g=eh(g):(d=Zf(e)?Xf:H.current,c=e.contextTypes,g=(c=c!=null)?Yf(o,d):Vf),e=new e(a,g),o.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,o.stateNode=e,e._reactInternals=o,c&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=d,o.__reactInternalMemoizedMaskedChildContext=g),e}function Hi(o,e,a,c){o=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,c),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,c),e.state!==o&&Ei.enqueueReplaceState(e,e.state,null)}function Ii(o,e,a,c){var d=o.stateNode;d.props=a,d.state=o.memoizedState,d.refs={},kh(o);var g=e.contextType;typeof g=="object"&&g!==null?d.context=eh(g):(g=Zf(e)?Xf:H.current,d.context=Yf(o,g)),d.state=o.memoizedState,g=e.getDerivedStateFromProps,typeof g=="function"&&(Di(o,e,g,a),d.state=o.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(e=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),e!==d.state&&Ei.enqueueReplaceState(d,d.state,null),qh(o,a,d,c),d.state=o.memoizedState),typeof d.componentDidMount=="function"&&(o.flags|=4194308)}function Ji(o,e){try{var a="",c=e;do a+=Pa(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:o,source:e,stack:d,digest:null}}function Ki(o,e,a){return{value:o,source:null,stack:a??null,digest:e??null}}function Li(o,e){try{console.error(e.value)}catch(a){setTimeout(function(){throw a})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(o,e,a){a=mh(-1,a),a.tag=3,a.payload={element:null};var c=e.value;return a.callback=function(){Oi||(Oi=!0,Pi=c),Li(o,e)},a}function Qi(o,e,a){a=mh(-1,a),a.tag=3;var c=o.type.getDerivedStateFromError;if(typeof c=="function"){var d=e.value;a.payload=function(){return c(d)},a.callback=function(){Li(o,e)}}var g=o.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Li(o,e),typeof c!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var b=e.stack;this.componentDidCatch(e.value,{componentStack:b!==null?b:""})}),a}function Si(o,e,a){var c=o.pingCache;if(c===null){c=o.pingCache=new Mi;var d=new Set;c.set(e,d)}else d=c.get(e),d===void 0&&(d=new Set,c.set(e,d));d.has(a)||(d.add(a),o=Ti.bind(null,o,e,a),e.then(o,o))}function Ui(o){do{var e;if((e=o.tag===13)&&(e=o.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return o;o=o.return}while(o!==null);return null}function Vi(o,e,a,c,d){return o.mode&1?(o.flags|=65536,o.lanes=d,o):(o===e?o.flags|=65536:(o.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(e=mh(-1,1),e.tag=2,nh(a,e,1))),a.lanes|=1),o)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(o,e,a,c){e.child=o===null?Vg(e,null,a,c):Ug(e,o.child,a,c)}function Yi(o,e,a,c,d){a=a.render;var g=e.ref;return ch(e,d),c=Nh(o,e,a,c,g,d),a=Sh(),o!==null&&!dh?(e.updateQueue=o.updateQueue,e.flags&=-2053,o.lanes&=~d,Zi(o,e,d)):(I&&a&&vg(e),e.flags|=1,Xi(o,e,c,d),e.child)}function $i(o,e,a,c,d){if(o===null){var g=a.type;return typeof g=="function"&&!aj(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(e.tag=15,e.type=g,bj(o,e,g,c,d)):(o=Rg(a.type,null,c,e,e.mode,d),o.ref=e.ref,o.return=e,e.child=o)}if(g=o.child,!(o.lanes&d)){var b=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a(b,c)&&o.ref===e.ref)return Zi(o,e,d)}return e.flags|=1,o=Pg(g,c),o.ref=e.ref,o.return=e,e.child=o}function bj(o,e,a,c,d){if(o!==null){var g=o.memoizedProps;if(Ie(g,c)&&o.ref===e.ref)if(dh=!1,e.pendingProps=c=g,(o.lanes&d)!==0)o.flags&131072&&(dh=!0);else return e.lanes=o.lanes,Zi(o,e,d)}return cj(o,e,a,c,d)}function dj(o,e,a){var c=e.pendingProps,d=c.children,g=o!==null?o.memoizedState:null;if(c.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=a;else{if(!(a&1073741824))return o=g!==null?g.baseLanes|a:a,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:o,cachePool:null,transitions:null},e.updateQueue=null,G(ej,fj),fj|=o,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,G(ej,fj),fj|=c}else g!==null?(c=g.baseLanes|a,e.memoizedState=null):c=a,G(ej,fj),fj|=c;return Xi(o,e,d,a),e.child}function gj(o,e){var a=e.ref;(o===null&&a!==null||o!==null&&o.ref!==a)&&(e.flags|=512,e.flags|=2097152)}function cj(o,e,a,c,d){var g=Zf(a)?Xf:H.current;return g=Yf(e,g),ch(e,d),a=Nh(o,e,a,c,g,d),c=Sh(),o!==null&&!dh?(e.updateQueue=o.updateQueue,e.flags&=-2053,o.lanes&=~d,Zi(o,e,d)):(I&&c&&vg(e),e.flags|=1,Xi(o,e,a,d),e.child)}function hj(o,e,a,c,d){if(Zf(a)){var g=!0;cg(e)}else g=!1;if(ch(e,d),e.stateNode===null)ij(o,e),Gi(e,a,c),Ii(e,a,c,d),c=!0;else if(o===null){var b=e.stateNode,_=e.memoizedProps;b.props=_;var _e=b.context,tt=a.contextType;typeof tt=="object"&&tt!==null?tt=eh(tt):(tt=Zf(a)?Xf:H.current,tt=Yf(e,tt));var nt=a.getDerivedStateFromProps,it=typeof nt=="function"||typeof b.getSnapshotBeforeUpdate=="function";it||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==c||_e!==tt)&&Hi(e,b,c,tt),jh=!1;var st=e.memoizedState;b.state=st,qh(e,c,b,d),_e=e.memoizedState,_!==c||st!==_e||Wf.current||jh?(typeof nt=="function"&&(Di(e,a,nt,c),_e=e.memoizedState),(_=jh||Fi(e,a,_,c,st,_e,tt))?(it||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(e.flags|=4194308)):(typeof b.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=c,e.memoizedState=_e),b.props=c,b.state=_e,b.context=tt,c=_):(typeof b.componentDidMount=="function"&&(e.flags|=4194308),c=!1)}else{b=e.stateNode,lh(o,e),_=e.memoizedProps,tt=e.type===e.elementType?_:Ci(e.type,_),b.props=tt,it=e.pendingProps,st=b.context,_e=a.contextType,typeof _e=="object"&&_e!==null?_e=eh(_e):(_e=Zf(a)?Xf:H.current,_e=Yf(e,_e));var ot=a.getDerivedStateFromProps;(nt=typeof ot=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==it||st!==_e)&&Hi(e,b,c,_e),jh=!1,st=e.memoizedState,b.state=st,qh(e,c,b,d);var ht=e.memoizedState;_!==it||st!==ht||Wf.current||jh?(typeof ot=="function"&&(Di(e,a,ot,c),ht=e.memoizedState),(tt=jh||Fi(e,a,tt,c,st,ht,_e)||!1)?(nt||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,ht,_e),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,ht,_e)),typeof b.componentDidUpdate=="function"&&(e.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof b.componentDidUpdate!="function"||_===o.memoizedProps&&st===o.memoizedState||(e.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===o.memoizedProps&&st===o.memoizedState||(e.flags|=1024),e.memoizedProps=c,e.memoizedState=ht),b.props=c,b.state=ht,b.context=_e,c=tt):(typeof b.componentDidUpdate!="function"||_===o.memoizedProps&&st===o.memoizedState||(e.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===o.memoizedProps&&st===o.memoizedState||(e.flags|=1024),c=!1)}return jj(o,e,a,c,g,d)}function jj(o,e,a,c,d,g){gj(o,e);var b=(e.flags&128)!==0;if(!c&&!b)return d&&dg(e,a,!1),Zi(o,e,g);c=e.stateNode,Wi.current=e;var _=b&&typeof a.getDerivedStateFromError!="function"?null:c.render();return e.flags|=1,o!==null&&b?(e.child=Ug(e,o.child,null,g),e.child=Ug(e,null,_,g)):Xi(o,e,_,g),e.memoizedState=c.state,d&&dg(e,a,!0),e.child}function kj(o){var e=o.stateNode;e.pendingContext?ag(o,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(o,e.context,!1),yh(o,e.containerInfo)}function lj(o,e,a,c,d){return Ig(),Jg(d),e.flags|=256,Xi(o,e,a,c),e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(o){return{baseLanes:o,cachePool:null,transitions:null}}function oj(o,e,a){var c=e.pendingProps,d=L$1.current,g=!1,b=(e.flags&128)!==0,_;if((_=b)||(_=o!==null&&o.memoizedState===null?!1:(d&2)!==0),_?(g=!0,e.flags&=-129):(o===null||o.memoizedState!==null)&&(d|=1),G(L$1,d&1),o===null)return Eg(e),o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(e.mode&1?o.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(b=c.children,o=c.fallback,g?(c=e.mode,g=e.child,b={mode:"hidden",children:b},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=b):g=pj(b,c,0,null),o=Tg(o,c,a,null),g.return=e,o.return=e,g.sibling=o,e.child=g,e.child.memoizedState=nj(a),e.memoizedState=mj,o):qj(e,b));if(d=o.memoizedState,d!==null&&(_=d.dehydrated,_!==null))return rj(o,e,b,c,_,d,a);if(g){g=c.fallback,b=e.mode,d=o.child,_=d.sibling;var _e={mode:"hidden",children:c.children};return!(b&1)&&e.child!==d?(c=e.child,c.childLanes=0,c.pendingProps=_e,e.deletions=null):(c=Pg(d,_e),c.subtreeFlags=d.subtreeFlags&14680064),_!==null?g=Pg(_,g):(g=Tg(g,b,a,null),g.flags|=2),g.return=e,c.return=e,c.sibling=g,e.child=c,c=g,g=e.child,b=o.child.memoizedState,b=b===null?nj(a):{baseLanes:b.baseLanes|a,cachePool:null,transitions:b.transitions},g.memoizedState=b,g.childLanes=o.childLanes&~a,e.memoizedState=mj,c}return g=o.child,o=g.sibling,c=Pg(g,{mode:"visible",children:c.children}),!(e.mode&1)&&(c.lanes=a),c.return=e,c.sibling=null,o!==null&&(a=e.deletions,a===null?(e.deletions=[o],e.flags|=16):a.push(o)),e.child=c,e.memoizedState=null,c}function qj(o,e){return e=pj({mode:"visible",children:e},o.mode,0,null),e.return=o,o.child=e}function sj(o,e,a,c){return c!==null&&Jg(c),Ug(e,o.child,null,a),o=qj(e,e.pendingProps.children),o.flags|=2,e.memoizedState=null,o}function rj(o,e,a,c,d,g,b){if(a)return e.flags&256?(e.flags&=-257,c=Ki(Error(p(422))),sj(o,e,b,c)):e.memoizedState!==null?(e.child=o.child,e.flags|=128,null):(g=c.fallback,d=e.mode,c=pj({mode:"visible",children:c.children},d,0,null),g=Tg(g,d,b,null),g.flags|=2,c.return=e,g.return=e,c.sibling=g,e.child=c,e.mode&1&&Ug(e,o.child,null,b),e.child.memoizedState=nj(b),e.memoizedState=mj,g);if(!(e.mode&1))return sj(o,e,b,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var _=c.dgst;return c=_,g=Error(p(419)),c=Ki(g,c,void 0),sj(o,e,b,c)}if(_=(b&o.childLanes)!==0,dh||_){if(c=Q,c!==null){switch(b&-b){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|b)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,ih(o,d),gi(c,o,d,-1))}return tj(),c=Ki(Error(p(421))),sj(o,e,b,c)}return d.data==="$?"?(e.flags|=128,e.child=o.child,e=uj.bind(null,o),d._reactRetry=e,null):(o=g.treeContext,yg=Lf(d.nextSibling),xg=e,I=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=e),e=qj(e,c.children),e.flags|=4096,e)}function vj(o,e,a){o.lanes|=e;var c=o.alternate;c!==null&&(c.lanes|=e),bh(o.return,e,a)}function wj(o,e,a,c,d){var g=o.memoizedState;g===null?o.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function xj(o,e,a){var c=e.pendingProps,d=c.revealOrder,g=c.tail;if(Xi(o,e,c.children,a),c=L$1.current,c&2)c=c&1|2,e.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=e.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vj(o,a,e);else if(o.tag===19)vj(o,a,e);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}c&=1}if(G(L$1,c),!(e.mode&1))e.memoizedState=null;else switch(d){case"forwards":for(a=e.child,d=null;a!==null;)o=a.alternate,o!==null&&Ch(o)===null&&(d=a),a=a.sibling;a=d,a===null?(d=e.child,e.child=null):(d=a.sibling,a.sibling=null),wj(e,!1,d,a,g);break;case"backwards":for(a=null,d=e.child,e.child=null;d!==null;){if(o=d.alternate,o!==null&&Ch(o)===null){e.child=d;break}o=d.sibling,d.sibling=a,a=d,d=o}wj(e,!0,a,null,g);break;case"together":wj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ij(o,e){!(e.mode&1)&&o!==null&&(o.alternate=null,e.alternate=null,e.flags|=2)}function Zi(o,e,a){if(o!==null&&(e.dependencies=o.dependencies),rh|=e.lanes,!(a&e.childLanes))return null;if(o!==null&&e.child!==o.child)throw Error(p(153));if(e.child!==null){for(o=e.child,a=Pg(o,o.pendingProps),e.child=a,a.return=e;o.sibling!==null;)o=o.sibling,a=a.sibling=Pg(o,o.pendingProps),a.return=e;a.sibling=null}return e.child}function yj(o,e,a){switch(e.tag){case 3:kj(e),Ig();break;case 5:Ah(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var c=e.type._context,d=e.memoizedProps.value;G(Wg,c._currentValue),c._currentValue=d;break;case 13:if(c=e.memoizedState,c!==null)return c.dehydrated!==null?(G(L$1,L$1.current&1),e.flags|=128,null):a&e.child.childLanes?oj(o,e,a):(G(L$1,L$1.current&1),o=Zi(o,e,a),o!==null?o.sibling:null);G(L$1,L$1.current&1);break;case 19:if(c=(a&e.childLanes)!==0,o.flags&128){if(c)return xj(o,e,a);e.flags|=128}if(d=e.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),G(L$1,L$1.current),c)break;return null;case 22:case 23:return e.lanes=0,dj(o,e,a)}return Zi(o,e,a)}var zj,Aj,Bj,Cj;zj=function(o,e){for(var a=e.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Aj=function(){};Bj=function(o,e,a,c){var d=o.memoizedProps;if(d!==c){o=e.stateNode,xh(uh.current);var g=null;switch(a){case"input":d=Ya(o,d),c=Ya(o,c),g=[];break;case"select":d=A({},d,{value:void 0}),c=A({},c,{value:void 0}),g=[];break;case"textarea":d=gb(o,d),c=gb(o,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(o.onclick=Bf)}ub(a,c);var b;a=null;for(tt in d)if(!c.hasOwnProperty(tt)&&d.hasOwnProperty(tt)&&d[tt]!=null)if(tt==="style"){var _=d[tt];for(b in _)_.hasOwnProperty(b)&&(a||(a={}),a[b]="")}else tt!=="dangerouslySetInnerHTML"&&tt!=="children"&&tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(ea.hasOwnProperty(tt)?g||(g=[]):(g=g||[]).push(tt,null));for(tt in c){var _e=c[tt];if(_=d!=null?d[tt]:void 0,c.hasOwnProperty(tt)&&_e!==_&&(_e!=null||_!=null))if(tt==="style")if(_){for(b in _)!_.hasOwnProperty(b)||_e&&_e.hasOwnProperty(b)||(a||(a={}),a[b]="");for(b in _e)_e.hasOwnProperty(b)&&_[b]!==_e[b]&&(a||(a={}),a[b]=_e[b])}else a||(g||(g=[]),g.push(tt,a)),a=_e;else tt==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_=_?_.__html:void 0,_e!=null&&_!==_e&&(g=g||[]).push(tt,_e)):tt==="children"?typeof _e!="string"&&typeof _e!="number"||(g=g||[]).push(tt,""+_e):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(tt)?(_e!=null&&tt==="onScroll"&&D$1("scroll",o),g||_===_e||(g=[])):(g=g||[]).push(tt,_e))}a&&(g=g||[]).push("style",a);var tt=g;(e.updateQueue=tt)&&(e.flags|=4)}};Cj=function(o,e,a,c){a!==c&&(e.flags|=4)};function Dj(o,e){if(!I)switch(o.tailMode){case"hidden":e=o.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?o.tail=null:a.sibling=null;break;case"collapsed":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?e||o.tail===null?o.tail=null:o.tail.sibling=null:c.sibling=null}}function S$1(o){var e=o.alternate!==null&&o.alternate.child===o.child,a=0,c=0;if(e)for(var d=o.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=o,d=d.sibling;else for(d=o.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=o,d=d.sibling;return o.subtreeFlags|=c,o.childLanes=a,e}function Ej(o,e,a){var c=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(e),null;case 1:return Zf(e.type)&&$f(),S$1(e),null;case 3:return c=e.stateNode,zh(),E$1(Wf),E$1(H),Eh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(o===null||o.child===null)&&(Gg(e)?e.flags|=4:o===null||o.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(o,e),S$1(e),null;case 5:Bh(e);var d=xh(wh.current);if(a=e.type,o!==null&&e.stateNode!=null)Bj(o,e,a,c,d),o.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!c){if(e.stateNode===null)throw Error(p(166));return S$1(e),null}if(o=xh(uh.current),Gg(e)){c=e.stateNode,a=e.type;var g=e.memoizedProps;switch(c[Of]=e,c[Pf]=g,o=(e.mode&1)!==0,a){case"dialog":D$1("cancel",c),D$1("close",c);break;case"iframe":case"object":case"embed":D$1("load",c);break;case"video":case"audio":for(d=0;d<lf.length;d++)D$1(lf[d],c);break;case"source":D$1("error",c);break;case"img":case"image":case"link":D$1("error",c),D$1("load",c);break;case"details":D$1("toggle",c);break;case"input":Za(c,g),D$1("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},D$1("invalid",c);break;case"textarea":hb(c,g),D$1("invalid",c)}ub(a,g),d=null;for(var b in g)if(g.hasOwnProperty(b)){var _=g[b];b==="children"?typeof _=="string"?c.textContent!==_&&(g.suppressHydrationWarning!==!0&&Af(c.textContent,_,o),d=["children",_]):typeof _=="number"&&c.textContent!==""+_&&(g.suppressHydrationWarning!==!0&&Af(c.textContent,_,o),d=["children",""+_]):ea.hasOwnProperty(b)&&_!=null&&b==="onScroll"&&D$1("scroll",c)}switch(a){case"input":Va(c),db(c,g,!0);break;case"textarea":Va(c),jb(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Bf)}c=d,e.updateQueue=c,c!==null&&(e.flags|=4)}else{b=d.nodeType===9?d:d.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(a)),o==="http://www.w3.org/1999/xhtml"?a==="script"?(o=b.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof c.is=="string"?o=b.createElement(a,{is:c.is}):(o=b.createElement(a),a==="select"&&(b=o,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):o=b.createElementNS(o,a),o[Of]=e,o[Pf]=c,zj(o,e,!1,!1),e.stateNode=o;e:{switch(b=vb(a,c),a){case"dialog":D$1("cancel",o),D$1("close",o),d=c;break;case"iframe":case"object":case"embed":D$1("load",o),d=c;break;case"video":case"audio":for(d=0;d<lf.length;d++)D$1(lf[d],o);d=c;break;case"source":D$1("error",o),d=c;break;case"img":case"image":case"link":D$1("error",o),D$1("load",o),d=c;break;case"details":D$1("toggle",o),d=c;break;case"input":Za(o,c),d=Ya(o,c),D$1("invalid",o);break;case"option":d=c;break;case"select":o._wrapperState={wasMultiple:!!c.multiple},d=A({},c,{value:void 0}),D$1("invalid",o);break;case"textarea":hb(o,c),d=gb(o,c),D$1("invalid",o);break;default:d=c}ub(a,d),_=d;for(g in _)if(_.hasOwnProperty(g)){var _e=_[g];g==="style"?sb(o,_e):g==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&nb(o,_e)):g==="children"?typeof _e=="string"?(a!=="textarea"||_e!=="")&&ob(o,_e):typeof _e=="number"&&ob(o,""+_e):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ea.hasOwnProperty(g)?_e!=null&&g==="onScroll"&&D$1("scroll",o):_e!=null&&ta(o,g,_e,b))}switch(a){case"input":Va(o),db(o,c,!1);break;case"textarea":Va(o),jb(o);break;case"option":c.value!=null&&o.setAttribute("value",""+Sa(c.value));break;case"select":o.multiple=!!c.multiple,g=c.value,g!=null?fb(o,!!c.multiple,g,!1):c.defaultValue!=null&&fb(o,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(o.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S$1(e),null;case 6:if(o&&e.stateNode!=null)Cj(o,e,o.memoizedProps,c);else{if(typeof c!="string"&&e.stateNode===null)throw Error(p(166));if(a=xh(wh.current),xh(uh.current),Gg(e)){if(c=e.stateNode,a=e.memoizedProps,c[Of]=e,(g=c.nodeValue!==a)&&(o=xg,o!==null))switch(o.tag){case 3:Af(c.nodeValue,a,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af(c.nodeValue,a,(o.mode&1)!==0)}g&&(e.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Of]=e,e.stateNode=c}return S$1(e),null;case 13:if(E$1(L$1),c=e.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,g=!1;else if(g=Gg(e),c!==null&&c.dehydrated!==null){if(o===null){if(!g)throw Error(p(318));if(g=e.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(p(317));g[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S$1(e),g=!1}else zg!==null&&(Fj(zg),zg=null),g=!0;if(!g)return e.flags&65536?e:null}return e.flags&128?(e.lanes=a,e):(c=c!==null,c!==(o!==null&&o.memoizedState!==null)&&c&&(e.child.flags|=8192,e.mode&1&&(o===null||L$1.current&1?T===0&&(T=3):tj())),e.updateQueue!==null&&(e.flags|=4),S$1(e),null);case 4:return zh(),Aj(o,e),o===null&&sf(e.stateNode.containerInfo),S$1(e),null;case 10:return ah(e.type._context),S$1(e),null;case 17:return Zf(e.type)&&$f(),S$1(e),null;case 19:if(E$1(L$1),g=e.memoizedState,g===null)return S$1(e),null;if(c=(e.flags&128)!==0,b=g.rendering,b===null)if(c)Dj(g,!1);else{if(T!==0||o!==null&&o.flags&128)for(o=e.child;o!==null;){if(b=Ch(o),b!==null){for(e.flags|=128,Dj(g,!1),c=b.updateQueue,c!==null&&(e.updateQueue=c,e.flags|=4),e.subtreeFlags=0,c=a,a=e.child;a!==null;)g=a,o=c,g.flags&=14680066,b=g.alternate,b===null?(g.childLanes=0,g.lanes=o,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,o=b.dependencies,g.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a=a.sibling;return G(L$1,L$1.current&1|2),e.child}o=o.sibling}g.tail!==null&&B()>Gj&&(e.flags|=128,c=!0,Dj(g,!1),e.lanes=4194304)}else{if(!c)if(o=Ch(b),o!==null){if(e.flags|=128,c=!0,a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),Dj(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!I)return S$1(e),null}else 2*B()-g.renderingStartTime>Gj&&a!==1073741824&&(e.flags|=128,c=!0,Dj(g,!1),e.lanes=4194304);g.isBackwards?(b.sibling=e.child,e.child=b):(a=g.last,a!==null?a.sibling=b:e.child=b,g.last=b)}return g.tail!==null?(e=g.tail,g.rendering=e,g.tail=e.sibling,g.renderingStartTime=B(),e.sibling=null,a=L$1.current,G(L$1,c?a&1|2:a&1),e):(S$1(e),null);case 22:case 23:return Hj(),c=e.memoizedState!==null,o!==null&&o.memoizedState!==null!==c&&(e.flags|=8192),c&&e.mode&1?fj&1073741824&&(S$1(e),e.subtreeFlags&6&&(e.flags|=8192)):S$1(e),null;case 24:return null;case 25:return null}throw Error(p(156,e.tag))}function Ij(o,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),o=e.flags,o&65536?(e.flags=o&-65537|128,e):null;case 3:return zh(),E$1(Wf),E$1(H),Eh(),o=e.flags,o&65536&&!(o&128)?(e.flags=o&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(E$1(L$1),o=e.memoizedState,o!==null&&o.dehydrated!==null){if(e.alternate===null)throw Error(p(340));Ig()}return o=e.flags,o&65536?(e.flags=o&-65537|128,e):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah(e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(o,e){var a=o.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){W(o,e,c)}else a.current=null}function Mj(o,e,a){try{a()}catch(c){W(o,e,c)}}var Nj=!1;function Oj(o,e){if(Cf=dd,o=Me(),Ne(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{a=(a=o.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var b=0,_=-1,_e=-1,tt=0,nt=0,it=o,st=null;t:for(;;){for(var ot;it!==a||d!==0&&it.nodeType!==3||(_=b+d),it!==g||c!==0&&it.nodeType!==3||(_e=b+c),it.nodeType===3&&(b+=it.nodeValue.length),(ot=it.firstChild)!==null;)st=it,it=ot;for(;;){if(it===o)break t;if(st===a&&++tt===d&&(_=b),st===g&&++nt===c&&(_e=b),(ot=it.nextSibling)!==null)break;it=st,st=it.parentNode}it=ot}a=_===-1||_e===-1?null:{start:_,end:_e}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:o,selectionRange:a},dd=!1,V=e;V!==null;)if(e=V,o=e.child,(e.subtreeFlags&1028)!==0&&o!==null)o.return=e,V=o;else for(;V!==null;){e=V;try{var ht=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(ht!==null){var dt=ht.memoizedProps,Et=ht.memoizedState,pt=e.stateNode,gt=pt.getSnapshotBeforeUpdate(e.elementType===e.type?dt:Ci(e.type,dt),Et);pt.__reactInternalSnapshotBeforeUpdate=gt}break;case 3:var St=e.stateNode.containerInfo;St.nodeType===1?St.textContent="":St.nodeType===9&&St.documentElement&&St.removeChild(St.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(Tt){W(e,e.return,Tt)}if(o=e.sibling,o!==null){o.return=e.return,V=o;break}V=e.return}return ht=Nj,Nj=!1,ht}function Pj(o,e,a){var c=e.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&o)===o){var g=d.destroy;d.destroy=void 0,g!==void 0&&Mj(e,a,g)}d=d.next}while(d!==c)}}function Qj(o,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var a=e=e.next;do{if((a.tag&o)===o){var c=a.create;a.destroy=c()}a=a.next}while(a!==e)}}function Rj(o){var e=o.ref;if(e!==null){var a=o.stateNode;switch(o.tag){case 5:o=a;break;default:o=a}typeof e=="function"?e(o):e.current=o}}function Sj(o){var e=o.alternate;e!==null&&(o.alternate=null,Sj(e)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(e=o.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Tj(o){return o.tag===5||o.tag===3||o.tag===4}function Uj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Tj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Vj(o,e,a){var c=o.tag;if(c===5||c===6)o=o.stateNode,e?a.nodeType===8?a.parentNode.insertBefore(o,e):a.insertBefore(o,e):(a.nodeType===8?(e=a.parentNode,e.insertBefore(o,a)):(e=a,e.appendChild(o)),a=a._reactRootContainer,a!=null||e.onclick!==null||(e.onclick=Bf));else if(c!==4&&(o=o.child,o!==null))for(Vj(o,e,a),o=o.sibling;o!==null;)Vj(o,e,a),o=o.sibling}function Wj(o,e,a){var c=o.tag;if(c===5||c===6)o=o.stateNode,e?a.insertBefore(o,e):a.appendChild(o);else if(c!==4&&(o=o.child,o!==null))for(Wj(o,e,a),o=o.sibling;o!==null;)Wj(o,e,a),o=o.sibling}var X$1=null,Xj=!1;function Yj(o,e,a){for(a=a.child;a!==null;)Zj(o,e,a),a=a.sibling}function Zj(o,e,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U$1||Lj(a,e);case 6:var c=X$1,d=Xj;X$1=null,Yj(o,e,a),X$1=c,Xj=d,X$1!==null&&(Xj?(o=X$1,a=a.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):X$1.removeChild(a.stateNode));break;case 18:X$1!==null&&(Xj?(o=X$1,a=a.stateNode,o.nodeType===8?Kf(o.parentNode,a):o.nodeType===1&&Kf(o,a),bd(o)):Kf(X$1,a.stateNode));break;case 4:c=X$1,d=Xj,X$1=a.stateNode.containerInfo,Xj=!0,Yj(o,e,a),X$1=c,Xj=d;break;case 0:case 11:case 14:case 15:if(!U$1&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,b=g.destroy;g=g.tag,b!==void 0&&(g&2||g&4)&&Mj(a,e,b),d=d.next}while(d!==c)}Yj(o,e,a);break;case 1:if(!U$1&&(Lj(a,e),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(_){W(a,e,_)}Yj(o,e,a);break;case 21:Yj(o,e,a);break;case 22:a.mode&1?(U$1=(c=U$1)||a.memoizedState!==null,Yj(o,e,a),U$1=c):Yj(o,e,a);break;default:Yj(o,e,a)}}function ak(o){var e=o.updateQueue;if(e!==null){o.updateQueue=null;var a=o.stateNode;a===null&&(a=o.stateNode=new Kj),e.forEach(function(c){var d=bk.bind(null,o,c);a.has(c)||(a.add(c),c.then(d,d))})}}function ck(o,e){var a=e.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=o,b=e,_=b;e:for(;_!==null;){switch(_.tag){case 5:X$1=_.stateNode,Xj=!1;break e;case 3:X$1=_.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=_.stateNode.containerInfo,Xj=!0;break e}_=_.return}if(X$1===null)throw Error(p(160));Zj(g,b,d),X$1=null,Xj=!1;var _e=d.alternate;_e!==null&&(_e.return=null),d.return=null}catch(tt){W(d,e,tt)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,o),e=e.sibling}function dk(o,e){var a=o.alternate,c=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ck(e,o),ek(o),c&4){try{Pj(3,o,o.return),Qj(3,o)}catch(dt){W(o,o.return,dt)}try{Pj(5,o,o.return)}catch(dt){W(o,o.return,dt)}}break;case 1:ck(e,o),ek(o),c&512&&a!==null&&Lj(a,a.return);break;case 5:if(ck(e,o),ek(o),c&512&&a!==null&&Lj(a,a.return),o.flags&32){var d=o.stateNode;try{ob(d,"")}catch(dt){W(o,o.return,dt)}}if(c&4&&(d=o.stateNode,d!=null)){var g=o.memoizedProps,b=a!==null?a.memoizedProps:g,_=o.type,_e=o.updateQueue;if(o.updateQueue=null,_e!==null)try{_==="input"&&g.type==="radio"&&g.name!=null&&ab(d,g),vb(_,b);var tt=vb(_,g);for(b=0;b<_e.length;b+=2){var nt=_e[b],it=_e[b+1];nt==="style"?sb(d,it):nt==="dangerouslySetInnerHTML"?nb(d,it):nt==="children"?ob(d,it):ta(d,nt,it,tt)}switch(_){case"input":bb(d,g);break;case"textarea":ib(d,g);break;case"select":var st=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var ot=g.value;ot!=null?fb(d,!!g.multiple,ot,!1):st!==!!g.multiple&&(g.defaultValue!=null?fb(d,!!g.multiple,g.defaultValue,!0):fb(d,!!g.multiple,g.multiple?[]:"",!1))}d[Pf]=g}catch(dt){W(o,o.return,dt)}}break;case 6:if(ck(e,o),ek(o),c&4){if(o.stateNode===null)throw Error(p(162));d=o.stateNode,g=o.memoizedProps;try{d.nodeValue=g}catch(dt){W(o,o.return,dt)}}break;case 3:if(ck(e,o),ek(o),c&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(dt){W(o,o.return,dt)}break;case 4:ck(e,o),ek(o);break;case 13:ck(e,o),ek(o),d=o.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(fk=B())),c&4&&ak(o);break;case 22:if(nt=a!==null&&a.memoizedState!==null,o.mode&1?(U$1=(tt=U$1)||nt,ck(e,o),U$1=tt):ck(e,o),ek(o),c&8192){if(tt=o.memoizedState!==null,(o.stateNode.isHidden=tt)&&!nt&&o.mode&1)for(V=o,nt=o.child;nt!==null;){for(it=V=nt;V!==null;){switch(st=V,ot=st.child,st.tag){case 0:case 11:case 14:case 15:Pj(4,st,st.return);break;case 1:Lj(st,st.return);var ht=st.stateNode;if(typeof ht.componentWillUnmount=="function"){c=st,a=st.return;try{e=c,ht.props=e.memoizedProps,ht.state=e.memoizedState,ht.componentWillUnmount()}catch(dt){W(c,a,dt)}}break;case 5:Lj(st,st.return);break;case 22:if(st.memoizedState!==null){gk(it);continue}}ot!==null?(ot.return=st,V=ot):gk(it)}nt=nt.sibling}e:for(nt=null,it=o;;){if(it.tag===5){if(nt===null){nt=it;try{d=it.stateNode,tt?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(_=it.stateNode,_e=it.memoizedProps.style,b=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,_.style.display=rb("display",b))}catch(dt){W(o,o.return,dt)}}}else if(it.tag===6){if(nt===null)try{it.stateNode.nodeValue=tt?"":it.memoizedProps}catch(dt){W(o,o.return,dt)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===o)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===o)break e;for(;it.sibling===null;){if(it.return===null||it.return===o)break e;nt===it&&(nt=null),it=it.return}nt===it&&(nt=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:ck(e,o),ek(o),c&4&&ak(o);break;case 21:break;default:ck(e,o),ek(o)}}function ek(o){var e=o.flags;if(e&2){try{e:{for(var a=o.return;a!==null;){if(Tj(a)){var c=a;break e}a=a.return}throw Error(p(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(ob(d,""),c.flags&=-33);var g=Uj(o);Wj(o,g,d);break;case 3:case 4:var b=c.stateNode.containerInfo,_=Uj(o);Vj(o,_,b);break;default:throw Error(p(161))}}catch(_e){W(o,o.return,_e)}o.flags&=-3}e&4096&&(o.flags&=-4097)}function hk(o,e,a){V=o,ik(o)}function ik(o,e,a){for(var c=(o.mode&1)!==0;V!==null;){var d=V,g=d.child;if(d.tag===22&&c){var b=d.memoizedState!==null||Jj;if(!b){var _=d.alternate,_e=_!==null&&_.memoizedState!==null||U$1;_=Jj;var tt=U$1;if(Jj=b,(U$1=_e)&&!tt)for(V=d;V!==null;)b=V,_e=b.child,b.tag===22&&b.memoizedState!==null?jk(d):_e!==null?(_e.return=b,V=_e):jk(d);for(;g!==null;)V=g,ik(g),g=g.sibling;V=d,Jj=_,U$1=tt}kk(o)}else d.subtreeFlags&8772&&g!==null?(g.return=d,V=g):kk(o)}}function kk(o){for(;V!==null;){var e=V;if(e.flags&8772){var a=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U$1||Qj(5,e);break;case 1:var c=e.stateNode;if(e.flags&4&&!U$1)if(a===null)c.componentDidMount();else{var d=e.elementType===e.type?a.memoizedProps:Ci(e.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=e.updateQueue;g!==null&&sh(e,g,c);break;case 3:var b=e.updateQueue;if(b!==null){if(a=null,e.child!==null)switch(e.child.tag){case 5:a=e.child.stateNode;break;case 1:a=e.child.stateNode}sh(e,b,a)}break;case 5:var _=e.stateNode;if(a===null&&e.flags&4){a=_;var _e=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&a.focus();break;case"img":_e.src&&(a.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var tt=e.alternate;if(tt!==null){var nt=tt.memoizedState;if(nt!==null){var it=nt.dehydrated;it!==null&&bd(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U$1||e.flags&512&&Rj(e)}catch(st){W(e,e.return,st)}}if(e===o){V=null;break}if(a=e.sibling,a!==null){a.return=e.return,V=a;break}V=e.return}}function gk(o){for(;V!==null;){var e=V;if(e===o){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}function jk(o){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var a=e.return;try{Qj(4,e)}catch(_e){W(e,a,_e)}break;case 1:var c=e.stateNode;if(typeof c.componentDidMount=="function"){var d=e.return;try{c.componentDidMount()}catch(_e){W(e,d,_e)}}var g=e.return;try{Rj(e)}catch(_e){W(e,g,_e)}break;case 5:var b=e.return;try{Rj(e)}catch(_e){W(e,b,_e)}}}catch(_e){W(e,e.return,_e)}if(e===o){V=null;break}var _=e.sibling;if(_!==null){_.return=e.return,V=_;break}V=e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$2=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(o){return o.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(o=C$1,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o):1}function gi(o,e,a,c){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(o,a,c),(!(K&2)||o!==Q)&&(o===Q&&(!(K&2)&&(qk|=a),T===4&&Ck(o,Z)),Dk(o,c),a===1&&K===0&&!(e.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(o,e){var a=o.callbackNode;wc(o,e);var c=uc(o,o===Q?Z:0);if(c===0)a!==null&&bc(a),o.callbackNode=null,o.callbackPriority=0;else if(e=c&-c,o.callbackPriority!==e){if(a!=null&&bc(a),e===1)o.tag===0?ig(Ek.bind(null,o)):hg(Ek.bind(null,o)),Jf(function(){!(K&6)&&jg()}),a=null;else{switch(Dc(c)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Fk(a,Gk.bind(null,o))}o.callbackPriority=e,o.callbackNode=a}}function Gk(o,e){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var a=o.callbackNode;if(Hk()&&o.callbackNode!==a)return null;var c=uc(o,o===Q?Z:0);if(c===0)return null;if(c&30||c&o.expiredLanes||e)e=Ik(o,c);else{e=c;var d=K;K|=2;var g=Jk();(Q!==o||Z!==e)&&(uk=null,Gj=B()+500,Kk(o,e));do try{Lk();break}catch(_){Mk(o,_)}while(!0);$g(),mk.current=g,K=d,Y!==null?e=0:(Q=null,Z=0,e=T)}if(e!==0){if(e===2&&(d=xc(o),d!==0&&(c=d,e=Nk(o,d))),e===1)throw a=pk,Kk(o,0),Ck(o,c),Dk(o,B()),a;if(e===6)Ck(o,c);else{if(d=o.current.alternate,!(c&30)&&!Ok(d)&&(e=Ik(o,c),e===2&&(g=xc(o),g!==0&&(c=g,e=Nk(o,g))),e===1))throw a=pk,Kk(o,0),Ck(o,c),Dk(o,B()),a;switch(o.finishedWork=d,o.finishedLanes=c,e){case 0:case 1:throw Error(p(345));case 2:Pk(o,tk,uk);break;case 3:if(Ck(o,c),(c&130023424)===c&&(e=fk+500-B(),10<e)){if(uc(o,0)!==0)break;if(d=o.suspendedLanes,(d&c)!==c){R(),o.pingedLanes|=o.suspendedLanes&d;break}o.timeoutHandle=Ff(Pk.bind(null,o,tk,uk),e);break}Pk(o,tk,uk);break;case 4:if(Ck(o,c),(c&4194240)===c)break;for(e=o.eventTimes,d=-1;0<c;){var b=31-oc(c);g=1<<b,b=e[b],b>d&&(d=b),c&=~g}if(c=d,c=B()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*lk(c/1960))-c,10<c){o.timeoutHandle=Ff(Pk.bind(null,o,tk,uk),c);break}Pk(o,tk,uk);break;case 5:Pk(o,tk,uk);break;default:throw Error(p(329))}}}return Dk(o,B()),o.callbackNode===a?Gk.bind(null,o):null}function Nk(o,e){var a=sk;return o.current.memoizedState.isDehydrated&&(Kk(o,e).flags|=256),o=Ik(o,e),o!==2&&(e=tk,tk=a,e!==null&&Fj(e)),o}function Fj(o){tk===null?tk=o:tk.push.apply(tk,o)}function Ok(o){for(var e=o;;){if(e.flags&16384){var a=e.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!He(g(),d))return!1}catch{return!1}}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===o)break;for(;e.sibling===null;){if(e.return===null||e.return===o)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ck(o,e){for(e&=~rk,e&=~qk,o.suspendedLanes|=e,o.pingedLanes&=~e,o=o.expirationTimes;0<e;){var a=31-oc(e),c=1<<a;o[a]=-1,e&=~c}}function Ek(o){if(K&6)throw Error(p(327));Hk();var e=uc(o,0);if(!(e&1))return Dk(o,B()),null;var a=Ik(o,e);if(o.tag!==0&&a===2){var c=xc(o);c!==0&&(e=c,a=Nk(o,c))}if(a===1)throw a=pk,Kk(o,0),Ck(o,e),Dk(o,B()),a;if(a===6)throw Error(p(345));return o.finishedWork=o.current.alternate,o.finishedLanes=e,Pk(o,tk,uk),Dk(o,B()),null}function Qk(o,e){var a=K;K|=1;try{return o(e)}finally{K=a,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(o){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var e=K;K|=1;var a=ok$2.transition,c=C$1;try{if(ok$2.transition=null,C$1=1,o)return o()}finally{C$1=c,ok$2.transition=a,K=e,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(o,e){o.finishedWork=null,o.finishedLanes=0;var a=o.timeoutHandle;if(a!==-1&&(o.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var c=a;switch(wg(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H),Eh();break;case 5:Bh(c);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(c.type._context);break;case 22:case 23:Hj()}a=a.return}if(Q=o,Y=o=Pg(o.current,null),Z=fj=e,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(e=0;e<fh.length;e++)if(a=fh[e],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var b=g.next;g.next=d,c.next=b}a.pending=c}fh=null}return o}function Mk(o,e){do{var a=Y;try{if($g(),Fh.current=Rh,Ih){for(var c=M.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,a===null||a.return===null){T=1,pk=e,Y=null;break}e:{var g=o,b=a.return,_=a,_e=e;if(e=Z,_.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var tt=_e,nt=_,it=nt.tag;if(!(nt.mode&1)&&(it===0||it===11||it===15)){var st=nt.alternate;st?(nt.updateQueue=st.updateQueue,nt.memoizedState=st.memoizedState,nt.lanes=st.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var ot=Ui(b);if(ot!==null){ot.flags&=-257,Vi(ot,b,_,g,e),ot.mode&1&&Si(g,tt,e),e=ot,_e=tt;var ht=e.updateQueue;if(ht===null){var dt=new Set;dt.add(_e),e.updateQueue=dt}else ht.add(_e);break e}else{if(!(e&1)){Si(g,tt,e),tj();break e}_e=Error(p(426))}}else if(I&&_.mode&1){var Et=Ui(b);if(Et!==null){!(Et.flags&65536)&&(Et.flags|=256),Vi(Et,b,_,g,e),Jg(Ji(_e,_));break e}}g=_e=Ji(_e,_),T!==4&&(T=2),sk===null?sk=[g]:sk.push(g),g=b;do{switch(g.tag){case 3:g.flags|=65536,e&=-e,g.lanes|=e;var pt=Ni(g,_e,e);ph(g,pt);break e;case 1:_=_e;var gt=g.type,St=g.stateNode;if(!(g.flags&128)&&(typeof gt.getDerivedStateFromError=="function"||St!==null&&typeof St.componentDidCatch=="function"&&(Ri===null||!Ri.has(St)))){g.flags|=65536,e&=-e,g.lanes|=e;var Tt=Qi(g,_,e);ph(g,Tt);break e}}g=g.return}while(g!==null)}Sk(a)}catch(bt){e=bt,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(!0)}function Jk(){var o=mk.current;return mk.current=Rh,o===null?Rh:o}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(o,e){var a=K;K|=2;var c=Jk();(Q!==o||Z!==e)&&(uk=null,Kk(o,e));do try{Tk();break}catch(d){Mk(o,d)}while(!0);if($g(),K=a,mk.current=c,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(o){var e=Vk(o.alternate,o,fj);o.memoizedProps=o.pendingProps,e===null?Sk(o):Y=e,nk.current=null}function Sk(o){var e=o;do{var a=e.alternate;if(o=e.return,e.flags&32768){if(a=Ij(a,e),a!==null){a.flags&=32767,Y=a;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T=6,Y=null;return}}else if(a=Ej(a,e,fj),a!==null){Y=a;return}if(e=e.sibling,e!==null){Y=e;return}Y=e=o}while(e!==null);T===0&&(T=5)}function Pk(o,e,a){var c=C$1,d=ok$2.transition;try{ok$2.transition=null,C$1=1,Wk(o,e,a,c)}finally{ok$2.transition=d,C$1=c}return null}function Wk(o,e,a,c){do Hk();while(wk!==null);if(K&6)throw Error(p(327));a=o.finishedWork;var d=o.finishedLanes;if(a===null)return null;if(o.finishedWork=null,o.finishedLanes=0,a===o.current)throw Error(p(177));o.callbackNode=null,o.callbackPriority=0;var g=a.lanes|a.childLanes;if(Bc(o,g),o===Q&&(Y=Q=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=ok$2.transition,ok$2.transition=null;var b=C$1;C$1=1;var _=K;K|=4,nk.current=null,Oj(o,a),dk(a,o),Oe(Df),dd=!!Cf,Df=Cf=null,o.current=a,hk(a),dc(),K=_,C$1=b,ok$2.transition=g}else o.current=a;if(vk&&(vk=!1,wk=o,xk=d),g=o.pendingLanes,g===0&&(Ri=null),mc(a.stateNode),Dk(o,B()),e!==null)for(c=o.onRecoverableError,a=0;a<e.length;a++)d=e[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Oi)throw Oi=!1,o=Pi,Pi=null,o;return xk&1&&o.tag!==0&&Hk(),g=o.pendingLanes,g&1?o===zk?yk++:(yk=0,zk=o):yk=0,jg(),null}function Hk(){if(wk!==null){var o=Dc(xk),e=ok$2.transition,a=C$1;try{if(ok$2.transition=null,C$1=16>o?16:o,wk===null)var c=!1;else{if(o=wk,wk=null,xk=0,K&6)throw Error(p(331));var d=K;for(K|=4,V=o.current;V!==null;){var g=V,b=g.child;if(V.flags&16){var _=g.deletions;if(_!==null){for(var _e=0;_e<_.length;_e++){var tt=_[_e];for(V=tt;V!==null;){var nt=V;switch(nt.tag){case 0:case 11:case 15:Pj(8,nt,g)}var it=nt.child;if(it!==null)it.return=nt,V=it;else for(;V!==null;){nt=V;var st=nt.sibling,ot=nt.return;if(Sj(nt),nt===tt){V=null;break}if(st!==null){st.return=ot,V=st;break}V=ot}}}var ht=g.alternate;if(ht!==null){var dt=ht.child;if(dt!==null){ht.child=null;do{var Et=dt.sibling;dt.sibling=null,dt=Et}while(dt!==null)}}V=g}}if(g.subtreeFlags&2064&&b!==null)b.return=g,V=b;else e:for(;V!==null;){if(g=V,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Pj(9,g,g.return)}var pt=g.sibling;if(pt!==null){pt.return=g.return,V=pt;break e}V=g.return}}var gt=o.current;for(V=gt;V!==null;){b=V;var St=b.child;if(b.subtreeFlags&2064&&St!==null)St.return=b,V=St;else e:for(b=gt;V!==null;){if(_=V,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Qj(9,_)}}catch(bt){W(_,_.return,bt)}if(_===b){V=null;break e}var Tt=_.sibling;if(Tt!==null){Tt.return=_.return,V=Tt;break e}V=_.return}}if(K=d,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}c=!0}return c}finally{C$1=a,ok$2.transition=e}}return!1}function Xk(o,e,a){e=Ji(a,e),e=Ni(o,e,1),o=nh(o,e,1),e=R(),o!==null&&(Ac(o,1,e),Dk(o,e))}function W(o,e,a){if(o.tag===3)Xk(o,o,a);else for(;e!==null;){if(e.tag===3){Xk(e,o,a);break}else if(e.tag===1){var c=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ri===null||!Ri.has(c))){o=Ji(a,o),o=Qi(e,o,1),e=nh(e,o,1),o=R(),e!==null&&(Ac(e,1,o),Dk(e,o));break}}e=e.return}}function Ti(o,e,a){var c=o.pingCache;c!==null&&c.delete(e),e=R(),o.pingedLanes|=o.suspendedLanes&a,Q===o&&(Z&a)===a&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(o,0):rk|=a),Dk(o,e)}function Yk(o,e){e===0&&(o.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var a=R();o=ih(o,e),o!==null&&(Ac(o,e,a),Dk(o,a))}function uj(o){var e=o.memoizedState,a=0;e!==null&&(a=e.retryLane),Yk(o,a)}function bk(o,e){var a=0;switch(o.tag){case 13:var c=o.stateNode,d=o.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=o.stateNode;break;default:throw Error(p(314))}c!==null&&c.delete(e),Yk(o,a)}var Vk;Vk=function(o,e,a){if(o!==null)if(o.memoizedProps!==e.pendingProps||Wf.current)dh=!0;else{if(!(o.lanes&a)&&!(e.flags&128))return dh=!1,yj(o,e,a);dh=!!(o.flags&131072)}else dh=!1,I&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var c=e.type;ij(o,e),o=e.pendingProps;var d=Yf(e,H.current);ch(e,a),d=Nh(null,e,c,o,d,a);var g=Sh();return e.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(c)?(g=!0,cg(e)):g=!1,e.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,kh(e),d.updater=Ei,e.stateNode=d,d._reactInternals=e,Ii(e,c,o,a),e=jj(null,e,c,!0,g,a)):(e.tag=0,I&&g&&vg(e),Xi(null,e,d,a),e=e.child),e;case 16:c=e.elementType;e:{switch(ij(o,e),o=e.pendingProps,d=c._init,c=d(c._payload),e.type=c,d=e.tag=Zk(c),o=Ci(c,o),d){case 0:e=cj(null,e,c,o,a);break e;case 1:e=hj(null,e,c,o,a);break e;case 11:e=Yi(null,e,c,o,a);break e;case 14:e=$i(null,e,c,Ci(c.type,o),a);break e}throw Error(p(306,c,""))}return e;case 0:return c=e.type,d=e.pendingProps,d=e.elementType===c?d:Ci(c,d),cj(o,e,c,d,a);case 1:return c=e.type,d=e.pendingProps,d=e.elementType===c?d:Ci(c,d),hj(o,e,c,d,a);case 3:e:{if(kj(e),o===null)throw Error(p(387));c=e.pendingProps,g=e.memoizedState,d=g.element,lh(o,e),qh(e,c,null,a);var b=e.memoizedState;if(c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},e.updateQueue.baseState=g,e.memoizedState=g,e.flags&256){d=Ji(Error(p(423)),e),e=lj(o,e,c,a,d);break e}else if(c!==d){d=Ji(Error(p(424)),e),e=lj(o,e,c,a,d);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,a=Vg(e,null,c,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),c===d){e=Zi(o,e,a);break e}Xi(o,e,c,a)}e=e.child}return e;case 5:return Ah(e),o===null&&Eg(e),c=e.type,d=e.pendingProps,g=o!==null?o.memoizedProps:null,b=d.children,Ef(c,d)?b=null:g!==null&&Ef(c,g)&&(e.flags|=32),gj(o,e),Xi(o,e,b,a),e.child;case 6:return o===null&&Eg(e),null;case 13:return oj(o,e,a);case 4:return yh(e,e.stateNode.containerInfo),c=e.pendingProps,o===null?e.child=Ug(e,null,c,a):Xi(o,e,c,a),e.child;case 11:return c=e.type,d=e.pendingProps,d=e.elementType===c?d:Ci(c,d),Yi(o,e,c,d,a);case 7:return Xi(o,e,e.pendingProps,a),e.child;case 8:return Xi(o,e,e.pendingProps.children,a),e.child;case 12:return Xi(o,e,e.pendingProps.children,a),e.child;case 10:e:{if(c=e.type._context,d=e.pendingProps,g=e.memoizedProps,b=d.value,G(Wg,c._currentValue),c._currentValue=b,g!==null)if(He(g.value,b)){if(g.children===d.children&&!Wf.current){e=Zi(o,e,a);break e}}else for(g=e.child,g!==null&&(g.return=e);g!==null;){var _=g.dependencies;if(_!==null){b=g.child;for(var _e=_.firstContext;_e!==null;){if(_e.context===c){if(g.tag===1){_e=mh(-1,a&-a),_e.tag=2;var tt=g.updateQueue;if(tt!==null){tt=tt.shared;var nt=tt.pending;nt===null?_e.next=_e:(_e.next=nt.next,nt.next=_e),tt.pending=_e}}g.lanes|=a,_e=g.alternate,_e!==null&&(_e.lanes|=a),bh(g.return,a,e),_.lanes|=a;break}_e=_e.next}}else if(g.tag===10)b=g.type===e.type?null:g.child;else if(g.tag===18){if(b=g.return,b===null)throw Error(p(341));b.lanes|=a,_=b.alternate,_!==null&&(_.lanes|=a),bh(b,a,e),b=g.sibling}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===e){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}Xi(o,e,d.children,a),e=e.child}return e;case 9:return d=e.type,c=e.pendingProps.children,ch(e,a),d=eh(d),c=c(d),e.flags|=1,Xi(o,e,c,a),e.child;case 14:return c=e.type,d=Ci(c,e.pendingProps),d=Ci(c.type,d),$i(o,e,c,d,a);case 15:return bj(o,e,e.type,e.pendingProps,a);case 17:return c=e.type,d=e.pendingProps,d=e.elementType===c?d:Ci(c,d),ij(o,e),e.tag=1,Zf(c)?(o=!0,cg(e)):o=!1,ch(e,a),Gi(e,c,d),Ii(e,c,d,a),jj(null,e,c,!0,o,a);case 19:return xj(o,e,a);case 22:return dj(o,e,a)}throw Error(p(156,e.tag))};function Fk(o,e){return ac(o,e)}function $k(o,e,a,c){this.tag=o,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,e,a,c){return new $k(o,e,a,c)}function aj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Zk(o){if(typeof o=="function")return aj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function Pg(o,e){var a=o.alternate;return a===null?(a=Bg(o.tag,e,o.key,o.mode),a.elementType=o.elementType,a.type=o.type,a.stateNode=o.stateNode,a.alternate=o,o.alternate=a):(a.pendingProps=e,a.type=o.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=o.flags&14680064,a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=o.sibling,a.index=o.index,a.ref=o.ref,a}function Rg(o,e,a,c,d,g){var b=2;if(c=o,typeof o=="function")aj(o)&&(b=1);else if(typeof o=="string")b=5;else e:switch(o){case ya:return Tg(a.children,d,g,e);case za:b=8,d|=8;break;case Aa:return o=Bg(12,a,e,d|2),o.elementType=Aa,o.lanes=g,o;case Ea:return o=Bg(13,a,e,d),o.elementType=Ea,o.lanes=g,o;case Fa:return o=Bg(19,a,e,d),o.elementType=Fa,o.lanes=g,o;case Ia:return pj(a,d,g,e);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:b=10;break e;case Ca:b=9;break e;case Da:b=11;break e;case Ga:b=14;break e;case Ha:b=16,c=null;break e}throw Error(p(130,o==null?o:typeof o,""))}return e=Bg(b,a,e,d),e.elementType=o,e.type=c,e.lanes=g,e}function Tg(o,e,a,c){return o=Bg(7,o,c,e),o.lanes=a,o}function pj(o,e,a,c){return o=Bg(22,o,c,e),o.elementType=Ia,o.lanes=a,o.stateNode={isHidden:!1},o}function Qg(o,e,a){return o=Bg(6,o,null,e),o.lanes=a,o}function Sg(o,e,a){return e=Bg(4,o.children!==null?o.children:[],o.key,e),e.lanes=a,e.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},e}function al(o,e,a,c,d){this.tag=e,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function bl(o,e,a,c,d,g,b,_,_e){return o=new al(o,e,a,_,_e),e===1?(e=1,g===!0&&(e|=8)):e=0,g=Bg(3,null,null,e),o.current=g,g.stateNode=o,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(g),o}function cl(o,e,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:c==null?null:""+c,children:o,containerInfo:e,implementation:a}}function dl(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p(170));var e=o;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p(171))}if(o.tag===1){var a=o.type;if(Zf(a))return bg(o,a,e)}return e}function el(o,e,a,c,d,g,b,_,_e){return o=bl(a,c,!0,o,d,g,b,_,_e),o.context=dl(null),a=o.current,c=R(),d=yi(a),g=mh(c,d),g.callback=e??null,nh(a,g,d),o.current.lanes=d,Ac(o,d,c),Dk(o,c),o}function fl(o,e,a,c){var d=e.current,g=R(),b=yi(d);return a=dl(a),e.context===null?e.context=a:e.pendingContext=a,e=mh(g,b),e.payload={element:o},c=c===void 0?null:c,c!==null&&(e.callback=c),o=nh(d,e,b),o!==null&&(gi(o,d,b,g),oh(o,d,b)),b}function gl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function hl(o,e){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var a=o.retryLane;o.retryLane=a!==0&&a<e?a:e}}function il(o,e){hl(o,e),(o=o.alternate)&&hl(o,e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(o){console.error(o)};function ll(o){this._internalRoot=o}ml.prototype.render=ll.prototype.render=function(o){var e=this._internalRoot;if(e===null)throw Error(p(409));fl(o,e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var e=o.containerInfo;Rk(function(){fl(null,o,null,null)}),e[uf]=null}};function ml(o){this._internalRoot=o}ml.prototype.unstable_scheduleHydration=function(o){if(o){var e=Hc();o={blockedOn:null,target:o,priority:e};for(var a=0;a<Qc.length&&e!==0&&e<Qc[a].priority;a++);Qc.splice(a,0,o),a===0&&Vc(o)}};function nl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(o,e,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var tt=gl(b);g.call(tt)}}var b=el(e,c,o,0,null,!1,!1,"",pl);return o._reactRootContainer=b,o[uf]=b.current,sf(o.nodeType===8?o.parentNode:o),Rk(),b}for(;d=o.lastChild;)o.removeChild(d);if(typeof c=="function"){var _=c;c=function(){var tt=gl(_e);_.call(tt)}}var _e=bl(o,0,!1,null,null,!1,!1,"",pl);return o._reactRootContainer=_e,o[uf]=_e.current,sf(o.nodeType===8?o.parentNode:o),Rk(function(){fl(e,_e,a,c)}),_e}function rl(o,e,a,c,d){var g=a._reactRootContainer;if(g){var b=g;if(typeof d=="function"){var _=d;d=function(){var _e=gl(b);_.call(_e)}}fl(e,b,o,d)}else b=ql(a,e,o,d,c);return gl(b)}Ec=function(o){switch(o.tag){case 3:var e=o.stateNode;if(e.current.memoizedState.isDehydrated){var a=tc(e.pendingLanes);a!==0&&(Cc(e,a|1),Dk(e,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var c=ih(o,1);if(c!==null){var d=R();gi(c,o,1,d)}}),il(o,1)}};Fc=function(o){if(o.tag===13){var e=ih(o,134217728);if(e!==null){var a=R();gi(e,o,134217728,a)}il(o,134217728)}};Gc=function(o){if(o.tag===13){var e=yi(o),a=ih(o,e);if(a!==null){var c=R();gi(a,o,e,c)}il(o,e)}};Hc=function(){return C$1};Ic=function(o,e){var a=C$1;try{return C$1=o,e()}finally{C$1=a}};yb=function(o,e,a){switch(e){case"input":if(bb(o,a),e=a.name,a.type==="radio"&&e!=null){for(a=o;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<a.length;e++){var c=a[e];if(c!==o&&c.form===o.form){var d=Db(c);if(!d)throw Error(p(90));Wa(c),bb(c,d)}}}break;case"textarea":ib(o,a);break;case"select":e=a.value,e!=null&&fb(o,!!a.multiple,e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(o,e){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(e))throw Error(p(200));return cl(o,e,null,a)};reactDom_production_min.createRoot=function(o,e){if(!nl(o))throw Error(p(299));var a=!1,c="",d=kl;return e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(c=e.identifierPrefix),e.onRecoverableError!==void 0&&(d=e.onRecoverableError)),e=bl(o,1,!1,null,null,a,!1,c,d),o[uf]=e.current,sf(o.nodeType===8?o.parentNode:o),new ll(e)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var e=o._reactInternals;if(e===void 0)throw typeof o.render=="function"?Error(p(188)):(o=Object.keys(o).join(","),Error(p(268,o)));return o=Zb(e),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Rk(o)};reactDom_production_min.hydrate=function(o,e,a){if(!ol(e))throw Error(p(200));return rl(null,o,e,!0,a)};reactDom_production_min.hydrateRoot=function(o,e,a){if(!nl(o))throw Error(p(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",b=kl;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),e=el(e,null,o,1,a??null,d,!1,g,b),o[uf]=e.current,sf(o),c)for(o=0;o<c.length;o++)a=c[o],d=a._getVersion,d=d(a._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[a,d]:e.mutableSourceEagerHydrationData.push(a,d);return new ml(e)};reactDom_production_min.render=function(o,e,a){if(!ol(e))throw Error(p(200));return rl(null,o,e,!1,a)};reactDom_production_min.unmountComponentAtNode=function(o){if(!ol(o))throw Error(p(40));return o._reactRootContainer?(Rk(function(){rl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,e,a,c){if(!ol(a))throw Error(p(200));if(o==null||o._reactInternals===void 0)throw Error(p(38));return rl(o,e,a,!1,c)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o},_extends$2.apply(this,arguments)}var Action;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(o){o===void 0&&(o={});function e(c,d){let{pathname:g,search:b,hash:_}=c.location;return createLocation$1("",{pathname:g,search:b,hash:_},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function a(c,d){return typeof d=="string"?d:createPath(d)}return getUrlBasedHistory(e,a,null,o)}function invariant(o,e){if(o===!1||o===null||typeof o>"u")throw new Error(e)}function warning(o,e){if(!o){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(o,e){return{usr:o.state,key:o.key,idx:e}}function createLocation$1(o,e,a,c){return a===void 0&&(a=null),_extends$2({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:a,key:e&&e.key||c||createKey()})}function createPath(o){let{pathname:e="/",search:a="",hash:c=""}=o;return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),c&&c!=="#"&&(e+=c.charAt(0)==="#"?c:"#"+c),e}function parsePath(o){let e={};if(o){let a=o.indexOf("#");a>=0&&(e.hash=o.substr(a),o=o.substr(0,a));let c=o.indexOf("?");c>=0&&(e.search=o.substr(c),o=o.substr(0,c)),o&&(e.pathname=o)}return e}function getUrlBasedHistory(o,e,a,c){c===void 0&&(c={});let{window:d=document.defaultView,v5Compat:g=!1}=c,b=d.history,_=Action.Pop,_e=null,tt=nt();tt==null&&(tt=0,b.replaceState(_extends$2({},b.state,{idx:tt}),""));function nt(){return(b.state||{idx:null}).idx}function it(){_=Action.Pop;let Et=nt(),pt=Et==null?null:Et-tt;tt=Et,_e&&_e({action:_,location:dt.location,delta:pt})}function st(Et,pt){_=Action.Push;let gt=createLocation$1(dt.location,Et,pt);tt=nt()+1;let St=getHistoryState(gt,tt),Tt=dt.createHref(gt);try{b.pushState(St,"",Tt)}catch(bt){if(bt instanceof DOMException&&bt.name==="DataCloneError")throw bt;d.location.assign(Tt)}g&&_e&&_e({action:_,location:dt.location,delta:1})}function ot(Et,pt){_=Action.Replace;let gt=createLocation$1(dt.location,Et,pt);tt=nt();let St=getHistoryState(gt,tt),Tt=dt.createHref(gt);b.replaceState(St,"",Tt),g&&_e&&_e({action:_,location:dt.location,delta:0})}function ht(Et){let pt=d.location.origin!=="null"?d.location.origin:d.location.href,gt=typeof Et=="string"?Et:createPath(Et);return gt=gt.replace(/ $/,"%20"),invariant(pt,"No window.location.(origin|href) available to create URL for href: "+gt),new URL(gt,pt)}let dt={get action(){return _},get location(){return o(d,b)},listen(Et){if(_e)throw new Error("A history only accepts one active listener");return d.addEventListener(PopStateEventType,it),_e=Et,()=>{d.removeEventListener(PopStateEventType,it),_e=null}},createHref(Et){return e(d,Et)},createURL:ht,encodeLocation(Et){let pt=ht(Et);return{pathname:pt.pathname,search:pt.search,hash:pt.hash}},push:st,replace:ot,go(Et){return b.go(Et)}};return dt}var ResultType;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(ResultType||(ResultType={}));function matchRoutes(o,e,a){return a===void 0&&(a="/"),matchRoutesImpl(o,e,a,!1)}function matchRoutesImpl(o,e,a,c){let d=typeof e=="string"?parsePath(e):e,g=stripBasename(d.pathname||"/",a);if(g==null)return null;let b=flattenRoutes(o);rankRouteBranches(b);let _=null;for(let _e=0;_==null&&_e<b.length;++_e){let tt=decodePath(g);_=matchRouteBranch(b[_e],tt,c)}return _}function flattenRoutes(o,e,a,c){e===void 0&&(e=[]),a===void 0&&(a=[]),c===void 0&&(c="");let d=(g,b,_)=>{let _e={relativePath:_===void 0?g.path||"":_,caseSensitive:g.caseSensitive===!0,childrenIndex:b,route:g};_e.relativePath.startsWith("/")&&(invariant(_e.relativePath.startsWith(c),'Absolute route path "'+_e.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),_e.relativePath=_e.relativePath.slice(c.length));let tt=joinPaths([c,_e.relativePath]),nt=a.concat(_e);g.children&&g.children.length>0&&(invariant(g.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+tt+'".')),flattenRoutes(g.children,e,nt,tt)),!(g.path==null&&!g.index)&&e.push({path:tt,score:computeScore(tt,g.index),routesMeta:nt})};return o.forEach((g,b)=>{var _;if(g.path===""||!((_=g.path)!=null&&_.includes("?")))d(g,b);else for(let _e of explodeOptionalSegments(g.path))d(g,b,_e)}),e}function explodeOptionalSegments(o){let e=o.split("/");if(e.length===0)return[];let[a,...c]=e,d=a.endsWith("?"),g=a.replace(/\?$/,"");if(c.length===0)return d?[g,""]:[g];let b=explodeOptionalSegments(c.join("/")),_=[];return _.push(...b.map(_e=>_e===""?g:[g,_e].join("/"))),d&&_.push(...b),_.map(_e=>o.startsWith("/")&&_e===""?"/":_e)}function rankRouteBranches(o){o.sort((e,a)=>e.score!==a.score?a.score-e.score:compareIndexes(e.routesMeta.map(c=>c.childrenIndex),a.routesMeta.map(c=>c.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=o=>o==="*";function computeScore(o,e){let a=o.split("/"),c=a.length;return a.some(isSplat)&&(c+=splatPenalty),e&&(c+=indexRouteValue),a.filter(d=>!isSplat(d)).reduce((d,g)=>d+(paramRe.test(g)?dynamicSegmentValue:g===""?emptySegmentValue:staticSegmentValue),c)}function compareIndexes(o,e){return o.length===e.length&&o.slice(0,-1).every((c,d)=>c===e[d])?o[o.length-1]-e[e.length-1]:0}function matchRouteBranch(o,e,a){let{routesMeta:c}=o,d={},g="/",b=[];for(let _=0;_<c.length;++_){let _e=c[_],tt=_===c.length-1,nt=g==="/"?e:e.slice(g.length)||"/",it=matchPath({path:_e.relativePath,caseSensitive:_e.caseSensitive,end:tt},nt),st=_e.route;if(!it&&tt&&a&&!c[c.length-1].route.index&&(it=matchPath({path:_e.relativePath,caseSensitive:_e.caseSensitive,end:!1},nt)),!it)return null;Object.assign(d,it.params),b.push({params:d,pathname:joinPaths([g,it.pathname]),pathnameBase:normalizePathname(joinPaths([g,it.pathnameBase])),route:st}),it.pathnameBase!=="/"&&(g=joinPaths([g,it.pathnameBase]))}return b}function matchPath(o,e){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[a,c]=compilePath(o.path,o.caseSensitive,o.end),d=e.match(a);if(!d)return null;let g=d[0],b=g.replace(/(.)\/+$/,"$1"),_=d.slice(1);return{params:c.reduce((tt,nt,it)=>{let{paramName:st,isOptional:ot}=nt;if(st==="*"){let dt=_[it]||"";b=g.slice(0,g.length-dt.length).replace(/(.)\/+$/,"$1")}const ht=_[it];return ot&&!ht?tt[st]=void 0:tt[st]=(ht||"").replace(/%2F/g,"/"),tt},{}),pathname:g,pathnameBase:b,pattern:o}}function compilePath(o,e,a){e===void 0&&(e=!1),a===void 0&&(a=!0),warning(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let c=[],d="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,_,_e)=>(c.push({paramName:_,isOptional:_e!=null}),_e?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(c.push({paramName:"*"}),d+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?d+="\\/*$":o!==""&&o!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,e?void 0:"i"),c]}function decodePath(o){try{return o.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),o}}function stripBasename(o,e){if(e==="/")return o;if(!o.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,c=o.charAt(a);return c&&c!=="/"?null:o.slice(a)||"/"}function resolvePath(o,e){e===void 0&&(e="/");let{pathname:a,search:c="",hash:d=""}=typeof o=="string"?parsePath(o):o;return{pathname:a?a.startsWith("/")?a:resolvePathname(a,e):e,search:normalizeSearch(c),hash:normalizeHash(d)}}function resolvePathname(o,e){let a=e.replace(/\/+$/,"").split("/");return o.split("/").forEach(d=>{d===".."?a.length>1&&a.pop():d!=="."&&a.push(d)}),a.length>1?a.join("/"):"/"}function getInvalidPathError(o,e,a,c){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(o){return o.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(o,e){let a=getPathContributingMatches(o);return e?a.map((c,d)=>d===a.length-1?c.pathname:c.pathnameBase):a.map(c=>c.pathnameBase)}function resolveTo(o,e,a,c){c===void 0&&(c=!1);let d;typeof o=="string"?d=parsePath(o):(d=_extends$2({},o),invariant(!d.pathname||!d.pathname.includes("?"),getInvalidPathError("?","pathname","search",d)),invariant(!d.pathname||!d.pathname.includes("#"),getInvalidPathError("#","pathname","hash",d)),invariant(!d.search||!d.search.includes("#"),getInvalidPathError("#","search","hash",d)));let g=o===""||d.pathname==="",b=g?"/":d.pathname,_;if(b==null)_=a;else{let it=e.length-1;if(!c&&b.startsWith("..")){let st=b.split("/");for(;st[0]==="..";)st.shift(),it-=1;d.pathname=st.join("/")}_=it>=0?e[it]:"/"}let _e=resolvePath(d,_),tt=b&&b!=="/"&&b.endsWith("/"),nt=(g||b===".")&&a.endsWith("/");return!_e.pathname.endsWith("/")&&(tt||nt)&&(_e.pathname+="/"),_e}const joinPaths=o=>o.join("/").replace(/\/\/+/g,"/"),normalizePathname=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,normalizeHash=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function isRouteErrorResponse(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(o){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(o)}function useNavigate(){let{isDataRoute:o}=reactExports.useContext(RouteContext);return o?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let o=reactExports.useContext(DataRouterContext),{basename:e,future:a,navigator:c}=reactExports.useContext(NavigationContext),{matches:d}=reactExports.useContext(RouteContext),{pathname:g}=useLocation(),b=JSON.stringify(getResolveToMatches(d,a.v7_relativeSplatPath)),_=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{_.current=!0}),reactExports.useCallback(function(tt,nt){if(nt===void 0&&(nt={}),!_.current)return;if(typeof tt=="number"){c.go(tt);return}let it=resolveTo(tt,JSON.parse(b),g,nt.relative==="path");o==null&&e!=="/"&&(it.pathname=it.pathname==="/"?e:joinPaths([e,it.pathname])),(nt.replace?c.replace:c.push)(it,nt.state,nt)},[e,c,b,g,o])}function useRoutes(o,e){return useRoutesImpl(o,e)}function useRoutesImpl(o,e,a,c){useInRouterContext()||invariant(!1);let{navigator:d}=reactExports.useContext(NavigationContext),{matches:g}=reactExports.useContext(RouteContext),b=g[g.length-1],_=b?b.params:{};b&&b.pathname;let _e=b?b.pathnameBase:"/";b&&b.route;let tt=useLocation(),nt;if(e){var it;let Et=typeof e=="string"?parsePath(e):e;_e==="/"||(it=Et.pathname)!=null&&it.startsWith(_e)||invariant(!1),nt=Et}else nt=tt;let st=nt.pathname||"/",ot=st;if(_e!=="/"){let Et=_e.replace(/^\//,"").split("/");ot="/"+st.replace(/^\//,"").split("/").slice(Et.length).join("/")}let ht=matchRoutes(o,{pathname:ot}),dt=_renderMatches(ht&&ht.map(Et=>Object.assign({},Et,{params:Object.assign({},_,Et.params),pathname:joinPaths([_e,d.encodeLocation?d.encodeLocation(Et.pathname).pathname:Et.pathname]),pathnameBase:Et.pathnameBase==="/"?_e:joinPaths([_e,d.encodeLocation?d.encodeLocation(Et.pathnameBase).pathname:Et.pathnameBase])})),g,a,c);return e&&dt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},nt),navigationType:Action.Pop}},dt):dt}function DefaultErrorComponent(){let o=useRouteError(),e=isRouteErrorResponse(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),a=o instanceof Error?o.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),a?reactExports.createElement("pre",{style:d},a):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){console.error("React Router caught the following error during render",e,a)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(o){let{routeContext:e,match:a,children:c}=o,d=reactExports.useContext(DataRouterContext);return d&&d.static&&d.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=a.route.id),reactExports.createElement(RouteContext.Provider,{value:e},c)}function _renderMatches(o,e,a,c){var d;if(e===void 0&&(e=[]),a===void 0&&(a=null),c===void 0&&(c=null),o==null){var g;if(!a)return null;if(a.errors)o=a.matches;else if((g=c)!=null&&g.v7_partialHydration&&e.length===0&&!a.initialized&&a.matches.length>0)o=a.matches;else return null}let b=o,_=(d=a)==null?void 0:d.errors;if(_!=null){let nt=b.findIndex(it=>it.route.id&&(_==null?void 0:_[it.route.id])!==void 0);nt>=0||invariant(!1),b=b.slice(0,Math.min(b.length,nt+1))}let _e=!1,tt=-1;if(a&&c&&c.v7_partialHydration)for(let nt=0;nt<b.length;nt++){let it=b[nt];if((it.route.HydrateFallback||it.route.hydrateFallbackElement)&&(tt=nt),it.route.id){let{loaderData:st,errors:ot}=a,ht=it.route.loader&&st[it.route.id]===void 0&&(!ot||ot[it.route.id]===void 0);if(it.route.lazy||ht){_e=!0,tt>=0?b=b.slice(0,tt+1):b=[b[0]];break}}}return b.reduceRight((nt,it,st)=>{let ot,ht=!1,dt=null,Et=null;a&&(ot=_&&it.route.id?_[it.route.id]:void 0,dt=it.route.errorElement||defaultErrorElement,_e&&(tt<0&&st===0?(ht=!0,Et=null):tt===st&&(ht=!0,Et=it.route.hydrateFallbackElement||null)));let pt=e.concat(b.slice(0,st+1)),gt=()=>{let St;return ot?St=dt:ht?St=Et:it.route.Component?St=reactExports.createElement(it.route.Component,null):it.route.element?St=it.route.element:St=nt,reactExports.createElement(RenderedRoute,{match:it,routeContext:{outlet:nt,matches:pt,isDataRoute:a!=null},children:St})};return a&&(it.route.ErrorBoundary||it.route.errorElement||st===0)?reactExports.createElement(RenderErrorBoundary,{location:a.location,revalidation:a.revalidation,component:dt,error:ot,children:gt(),routeContext:{outlet:null,matches:pt,isDataRoute:!0}}):gt()},null)}var DataRouterHook$1=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(DataRouterHook$1||{}),DataRouterStateHook$1=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(DataRouterStateHook$1||{});function useDataRouterContext(o){let e=reactExports.useContext(DataRouterContext);return e||invariant(!1),e}function useDataRouterState(o){let e=reactExports.useContext(DataRouterStateContext);return e||invariant(!1),e}function useRouteContext(o){let e=reactExports.useContext(RouteContext);return e||invariant(!1),e}function useCurrentRouteId(o){let e=useRouteContext(),a=e.matches[e.matches.length-1];return a.route.id||invariant(!1),a.route.id}function useRouteError(){var o;let e=reactExports.useContext(RouteErrorContext),a=useDataRouterState(DataRouterStateHook$1.UseRouteError),c=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return e!==void 0?e:(o=a.errors)==null?void 0:o[c]}function useNavigateStable(){let{router:o}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),a=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{a.current=!0}),reactExports.useCallback(function(d,g){g===void 0&&(g={}),a.current&&(typeof d=="number"?o.navigate(d):o.navigate(d,_extends$1({fromRouteId:e},g)))},[o,e])}function Route(o){invariant(!1)}function Router(o){let{basename:e="/",children:a=null,location:c,navigationType:d=Action.Pop,navigator:g,static:b=!1,future:_}=o;useInRouterContext()&&invariant(!1);let _e=e.replace(/^\/*/,"/"),tt=reactExports.useMemo(()=>({basename:_e,navigator:g,static:b,future:_extends$1({v7_relativeSplatPath:!1},_)}),[_e,_,g,b]);typeof c=="string"&&(c=parsePath(c));let{pathname:nt="/",search:it="",hash:st="",state:ot=null,key:ht="default"}=c,dt=reactExports.useMemo(()=>{let Et=stripBasename(nt,_e);return Et==null?null:{location:{pathname:Et,search:it,hash:st,state:ot,key:ht},navigationType:d}},[_e,nt,it,st,ot,ht,d]);return dt==null?null:reactExports.createElement(NavigationContext.Provider,{value:tt},reactExports.createElement(LocationContext.Provider,{children:a,value:dt}))}function Routes(o){let{children:e,location:a}=o;return useRoutes(createRoutesFromChildren(e),a)}new Promise(()=>{});function createRoutesFromChildren(o,e){e===void 0&&(e=[]);let a=[];return reactExports.Children.forEach(o,(c,d)=>{if(!reactExports.isValidElement(c))return;let g=[...e,d];if(c.type===reactExports.Fragment){a.push.apply(a,createRoutesFromChildren(c.props.children,g));return}c.type!==Route&&invariant(!1),!c.props.index||!c.props.children||invariant(!1);let b={id:c.props.id||g.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(b.children=createRoutesFromChildren(c.props.children,g)),a.push(b)}),a}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(o){let{basename:e,children:a,future:c,window:d}=o,g=reactExports.useRef();g.current==null&&(g.current=createBrowserHistory({window:d,v5Compat:!0}));let b=g.current,[_,_e]=reactExports.useState({action:b.action,location:b.location}),{v7_startTransition:tt}=c||{},nt=reactExports.useCallback(it=>{tt&&startTransitionImpl?startTransitionImpl(()=>_e(it)):_e(it)},[_e,tt]);return reactExports.useLayoutEffect(()=>b.listen(nt),[b,nt]),reactExports.createElement(Router,{basename:e,children:a,location:_.location,navigationType:_.action,navigator:b,future:c})}var DataRouterHook;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const scriptRel="modulepreload",assetsURL=function(o){return"/"+o},seen={},__vitePreload=function(e,a,c){let d=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),_=(b==null?void 0:b.nonce)||(b==null?void 0:b.getAttribute("nonce"));d=Promise.allSettled(a.map(_e=>{if(_e=assetsURL(_e),_e in seen)return;seen[_e]=!0;const tt=_e.endsWith(".css"),nt=tt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_e}"]${nt}`))return;const it=document.createElement("link");if(it.rel=tt?"stylesheet":scriptRel,tt||(it.as="script"),it.crossOrigin="",it.href=_e,_&&it.setAttribute("nonce",_),document.head.appendChild(it),tt)return new Promise((st,ot)=>{it.addEventListener("load",st),it.addEventListener("error",()=>ot(new Error(`Unable to preload CSS for ${_e}`)))})}))}function g(b){const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=b,window.dispatchEvent(_),!_.defaultPrevented)throw b}return d.then(b=>{for(const _ of b||[])_.status==="rejected"&&g(_.reason);return e().catch(g)})},resolveFetch$3=o=>{let e;return o?e=o:typeof fetch>"u"?e=(...a)=>__vitePreload(async()=>{const{default:c}=await Promise.resolve().then(()=>browser$1);return{default:c}},void 0).then(({default:c})=>c(...a)):e=fetch,(...a)=>e(...a)};class FunctionsError extends Error{constructor(e,a="FunctionsError",c){super(e),this.name=a,this.context=c}}class FunctionsFetchError extends FunctionsError{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class FunctionsRelayError extends FunctionsError{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class FunctionsHttpError extends FunctionsError{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var FunctionRegion;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));var __awaiter$7=function(o,e,a,c){function d(g){return g instanceof a?g:new a(function(b){b(g)})}return new(a||(a=Promise))(function(g,b){function _(nt){try{tt(c.next(nt))}catch(it){b(it)}}function _e(nt){try{tt(c.throw(nt))}catch(it){b(it)}}function tt(nt){nt.done?g(nt.value):d(nt.value).then(_,_e)}tt((c=c.apply(o,e||[])).next())})};class FunctionsClient{constructor(e,{headers:a={},customFetch:c,region:d=FunctionRegion.Any}={}){this.url=e,this.headers=a,this.region=d,this.fetch=resolveFetch$3(c)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,a={}){var c;return __awaiter$7(this,void 0,void 0,function*(){try{const{headers:d,method:g,body:b}=a;let _={},{region:_e}=a;_e||(_e=this.region),_e&&_e!=="any"&&(_["x-region"]=_e);let tt;b&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)&&(typeof Blob<"u"&&b instanceof Blob||b instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",tt=b):typeof b=="string"?(_["Content-Type"]="text/plain",tt=b):typeof FormData<"u"&&b instanceof FormData?tt=b:(_["Content-Type"]="application/json",tt=JSON.stringify(b)));const nt=yield this.fetch(`${this.url}/${e}`,{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),d),body:tt}).catch(ht=>{throw new FunctionsFetchError(ht)}),it=nt.headers.get("x-relay-error");if(it&&it==="true")throw new FunctionsRelayError(nt);if(!nt.ok)throw new FunctionsHttpError(nt);let st=((c=nt.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),ot;return st==="application/json"?ot=yield nt.json():st==="application/octet-stream"?ot=yield nt.blob():st==="text/event-stream"?ot=nt:st==="multipart/form-data"?ot=yield nt.formData():ot=yield nt.text(),{data:ot,error:null}}catch(d){return{data:null,error:d}}})}}var cjs$1={},PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request=globalObject.Request,Response$1=globalObject.Response,browser$1=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request,Response:Response$1,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(browser$1);var PostgrestError$1={};Object.defineProperty(PostgrestError$1,"__esModule",{value:!0});class PostgrestError extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}PostgrestError$1.default=PostgrestError;var __importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const node_fetch_1=__importDefault$6(require$$0),PostgrestError_1=__importDefault$6(PostgrestError$1);let PostgrestBuilder$1=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=node_fetch_1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,a){return this.headers=Object.assign({},this.headers),this.headers[e]=a,this}then(e,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var b,_,_e;let tt=null,nt=null,it=null,st=g.status,ot=g.statusText;if(g.ok){if(this.method!=="HEAD"){const pt=await g.text();pt===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?nt=pt:nt=JSON.parse(pt))}const dt=(b=this.headers.Prefer)===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),Et=(_=g.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");dt&&Et&&Et.length>1&&(it=parseInt(Et[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(nt)&&(nt.length>1?(tt={code:"PGRST116",details:`Results contain ${nt.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},nt=null,it=null,st=406,ot="Not Acceptable"):nt.length===1?nt=nt[0]:nt=null)}else{const dt=await g.text();try{tt=JSON.parse(dt),Array.isArray(tt)&&g.status===404&&(nt=[],tt=null,st=200,ot="OK")}catch{g.status===404&&dt===""?(st=204,ot="No Content"):tt={message:dt}}if(tt&&this.isMaybeSingle&&(!((_e=tt==null?void 0:tt.details)===null||_e===void 0)&&_e.includes("0 rows"))&&(tt=null,st=200,ot="OK"),tt&&this.shouldThrowOnError)throw new PostgrestError_1.default(tt)}return{error:tt,data:nt,count:it,status:st,statusText:ot}});return this.shouldThrowOnError||(d=d.catch(g=>{var b,_,_e;return{error:{message:`${(b=g==null?void 0:g.name)!==null&&b!==void 0?b:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(_=g==null?void 0:g.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(_e=g==null?void 0:g.code)!==null&&_e!==void 0?_e:""}`},data:null,count:null,status:0,statusText:""}})),d.then(e,a)}};PostgrestBuilder$2.default=PostgrestBuilder$1;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const PostgrestBuilder_1$1=__importDefault$5(PostgrestBuilder$2);let PostgrestTransformBuilder$1=class extends PostgrestBuilder_1$1.default{select(e){let a=!1;const c=(e??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:a=!0,nullsFirst:c,foreignTable:d,referencedTable:g=d}={}){const b=g?`${g}.order`:"order",_=this.url.searchParams.get(b);return this.url.searchParams.set(b,`${_?`${_},`:""}${e}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:a,referencedTable:c=a}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${e}`),this}range(e,a,{foreignTable:c,referencedTable:d=c}={}){const g=typeof d>"u"?"offset":`${d}.offset`,b=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(g,`${e}`),this.url.searchParams.set(b,`${a-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:a=!1,settings:c=!1,buffers:d=!1,wal:g=!1,format:b="text"}={}){var _;const _e=[e?"analyze":null,a?"verbose":null,c?"settings":null,d?"buffers":null,g?"wal":null].filter(Boolean).join("|"),tt=(_=this.headers.Accept)!==null&&_!==void 0?_:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${b}; for="${tt}"; options=${_e};`,b==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};PostgrestTransformBuilder$2.default=PostgrestTransformBuilder$1;var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const PostgrestTransformBuilder_1$1=__importDefault$4(PostgrestTransformBuilder$2);let PostgrestFilterBuilder$1=class extends PostgrestTransformBuilder_1$1.default{eq(e,a){return this.url.searchParams.append(e,`eq.${a}`),this}neq(e,a){return this.url.searchParams.append(e,`neq.${a}`),this}gt(e,a){return this.url.searchParams.append(e,`gt.${a}`),this}gte(e,a){return this.url.searchParams.append(e,`gte.${a}`),this}lt(e,a){return this.url.searchParams.append(e,`lt.${a}`),this}lte(e,a){return this.url.searchParams.append(e,`lte.${a}`),this}like(e,a){return this.url.searchParams.append(e,`like.${a}`),this}likeAllOf(e,a){return this.url.searchParams.append(e,`like(all).{${a.join(",")}}`),this}likeAnyOf(e,a){return this.url.searchParams.append(e,`like(any).{${a.join(",")}}`),this}ilike(e,a){return this.url.searchParams.append(e,`ilike.${a}`),this}ilikeAllOf(e,a){return this.url.searchParams.append(e,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(e,a){return this.url.searchParams.append(e,`ilike(any).{${a.join(",")}}`),this}is(e,a){return this.url.searchParams.append(e,`is.${a}`),this}in(e,a){const c=Array.from(new Set(a)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(e,`in.(${c})`),this}contains(e,a){return typeof a=="string"?this.url.searchParams.append(e,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(e,`cs.{${a.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(a)}`),this}containedBy(e,a){return typeof a=="string"?this.url.searchParams.append(e,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(e,`cd.{${a.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(a)}`),this}rangeGt(e,a){return this.url.searchParams.append(e,`sr.${a}`),this}rangeGte(e,a){return this.url.searchParams.append(e,`nxl.${a}`),this}rangeLt(e,a){return this.url.searchParams.append(e,`sl.${a}`),this}rangeLte(e,a){return this.url.searchParams.append(e,`nxr.${a}`),this}rangeAdjacent(e,a){return this.url.searchParams.append(e,`adj.${a}`),this}overlaps(e,a){return typeof a=="string"?this.url.searchParams.append(e,`ov.${a}`):this.url.searchParams.append(e,`ov.{${a.join(",")}}`),this}textSearch(e,a,{config:c,type:d}={}){let g="";d==="plain"?g="pl":d==="phrase"?g="ph":d==="websearch"&&(g="w");const b=c===void 0?"":`(${c})`;return this.url.searchParams.append(e,`${g}fts${b}.${a}`),this}match(e){return Object.entries(e).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(e,a,c){return this.url.searchParams.append(e,`not.${a}.${c}`),this}or(e,{foreignTable:a,referencedTable:c=a}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${e})`),this}filter(e,a,c){return this.url.searchParams.append(e,`${a}.${c}`),this}};PostgrestFilterBuilder$2.default=PostgrestFilterBuilder$1;var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const PostgrestFilterBuilder_1$2=__importDefault$3(PostgrestFilterBuilder$2);let PostgrestQueryBuilder$1=class{constructor(e,{headers:a={},schema:c,fetch:d}){this.url=e,this.headers=a,this.schema=c,this.fetch=d}select(e,{head:a=!1,count:c}={}){const d=a?"HEAD":"GET";let g=!1;const b=(e??"*").split("").map(_=>/\s/.test(_)&&!g?"":(_==='"'&&(g=!g),_)).join("");return this.url.searchParams.set("select",b),c&&(this.headers.Prefer=`count=${c}`),new PostgrestFilterBuilder_1$2.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:a,defaultToNull:c=!0}={}){const d="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),a&&g.push(`count=${a}`),c||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(e)){const b=e.reduce((_,_e)=>_.concat(Object.keys(_e)),[]);if(b.length>0){const _=[...new Set(b)].map(_e=>`"${_e}"`);this.url.searchParams.set("columns",_.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:a,ignoreDuplicates:c=!1,count:d,defaultToNull:g=!0}={}){const b="POST",_=[`resolution=${c?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&_.push(this.headers.Prefer),d&&_.push(`count=${d}`),g||_.push("missing=default"),this.headers.Prefer=_.join(","),Array.isArray(e)){const _e=e.reduce((tt,nt)=>tt.concat(Object.keys(nt)),[]);if(_e.length>0){const tt=[...new Set(_e)].map(nt=>`"${nt}"`);this.url.searchParams.set("columns",tt.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:a}={}){const c="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),this.headers.Prefer=d.join(","),new PostgrestFilterBuilder_1$2.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const a="DELETE",c=[];return e&&c.push(`count=${e}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new PostgrestFilterBuilder_1$2.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};PostgrestQueryBuilder$2.default=PostgrestQueryBuilder$1;var constants={},version$4={};Object.defineProperty(version$4,"__esModule",{value:!0});version$4.version=void 0;version$4.version="0.0.0-automated";Object.defineProperty(constants,"__esModule",{value:!0});constants.DEFAULT_HEADERS=void 0;const version_1=version$4;constants.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${version_1.version}`};var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const PostgrestQueryBuilder_1$1=__importDefault$2(PostgrestQueryBuilder$2),PostgrestFilterBuilder_1$1=__importDefault$2(PostgrestFilterBuilder$2),constants_1=constants;let PostgrestClient$1=class G0{constructor(e,{headers:a={},schema:c,fetch:d}={}){this.url=e,this.headers=Object.assign(Object.assign({},constants_1.DEFAULT_HEADERS),a),this.schemaName=c,this.fetch=d}from(e){const a=new URL(`${this.url}/${e}`);return new PostgrestQueryBuilder_1$1.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new G0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,a={},{head:c=!1,get:d=!1,count:g}={}){let b;const _=new URL(`${this.url}/rpc/${e}`);let _e;c||d?(b=c?"HEAD":"GET",Object.entries(a).filter(([nt,it])=>it!==void 0).map(([nt,it])=>[nt,Array.isArray(it)?`{${it.join(",")}}`:`${it}`]).forEach(([nt,it])=>{_.searchParams.append(nt,it)})):(b="POST",_e=a);const tt=Object.assign({},this.headers);return g&&(tt.Prefer=`count=${g}`),new PostgrestFilterBuilder_1$1.default({method:b,url:_,headers:tt,schema:this.schemaName,body:_e,fetch:this.fetch,allowEmpty:!1})}};PostgrestClient$2.default=PostgrestClient$1;var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(cjs$1,"__esModule",{value:!0});cjs$1.PostgrestBuilder=cjs$1.PostgrestTransformBuilder=cjs$1.PostgrestFilterBuilder=cjs$1.PostgrestQueryBuilder=cjs$1.PostgrestClient=void 0;const PostgrestClient_1=__importDefault$1(PostgrestClient$2);cjs$1.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=__importDefault$1(PostgrestQueryBuilder$2);cjs$1.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=__importDefault$1(PostgrestFilterBuilder$2);cjs$1.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=__importDefault$1(PostgrestTransformBuilder$2);cjs$1.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=__importDefault$1(PostgrestBuilder$2);cjs$1.PostgrestBuilder=PostgrestBuilder_1.default;var _default$1=cjs$1.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default};const{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder}=_default$1,version$3="2.10.2",DEFAULT_HEADERS$3={"X-Client-Info":`realtime-js/${version$3}`},VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3;var SOCKET_STATES;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(o){o.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode(e,a){return e.constructor===ArrayBuffer?a(this._binaryDecode(e)):a(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const a=new DataView(e),c=new TextDecoder;return this._decodeBroadcast(e,a,c)}_decodeBroadcast(e,a,c){const d=a.getUint8(1),g=a.getUint8(2);let b=this.HEADER_LENGTH+2;const _=c.decode(e.slice(b,b+d));b=b+d;const _e=c.decode(e.slice(b,b+g));b=b+g;const tt=JSON.parse(c.decode(e.slice(b,e.byteLength)));return{ref:null,topic:_,event:_e,payload:tt}}}class Timer{constructor(e,a){this.callback=e,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(o,e,a={})=>{var c;const d=(c=a.skipTypes)!==null&&c!==void 0?c:[];return Object.keys(e).reduce((g,b)=>(g[b]=convertColumn(b,o,e,d),g),{})},convertColumn=(o,e,a,c)=>{const d=e.find(_=>_.name===o),g=d==null?void 0:d.type,b=a[o];return g&&!c.includes(g)?convertCell(g,b):noop$2(b)},convertCell=(o,e)=>{if(o.charAt(0)==="_"){const a=o.slice(1,o.length);return toArray(e,a)}switch(o){case PostgresTypes.bool:return toBoolean(e);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(e);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(e);case PostgresTypes.timestamp:return toTimestampString(e);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$2(e);default:return noop$2(e)}},noop$2=o=>o,toBoolean=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},toNumber=o=>{if(typeof o=="string"){const e=parseFloat(o);if(!Number.isNaN(e))return e}return o},toJson=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(e){return console.log(`JSON parse error: ${e}`),o}return o},toArray=(o,e)=>{if(typeof o!="string")return o;const a=o.length-1,c=o[a];if(o[0]==="{"&&c==="}"){let g;const b=o.slice(1,a);try{g=JSON.parse("["+b+"]")}catch{g=b?b.split(","):[]}return g.map(_=>convertCell(e,_))}return o},toTimestampString=o=>typeof o=="string"?o.replace(" ","T"):o,httpEndpointURL=o=>{let e=o;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Push{constructor(e,a,c={},d=DEFAULT_TIMEOUT){this.channel=e,this.event=a,this.payload=c,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,a){var c;return this._hasReceived(e)&&a((c=this.receivedResp)===null||c===void 0?void 0:c.response),this.recHooks.push({status:e,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:a}){this.recHooks.filter(c=>c.status===e).forEach(c=>c.callback(a))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(e,a){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const c=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(c.state,{},d=>{const{onJoin:g,onLeave:b,onSync:_}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,d,g,b),this.pendingDiffs.forEach(_e=>{this.state=RealtimePresence.syncDiff(this.state,_e,g,b)}),this.pendingDiffs=[],_()}),this.channel._on(c.diff,{},d=>{const{onJoin:g,onLeave:b,onSync:_}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=RealtimePresence.syncDiff(this.state,d,g,b),_())}),this.onJoin((d,g,b)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:g,newPresences:b})}),this.onLeave((d,g,b)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:g,leftPresences:b})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,a,c,d){const g=this.cloneDeep(e),b=this.transformState(a),_={},_e={};return this.map(g,(tt,nt)=>{b[tt]||(_e[tt]=nt)}),this.map(b,(tt,nt)=>{const it=g[tt];if(it){const st=nt.map(Et=>Et.presence_ref),ot=it.map(Et=>Et.presence_ref),ht=nt.filter(Et=>ot.indexOf(Et.presence_ref)<0),dt=it.filter(Et=>st.indexOf(Et.presence_ref)<0);ht.length>0&&(_[tt]=ht),dt.length>0&&(_e[tt]=dt)}else _[tt]=nt}),this.syncDiff(g,{joins:_,leaves:_e},c,d)}static syncDiff(e,a,c,d){const{joins:g,leaves:b}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return c||(c=()=>{}),d||(d=()=>{}),this.map(g,(_,_e)=>{var tt;const nt=(tt=e[_])!==null&&tt!==void 0?tt:[];if(e[_]=this.cloneDeep(_e),nt.length>0){const it=e[_].map(ot=>ot.presence_ref),st=nt.filter(ot=>it.indexOf(ot.presence_ref)<0);e[_].unshift(...st)}c(_,nt,_e)}),this.map(b,(_,_e)=>{let tt=e[_];if(!tt)return;const nt=_e.map(it=>it.presence_ref);tt=tt.filter(it=>nt.indexOf(it.presence_ref)<0),e[_]=tt,d(_,tt,_e),tt.length===0&&delete e[_]}),e}static map(e,a){return Object.getOwnPropertyNames(e).map(c=>a(c,e[c]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((a,c)=>{const d=e[c];return"metas"in d?a[c]=d.metas.map(g=>(g.presence_ref=g.phx_ref,delete g.phx_ref,delete g.phx_ref_prev,g)):a[c]=d,a},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(e,a={config:{}},c){this.topic=e,this.params=a,this.socket=c,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(d,g)=>{this._trigger(this._replyEventName(g),d)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint)+"/api/broadcast"}subscribe(e,a=this.timeout){var c,d;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:g,presence:b,private:_}}=this.params;this._onError(nt=>e&&e("CHANNEL_ERROR",nt)),this._onClose(()=>e&&e("CLOSED"));const _e={},tt={broadcast:g,presence:b,postgres_changes:(d=(c=this.bindings.postgres_changes)===null||c===void 0?void 0:c.map(nt=>nt.filter))!==null&&d!==void 0?d:[],private:_};this.socket.accessToken&&(_e.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:tt},_e)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",({postgres_changes:nt})=>{var it;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),nt===void 0){e&&e("SUBSCRIBED");return}else{const st=this.bindings.postgres_changes,ot=(it=st==null?void 0:st.length)!==null&&it!==void 0?it:0,ht=[];for(let dt=0;dt<ot;dt++){const Et=st[dt],{filter:{event:pt,schema:gt,table:St,filter:Tt}}=Et,bt=nt&&nt[dt];if(bt&&bt.event===pt&&bt.schema===gt&&bt.table===St&&bt.filter===Tt)ht.push(Object.assign(Object.assign({},Et),{id:bt.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ht,e&&e("SUBSCRIBED");return}}).receive("error",nt=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(nt).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,a={}){return await this.send({type:"presence",event:"track",payload:e},a.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,a,c){return this._on(e,a,c)}async send(e,a={}){var c,d;if(!this._canPush()&&e.type==="broadcast"){const{event:g,payload:b}=e,_={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:g,payload:b}]})};try{const _e=await this._fetchWithTimeout(this.broadcastEndpointURL,_,(c=a.timeout)!==null&&c!==void 0?c:this.timeout);return await((d=_e.body)===null||d===void 0?void 0:d.cancel()),_e.ok?"ok":"error"}catch(_e){return _e.name==="AbortError"?"timed out":"error"}}else return new Promise(g=>{var b,_,_e;const tt=this._push(e.type,e,a.timeout||this.timeout);e.type==="broadcast"&&!(!((_e=(_=(b=this.params)===null||b===void 0?void 0:b.config)===null||_===void 0?void 0:_.broadcast)===null||_e===void 0)&&_e.ack)&&g("ok"),tt.receive("ok",()=>g("ok")),tt.receive("error",()=>g("error")),tt.receive("timeout",()=>g("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=CHANNEL_STATES.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(c=>{const d=new Push(this,CHANNEL_EVENTS.leave,{},e);d.receive("ok",()=>{a(),c("ok")}).receive("timeout",()=>{a(),c("timed out")}).receive("error",()=>{c("error")}),d.send(),this._canPush()||d.trigger("ok",{})})}async _fetchWithTimeout(e,a,c){const d=new AbortController,g=setTimeout(()=>d.abort(),c),b=await this.socket.fetch(e,Object.assign(Object.assign({},a),{signal:d.signal}));return clearTimeout(g),b}_push(e,a,c=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Push(this,e,a,c);return this._canPush()?d.send():(d.startTimeout(),this.pushBuffer.push(d)),d}_onMessage(e,a,c){return a}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,a,c){var d,g;const b=e.toLocaleLowerCase(),{close:_,error:_e,leave:tt,join:nt}=CHANNEL_EVENTS;if(c&&[_,_e,tt,nt].indexOf(b)>=0&&c!==this._joinRef())return;let st=this._onMessage(b,a,c);if(a&&!st)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(b)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(ot=>{var ht,dt,Et;return((ht=ot.filter)===null||ht===void 0?void 0:ht.event)==="*"||((Et=(dt=ot.filter)===null||dt===void 0?void 0:dt.event)===null||Et===void 0?void 0:Et.toLocaleLowerCase())===b}).map(ot=>ot.callback(st,c)):(g=this.bindings[b])===null||g===void 0||g.filter(ot=>{var ht,dt,Et,pt,gt,St;if(["broadcast","presence","postgres_changes"].includes(b))if("id"in ot){const Tt=ot.id,bt=(ht=ot.filter)===null||ht===void 0?void 0:ht.event;return Tt&&((dt=a.ids)===null||dt===void 0?void 0:dt.includes(Tt))&&(bt==="*"||(bt==null?void 0:bt.toLocaleLowerCase())===((Et=a.data)===null||Et===void 0?void 0:Et.type.toLocaleLowerCase()))}else{const Tt=(gt=(pt=ot==null?void 0:ot.filter)===null||pt===void 0?void 0:pt.event)===null||gt===void 0?void 0:gt.toLocaleLowerCase();return Tt==="*"||Tt===((St=a==null?void 0:a.event)===null||St===void 0?void 0:St.toLocaleLowerCase())}else return ot.type.toLocaleLowerCase()===b}).map(ot=>{if(typeof st=="object"&&"ids"in st){const ht=st.data,{schema:dt,table:Et,commit_timestamp:pt,type:gt,errors:St}=ht;st=Object.assign(Object.assign({},{schema:dt,table:Et,commit_timestamp:pt,eventType:gt,new:{},old:{},errors:St}),this._getPayloadRecords(ht))}ot.callback(st,c)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,a,c){const d=e.toLocaleLowerCase(),g={type:d,filter:a,callback:c};return this.bindings[d]?this.bindings[d].push(g):this.bindings[d]=[g],this}_off(e,a){const c=e.toLocaleLowerCase();return this.bindings[c]=this.bindings[c].filter(d=>{var g;return!(((g=d.type)===null||g===void 0?void 0:g.toLocaleLowerCase())===c&&RealtimeChannel.isEqual(d.filter,a))}),this}static isEqual(e,a){if(Object.keys(e).length!==Object.keys(a).length)return!1;for(const c in e)if(e[c]!==a[c])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(CHANNEL_EVENTS.close,{},e)}_onError(e){this._on(CHANNEL_EVENTS.error,{},a=>e(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const a={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(a.new=convertChangeData(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(a.old=convertChangeData(e.columns,e.old_record)),a}}const noop$1=()=>{},NATIVE_WEBSOCKET_AVAILABLE=typeof WebSocket<"u";class RealtimeClient{constructor(e,a){var c;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=DEFAULT_HEADERS$3,this.params={},this.timeout=DEFAULT_TIMEOUT,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=noop$1,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=g=>{let b;return g?b=g:typeof fetch>"u"?b=(..._)=>__vitePreload(async()=>{const{default:_e}=await Promise.resolve().then(()=>browser$1);return{default:_e}},void 0).then(({default:_e})=>_e(..._)):b=fetch,(..._)=>b(..._)},this.endPoint=`${e}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(e),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.headers&&(this.headers=Object.assign(Object.assign({},this.headers),a.headers)),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const d=(c=a==null?void 0:a.params)===null||c===void 0?void 0:c.apikey;d&&(this.accessToken=d,this.apiKey=d),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:g=>[1e3,2e3,5e3,1e4][g-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(g,b)=>b(JSON.stringify(g)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Timer(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(NATIVE_WEBSOCKET_AVAILABLE){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new WSWebSocketDummy(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),__vitePreload(async()=>{const{default:e}=await import("./browser-sQkV3biC.js").then(a=>a.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,a){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const a=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const e=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.disconnect(),e}log(e,a,c){this.logger(e,a,c)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}channel(e,a={config:{}}){const c=new RealtimeChannel(`realtime:${e}`,a,this);return this.channels.push(c),c}push(e){const{topic:a,event:c,payload:d,ref:g}=e,b=()=>{this.encode(e,_=>{var _e;(_e=this.conn)===null||_e===void 0||_e.send(_)})};this.log("push",`${a} ${c} (${g})`,d),this.isConnected()?b():this.sendBuffer.push(b)}setAuth(e){this.accessToken=e,this.channels.forEach(a=>{e&&a.updateJoinPayload({access_token:e}),a.joinedOnce&&a._isJoined()&&a._push(CHANNEL_EVENTS.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let a=this.channels.find(c=>c.topic===e&&(c._isJoined()||c._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${e}"`),a.unsubscribe())}_remove(e){this.channels=this.channels.filter(a=>a._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}_onConnMessage(e){this.decode(e.data,a=>{let{topic:c,event:d,payload:g,ref:b}=a;(b&&b===this.pendingHeartbeatRef||d===(g==null?void 0:g.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${g.status||""} ${c} ${d} ${b&&"("+b+")"||""}`,g),this.channels.filter(_=>_._isMember(c)).forEach(_=>_._trigger(d,g,b)),this.stateChangeCallbacks.message.forEach(_=>_(a))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(CHANNEL_EVENTS.error))}_appendParams(e,a){if(Object.keys(a).length===0)return e;const c=e.match(/\?/)?"&":"?",d=new URLSearchParams(a);return`${e}${c}${d}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(WS_CLOSE_NORMAL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class WSWebSocketDummy{constructor(e,a,c){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=SOCKET_STATES.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=c.close}}class StorageError extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class StorageApiError extends StorageError{constructor(e,a){super(e),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class StorageUnknownError extends StorageError{constructor(e,a){super(e),this.name="StorageUnknownError",this.originalError=a}}var __awaiter$6=function(o,e,a,c){function d(g){return g instanceof a?g:new a(function(b){b(g)})}return new(a||(a=Promise))(function(g,b){function _(nt){try{tt(c.next(nt))}catch(it){b(it)}}function _e(nt){try{tt(c.throw(nt))}catch(it){b(it)}}function tt(nt){nt.done?g(nt.value):d(nt.value).then(_,_e)}tt((c=c.apply(o,e||[])).next())})};const resolveFetch$2=o=>{let e;return o?e=o:typeof fetch>"u"?e=(...a)=>__vitePreload(async()=>{const{default:c}=await Promise.resolve().then(()=>browser$1);return{default:c}},void 0).then(({default:c})=>c(...a)):e=fetch,(...a)=>e(...a)},resolveResponse=()=>__awaiter$6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser$1),void 0)).Response:Response}),recursiveToCamel=o=>{if(Array.isArray(o))return o.map(a=>recursiveToCamel(a));if(typeof o=="function"||o!==Object(o))return o;const e={};return Object.entries(o).forEach(([a,c])=>{const d=a.replace(/([-_][a-z])/gi,g=>g.toUpperCase().replace(/[-_]/g,""));e[d]=recursiveToCamel(c)}),e};var __awaiter$5=function(o,e,a,c){function d(g){return g instanceof a?g:new a(function(b){b(g)})}return new(a||(a=Promise))(function(g,b){function _(nt){try{tt(c.next(nt))}catch(it){b(it)}}function _e(nt){try{tt(c.throw(nt))}catch(it){b(it)}}function tt(nt){nt.done?g(nt.value):d(nt.value).then(_,_e)}tt((c=c.apply(o,e||[])).next())})};const _getErrorMessage$1=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),handleError$1=(o,e,a)=>__awaiter$5(void 0,void 0,void 0,function*(){const c=yield resolveResponse();o instanceof c&&!(a!=null&&a.noResolveJson)?o.json().then(d=>{e(new StorageApiError(_getErrorMessage$1(d),o.status||500))}).catch(d=>{e(new StorageUnknownError(_getErrorMessage$1(d),d))}):e(new StorageUnknownError(_getErrorMessage$1(o),o))}),_getRequestParams$1=(o,e,a,c)=>{const d={method:o,headers:(e==null?void 0:e.headers)||{}};return o==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),c&&(d.body=JSON.stringify(c)),Object.assign(Object.assign({},d),a))};function _handleRequest$1(o,e,a,c,d,g){return __awaiter$5(this,void 0,void 0,function*(){return new Promise((b,_)=>{o(a,_getRequestParams$1(e,c,d,g)).then(_e=>{if(!_e.ok)throw _e;return c!=null&&c.noResolveJson?_e:_e.json()}).then(_e=>b(_e)).catch(_e=>handleError$1(_e,_,c))})})}function get(o,e,a,c){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(o,"GET",e,a,c)})}function post(o,e,a,c,d){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(o,"POST",e,c,d,a)})}function put(o,e,a,c,d){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(o,"PUT",e,c,d,a)})}function head(o,e,a,c){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(o,"HEAD",e,Object.assign(Object.assign({},a),{noResolveJson:!0}),c)})}function remove$1(o,e,a,c,d){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(o,"DELETE",e,c,d,a)})}var __awaiter$4=function(o,e,a,c){function d(g){return g instanceof a?g:new a(function(b){b(g)})}return new(a||(a=Promise))(function(g,b){function _(nt){try{tt(c.next(nt))}catch(it){b(it)}}function _e(nt){try{tt(c.throw(nt))}catch(it){b(it)}}function tt(nt){nt.done?g(nt.value):d(nt.value).then(_,_e)}tt((c=c.apply(o,e||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(e,a={},c,d){this.url=e,this.headers=a,this.bucketId=c,this.fetch=resolveFetch$2(d)}uploadOrUpdate(e,a,c,d){return __awaiter$4(this,void 0,void 0,function*(){try{let g;const b=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),d);let _=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(b.upsert)});const _e=b.metadata;typeof Blob<"u"&&c instanceof Blob?(g=new FormData,g.append("cacheControl",b.cacheControl),g.append("",c),_e&&g.append("metadata",this.encodeMetadata(_e))):typeof FormData<"u"&&c instanceof FormData?(g=c,g.append("cacheControl",b.cacheControl),_e&&g.append("metadata",this.encodeMetadata(_e))):(g=c,_["cache-control"]=`max-age=${b.cacheControl}`,_["content-type"]=b.contentType,_e&&(_["x-metadata"]=this.toBase64(this.encodeMetadata(_e)))),d!=null&&d.headers&&(_=Object.assign(Object.assign({},_),d.headers));const tt=this._removeEmptyFolders(a),nt=this._getFinalPath(tt),it=yield this.fetch(`${this.url}/object/${nt}`,Object.assign({method:e,body:g,headers:_},b!=null&&b.duplex?{duplex:b.duplex}:{})),st=yield it.json();return it.ok?{data:{path:tt,id:st.Id,fullPath:st.Key},error:null}:{data:null,error:st}}catch(g){if(isStorageError(g))return{data:null,error:g};throw g}})}upload(e,a,c){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,a,c)})}uploadToSignedUrl(e,a,c,d){return __awaiter$4(this,void 0,void 0,function*(){const g=this._removeEmptyFolders(e),b=this._getFinalPath(g),_=new URL(this.url+`/object/upload/sign/${b}`);_.searchParams.set("token",a);try{let _e;const tt=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},d),nt=Object.assign(Object.assign({},this.headers),{"x-upsert":String(tt.upsert)});typeof Blob<"u"&&c instanceof Blob?(_e=new FormData,_e.append("cacheControl",tt.cacheControl),_e.append("",c)):typeof FormData<"u"&&c instanceof FormData?(_e=c,_e.append("cacheControl",tt.cacheControl)):(_e=c,nt["cache-control"]=`max-age=${tt.cacheControl}`,nt["content-type"]=tt.contentType);const it=yield this.fetch(_.toString(),{method:"PUT",body:_e,headers:nt}),st=yield it.json();return it.ok?{data:{path:g,fullPath:st.Key},error:null}:{data:null,error:st}}catch(_e){if(isStorageError(_e))return{data:null,error:_e};throw _e}})}createSignedUploadUrl(e,a){return __awaiter$4(this,void 0,void 0,function*(){try{let c=this._getFinalPath(e);const d=Object.assign({},this.headers);a!=null&&a.upsert&&(d["x-upsert"]="true");const g=yield post(this.fetch,`${this.url}/object/upload/sign/${c}`,{},{headers:d}),b=new URL(this.url+g.url),_=b.searchParams.get("token");if(!_)throw new StorageError("No token returned by API");return{data:{signedUrl:b.toString(),path:e,token:_},error:null}}catch(c){if(isStorageError(c))return{data:null,error:c};throw c}})}update(e,a,c){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,a,c)})}move(e,a,c){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:a,destinationBucket:c==null?void 0:c.destinationBucket},{headers:this.headers}),error:null}}catch(d){if(isStorageError(d))return{data:null,error:d};throw d}})}copy(e,a,c){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:a,destinationBucket:c==null?void 0:c.destinationBucket},{headers:this.headers})).Key},error:null}}catch(d){if(isStorageError(d))return{data:null,error:d};throw d}})}createSignedUrl(e,a,c){return __awaiter$4(this,void 0,void 0,function*(){try{let d=this._getFinalPath(e),g=yield post(this.fetch,`${this.url}/object/sign/${d}`,Object.assign({expiresIn:a},c!=null&&c.transform?{transform:c.transform}:{}),{headers:this.headers});const b=c!=null&&c.download?`&download=${c.download===!0?"":c.download}`:"";return g={signedUrl:encodeURI(`${this.url}${g.signedURL}${b}`)},{data:g,error:null}}catch(d){if(isStorageError(d))return{data:null,error:d};throw d}})}createSignedUrls(e,a,c){return __awaiter$4(this,void 0,void 0,function*(){try{const d=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:e},{headers:this.headers}),g=c!=null&&c.download?`&download=${c.download===!0?"":c.download}`:"";return{data:d.map(b=>Object.assign(Object.assign({},b),{signedUrl:b.signedURL?encodeURI(`${this.url}${b.signedURL}${g}`):null})),error:null}}catch(d){if(isStorageError(d))return{data:null,error:d};throw d}})}download(e,a){return __awaiter$4(this,void 0,void 0,function*(){const d=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",g=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),b=g?`?${g}`:"";try{const _=this._getFinalPath(e);return{data:yield(yield get(this.fetch,`${this.url}/${d}/${_}${b}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(_){if(isStorageError(_))return{data:null,error:_};throw _}})}info(e){return __awaiter$4(this,void 0,void 0,function*(){const a=this._getFinalPath(e);try{const c=yield get(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:recursiveToCamel(c),error:null}}catch(c){if(isStorageError(c))return{data:null,error:c};throw c}})}exists(e){return __awaiter$4(this,void 0,void 0,function*(){const a=this._getFinalPath(e);try{return yield head(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(c){if(isStorageError(c)&&c instanceof StorageUnknownError){const d=c.originalError;if([400,404].includes(d==null?void 0:d.status))return{data:!1,error:c}}throw c}})}getPublicUrl(e,a){const c=this._getFinalPath(e),d=[],g=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";g!==""&&d.push(g);const _=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",_e=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});_e!==""&&d.push(_e);let tt=d.join("&");return tt!==""&&(tt=`?${tt}`),{data:{publicUrl:encodeURI(`${this.url}/${_}/public/${c}${tt}`)}}}remove(e){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield remove$1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}list(e,a,c){return __awaiter$4(this,void 0,void 0,function*(){try{const d=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),a),{prefix:e||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,d,{headers:this.headers},c),error:null}}catch(d){if(isStorageError(d))return{data:null,error:d};throw d}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const a=[];return e.width&&a.push(`width=${e.width}`),e.height&&a.push(`height=${e.height}`),e.resize&&a.push(`resize=${e.resize}`),e.format&&a.push(`format=${e.format}`),e.quality&&a.push(`quality=${e.quality}`),a.join("&")}}const version$2="2.7.0",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`};var __awaiter$3=function(o,e,a,c){function d(g){return g instanceof a?g:new a(function(b){b(g)})}return new(a||(a=Promise))(function(g,b){function _(nt){try{tt(c.next(nt))}catch(it){b(it)}}function _e(nt){try{tt(c.throw(nt))}catch(it){b(it)}}function tt(nt){nt.done?g(nt.value):d(nt.value).then(_,_e)}tt((c=c.apply(o,e||[])).next())})};class StorageBucketApi{constructor(e,a={},c){this.url=e,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),a),this.fetch=resolveFetch$2(c)}listBuckets(){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}getBucket(e){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}createBucket(e,a={public:!1}){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(isStorageError(c))return{data:null,error:c};throw c}})}updateBucket(e,a){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(isStorageError(c))return{data:null,error:c};throw c}})}emptyBucket(e){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}deleteBucket(e){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield remove$1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}}class StorageClient extends StorageBucketApi{constructor(e,a={},c){super(e,a,c)}from(e){return new StorageFileApi(this.url,this.headers,e,this.fetch)}}const version$1="2.45.4";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$1}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};var __awaiter$2=function(o,e,a,c){function d(g){return g instanceof a?g:new a(function(b){b(g)})}return new(a||(a=Promise))(function(g,b){function _(nt){try{tt(c.next(nt))}catch(it){b(it)}}function _e(nt){try{tt(c.throw(nt))}catch(it){b(it)}}function tt(nt){nt.done?g(nt.value):d(nt.value).then(_,_e)}tt((c=c.apply(o,e||[])).next())})};const resolveFetch$1=o=>{let e;return o?e=o:typeof fetch>"u"?e=nodeFetch:e=fetch,(...a)=>e(...a)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=(o,e,a)=>{const c=resolveFetch$1(a),d=resolveHeadersConstructor();return(g,b)=>__awaiter$2(void 0,void 0,void 0,function*(){var _;const _e=(_=yield e())!==null&&_!==void 0?_:o;let tt=new d(b==null?void 0:b.headers);return tt.has("apikey")||tt.set("apikey",o),tt.has("Authorization")||tt.set("Authorization",`Bearer ${_e}`),c(g,Object.assign(Object.assign({},b),{headers:tt}))})};var __awaiter$1=function(o,e,a,c){function d(g){return g instanceof a?g:new a(function(b){b(g)})}return new(a||(a=Promise))(function(g,b){function _(nt){try{tt(c.next(nt))}catch(it){b(it)}}function _e(nt){try{tt(c.throw(nt))}catch(it){b(it)}}function tt(nt){nt.done?g(nt.value):d(nt.value).then(_,_e)}tt((c=c.apply(o,e||[])).next())})};function stripTrailingSlash(o){return o.replace(/\/$/,"")}function applySettingDefaults(o,e){const{db:a,auth:c,realtime:d,global:g}=o,{db:b,auth:_,realtime:_e,global:tt}=e,nt={db:Object.assign(Object.assign({},b),a),auth:Object.assign(Object.assign({},_),c),realtime:Object.assign(Object.assign({},_e),d),global:Object.assign(Object.assign({},tt),g),accessToken:()=>__awaiter$1(this,void 0,void 0,function*(){return""})};return o.accessToken?nt.accessToken=o.accessToken:delete nt.accessToken,nt}const version="2.65.0",GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},EXPIRY_MARGIN=10,API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function expiresAt(o){return Math.round(Date.now()/1e3)+o}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const e=Math.random()*16|0;return(o=="x"?e:e&3|8).toString(16)})}const isBrowser=()=>typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(o){const e={},a=new URL(o);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((d,g)=>{e[g]=d})}catch{}return a.searchParams.forEach((c,d)=>{e[d]=c}),e}const resolveFetch=o=>{let e;return o?e=o:typeof fetch>"u"?e=(...a)=>__vitePreload(async()=>{const{default:c}=await Promise.resolve().then(()=>browser$1);return{default:c}},void 0).then(({default:c})=>c(...a)):e=fetch,(...a)=>e(...a)},looksLikeFetchResponse=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",setItemAsync=async(o,e,a)=>{await o.setItem(e,JSON.stringify(a))},getItemAsync=async(o,e)=>{const a=await o.getItem(e);if(!a)return null;try{return JSON.parse(a)}catch{return a}},removeItemAsync=async(o,e)=>{await o.removeItem(e)};function decodeBase64URL(o){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let a="",c,d,g,b,_,_e,tt,nt=0;for(o=o.replace("-","+").replace("_","/");nt<o.length;)b=e.indexOf(o.charAt(nt++)),_=e.indexOf(o.charAt(nt++)),_e=e.indexOf(o.charAt(nt++)),tt=e.indexOf(o.charAt(nt++)),c=b<<2|_>>4,d=(_&15)<<4|_e>>2,g=(_e&3)<<6|tt,a=a+String.fromCharCode(c),_e!=64&&d!=0&&(a=a+String.fromCharCode(d)),tt!=64&&g!=0&&(a=a+String.fromCharCode(g));return a}class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((e,a)=>{this.resolve=e,this.reject=a})}}Deferred.promiseConstructor=Promise;function decodeJWTPayload(o){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,a=o.split(".");if(a.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(a[1]))throw new Error("JWT is not valid: payload is not in base64url format");const c=a[1];return JSON.parse(decodeBase64URL(c))}async function sleep$1(o){return await new Promise(e=>{setTimeout(()=>e(null),o)})}function retryable(o,e){return new Promise((c,d)=>{(async()=>{for(let g=0;g<1/0;g++)try{const b=await o(g);if(!e(g,null,b)){c(b);return}}catch(b){if(!e(g,b)){d(b);return}}})()})}function dec2hex(o){return("0"+o.toString(16)).substr(-2)}function generatePKCEVerifier(){const e=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",c=a.length;let d="";for(let g=0;g<56;g++)d+=a.charAt(Math.floor(Math.random()*c));return d}return crypto.getRandomValues(e),Array.from(e,dec2hex).join("")}async function sha256(o){const a=new TextEncoder().encode(o),c=await crypto.subtle.digest("SHA-256",a),d=new Uint8Array(c);return Array.from(d).map(g=>String.fromCharCode(g)).join("")}function base64urlencode(o){return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function generatePKCEChallenge(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const a=await sha256(o);return base64urlencode(a)}async function getCodeChallengeAndMethod(o,e,a=!1){const c=generatePKCEVerifier();let d=c;a&&(d+="/PASSWORD_RECOVERY"),await setItemAsync(o,`${e}-code-verifier`,d);const g=await generatePKCEChallenge(c);return[g,c===g?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(o){const e=o.headers.get(API_VERSION_HEADER_NAME);if(!e||!e.match(API_VERSION_REGEX))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class AuthError extends Error{constructor(e,a,c){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=c}}function isAuthError(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class AuthApiError extends AuthError{constructor(e,a,c){super(e,a,c),this.name="AuthApiError",this.status=a,this.code=c}}function isAuthApiError(o){return isAuthError(o)&&o.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(e,a){super(e),this.name="AuthUnknownError",this.originalError=a}}class CustomAuthError extends AuthError{constructor(e,a,c,d){super(e,c,d),this.name=a,this.status=c}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(o){return isAuthError(o)&&o.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(e,a=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(e,a=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(e,a){super(e,"AuthRetryableFetchError",a,void 0)}}function isAuthRetryableFetchError(o){return isAuthError(o)&&o.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(e,a,c){super(e,"AuthWeakPasswordError",a,"weak_password"),this.reasons=c}}var __rest$2=function(o,e){var a={};for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&e.indexOf(c)<0&&(a[c]=o[c]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(o);d<c.length;d++)e.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(o,c[d])&&(a[c[d]]=o[c[d]]);return a};const _getErrorMessage=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),NETWORK_ERROR_CODES=[502,503,504];async function handleError(o){var e;if(!looksLikeFetchResponse(o))throw new AuthRetryableFetchError(_getErrorMessage(o),0);if(NETWORK_ERROR_CODES.includes(o.status))throw new AuthRetryableFetchError(_getErrorMessage(o),o.status);let a;try{a=await o.json()}catch(g){throw new AuthUnknownError(_getErrorMessage(g),g)}let c;const d=parseResponseAPIVersion(o);if(d&&d.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?c=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(c=a.error_code),c){if(c==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(a),o.status,((e=a.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(c==="session_not_found")throw new AuthSessionMissingError}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((g,b)=>g&&typeof b=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(a),o.status,a.weak_password.reasons);throw new AuthApiError(_getErrorMessage(a),o.status||500,c)}const _getRequestParams=(o,e,a,c)=>{const d={method:o,headers:(e==null?void 0:e.headers)||{}};return o==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),d.body=JSON.stringify(c),Object.assign(Object.assign({},d),a))};async function _request(o,e,a,c){var d;const g=Object.assign({},c==null?void 0:c.headers);g[API_VERSION_HEADER_NAME]||(g[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),c!=null&&c.jwt&&(g.Authorization=`Bearer ${c.jwt}`);const b=(d=c==null?void 0:c.query)!==null&&d!==void 0?d:{};c!=null&&c.redirectTo&&(b.redirect_to=c.redirectTo);const _=Object.keys(b).length?"?"+new URLSearchParams(b).toString():"",_e=await _handleRequest(o,e,a+_,{headers:g,noResolveJson:c==null?void 0:c.noResolveJson},{},c==null?void 0:c.body);return c!=null&&c.xform?c==null?void 0:c.xform(_e):{data:Object.assign({},_e),error:null}}async function _handleRequest(o,e,a,c,d,g){const b=_getRequestParams(e,c,d,g);let _;try{_=await o(a,Object.assign({},b))}catch(_e){throw console.error(_e),new AuthRetryableFetchError(_getErrorMessage(_e),0)}if(_.ok||await handleError(_),c!=null&&c.noResolveJson)return _;try{return await _.json()}catch(_e){await handleError(_e)}}function _sessionResponse(o){var e;let a=null;hasSession(o)&&(a=Object.assign({},o),o.expires_at||(a.expires_at=expiresAt(o.expires_in)));const c=(e=o.user)!==null&&e!==void 0?e:o;return{data:{session:a,user:c},error:null}}function _sessionResponsePassword(o){const e=_sessionResponse(o);return!e.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0)&&(e.data.weak_password=o.weak_password),e}function _userResponse(o){var e;return{data:{user:(e=o.user)!==null&&e!==void 0?e:o},error:null}}function _ssoResponse(o){return{data:o,error:null}}function _generateLinkResponse(o){const{action_link:e,email_otp:a,hashed_token:c,redirect_to:d,verification_type:g}=o,b=__rest$2(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),_={action_link:e,email_otp:a,hashed_token:c,redirect_to:d,verification_type:g},_e=Object.assign({},b);return{data:{properties:_,user:_e},error:null}}function _noResolveJsonResponse(o){return o}function hasSession(o){return o.access_token&&o.refresh_token&&o.expires_in}var __rest$1=function(o,e){var a={};for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&e.indexOf(c)<0&&(a[c]=o[c]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(o);d<c.length;d++)e.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(o,c[d])&&(a[c[d]]=o[c[d]]);return a};class GoTrueAdminApi{constructor({url:e="",headers:a={},fetch:c}){this.url=e,this.headers=a,this.fetch=resolveFetch(c),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,a="global"){try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(c){if(isAuthError(c))return{data:null,error:c};throw c}}async inviteUserByEmail(e,a={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:_userResponse})}catch(c){if(isAuthError(c))return{data:{user:null},error:c};throw c}}async generateLink(e){try{const{options:a}=e,c=__rest$1(e,["options"]),d=Object.assign(Object.assign({},c),a);return"newEmail"in c&&(d.new_email=c==null?void 0:c.newEmail,delete d.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:_generateLinkResponse,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(isAuthError(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(e){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_userResponse})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}}async listUsers(e){var a,c,d,g,b,_,_e;try{const tt={nextPage:null,lastPage:0,total:0},nt=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(c=(a=e==null?void 0:e.page)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:"",per_page:(g=(d=e==null?void 0:e.perPage)===null||d===void 0?void 0:d.toString())!==null&&g!==void 0?g:""},xform:_noResolveJsonResponse});if(nt.error)throw nt.error;const it=await nt.json(),st=(b=nt.headers.get("x-total-count"))!==null&&b!==void 0?b:0,ot=(_e=(_=nt.headers.get("link"))===null||_===void 0?void 0:_.split(","))!==null&&_e!==void 0?_e:[];return ot.length>0&&(ot.forEach(ht=>{const dt=parseInt(ht.split(";")[0].split("=")[1].substring(0,1)),Et=JSON.parse(ht.split(";")[1].split("=")[1]);tt[`${Et}Page`]=dt}),tt.total=parseInt(st)),{data:Object.assign(Object.assign({},it),tt),error:null}}catch(tt){if(isAuthError(tt))return{data:{users:[]},error:tt};throw tt}}async getUserById(e){try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_userResponse})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}}async updateUserById(e,a){try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:a,headers:this.headers,xform:_userResponse})}catch(c){if(isAuthError(c))return{data:{user:null},error:c};throw c}}async deleteUser(e,a=!1){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:a},xform:_userResponse})}catch(c){if(isAuthError(c))return{data:{user:null},error:c};throw c}}async _listFactors(e){try{const{data:a,error:c}=await _request(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:a,error:c}}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _deleteFactor(e){try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}}const localStorageAdapter={getItem:o=>supportsLocalStorage()?globalThis.localStorage.getItem(o):null,setItem:(o,e)=>{supportsLocalStorage()&&globalThis.localStorage.setItem(o,e)},removeItem:o=>{supportsLocalStorage()&&globalThis.localStorage.removeItem(o)}};function memoryLocalStorageAdapter(o={}){return{getItem:e=>o[e]||null,setItem:(e,a)=>{o[e]=a},removeItem:e=>{delete o[e]}}}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(o,e,a){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,e);const c=new globalThis.AbortController;return e>0&&setTimeout(()=>{c.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},e),await globalThis.navigator.locks.request(o,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:c.signal},async d=>{if(d){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,d.name);try{return await a()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,d.name)}}else{if(e===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(internals.debug)try{const g=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(g,null,"  "))}catch(g){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",g)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}})}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},AUTO_REFRESH_TICK_DURATION=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3;async function lockNoOp(o,e,a){return await a()}class GoTrueClient{constructor(e){var a,c;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const d=Object.assign(Object.assign({},DEFAULT_OPTIONS),e);if(this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.persistSession=d.persistSession,this.storageKey=d.storageKey,this.autoRefreshToken=d.autoRefreshToken,this.admin=new GoTrueAdminApi({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=resolveFetch(d.fetch),this.lock=d.lock||lockNoOp,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,d.lock?this.lock=d.lock:isBrowser()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?d.storage?this.storage=d.storage:supportsLocalStorage()?this.storage=localStorageAdapter:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(g){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",g)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async g=>{this._debug("received broadcast notification from other tab or client",g),await this._notifyAllSubscribers(g.data.event,g.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=isBrowser()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:a,error:c}=await this._getSessionFromURL(e);if(c)return this._debug("#_initialize()","error detecting session from URL",c),(c==null?void 0:c.message)==="Identity is already linked"||(c==null?void 0:c.message)==="Identity is already linked to another user"?{error:c}:(await this._removeSession(),{error:c});const{session:d,redirectType:g}=a;return this._debug("#_initialize()","detected session in URL",d,"redirect type",g),await this._saveSession(d),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return isAuthError(e)?{error:e}:{error:new AuthUnknownError("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var a,c,d;try{const g=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(c=(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.data)!==null&&c!==void 0?c:{},gotrue_meta_security:{captcha_token:(d=e==null?void 0:e.options)===null||d===void 0?void 0:d.captchaToken}},xform:_sessionResponse}),{data:b,error:_}=g;if(_||!b)return{data:{user:null,session:null},error:_};const _e=b.session,tt=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",_e)),{data:{user:tt,session:_e},error:null}}catch(g){if(isAuthError(g))return{data:{user:null,session:null},error:g};throw g}}async signUp(e){var a,c,d;try{let g;if("email"in e){const{email:nt,password:it,options:st}=e;let ot=null,ht=null;this.flowType==="pkce"&&([ot,ht]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),g=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:st==null?void 0:st.emailRedirectTo,body:{email:nt,password:it,data:(a=st==null?void 0:st.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:st==null?void 0:st.captchaToken},code_challenge:ot,code_challenge_method:ht},xform:_sessionResponse})}else if("phone"in e){const{phone:nt,password:it,options:st}=e;g=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:nt,password:it,data:(c=st==null?void 0:st.data)!==null&&c!==void 0?c:{},channel:(d=st==null?void 0:st.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:st==null?void 0:st.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:b,error:_}=g;if(_||!b)return{data:{user:null,session:null},error:_};const _e=b.session,tt=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",_e)),{data:{user:tt,session:_e},error:null}}catch(g){if(isAuthError(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithPassword(e){try{let a;if("email"in e){const{email:g,password:b,options:_}=e;a=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:g,password:b,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in e){const{phone:g,password:b,options:_}=e;a=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:g,password:b,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:c,error:d}=a;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign({user:c.user,session:c.session},c.weak_password?{weakPassword:c.weak_password}:null),error:d})}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(e){var a,c,d,g;return await this._handleProviderSignIn(e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(g=e.options)===null||g===void 0?void 0:g.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const a=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[c,d]=(a??"").split("/");try{const{data:g,error:b}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:c},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),b)throw b;return!g||!g.session||!g.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign(Object.assign({},g),{redirectType:d??null}),error:b})}catch(g){if(isAuthError(g))return{data:{user:null,session:null,redirectType:null},error:g};throw g}}async signInWithIdToken(e){try{const{options:a,provider:c,token:d,access_token:g,nonce:b}=e,_=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:c,id_token:d,access_token:g,nonce:b,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_sessionResponse}),{data:_e,error:tt}=_;return tt?{data:{user:null,session:null},error:tt}:!_e||!_e.session||!_e.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(_e.session&&(await this._saveSession(_e.session),await this._notifyAllSubscribers("SIGNED_IN",_e.session)),{data:_e,error:tt})}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(e){var a,c,d,g,b;try{if("email"in e){const{email:_,options:_e}=e;let tt=null,nt=null;this.flowType==="pkce"&&([tt,nt]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:it}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:_,data:(a=_e==null?void 0:_e.data)!==null&&a!==void 0?a:{},create_user:(c=_e==null?void 0:_e.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:_e==null?void 0:_e.captchaToken},code_challenge:tt,code_challenge_method:nt},redirectTo:_e==null?void 0:_e.emailRedirectTo});return{data:{user:null,session:null},error:it}}if("phone"in e){const{phone:_,options:_e}=e,{data:tt,error:nt}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:_,data:(d=_e==null?void 0:_e.data)!==null&&d!==void 0?d:{},create_user:(g=_e==null?void 0:_e.shouldCreateUser)!==null&&g!==void 0?g:!0,gotrue_meta_security:{captcha_token:_e==null?void 0:_e.captchaToken},channel:(b=_e==null?void 0:_e.channel)!==null&&b!==void 0?b:"sms"}});return{data:{user:null,session:null,messageId:tt==null?void 0:tt.message_id},error:nt}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(_){if(isAuthError(_))return{data:{user:null,session:null},error:_};throw _}}async verifyOtp(e){var a,c;try{let d,g;"options"in e&&(d=(a=e.options)===null||a===void 0?void 0:a.redirectTo,g=(c=e.options)===null||c===void 0?void 0:c.captchaToken);const{data:b,error:_}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:g}}),redirectTo:d,xform:_sessionResponse});if(_)throw _;if(!b)throw new Error("An error occurred on token verification.");const _e=b.session,tt=b.user;return _e!=null&&_e.access_token&&(await this._saveSession(_e),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",_e)),{data:{user:tt,session:_e},error:null}}catch(d){if(isAuthError(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithSSO(e){var a,c,d;try{let g=null,b=null;return this.flowType==="pkce"&&([g,b]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(c=(a=e.options)===null||a===void 0?void 0:a.redirectTo)!==null&&c!==void 0?c:void 0}),!((d=e==null?void 0:e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:b}),headers:this.headers,xform:_ssoResponse})}catch(g){if(isAuthError(g))return{data:null,error:g};throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:a},error:c}=e;if(c)throw c;if(!a)throw new AuthSessionMissingError;const{error:d}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:d}})}catch(e){if(isAuthError(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const a=`${this.url}/resend`;if("email"in e){const{email:c,type:d,options:g}=e,{error:b}=await _request(this.fetch,"POST",a,{headers:this.headers,body:{email:c,type:d,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:b}}else if("phone"in e){const{phone:c,type:d,options:g}=e,{data:b,error:_}=await _request(this.fetch,"POST",a,{headers:this.headers,body:{phone:c,type:d,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}}});return{data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:_}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(e,a){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const c=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await c,await a()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const c=a();for(this.pendingInLock.push((async()=>{try{await c}catch{}})()),await c;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await c}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await e(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const a=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?e=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const c=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${c?"":" not"} expired`,"expires_at",e.expires_at),!c){if(this.storage.isServer){let b=this.suppressGetSessionWarning;e=new Proxy(e,{get:(_e,tt,nt)=>(!b&&tt==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),b=!0,this.suppressGetSessionWarning=!0),Reflect.get(_e,tt,nt))})}return{data:{session:e},error:null}}const{session:d,error:g}=await this._callRefreshToken(e.refresh_token);return g?{data:{session:null},error:g}:{data:{session:d},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_userResponse}):await this._useSession(async a=>{var c,d,g;const{data:b,error:_}=a;if(_)throw _;return!(!((c=b.session)===null||c===void 0)&&c.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(g=(d=b.session)===null||d===void 0?void 0:d.access_token)!==null&&g!==void 0?g:void 0,xform:_userResponse})})}catch(a){if(isAuthError(a))return isAuthSessionMissingError(a)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:a};throw a}}async updateUser(e,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,a))}async _updateUser(e,a={}){try{return await this._useSession(async c=>{const{data:d,error:g}=c;if(g)throw g;if(!d.session)throw new AuthSessionMissingError;const b=d.session;let _=null,_e=null;this.flowType==="pkce"&&e.email!=null&&([_,_e]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:tt,error:nt}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:_,code_challenge_method:_e}),jwt:b.access_token,xform:_userResponse});if(nt)throw nt;return b.user=tt.user,await this._saveSession(b),await this._notifyAllSubscribers("USER_UPDATED",b),{data:{user:b.user},error:null}})}catch(c){if(isAuthError(c))return{data:{user:null},error:c};throw c}}_decodeJWT(e){return decodeJWTPayload(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new AuthSessionMissingError;const a=Date.now()/1e3;let c=a,d=!0,g=null;const b=decodeJWTPayload(e.access_token);if(b.exp&&(c=b.exp,d=c<=a),d){const{session:_,error:_e}=await this._callRefreshToken(e.refresh_token);if(_e)return{data:{user:null,session:null},error:_e};if(!_)return{data:{user:null,session:null},error:null};g=_}else{const{data:_,error:_e}=await this._getUser(e.access_token);if(_e)throw _e;g={access_token:e.access_token,refresh_token:e.refresh_token,user:_.user,token_type:"bearer",expires_in:c-a,expires_at:c},await this._saveSession(g),await this._notifyAllSubscribers("SIGNED_IN",g)}return{data:{user:g.user,session:g},error:null}}catch(a){if(isAuthError(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async a=>{var c;if(!e){const{data:b,error:_}=a;if(_)throw _;e=(c=b.session)!==null&&c!==void 0?c:void 0}if(!(e!=null&&e.refresh_token))throw new AuthSessionMissingError;const{session:d,error:g}=await this._callRefreshToken(e.refresh_token);return g?{data:{user:null,session:null},error:g}:d?{data:{user:d.user,session:d},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(e){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");const a=parseParametersFromURL(window.location.href);if(e){if(!a.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:gt,error:St}=await this._exchangeCodeForSession(a.code);if(St)throw St;const Tt=new URL(window.location.href);return Tt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Tt.toString()),{data:{session:gt.session,redirectType:null},error:null}}if(a.error||a.error_description||a.error_code)throw new AuthImplicitGrantRedirectError(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});const{provider_token:c,provider_refresh_token:d,access_token:g,refresh_token:b,expires_in:_,expires_at:_e,token_type:tt}=a;if(!g||!_||!b||!tt)throw new AuthImplicitGrantRedirectError("No session defined in URL");const nt=Math.round(Date.now()/1e3),it=parseInt(_);let st=nt+it;_e&&(st=parseInt(_e));const ot=st-nt;ot*1e3<=AUTO_REFRESH_TICK_DURATION&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${ot}s, should have been closer to ${it}s`);const ht=st-it;nt-ht>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",ht,st,nt):nt-ht<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",ht,st,nt);const{data:dt,error:Et}=await this._getUser(g);if(Et)throw Et;const pt={provider_token:c,provider_refresh_token:d,access_token:g,expires_in:it,expires_at:st,refresh_token:b,token_type:tt,user:dt.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:pt,redirectType:a.type},error:null}}catch(a){if(isAuthError(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantFlow(){const e=parseParametersFromURL(window.location.href);return!!(isBrowser()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=parseParametersFromURL(window.location.href),a=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&a)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async a=>{var c;const{data:d,error:g}=a;if(g)return{error:g};const b=(c=d.session)===null||c===void 0?void 0:c.access_token;if(b){const{error:_}=await this.admin.signOut(b,e);if(_&&!(isAuthApiError(_)&&(_.status===404||_.status===401||_.status===403)))return{error:_}}return e!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const a=uuid(),c={id:a,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,c),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:c}}}async _emitInitialSession(e){return await this._useSession(async a=>{var c,d;try{const{data:{session:g},error:b}=a;if(b)throw b;await((c=this.stateChangeEmitters.get(e))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",g)),this._debug("INITIAL_SESSION","callback id",e,"session",g)}catch(g){await((d=this.stateChangeEmitters.get(e))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",g),console.error(g)}})}async resetPasswordForEmail(e,a={}){let c=null,d=null;this.flowType==="pkce"&&([c,d]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:c,code_challenge_method:d,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(g){if(isAuthError(g))return{data:null,error:g};throw g}}async getUserIdentities(){var e;try{const{data:a,error:c}=await this.getUser();if(c)throw c;return{data:{identities:(e=a.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async linkIdentity(e){var a;try{const{data:c,error:d}=await this._useSession(async g=>{var b,_,_e,tt,nt;const{data:it,error:st}=g;if(st)throw st;const ot=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(b=e.options)===null||b===void 0?void 0:b.redirectTo,scopes:(_=e.options)===null||_===void 0?void 0:_.scopes,queryParams:(_e=e.options)===null||_e===void 0?void 0:_e.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",ot,{headers:this.headers,jwt:(nt=(tt=it.session)===null||tt===void 0?void 0:tt.access_token)!==null&&nt!==void 0?nt:void 0})});if(d)throw d;return isBrowser()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c==null?void 0:c.url),{data:{provider:e.provider,url:c==null?void 0:c.url},error:null}}catch(c){if(isAuthError(c))return{data:{provider:e.provider,url:null},error:c};throw c}}async unlinkIdentity(e){try{return await this._useSession(async a=>{var c,d;const{data:g,error:b}=a;if(b)throw b;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(d=(c=g.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _refreshAccessToken(e){const a=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{const c=Date.now();return await retryable(async d=>(d>0&&await sleep$1(200*Math.pow(2,d-1)),this._debug(a,"refreshing attempt",d),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_sessionResponse})),(d,g)=>{const b=200*Math.pow(2,d);return g&&isAuthRetryableFetchError(g)&&Date.now()+b-c<AUTO_REFRESH_TICK_DURATION})}catch(c){if(this._debug(a,"error",c),isAuthError(c))return{data:{session:null,user:null},error:c};throw c}finally{this._debug(a,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,a){const c=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",a,"url",c),isBrowser()&&!a.skipBrowserRedirect&&window.location.assign(c),{data:{provider:e,url:c},error:null}}async _recoverAndRefresh(){var e;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const c=await getItemAsync(this.storage,this.storageKey);if(this._debug(a,"session from storage",c),!this._isValidSession(c)){this._debug(a,"session is not valid"),c!==null&&await this._removeSession();return}const d=Math.round(Date.now()/1e3),g=((e=c.expires_at)!==null&&e!==void 0?e:1/0)<d+EXPIRY_MARGIN;if(this._debug(a,`session has${g?"":" not"} expired with margin of ${EXPIRY_MARGIN}s`),g){if(this.autoRefreshToken&&c.refresh_token){const{error:b}=await this._callRefreshToken(c.refresh_token);b&&(console.error(b),isAuthRetryableFetchError(b)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",b),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(a,"error",c),console.error(c);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var a,c;if(!e)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Deferred;const{data:g,error:b}=await this._refreshAccessToken(e);if(b)throw b;if(!g.session)throw new AuthSessionMissingError;await this._saveSession(g.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",g.session);const _={session:g.session,error:null};return this.refreshingDeferred.resolve(_),_}catch(g){if(this._debug(d,"error",g),isAuthError(g)){const b={session:null,error:g};return isAuthRetryableFetchError(g)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(b),b}throw(c=this.refreshingDeferred)===null||c===void 0||c.reject(g),g}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(e,a,c=!0){const d=`#_notifyAllSubscribers(${e})`;this._debug(d,"begin",a,`broadcast = ${c}`);try{this.broadcastChannel&&c&&this.broadcastChannel.postMessage({event:e,session:a});const g=[],b=Array.from(this.stateChangeEmitters.values()).map(async _=>{try{await _.callback(e,a)}catch(_e){g.push(_e)}});if(await Promise.all(b),g.length>0){for(let _=0;_<g.length;_+=1)console.error(g[_]);throw g[0]}}finally{this._debug(d,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await setItemAsync(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&isBrowser()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async a=>{const{data:{session:c}}=a;if(!c||!c.refresh_token||!c.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((c.expires_at*1e3-e)/AUTO_REFRESH_TICK_DURATION);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),d<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(c.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const a=`#_onVisibilityChanged(${e})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,a,c){const d=[`provider=${encodeURIComponent(a)}`];if(c!=null&&c.redirectTo&&d.push(`redirect_to=${encodeURIComponent(c.redirectTo)}`),c!=null&&c.scopes&&d.push(`scopes=${encodeURIComponent(c.scopes)}`),this.flowType==="pkce"){const[g,b]=await getCodeChallengeAndMethod(this.storage,this.storageKey),_=new URLSearchParams({code_challenge:`${encodeURIComponent(g)}`,code_challenge_method:`${encodeURIComponent(b)}`});d.push(_.toString())}if(c!=null&&c.queryParams){const g=new URLSearchParams(c.queryParams);d.push(g.toString())}return c!=null&&c.skipBrowserRedirect&&d.push(`skip_http_redirect=${c.skipBrowserRedirect}`),`${e}?${d.join("&")}`}async _unenroll(e){try{return await this._useSession(async a=>{var c;const{data:d,error:g}=a;return g?{data:null,error:g}:await _request(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(c=d==null?void 0:d.session)===null||c===void 0?void 0:c.access_token})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _enroll(e){try{return await this._useSession(async a=>{var c,d;const{data:g,error:b}=a;if(b)return{data:null,error:b};const _=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:_e,error:tt}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:_,headers:this.headers,jwt:(c=g==null?void 0:g.session)===null||c===void 0?void 0:c.access_token});return tt?{data:null,error:tt}:(e.factorType==="phone"&&delete _e.totp,e.factorType==="totp"&&(!((d=_e==null?void 0:_e.totp)===null||d===void 0)&&d.qr_code)&&(_e.totp.qr_code=`data:image/svg+xml;utf-8,${_e.totp.qr_code}`),{data:_e,error:null})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var c;const{data:d,error:g}=a;if(g)return{data:null,error:g};const{data:b,error:_}=await _request(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(c=d==null?void 0:d.session)===null||c===void 0?void 0:c.access_token});return _?{data:null,error:_}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+b.expires_in},b)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",b),{data:b,error:_})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var c;const{data:d,error:g}=a;return g?{data:null,error:g}:await _request(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(c=d==null?void 0:d.session)===null||c===void 0?void 0:c.access_token})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(e){const{data:a,error:c}=await this._challenge({factorId:e.factorId});return c?{data:null,error:c}:await this._verify({factorId:e.factorId,challengeId:a.id,code:e.code})}async _listFactors(){const{data:{user:e},error:a}=await this.getUser();if(a)return{data:null,error:a};const c=(e==null?void 0:e.factors)||[],d=c.filter(b=>b.factor_type==="totp"&&b.status==="verified"),g=c.filter(b=>b.factor_type==="phone"&&b.status==="verified");return{data:{all:c,totp:d,phone:g},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var a,c;const{data:{session:d},error:g}=e;if(g)return{data:null,error:g};if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const b=this._decodeJWT(d.access_token);let _=null;b.aal&&(_=b.aal);let _e=_;((c=(a=d.user.factors)===null||a===void 0?void 0:a.filter(it=>it.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(_e="aal2");const nt=b.amr||[];return{data:{currentLevel:_,nextLevel:_e,currentAuthenticationMethods:nt},error:null}}))}}GoTrueClient.nextInstanceID=0;const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor(e){super(e)}}var __awaiter=function(o,e,a,c){function d(g){return g instanceof a?g:new a(function(b){b(g)})}return new(a||(a=Promise))(function(g,b){function _(nt){try{tt(c.next(nt))}catch(it){b(it)}}function _e(nt){try{tt(c.throw(nt))}catch(it){b(it)}}function tt(nt){nt.done?g(nt.value):d(nt.value).then(_,_e)}tt((c=c.apply(o,e||[])).next())})};class SupabaseClient{constructor(e,a,c){var d,g,b;if(this.supabaseUrl=e,this.supabaseKey=a,!e)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const _=stripTrailingSlash(e);this.realtimeUrl=`${_}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${_}/auth/v1`,this.storageUrl=`${_}/storage/v1`,this.functionsUrl=`${_}/functions/v1`;const _e=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,tt={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:_e}),global:DEFAULT_GLOBAL_OPTIONS},nt=applySettingDefaults(c??{},tt);this.storageKey=(d=nt.auth.storageKey)!==null&&d!==void 0?d:"",this.headers=(g=nt.global.headers)!==null&&g!==void 0?g:{},nt.accessToken?(this.accessToken=nt.accessToken,this.auth=new Proxy({},{get:(it,st)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(st)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((b=nt.auth)!==null&&b!==void 0?b:{},this.headers,nt.global.fetch),this.fetch=fetchWithAuth(a,this._getAccessToken.bind(this),nt.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},nt.realtime)),this.rest=new PostgrestClient(`${_}/rest/v1`,{headers:this.headers,schema:nt.db.schema,fetch:this.fetch}),nt.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new StorageClient(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,a={},c={}){return this.rest.rpc(e,a,c)}channel(e,a={config:{}}){return this.realtime.channel(e,a)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,a;return __awaiter(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:c}=yield this.auth.getSession();return(a=(e=c.session)===null||e===void 0?void 0:e.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:a,detectSessionInUrl:c,storage:d,storageKey:g,flowType:b,lock:_,debug:_e},tt,nt){var it;const st={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl,headers:Object.assign(Object.assign({},st),tt),storageKey:g,autoRefreshToken:e,persistSession:a,detectSessionInUrl:c,storage:d,flowType:b,lock:_,debug:_e,fetch:nt,hasCustomAuthorizationHeader:(it="Authorization"in this.headers)!==null&&it!==void 0?it:!1})}_initRealtimeClient(e){return new RealtimeClient(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,c)=>{this._handleTokenChanged(a,"CLIENT",c==null?void 0:c.access_token)})}_handleTokenChanged(e,a,c){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==c?(this.realtime.setAuth(c??null),this.changedAccessToken=c):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(o,e,a)=>new SupabaseClient(o,e,a);var byteToHex=[];for(var i$1=0;i$1<256;++i$1)byteToHex.push((i$1+256).toString(16).slice(1));function unsafeStringify(o,e=0){return(byteToHex[o[e+0]]+byteToHex[o[e+1]]+byteToHex[o[e+2]]+byteToHex[o[e+3]]+"-"+byteToHex[o[e+4]]+byteToHex[o[e+5]]+"-"+byteToHex[o[e+6]]+byteToHex[o[e+7]]+"-"+byteToHex[o[e+8]]+byteToHex[o[e+9]]+"-"+byteToHex[o[e+10]]+byteToHex[o[e+11]]+byteToHex[o[e+12]]+byteToHex[o[e+13]]+byteToHex[o[e+14]]+byteToHex[o[e+15]]).toLowerCase()}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const native={randomUUID};function v4(o,e,a){if(native.randomUUID&&!e&&!o)return native.randomUUID();o=o||{};var c=o.random||(o.rng||rng)();return c[6]=c[6]&15|64,c[8]=c[8]&63|128,unsafeStringify(c)}var Ct=o=>{switch(o){case"success":return $t;case"info":return _t;case"warning":return Wt;case"error":return Ut;default:return null}},Ft=Array(12).fill(0),It=({visible:o})=>React.createElement("div",{className:"sonner-loading-wrapper","data-visible":o},React.createElement("div",{className:"sonner-spinner"},Ft.map((e,a)=>React.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),$t=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Wt=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_t=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ut=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Dt=()=>{let[o,e]=React.useState(document.hidden);return React.useEffect(()=>{let a=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),o},ct=1,ut=class{constructor(){this.subscribe=o=>(this.subscribers.push(o),()=>{let e=this.subscribers.indexOf(o);this.subscribers.splice(e,1)}),this.publish=o=>{this.subscribers.forEach(e=>e(o))},this.addToast=o=>{this.publish(o),this.toasts=[...this.toasts,o]},this.create=o=>{var e;let{message:a,...c}=o,d=typeof(o==null?void 0:o.id)=="number"||((e=o.id)==null?void 0:e.length)>0?o.id:ct++,g=this.toasts.find(_=>_.id===d),b=o.dismissible===void 0?!0:o.dismissible;return g?this.toasts=this.toasts.map(_=>_.id===d?(this.publish({..._,...o,id:d,title:a}),{..._,...o,id:d,dismissible:b,title:a}):_):this.addToast({title:a,...c,dismissible:b,id:d}),d},this.dismiss=o=>(o||this.toasts.forEach(e=>{this.subscribers.forEach(a=>a({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:o,dismiss:!0})),o),this.message=(o,e)=>this.create({...e,message:o}),this.error=(o,e)=>this.create({...e,message:o,type:"error"}),this.success=(o,e)=>this.create({...e,type:"success",message:o}),this.info=(o,e)=>this.create({...e,type:"info",message:o}),this.warning=(o,e)=>this.create({...e,type:"warning",message:o}),this.loading=(o,e)=>this.create({...e,type:"loading",message:o}),this.promise=(o,e)=>{if(!e)return;let a;e.loading!==void 0&&(a=this.create({...e,promise:o,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let c=o instanceof Promise?o:o(),d=a!==void 0;return c.then(async g=>{if(Ot(g)&&!g.ok){d=!1;let b=typeof e.error=="function"?await e.error(`HTTP error! status: ${g.status}`):e.error,_=typeof e.description=="function"?await e.description(`HTTP error! status: ${g.status}`):e.description;this.create({id:a,type:"error",message:b,description:_})}else if(e.success!==void 0){d=!1;let b=typeof e.success=="function"?await e.success(g):e.success,_=typeof e.description=="function"?await e.description(g):e.description;this.create({id:a,type:"success",message:b,description:_})}}).catch(async g=>{if(e.error!==void 0){d=!1;let b=typeof e.error=="function"?await e.error(g):e.error,_=typeof e.description=="function"?await e.description(g):e.description;this.create({id:a,type:"error",message:b,description:_})}}).finally(()=>{var g;d&&(this.dismiss(a),a=void 0),(g=e.finally)==null||g.call(e)}),a},this.custom=(o,e)=>{let a=(e==null?void 0:e.id)||ct++;return this.create({jsx:o(a),id:a,...e}),a},this.subscribers=[],this.toasts=[]}},v=new ut,Vt=(o,e)=>{let a=(e==null?void 0:e.id)||ct++;return v.addToast({title:o,...e,id:a}),a},Ot=o=>o&&typeof o=="object"&&"ok"in o&&typeof o.ok=="boolean"&&"status"in o&&typeof o.status=="number",Kt=Vt,Xt=()=>v.toasts,Jt=Object.assign(Kt,{success:v.success,info:v.info,warning:v.warning,error:v.error,custom:v.custom,message:v.message,promise:v.promise,dismiss:v.dismiss,loading:v.loading},{getHistory:Xt});function ft(o,{insertAt:e}={}){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",e==="top"&&a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c),c.styleSheet?c.styleSheet.cssText=o:c.appendChild(document.createTextNode(o))}ft(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function U(o){return o.label!==void 0}var qt=3,Qt="32px",Zt=4e3,te=356,ee=14,oe=20,ae=200;function ne(...o){return o.filter(Boolean).join(" ")}var se=o=>{var e,a,c,d,g,b,_,_e,tt,nt;let{invert:it,toast:st,unstyled:ot,interacting:ht,setHeights:dt,visibleToasts:Et,heights:pt,index:gt,toasts:St,expanded:Tt,removeToast:bt,defaultRichColors:vt,closeButton:kt,style:Nt,cancelButtonStyle:en,actionButtonStyle:jt,className:tn="",descriptionClassName:Yt="",duration:pn,position:mn,gap:dn,loadingIcon:On,expandByDefault:hn,classNames:zt,icons:nn,closeButtonAriaLabel:wt="Close toast",pauseWhenPageIsHidden:fn,cn:Sn}=o,[Pt,wn]=React.useState(!1),[In,xn]=React.useState(!1),[Wn,Gn]=React.useState(!1),[Fn,ir]=React.useState(!1),[pr,mr]=React.useState(0),[Nr,ar]=React.useState(0),wr=React.useRef(null),Cr=React.useRef(null),gr=gt===0,hs=gt+1<=Et,er=st.type,Er=st.dismissible!==!1,Sr=st.className||"",Xr=st.descriptionClassName||"",Br=React.useMemo(()=>pt.findIndex(vn=>vn.toastId===st.id)||0,[pt,st.id]),Gs=React.useMemo(()=>{var vn;return(vn=st.closeButton)!=null?vn:kt},[st.closeButton,kt]),Yr=React.useMemo(()=>st.duration||pn||Zt,[st.duration,pn]),Lt=React.useRef(0),sn=React.useRef(0),En=React.useRef(0),bn=React.useRef(null),[Dn,tr]=mn.split("-"),lr=React.useMemo(()=>pt.reduce((vn,Xn,Zn)=>Zn>=Br?vn:vn+Xn.height,0),[pt,Br]),hr=Dt(),yr=st.invert||it,kr=er==="loading";sn.current=React.useMemo(()=>Br*dn+lr,[Br,lr]),React.useEffect(()=>{wn(!0)},[]),React.useLayoutEffect(()=>{if(!Pt)return;let vn=Cr.current,Xn=vn.style.height;vn.style.height="auto";let Zn=vn.getBoundingClientRect().height;vn.style.height=Xn,ar(Zn),dt(Fr=>Fr.find(jr=>jr.toastId===st.id)?Fr.map(jr=>jr.toastId===st.id?{...jr,height:Zn}:jr):[{toastId:st.id,height:Zn,position:st.position},...Fr])},[Pt,st.title,st.description,dt,st.id]);let qn=React.useCallback(()=>{xn(!0),mr(sn.current),dt(vn=>vn.filter(Xn=>Xn.toastId!==st.id)),setTimeout(()=>{bt(st)},ae)},[st,bt,dt,sn]);React.useEffect(()=>{if(st.promise&&er==="loading"||st.duration===1/0||st.type==="loading")return;let vn,Xn=Yr;return Tt||ht||fn&&hr?(()=>{if(En.current<Lt.current){let Zn=new Date().getTime()-Lt.current;Xn=Xn-Zn}En.current=new Date().getTime()})():Xn!==1/0&&(Lt.current=new Date().getTime(),vn=setTimeout(()=>{var Zn;(Zn=st.onAutoClose)==null||Zn.call(st,st),qn()},Xn)),()=>clearTimeout(vn)},[Tt,ht,hn,st,Yr,qn,st.promise,er,fn,hr]),React.useEffect(()=>{let vn=Cr.current;if(vn){let Xn=vn.getBoundingClientRect().height;return ar(Xn),dt(Zn=>[{toastId:st.id,height:Xn,position:st.position},...Zn]),()=>dt(Zn=>Zn.filter(Fr=>Fr.toastId!==st.id))}},[dt,st.id]),React.useEffect(()=>{st.delete&&qn()},[qn,st.delete]);function qr(){return nn!=null&&nn.loading?React.createElement("div",{className:"sonner-loader","data-visible":er==="loading"},nn.loading):On?React.createElement("div",{className:"sonner-loader","data-visible":er==="loading"},On):React.createElement(It,{visible:er==="loading"})}return React.createElement("li",{"aria-live":st.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Cr,className:Sn(tn,Sr,zt==null?void 0:zt.toast,(e=st==null?void 0:st.classNames)==null?void 0:e.toast,zt==null?void 0:zt.default,zt==null?void 0:zt[er],(a=st==null?void 0:st.classNames)==null?void 0:a[er]),"data-sonner-toast":"","data-rich-colors":(c=st.richColors)!=null?c:vt,"data-styled":!(st.jsx||st.unstyled||ot),"data-mounted":Pt,"data-promise":!!st.promise,"data-removed":In,"data-visible":hs,"data-y-position":Dn,"data-x-position":tr,"data-index":gt,"data-front":gr,"data-swiping":Wn,"data-dismissible":Er,"data-type":er,"data-invert":yr,"data-swipe-out":Fn,"data-expanded":!!(Tt||hn&&Pt),style:{"--index":gt,"--toasts-before":gt,"--z-index":St.length-gt,"--offset":`${In?pr:sn.current}px`,"--initial-height":hn?"auto":`${Nr}px`,...Nt,...st.style},onPointerDown:vn=>{kr||!Er||(wr.current=new Date,mr(sn.current),vn.target.setPointerCapture(vn.pointerId),vn.target.tagName!=="BUTTON"&&(Gn(!0),bn.current={x:vn.clientX,y:vn.clientY}))},onPointerUp:()=>{var vn,Xn,Zn,Fr;if(Fn||!Er)return;bn.current=null;let jr=Number(((vn=Cr.current)==null?void 0:vn.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ro=new Date().getTime()-((Xn=wr.current)==null?void 0:Xn.getTime()),Yl=Math.abs(jr)/ro;if(Math.abs(jr)>=oe||Yl>.11){mr(sn.current),(Zn=st.onDismiss)==null||Zn.call(st,st),qn(),ir(!0);return}(Fr=Cr.current)==null||Fr.style.setProperty("--swipe-amount","0px"),Gn(!1)},onPointerMove:vn=>{var Xn;if(!bn.current||!Er)return;let Zn=vn.clientY-bn.current.y,Fr=vn.clientX-bn.current.x,jr=(Dn==="top"?Math.min:Math.max)(0,Zn),ro=vn.pointerType==="touch"?10:2;Math.abs(jr)>ro?(Xn=Cr.current)==null||Xn.style.setProperty("--swipe-amount",`${Zn}px`):Math.abs(Fr)>ro&&(bn.current=null)}},Gs&&!st.jsx?React.createElement("button",{"aria-label":wt,"data-disabled":kr,"data-close-button":!0,onClick:kr||!Er?()=>{}:()=>{var vn;qn(),(vn=st.onDismiss)==null||vn.call(st,st)},className:Sn(zt==null?void 0:zt.closeButton,(d=st==null?void 0:st.classNames)==null?void 0:d.closeButton)},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,st.jsx||React.isValidElement(st.title)?st.jsx||st.title:React.createElement(React.Fragment,null,er||st.icon||st.promise?React.createElement("div",{"data-icon":"",className:Sn(zt==null?void 0:zt.icon,(g=st==null?void 0:st.classNames)==null?void 0:g.icon)},st.promise||st.type==="loading"&&!st.icon?st.icon||qr():null,st.type!=="loading"?st.icon||(nn==null?void 0:nn[er])||Ct(er):null):null,React.createElement("div",{"data-content":"",className:Sn(zt==null?void 0:zt.content,(b=st==null?void 0:st.classNames)==null?void 0:b.content)},React.createElement("div",{"data-title":"",className:Sn(zt==null?void 0:zt.title,(_=st==null?void 0:st.classNames)==null?void 0:_.title)},st.title),st.description?React.createElement("div",{"data-description":"",className:Sn(Yt,Xr,zt==null?void 0:zt.description,(_e=st==null?void 0:st.classNames)==null?void 0:_e.description)},st.description):null),React.isValidElement(st.cancel)?st.cancel:st.cancel&&U(st.cancel)?React.createElement("button",{"data-button":!0,"data-cancel":!0,style:st.cancelButtonStyle||en,onClick:vn=>{var Xn,Zn;U(st.cancel)&&Er&&((Zn=(Xn=st.cancel).onClick)==null||Zn.call(Xn,vn),qn())},className:Sn(zt==null?void 0:zt.cancelButton,(tt=st==null?void 0:st.classNames)==null?void 0:tt.cancelButton)},st.cancel.label):null,React.isValidElement(st.action)?st.action:st.action&&U(st.action)?React.createElement("button",{"data-button":!0,"data-action":!0,style:st.actionButtonStyle||jt,onClick:vn=>{var Xn,Zn;U(st.action)&&(vn.defaultPrevented||((Zn=(Xn=st.action).onClick)==null||Zn.call(Xn,vn),qn()))},className:Sn(zt==null?void 0:zt.actionButton,(nt=st==null?void 0:st.classNames)==null?void 0:nt.actionButton)},st.action.label):null))};function Ht(){if(typeof window>"u"||typeof document>"u")return"ltr";let o=document.documentElement.getAttribute("dir");return o==="auto"||!o?window.getComputedStyle(document.documentElement).direction:o}var Te=o=>{let{invert:e,position:a="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:g,className:b,offset:_,theme:_e="light",richColors:tt,duration:nt,style:it,visibleToasts:st=qt,toastOptions:ot,dir:ht=Ht(),gap:dt=ee,loadingIcon:Et,icons:pt,containerAriaLabel:gt="Notifications",pauseWhenPageIsHidden:St,cn:Tt=ne}=o,[bt,vt]=React.useState([]),kt=React.useMemo(()=>Array.from(new Set([a].concat(bt.filter(fn=>fn.position).map(fn=>fn.position)))),[bt,a]),[Nt,en]=React.useState([]),[jt,tn]=React.useState(!1),[Yt,pn]=React.useState(!1),[mn,dn]=React.useState(_e!=="system"?_e:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),On=React.useRef(null),hn=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),zt=React.useRef(null),nn=React.useRef(!1),wt=React.useCallback(fn=>{var Sn;(Sn=bt.find(Pt=>Pt.id===fn.id))!=null&&Sn.delete||v.dismiss(fn.id),vt(Pt=>Pt.filter(({id:wn})=>wn!==fn.id))},[bt]);return React.useEffect(()=>v.subscribe(fn=>{if(fn.dismiss){vt(Sn=>Sn.map(Pt=>Pt.id===fn.id?{...Pt,delete:!0}:Pt));return}setTimeout(()=>{ReactDOM.flushSync(()=>{vt(Sn=>{let Pt=Sn.findIndex(wn=>wn.id===fn.id);return Pt!==-1?[...Sn.slice(0,Pt),{...Sn[Pt],...fn},...Sn.slice(Pt+1)]:[fn,...Sn]})})})}),[]),React.useEffect(()=>{if(_e!=="system"){dn(_e);return}_e==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?dn("dark"):dn("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:fn})=>{dn(fn?"dark":"light")})},[_e]),React.useEffect(()=>{bt.length<=1&&tn(!1)},[bt]),React.useEffect(()=>{let fn=Sn=>{var Pt,wn;c.every(In=>Sn[In]||Sn.code===In)&&(tn(!0),(Pt=On.current)==null||Pt.focus()),Sn.code==="Escape"&&(document.activeElement===On.current||(wn=On.current)!=null&&wn.contains(document.activeElement))&&tn(!1)};return document.addEventListener("keydown",fn),()=>document.removeEventListener("keydown",fn)},[c]),React.useEffect(()=>{if(On.current)return()=>{zt.current&&(zt.current.focus({preventScroll:!0}),zt.current=null,nn.current=!1)}},[On.current]),bt.length?React.createElement("section",{"aria-label":`${gt} ${hn}`,tabIndex:-1},kt.map((fn,Sn)=>{var Pt;let[wn,In]=fn.split("-");return React.createElement("ol",{key:fn,dir:ht==="auto"?Ht():ht,tabIndex:-1,ref:On,className:b,"data-sonner-toaster":!0,"data-theme":mn,"data-y-position":wn,"data-x-position":In,style:{"--front-toast-height":`${((Pt=Nt[0])==null?void 0:Pt.height)||0}px`,"--offset":typeof _=="number"?`${_}px`:_||Qt,"--width":`${te}px`,"--gap":`${dt}px`,...it},onBlur:xn=>{nn.current&&!xn.currentTarget.contains(xn.relatedTarget)&&(nn.current=!1,zt.current&&(zt.current.focus({preventScroll:!0}),zt.current=null))},onFocus:xn=>{xn.target instanceof HTMLElement&&xn.target.dataset.dismissible==="false"||nn.current||(nn.current=!0,zt.current=xn.relatedTarget)},onMouseEnter:()=>tn(!0),onMouseMove:()=>tn(!0),onMouseLeave:()=>{Yt||tn(!1)},onPointerDown:xn=>{xn.target instanceof HTMLElement&&xn.target.dataset.dismissible==="false"||pn(!0)},onPointerUp:()=>pn(!1)},bt.filter(xn=>!xn.position&&Sn===0||xn.position===fn).map((xn,Wn)=>{var Gn,Fn;return React.createElement(se,{key:xn.id,icons:pt,index:Wn,toast:xn,defaultRichColors:tt,duration:(Gn=ot==null?void 0:ot.duration)!=null?Gn:nt,className:ot==null?void 0:ot.className,descriptionClassName:ot==null?void 0:ot.descriptionClassName,invert:e,visibleToasts:st,closeButton:(Fn=ot==null?void 0:ot.closeButton)!=null?Fn:g,interacting:Yt,position:fn,style:ot==null?void 0:ot.style,unstyled:ot==null?void 0:ot.unstyled,classNames:ot==null?void 0:ot.classNames,cancelButtonStyle:ot==null?void 0:ot.cancelButtonStyle,actionButtonStyle:ot==null?void 0:ot.actionButtonStyle,removeToast:wt,toasts:bt.filter(ir=>ir.position==xn.position),heights:Nt.filter(ir=>ir.position==xn.position),setHeights:en,expandByDefault:d,gap:dt,loadingIcon:Et,expanded:jt,pauseWhenPageIsHidden:St,cn:Tt})}))})):null};function _extends(){return _extends=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var c in a)({}).hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o},_extends.apply(null,arguments)}function _objectWithoutPropertiesLoose(o,e){if(o==null)return{};var a={};for(var c in o)if({}.hasOwnProperty.call(o,c)){if(e.includes(c))continue;a[c]=o[c]}return a}class Text{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,a,c){[e,a]=clip(this,e,a);let d=[];return this.decompose(0,e,d,2),c.length&&c.decompose(0,c.length,d,3),this.decompose(a,this.length,d,1),TextNode.from(d,this.length-(a-e)+c.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,a=this.length){[e,a]=clip(this,e,a);let c=[];return this.decompose(e,a,c,0),TextNode.from(c,a-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let a=this.scanIdentical(e,1),c=this.length-this.scanIdentical(e,-1),d=new RawTextCursor(this),g=new RawTextCursor(e);for(let b=a,_=a;;){if(d.next(b),g.next(b),b=0,d.lineBreak!=g.lineBreak||d.done!=g.done||d.value!=g.value)return!1;if(_+=d.value.length,d.done||_>=c)return!0}}iter(e=1){return new RawTextCursor(this,e)}iterRange(e,a=this.length){return new PartialTextCursor(this,e,a)}iterLines(e,a){let c;if(e==null)c=this.iter();else{a==null&&(a=this.lines+1);let d=this.line(e).from;c=this.iterRange(d,Math.max(d,a==this.lines+1?this.length:a<=1?0:this.line(a-1).to))}return new LineCursor(c)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Text.empty:e.length<=32?new TextLeaf(e):TextNode.from(TextLeaf.split(e,[]))}}class TextLeaf extends Text{constructor(e,a=textLength(e)){super(),this.text=e,this.length=a}get lines(){return this.text.length}get children(){return null}lineInner(e,a,c,d){for(let g=0;;g++){let b=this.text[g],_=d+b.length;if((a?c:_)>=e)return new Line$1(d,_,c,b);d=_+1,c++}}decompose(e,a,c,d){let g=e<=0&&a>=this.length?this:new TextLeaf(sliceText(this.text,e,a),Math.min(a,this.length)-Math.max(0,e));if(d&1){let b=c.pop(),_=appendText(g.text,b.text.slice(),0,g.length);if(_.length<=32)c.push(new TextLeaf(_,b.length+g.length));else{let _e=_.length>>1;c.push(new TextLeaf(_.slice(0,_e)),new TextLeaf(_.slice(_e)))}}else c.push(g)}replace(e,a,c){if(!(c instanceof TextLeaf))return super.replace(e,a,c);[e,a]=clip(this,e,a);let d=appendText(this.text,appendText(c.text,sliceText(this.text,0,e)),a),g=this.length+c.length-(a-e);return d.length<=32?new TextLeaf(d,g):TextNode.from(TextLeaf.split(d,[]),g)}sliceString(e,a=this.length,c=`
`){[e,a]=clip(this,e,a);let d="";for(let g=0,b=0;g<=a&&b<this.text.length;b++){let _=this.text[b],_e=g+_.length;g>e&&b&&(d+=c),e<_e&&a>g&&(d+=_.slice(Math.max(0,e-g),a-g)),g=_e+1}return d}flatten(e){for(let a of this.text)e.push(a)}scanIdentical(){return 0}static split(e,a){let c=[],d=-1;for(let g of e)c.push(g),d+=g.length+1,c.length==32&&(a.push(new TextLeaf(c,d)),c=[],d=-1);return d>-1&&a.push(new TextLeaf(c,d)),a}}class TextNode extends Text{constructor(e,a){super(),this.children=e,this.length=a,this.lines=0;for(let c of e)this.lines+=c.lines}lineInner(e,a,c,d){for(let g=0;;g++){let b=this.children[g],_=d+b.length,_e=c+b.lines-1;if((a?_e:_)>=e)return b.lineInner(e,a,c,d);d=_+1,c=_e+1}}decompose(e,a,c,d){for(let g=0,b=0;b<=a&&g<this.children.length;g++){let _=this.children[g],_e=b+_.length;if(e<=_e&&a>=b){let tt=d&((b<=e?1:0)|(_e>=a?2:0));b>=e&&_e<=a&&!tt?c.push(_):_.decompose(e-b,a-b,c,tt)}b=_e+1}}replace(e,a,c){if([e,a]=clip(this,e,a),c.lines<this.lines)for(let d=0,g=0;d<this.children.length;d++){let b=this.children[d],_=g+b.length;if(e>=g&&a<=_){let _e=b.replace(e-g,a-g,c),tt=this.lines-b.lines+_e.lines;if(_e.lines<tt>>4&&_e.lines>tt>>6){let nt=this.children.slice();return nt[d]=_e,new TextNode(nt,this.length-(a-e)+c.length)}return super.replace(g,_,_e)}g=_+1}return super.replace(e,a,c)}sliceString(e,a=this.length,c=`
`){[e,a]=clip(this,e,a);let d="";for(let g=0,b=0;g<this.children.length&&b<=a;g++){let _=this.children[g],_e=b+_.length;b>e&&g&&(d+=c),e<_e&&a>b&&(d+=_.sliceString(e-b,a-b,c)),b=_e+1}return d}flatten(e){for(let a of this.children)a.flatten(e)}scanIdentical(e,a){if(!(e instanceof TextNode))return 0;let c=0,[d,g,b,_]=a>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;d+=a,g+=a){if(d==b||g==_)return c;let _e=this.children[d],tt=e.children[g];if(_e!=tt)return c+_e.scanIdentical(tt,a);c+=_e.length+1}}static from(e,a=e.reduce((c,d)=>c+d.length+1,-1)){let c=0;for(let ot of e)c+=ot.lines;if(c<32){let ot=[];for(let ht of e)ht.flatten(ot);return new TextLeaf(ot,a)}let d=Math.max(32,c>>5),g=d<<1,b=d>>1,_=[],_e=0,tt=-1,nt=[];function it(ot){let ht;if(ot.lines>g&&ot instanceof TextNode)for(let dt of ot.children)it(dt);else ot.lines>b&&(_e>b||!_e)?(st(),_.push(ot)):ot instanceof TextLeaf&&_e&&(ht=nt[nt.length-1])instanceof TextLeaf&&ot.lines+ht.lines<=32?(_e+=ot.lines,tt+=ot.length+1,nt[nt.length-1]=new TextLeaf(ht.text.concat(ot.text),ht.length+1+ot.length)):(_e+ot.lines>d&&st(),_e+=ot.lines,tt+=ot.length+1,nt.push(ot))}function st(){_e!=0&&(_.push(nt.length==1?nt[0]:TextNode.from(nt,tt)),tt=-1,_e=nt.length=0)}for(let ot of e)it(ot);return st(),_.length==1?_[0]:new TextNode(_,a)}}Text.empty=new TextLeaf([""],0);function textLength(o){let e=-1;for(let a of o)e+=a.length+1;return e}function appendText(o,e,a=0,c=1e9){for(let d=0,g=0,b=!0;g<o.length&&d<=c;g++){let _=o[g],_e=d+_.length;_e>=a&&(_e>c&&(_=_.slice(0,c-d)),d<a&&(_=_.slice(a-d)),b?(e[e.length-1]+=_,b=!1):e.push(_)),d=_e+1}return e}function sliceText(o,e,a){return appendText(o,[""],e,a)}class RawTextCursor{constructor(e,a=1){this.dir=a,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[a>0?1:(e instanceof TextLeaf?e.text.length:e.children.length)<<1]}nextInner(e,a){for(this.done=this.lineBreak=!1;;){let c=this.nodes.length-1,d=this.nodes[c],g=this.offsets[c],b=g>>1,_=d instanceof TextLeaf?d.text.length:d.children.length;if(b==(a>0?_:0)){if(c==0)return this.done=!0,this.value="",this;a>0&&this.offsets[c-1]++,this.nodes.pop(),this.offsets.pop()}else if((g&1)==(a>0?0:1)){if(this.offsets[c]+=a,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(d instanceof TextLeaf){let _e=d.text[b+(a<0?-1:0)];if(this.offsets[c]+=a,_e.length>Math.max(0,e))return this.value=e==0?_e:a>0?_e.slice(e):_e.slice(0,_e.length-e),this;e-=_e.length}else{let _e=d.children[b+(a<0?-1:0)];e>_e.length?(e-=_e.length,this.offsets[c]+=a):(a<0&&this.offsets[c]--,this.nodes.push(_e),this.offsets.push(a>0?1:(_e instanceof TextLeaf?_e.text.length:_e.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class PartialTextCursor{constructor(e,a,c){this.value="",this.done=!1,this.cursor=new RawTextCursor(e,a>c?-1:1),this.pos=a>c?e.length:0,this.from=Math.min(a,c),this.to=Math.max(a,c)}nextInner(e,a){if(a<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,a<0?this.pos-this.to:this.from-this.pos);let c=a<0?this.pos-this.from:this.to-this.pos;e>c&&(e=c),c-=e;let{value:d}=this.cursor.next(e);return this.pos+=(d.length+e)*a,this.value=d.length<=c?d:a<0?d.slice(d.length-c):d.slice(0,c),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:a,lineBreak:c,value:d}=this.inner.next(e);return a&&this.afterBreak?(this.value="",this.afterBreak=!1):a?(this.done=!0,this.value=""):c?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=d,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});let Line$1=class{constructor(e,a,c,d){this.from=e,this.to=a,this.number=c,this.text=d}get length(){return this.to-this.from}};function clip(o,e,a){return e=Math.max(0,Math.min(o.length,e)),[e,Math.max(e,Math.min(o.length,a))]}let extend$2="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(o=>o?parseInt(o,36):1);for(let o=1;o<extend$2.length;o++)extend$2[o]+=extend$2[o-1];function isExtendingChar(o){for(let e=1;e<extend$2.length;e+=2)if(extend$2[e]>o)return extend$2[e-1]<=o;return!1}function isRegionalIndicator(o){return o>=127462&&o<=127487}const ZWJ=8205;function findClusterBreak(o,e,a=!0,c=!0){return(a?nextClusterBreak:prevClusterBreak)(o,e,c)}function nextClusterBreak(o,e,a){if(e==o.length)return e;e&&surrogateLow(o.charCodeAt(e))&&surrogateHigh(o.charCodeAt(e-1))&&e--;let c=codePointAt(o,e);for(e+=codePointSize(c);e<o.length;){let d=codePointAt(o,e);if(c==ZWJ||d==ZWJ||a&&isExtendingChar(d))e+=codePointSize(d),c=d;else if(isRegionalIndicator(d)){let g=0,b=e-2;for(;b>=0&&isRegionalIndicator(codePointAt(o,b));)g++,b-=2;if(g%2==0)break;e+=2}else break}return e}function prevClusterBreak(o,e,a){for(;e>0;){let c=nextClusterBreak(o,e-2,a);if(c<e)return c;e--}return 0}function surrogateLow(o){return o>=56320&&o<57344}function surrogateHigh(o){return o>=55296&&o<56320}function codePointAt(o,e){let a=o.charCodeAt(e);if(!surrogateHigh(a)||e+1==o.length)return a;let c=o.charCodeAt(e+1);return surrogateLow(c)?(a-55296<<10)+(c-56320)+65536:a}function fromCodePoint$1(o){return o<=65535?String.fromCharCode(o):(o-=65536,String.fromCharCode((o>>10)+55296,(o&1023)+56320))}function codePointSize(o){return o<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(o){return o[o.Simple=0]="Simple",o[o.TrackDel=1]="TrackDel",o[o.TrackBefore=2]="TrackBefore",o[o.TrackAfter=3]="TrackAfter",o}(MapMode||(MapMode={}));class ChangeDesc{constructor(e){this.sections=e}get length(){let e=0;for(let a=0;a<this.sections.length;a+=2)e+=this.sections[a];return e}get newLength(){let e=0;for(let a=0;a<this.sections.length;a+=2){let c=this.sections[a+1];e+=c<0?this.sections[a]:c}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let a=0,c=0,d=0;a<this.sections.length;){let g=this.sections[a++],b=this.sections[a++];b<0?(e(c,d,g),d+=g):d+=b,c+=g}}iterChangedRanges(e,a=!1){iterChanges(this,e,a)}get invertedDesc(){let e=[];for(let a=0;a<this.sections.length;){let c=this.sections[a++],d=this.sections[a++];d<0?e.push(c,d):e.push(d,c)}return new ChangeDesc(e)}composeDesc(e){return this.empty?e:e.empty?this:composeSets(this,e)}mapDesc(e,a=!1){return e.empty?this:mapSet(this,e,a)}mapPos(e,a=-1,c=MapMode.Simple){let d=0,g=0;for(let b=0;b<this.sections.length;){let _=this.sections[b++],_e=this.sections[b++],tt=d+_;if(_e<0){if(tt>e)return g+(e-d);g+=_}else{if(c!=MapMode.Simple&&tt>=e&&(c==MapMode.TrackDel&&d<e&&tt>e||c==MapMode.TrackBefore&&d<e||c==MapMode.TrackAfter&&tt>e))return null;if(tt>e||tt==e&&a<0&&!_)return e==d||a<0?g:g+_e;g+=_e}d=tt}if(e>d)throw new RangeError(`Position ${e} is out of range for changeset of length ${d}`);return g}touchesRange(e,a=e){for(let c=0,d=0;c<this.sections.length&&d<=a;){let g=this.sections[c++],b=this.sections[c++],_=d+g;if(b>=0&&d<=a&&_>=e)return d<e&&_>a?"cover":!0;d=_}return!1}toString(){let e="";for(let a=0;a<this.sections.length;){let c=this.sections[a++],d=this.sections[a++];e+=(e?" ":"")+c+(d>=0?":"+d:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(a=>typeof a!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(e)}static create(e){return new ChangeDesc(e)}}class ChangeSet extends ChangeDesc{constructor(e,a){super(e),this.inserted=a}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(a,c,d,g,b)=>e=e.replace(d,d+(c-a),b),!1),e}mapDesc(e,a=!1){return mapSet(this,e,a,!0)}invert(e){let a=this.sections.slice(),c=[];for(let d=0,g=0;d<a.length;d+=2){let b=a[d],_=a[d+1];if(_>=0){a[d]=_,a[d+1]=b;let _e=d>>1;for(;c.length<_e;)c.push(Text.empty);c.push(b?e.slice(g,g+b):Text.empty)}g+=b}return new ChangeSet(a,c)}compose(e){return this.empty?e:e.empty?this:composeSets(this,e,!0)}map(e,a=!1){return e.empty?this:mapSet(this,e,a,!0)}iterChanges(e,a=!1){iterChanges(this,e,a)}get desc(){return ChangeDesc.create(this.sections)}filter(e){let a=[],c=[],d=[],g=new SectionIter(this);e:for(let b=0,_=0;;){let _e=b==e.length?1e9:e[b++];for(;_<_e||_==_e&&g.len==0;){if(g.done)break e;let nt=Math.min(g.len,_e-_);addSection(d,nt,-1);let it=g.ins==-1?-1:g.off==0?g.ins:0;addSection(a,nt,it),it>0&&addInsert(c,a,g.text),g.forward(nt),_+=nt}let tt=e[b++];for(;_<tt;){if(g.done)break e;let nt=Math.min(g.len,tt-_);addSection(a,nt,-1),addSection(d,nt,g.ins==-1?-1:g.off==0?g.ins:0),g.forward(nt),_+=nt}}return{changes:new ChangeSet(a,c),filtered:ChangeDesc.create(d)}}toJSON(){let e=[];for(let a=0;a<this.sections.length;a+=2){let c=this.sections[a],d=this.sections[a+1];d<0?e.push(c):d==0?e.push([c]):e.push([c].concat(this.inserted[a>>1].toJSON()))}return e}static of(e,a,c){let d=[],g=[],b=0,_=null;function _e(nt=!1){if(!nt&&!d.length)return;b<a&&addSection(d,a-b,-1);let it=new ChangeSet(d,g);_=_?_.compose(it.map(_)):it,d=[],g=[],b=0}function tt(nt){if(Array.isArray(nt))for(let it of nt)tt(it);else if(nt instanceof ChangeSet){if(nt.length!=a)throw new RangeError(`Mismatched change set length (got ${nt.length}, expected ${a})`);_e(),_=_?_.compose(nt.map(_)):nt}else{let{from:it,to:st=it,insert:ot}=nt;if(it>st||it<0||st>a)throw new RangeError(`Invalid change range ${it} to ${st} (in doc of length ${a})`);let ht=ot?typeof ot=="string"?Text.of(ot.split(c||DefaultSplit)):ot:Text.empty,dt=ht.length;if(it==st&&dt==0)return;it<b&&_e(),it>b&&addSection(d,it-b,-1),addSection(d,st-it,dt),addInsert(g,d,ht),b=st}}return tt(e),_e(!_),_}static empty(e){return new ChangeSet(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let a=[],c=[];for(let d=0;d<e.length;d++){let g=e[d];if(typeof g=="number")a.push(g,-1);else{if(!Array.isArray(g)||typeof g[0]!="number"||g.some((b,_)=>_&&typeof b!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(g.length==1)a.push(g[0],0);else{for(;c.length<d;)c.push(Text.empty);c[d]=Text.of(g.slice(1)),a.push(g[0],c[d].length)}}}return new ChangeSet(a,c)}static createSet(e,a){return new ChangeSet(e,a)}}function addSection(o,e,a,c=!1){if(e==0&&a<=0)return;let d=o.length-2;d>=0&&a<=0&&a==o[d+1]?o[d]+=e:e==0&&o[d]==0?o[d+1]+=a:c?(o[d]+=e,o[d+1]+=a):o.push(e,a)}function addInsert(o,e,a){if(a.length==0)return;let c=e.length-2>>1;if(c<o.length)o[o.length-1]=o[o.length-1].append(a);else{for(;o.length<c;)o.push(Text.empty);o.push(a)}}function iterChanges(o,e,a){let c=o.inserted;for(let d=0,g=0,b=0;b<o.sections.length;){let _=o.sections[b++],_e=o.sections[b++];if(_e<0)d+=_,g+=_;else{let tt=d,nt=g,it=Text.empty;for(;tt+=_,nt+=_e,_e&&c&&(it=it.append(c[b-2>>1])),!(a||b==o.sections.length||o.sections[b+1]<0);)_=o.sections[b++],_e=o.sections[b++];e(d,tt,g,nt,it),d=tt,g=nt}}}function mapSet(o,e,a,c=!1){let d=[],g=c?[]:null,b=new SectionIter(o),_=new SectionIter(e);for(let _e=-1;;)if(b.ins==-1&&_.ins==-1){let tt=Math.min(b.len,_.len);addSection(d,tt,-1),b.forward(tt),_.forward(tt)}else if(_.ins>=0&&(b.ins<0||_e==b.i||b.off==0&&(_.len<b.len||_.len==b.len&&!a))){let tt=_.len;for(addSection(d,_.ins,-1);tt;){let nt=Math.min(b.len,tt);b.ins>=0&&_e<b.i&&b.len<=nt&&(addSection(d,0,b.ins),g&&addInsert(g,d,b.text),_e=b.i),b.forward(nt),tt-=nt}_.next()}else if(b.ins>=0){let tt=0,nt=b.len;for(;nt;)if(_.ins==-1){let it=Math.min(nt,_.len);tt+=it,nt-=it,_.forward(it)}else if(_.ins==0&&_.len<nt)nt-=_.len,_.next();else break;addSection(d,tt,_e<b.i?b.ins:0),g&&_e<b.i&&addInsert(g,d,b.text),_e=b.i,b.forward(b.len-nt)}else{if(b.done&&_.done)return g?ChangeSet.createSet(d,g):ChangeDesc.create(d);throw new Error("Mismatched change set lengths")}}function composeSets(o,e,a=!1){let c=[],d=a?[]:null,g=new SectionIter(o),b=new SectionIter(e);for(let _=!1;;){if(g.done&&b.done)return d?ChangeSet.createSet(c,d):ChangeDesc.create(c);if(g.ins==0)addSection(c,g.len,0,_),g.next();else if(b.len==0&&!b.done)addSection(c,0,b.ins,_),d&&addInsert(d,c,b.text),b.next();else{if(g.done||b.done)throw new Error("Mismatched change set lengths");{let _e=Math.min(g.len2,b.len),tt=c.length;if(g.ins==-1){let nt=b.ins==-1?-1:b.off?0:b.ins;addSection(c,_e,nt,_),d&&nt&&addInsert(d,c,b.text)}else b.ins==-1?(addSection(c,g.off?0:g.len,_e,_),d&&addInsert(d,c,g.textBit(_e))):(addSection(c,g.off?0:g.len,b.off?0:b.ins,_),d&&!b.off&&addInsert(d,c,b.text));_=(g.ins>_e||b.ins>=0&&b.len>_e)&&(_||c.length>tt),g.forward2(_e),b.forward(_e)}}}}class SectionIter{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,a=this.i-2>>1;return a>=e.length?Text.empty:e[a]}textBit(e){let{inserted:a}=this.set,c=this.i-2>>1;return c>=a.length&&!e?Text.empty:a[c].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class SelectionRange{constructor(e,a,c){this.from=e,this.to=a,this.flags=c}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,a=-1){let c,d;return this.empty?c=d=e.mapPos(this.from,a):(c=e.mapPos(this.from,1),d=e.mapPos(this.to,-1)),c==this.from&&d==this.to?this:new SelectionRange(c,d,this.flags)}extend(e,a=e){if(e<=this.anchor&&a>=this.anchor)return EditorSelection.range(e,a);let c=Math.abs(e-this.anchor)>Math.abs(a-this.anchor)?e:a;return EditorSelection.range(this.anchor,c)}eq(e,a=!1){return this.anchor==e.anchor&&this.head==e.head&&(!a||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(e.anchor,e.head)}static create(e,a,c){return new SelectionRange(e,a,c)}}class EditorSelection{constructor(e,a){this.ranges=e,this.mainIndex=a}map(e,a=-1){return e.empty?this:EditorSelection.create(this.ranges.map(c=>c.map(e,a)),this.mainIndex)}eq(e,a=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let c=0;c<this.ranges.length;c++)if(!this.ranges[c].eq(e.ranges[c],a))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(e,a=!0){return EditorSelection.create([e].concat(this.ranges),a?0:this.mainIndex+1)}replaceRange(e,a=this.mainIndex){let c=this.ranges.slice();return c[a]=e,EditorSelection.create(c,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(e.ranges.map(a=>SelectionRange.fromJSON(a)),e.main)}static single(e,a=e){return new EditorSelection([EditorSelection.range(e,a)],0)}static create(e,a=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let c=0,d=0;d<e.length;d++){let g=e[d];if(g.empty?g.from<=c:g.from<c)return EditorSelection.normalized(e.slice(),a);c=g.to}return new EditorSelection(e,a)}static cursor(e,a=0,c,d){return SelectionRange.create(e,e,(a==0?0:a<0?8:16)|(c==null?7:Math.min(6,c))|(d??16777215)<<6)}static range(e,a,c,d){let g=(c??16777215)<<6|(d==null?7:Math.min(6,d));return a<e?SelectionRange.create(a,e,48|g):SelectionRange.create(e,a,(a>e?8:0)|g)}static normalized(e,a=0){let c=e[a];e.sort((d,g)=>d.from-g.from),a=e.indexOf(c);for(let d=1;d<e.length;d++){let g=e[d],b=e[d-1];if(g.empty?g.from<=b.to:g.from<b.to){let _=b.from,_e=Math.max(g.to,b.to);d<=a&&a--,e.splice(--d,2,g.anchor>g.head?EditorSelection.range(_e,_):EditorSelection.range(_,_e))}}return new EditorSelection(e,a)}}function checkSelection(o,e){for(let a of o.ranges)if(a.to>e)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(e,a,c,d,g){this.combine=e,this.compareInput=a,this.compare=c,this.isStatic=d,this.id=nextID++,this.default=e([]),this.extensions=typeof g=="function"?g(this):g}get reader(){return this}static define(e={}){return new Facet(e.combine||(a=>a),e.compareInput||((a,c)=>a===c),e.compare||(e.combine?(a,c)=>a===c:sameArray$1),!!e.static,e.enables)}of(e){return new FacetProvider([],this,0,e)}compute(e,a){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,1,a)}computeN(e,a){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,2,a)}from(e,a){return a||(a=c=>c),this.compute([e],c=>a(c.field(e)))}}function sameArray$1(o,e){return o==e||o.length==e.length&&o.every((a,c)=>a===e[c])}class FacetProvider{constructor(e,a,c,d){this.dependencies=e,this.facet=a,this.type=c,this.value=d,this.id=nextID++}dynamicSlot(e){var a;let c=this.value,d=this.facet.compareInput,g=this.id,b=e[g]>>1,_=this.type==2,_e=!1,tt=!1,nt=[];for(let it of this.dependencies)it=="doc"?_e=!0:it=="selection"?tt=!0:((a=e[it.id])!==null&&a!==void 0?a:1)&1||nt.push(e[it.id]);return{create(it){return it.values[b]=c(it),1},update(it,st){if(_e&&st.docChanged||tt&&(st.docChanged||st.selection)||ensureAll(it,nt)){let ot=c(it);if(_?!compareArray(ot,it.values[b],d):!d(ot,it.values[b]))return it.values[b]=ot,1}return 0},reconfigure:(it,st)=>{let ot,ht=st.config.address[g];if(ht!=null){let dt=getAddr(st,ht);if(this.dependencies.every(Et=>Et instanceof Facet?st.facet(Et)===it.facet(Et):Et instanceof StateField?st.field(Et,!1)==it.field(Et,!1):!0)||(_?compareArray(ot=c(it),dt,d):d(ot=c(it),dt)))return it.values[b]=dt,0}else ot=c(it);return it.values[b]=ot,1}}}}function compareArray(o,e,a){if(o.length!=e.length)return!1;for(let c=0;c<o.length;c++)if(!a(o[c],e[c]))return!1;return!0}function ensureAll(o,e){let a=!1;for(let c of e)ensureAddr(o,c)&1&&(a=!0);return a}function dynamicFacetSlot(o,e,a){let c=a.map(_e=>o[_e.id]),d=a.map(_e=>_e.type),g=c.filter(_e=>!(_e&1)),b=o[e.id]>>1;function _(_e){let tt=[];for(let nt=0;nt<c.length;nt++){let it=getAddr(_e,c[nt]);if(d[nt]==2)for(let st of it)tt.push(st);else tt.push(it)}return e.combine(tt)}return{create(_e){for(let tt of c)ensureAddr(_e,tt);return _e.values[b]=_(_e),1},update(_e,tt){if(!ensureAll(_e,g))return 0;let nt=_(_e);return e.compare(nt,_e.values[b])?0:(_e.values[b]=nt,1)},reconfigure(_e,tt){let nt=ensureAll(_e,c),it=tt.config.facets[e.id],st=tt.facet(e);if(it&&!nt&&sameArray$1(a,it))return _e.values[b]=st,0;let ot=_(_e);return e.compare(ot,st)?(_e.values[b]=st,0):(_e.values[b]=ot,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(e,a,c,d,g){this.id=e,this.createF=a,this.updateF=c,this.compareF=d,this.spec=g,this.provides=void 0}static define(e){let a=new StateField(nextID++,e.create,e.update,e.compare||((c,d)=>c===d),e);return e.provide&&(a.provides=e.provide(a)),a}create(e){let a=e.facet(initField).find(c=>c.field==this);return((a==null?void 0:a.create)||this.createF)(e)}slot(e){let a=e[this.id]>>1;return{create:c=>(c.values[a]=this.create(c),1),update:(c,d)=>{let g=c.values[a],b=this.updateF(g,d);return this.compareF(g,b)?0:(c.values[a]=b,1)},reconfigure:(c,d)=>d.config.address[this.id]!=null?(c.values[a]=d.field(this),0):(c.values[a]=this.create(c),1)}}init(e){return[this,initField.of({field:this,create:e})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(o){return e=>new PrecExtension(e,o)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(e,a){this.inner=e,this.prec=a}}class Compartment{of(e){return new CompartmentInstance(this,e)}reconfigure(e){return Compartment.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class CompartmentInstance{constructor(e,a){this.compartment=e,this.inner=a}}class Configuration{constructor(e,a,c,d,g,b){for(this.base=e,this.compartments=a,this.dynamicSlots=c,this.address=d,this.staticValues=g,this.facets=b,this.statusTemplate=[];this.statusTemplate.length<c.length;)this.statusTemplate.push(0)}staticFacet(e){let a=this.address[e.id];return a==null?e.default:this.staticValues[a>>1]}static resolve(e,a,c){let d=[],g=Object.create(null),b=new Map;for(let st of flatten(e,a,b))st instanceof StateField?d.push(st):(g[st.facet.id]||(g[st.facet.id]=[])).push(st);let _=Object.create(null),_e=[],tt=[];for(let st of d)_[st.id]=tt.length<<1,tt.push(ot=>st.slot(ot));let nt=c==null?void 0:c.config.facets;for(let st in g){let ot=g[st],ht=ot[0].facet,dt=nt&&nt[st]||[];if(ot.every(Et=>Et.type==0))if(_[ht.id]=_e.length<<1|1,sameArray$1(dt,ot))_e.push(c.facet(ht));else{let Et=ht.combine(ot.map(pt=>pt.value));_e.push(c&&ht.compare(Et,c.facet(ht))?c.facet(ht):Et)}else{for(let Et of ot)Et.type==0?(_[Et.id]=_e.length<<1|1,_e.push(Et.value)):(_[Et.id]=tt.length<<1,tt.push(pt=>Et.dynamicSlot(pt)));_[ht.id]=tt.length<<1,tt.push(Et=>dynamicFacetSlot(Et,ht,ot))}}let it=tt.map(st=>st(_));return new Configuration(e,b,it,_,_e,g)}}function flatten(o,e,a){let c=[[],[],[],[],[]],d=new Map;function g(b,_){let _e=d.get(b);if(_e!=null){if(_e<=_)return;let tt=c[_e].indexOf(b);tt>-1&&c[_e].splice(tt,1),b instanceof CompartmentInstance&&a.delete(b.compartment)}if(d.set(b,_),Array.isArray(b))for(let tt of b)g(tt,_);else if(b instanceof CompartmentInstance){if(a.has(b.compartment))throw new RangeError("Duplicate use of compartment in extensions");let tt=e.get(b.compartment)||b.inner;a.set(b.compartment,tt),g(tt,_)}else if(b instanceof PrecExtension)g(b.inner,b.prec);else if(b instanceof StateField)c[_].push(b),b.provides&&g(b.provides,_);else if(b instanceof FacetProvider)c[_].push(b),b.facet.extensions&&g(b.facet.extensions,Prec_.default);else{let tt=b.extension;if(!tt)throw new Error(`Unrecognized extension value in extension set (${b}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);g(tt,_)}}return g(o,Prec_.default),c.reduce((b,_)=>b.concat(_))}function ensureAddr(o,e){if(e&1)return 2;let a=e>>1,c=o.status[a];if(c==4)throw new Error("Cyclic dependency between fields and/or facets");if(c&2)return c;o.status[a]=4;let d=o.computeSlot(o,o.config.dynamicSlots[a]);return o.status[a]=2|d}function getAddr(o,e){return e&1?o.config.staticValues[e>>1]:o.values[e>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:o=>o.some(e=>e),static:!0}),lineSeparator=Facet.define({combine:o=>o.length?o[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:o=>o.length?o[0]:!1});class Annotation{constructor(e,a){this.type=e,this.value=a}static define(){return new AnnotationType}}class AnnotationType{of(e){return new Annotation(this,e)}}class StateEffectType{constructor(e){this.map=e}of(e){return new StateEffect(this,e)}}class StateEffect{constructor(e,a){this.type=e,this.value=a}map(e){let a=this.type.map(this.value,e);return a===void 0?void 0:a==this.value?this:new StateEffect(this.type,a)}is(e){return this.type==e}static define(e={}){return new StateEffectType(e.map||(a=>a))}static mapEffects(e,a){if(!e.length)return e;let c=[];for(let d of e){let g=d.map(a);g&&c.push(g)}return c}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(e,a,c,d,g,b){this.startState=e,this.changes=a,this.selection=c,this.effects=d,this.annotations=g,this.scrollIntoView=b,this._doc=null,this._state=null,c&&checkSelection(c,a.newLength),g.some(_=>_.type==Transaction.time)||(this.annotations=g.concat(Transaction.time.of(Date.now())))}static create(e,a,c,d,g,b){return new Transaction(e,a,c,d,g,b)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let a of this.annotations)if(a.type==e)return a.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let a=this.annotation(Transaction.userEvent);return!!(a&&(a==e||a.length>e.length&&a.slice(0,e.length)==e&&a[e.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(o,e){let a=[];for(let c=0,d=0;;){let g,b;if(c<o.length&&(d==e.length||e[d]>=o[c]))g=o[c++],b=o[c++];else if(d<e.length)g=e[d++],b=e[d++];else return a;!a.length||a[a.length-1]<g?a.push(g,b):a[a.length-1]<b&&(a[a.length-1]=b)}}function mergeTransaction(o,e,a){var c;let d,g,b;return a?(d=e.changes,g=ChangeSet.empty(e.changes.length),b=o.changes.compose(e.changes)):(d=e.changes.map(o.changes),g=o.changes.mapDesc(e.changes,!0),b=o.changes.compose(d)),{changes:b,selection:e.selection?e.selection.map(g):(c=o.selection)===null||c===void 0?void 0:c.map(d),effects:StateEffect.mapEffects(o.effects,d).concat(StateEffect.mapEffects(e.effects,g)),annotations:o.annotations.length?o.annotations.concat(e.annotations):e.annotations,scrollIntoView:o.scrollIntoView||e.scrollIntoView}}function resolveTransactionInner(o,e,a){let c=e.selection,d=asArray$1(e.annotations);return e.userEvent&&(d=d.concat(Transaction.userEvent.of(e.userEvent))),{changes:e.changes instanceof ChangeSet?e.changes:ChangeSet.of(e.changes||[],a,o.facet(lineSeparator)),selection:c&&(c instanceof EditorSelection?c:EditorSelection.single(c.anchor,c.head)),effects:asArray$1(e.effects),annotations:d,scrollIntoView:!!e.scrollIntoView}}function resolveTransaction(o,e,a){let c=resolveTransactionInner(o,e.length?e[0]:{},o.doc.length);e.length&&e[0].filter===!1&&(a=!1);for(let g=1;g<e.length;g++){e[g].filter===!1&&(a=!1);let b=!!e[g].sequential;c=mergeTransaction(c,resolveTransactionInner(o,e[g],b?c.changes.newLength:o.doc.length),b)}let d=Transaction.create(o,c.changes,c.selection,c.effects,c.annotations,c.scrollIntoView);return extendTransaction(a?filterTransaction(d):d)}function filterTransaction(o){let e=o.startState,a=!0;for(let d of e.facet(changeFilter)){let g=d(o);if(g===!1){a=!1;break}Array.isArray(g)&&(a=a===!0?g:joinRanges(a,g))}if(a!==!0){let d,g;if(a===!1)g=o.changes.invertedDesc,d=ChangeSet.empty(e.doc.length);else{let b=o.changes.filter(a);d=b.changes,g=b.filtered.mapDesc(b.changes).invertedDesc}o=Transaction.create(e,d,o.selection&&o.selection.map(g),StateEffect.mapEffects(o.effects,g),o.annotations,o.scrollIntoView)}let c=e.facet(transactionFilter);for(let d=c.length-1;d>=0;d--){let g=c[d](o);g instanceof Transaction?o=g:Array.isArray(g)&&g.length==1&&g[0]instanceof Transaction?o=g[0]:o=resolveTransaction(e,asArray$1(g),!1)}return o}function extendTransaction(o){let e=o.startState,a=e.facet(transactionExtender),c=o;for(let d=a.length-1;d>=0;d--){let g=a[d](o);g&&Object.keys(g).length&&(c=mergeTransaction(c,resolveTransactionInner(e,g,o.changes.newLength),!0))}return c==o?o:Transaction.create(e,o.changes,o.selection,c.effects,c.annotations,c.scrollIntoView)}const none$3=[];function asArray$1(o){return o==null?none$3:Array.isArray(o)?o:[o]}var CharCategory=function(o){return o[o.Word=0]="Word",o[o.Space=1]="Space",o[o.Other=2]="Other",o}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function hasWordChar(o){if(wordChar)return wordChar.test(o);for(let e=0;e<o.length;e++){let a=o[e];if(/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||nonASCIISingleCaseWordChar.test(a)))return!0}return!1}function makeCategorizer(o){return e=>{if(!/\S/.test(e))return CharCategory.Space;if(hasWordChar(e))return CharCategory.Word;for(let a=0;a<o.length;a++)if(e.indexOf(o[a])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(e,a,c,d,g,b){this.config=e,this.doc=a,this.selection=c,this.values=d,this.status=e.statusTemplate.slice(),this.computeSlot=g,b&&(b._state=this);for(let _=0;_<this.config.dynamicSlots.length;_++)ensureAddr(this,_<<1);this.computeSlot=null}field(e,a=!0){let c=this.config.address[e.id];if(c==null){if(a)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,c),getAddr(this,c)}update(...e){return resolveTransaction(this,e,!0)}applyTransaction(e){let a=this.config,{base:c,compartments:d}=a;for(let _ of e.effects)_.is(Compartment.reconfigure)?(a&&(d=new Map,a.compartments.forEach((_e,tt)=>d.set(tt,_e)),a=null),d.set(_.value.compartment,_.value.extension)):_.is(StateEffect.reconfigure)?(a=null,c=_.value):_.is(StateEffect.appendConfig)&&(a=null,c=asArray$1(c).concat(_.value));let g;a?g=e.startState.values.slice():(a=Configuration.resolve(c,d,this),g=new EditorState(a,this.doc,this.selection,a.dynamicSlots.map(()=>null),(_e,tt)=>tt.reconfigure(_e,this),null).values);let b=e.startState.facet(allowMultipleSelections)?e.newSelection:e.newSelection.asSingle();new EditorState(a,e.newDoc,b,g,(_,_e)=>_e.update(_,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(a=>({changes:{from:a.from,to:a.to,insert:e},range:EditorSelection.cursor(a.from+e.length)}))}changeByRange(e){let a=this.selection,c=e(a.ranges[0]),d=this.changes(c.changes),g=[c.range],b=asArray$1(c.effects);for(let _=1;_<a.ranges.length;_++){let _e=e(a.ranges[_]),tt=this.changes(_e.changes),nt=tt.map(d);for(let st=0;st<_;st++)g[st]=g[st].map(nt);let it=d.mapDesc(tt,!0);g.push(_e.range.map(it)),d=d.compose(nt),b=StateEffect.mapEffects(b,nt).concat(StateEffect.mapEffects(asArray$1(_e.effects),it))}return{changes:d,selection:EditorSelection.create(g,a.mainIndex),effects:b}}changes(e=[]){return e instanceof ChangeSet?e:ChangeSet.of(e,this.doc.length,this.facet(EditorState.lineSeparator))}toText(e){return Text.of(e.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(e=0,a=this.doc.length){return this.doc.sliceString(e,a,this.lineBreak)}facet(e){let a=this.config.address[e.id];return a==null?e.default:(ensureAddr(this,a),getAddr(this,a))}toJSON(e){let a={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let c in e){let d=e[c];d instanceof StateField&&this.config.address[d.id]!=null&&(a[c]=d.spec.toJSON(this.field(e[c]),this))}return a}static fromJSON(e,a={},c){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let d=[];if(c){for(let g in c)if(Object.prototype.hasOwnProperty.call(e,g)){let b=c[g],_=e[g];d.push(b.init(_e=>b.spec.fromJSON(_,_e)))}}return EditorState.create({doc:e.doc,selection:EditorSelection.fromJSON(e.selection),extensions:a.extensions?d.concat([a.extensions]):d})}static create(e={}){let a=Configuration.resolve(e.extensions||[],new Map),c=e.doc instanceof Text?e.doc:Text.of((e.doc||"").split(a.staticFacet(EditorState.lineSeparator)||DefaultSplit)),d=e.selection?e.selection instanceof EditorSelection?e.selection:EditorSelection.single(e.selection.anchor,e.selection.head):EditorSelection.single(0);return checkSelection(d,c.length),a.staticFacet(allowMultipleSelections)||(d=d.asSingle()),new EditorState(a,c,d,a.dynamicSlots.map(()=>null),(g,b)=>b.create(g),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(e,...a){for(let c of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(c,e)){e=c[e];break}return a.length&&(e=e.replace(/\$(\$|\d*)/g,(c,d)=>{if(d=="$")return"$";let g=+(d||1);return!g||g>a.length?c:a[g-1]})),e}languageDataAt(e,a,c=-1){let d=[];for(let g of this.facet(languageData))for(let b of g(this,a,c))Object.prototype.hasOwnProperty.call(b,e)&&d.push(b[e]);return d}charCategorizer(e){return makeCategorizer(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:a,from:c,length:d}=this.doc.lineAt(e),g=this.charCategorizer(e),b=e-c,_=e-c;for(;b>0;){let _e=findClusterBreak(a,b,!1);if(g(a.slice(_e,b))!=CharCategory.Word)break;b=_e}for(;_<d;){let _e=findClusterBreak(a,_);if(g(a.slice(_,_e))!=CharCategory.Word)break;_=_e}return b==_?null:EditorSelection.range(b+c,_+c)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:o=>o.length?o[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(o,e){let a=Object.keys(o),c=Object.keys(e);return a.length==c.length&&a.every(d=>o[d]==e[d])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(o,e,a={}){let c={};for(let d of o)for(let g of Object.keys(d)){let b=d[g],_=c[g];if(_===void 0)c[g]=b;else if(!(_===b||b===void 0))if(Object.hasOwnProperty.call(a,g))c[g]=a[g](_,b);else throw new Error("Config merge conflict for field "+g)}for(let d in e)c[d]===void 0&&(c[d]=e[d]);return c}class RangeValue{eq(e){return this==e}range(e,a=e){return Range$2.create(e,a,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$2=class H0{constructor(e,a,c){this.from=e,this.to=a,this.value=c}static create(e,a,c){return new H0(e,a,c)}};function cmpRange(o,e){return o.from-e.from||o.value.startSide-e.value.startSide}class Chunk{constructor(e,a,c,d){this.from=e,this.to=a,this.value=c,this.maxPoint=d}get length(){return this.to[this.to.length-1]}findIndex(e,a,c,d=0){let g=c?this.to:this.from;for(let b=d,_=g.length;;){if(b==_)return b;let _e=b+_>>1,tt=g[_e]-e||(c?this.value[_e].endSide:this.value[_e].startSide)-a;if(_e==b)return tt>=0?b:_;tt>=0?_=_e:b=_e+1}}between(e,a,c,d){for(let g=this.findIndex(a,-1e9,!0),b=this.findIndex(c,1e9,!1,g);g<b;g++)if(d(this.from[g]+e,this.to[g]+e,this.value[g])===!1)return!1}map(e,a){let c=[],d=[],g=[],b=-1,_=-1;for(let _e=0;_e<this.value.length;_e++){let tt=this.value[_e],nt=this.from[_e]+e,it=this.to[_e]+e,st,ot;if(nt==it){let ht=a.mapPos(nt,tt.startSide,tt.mapMode);if(ht==null||(st=ot=ht,tt.startSide!=tt.endSide&&(ot=a.mapPos(nt,tt.endSide),ot<st)))continue}else if(st=a.mapPos(nt,tt.startSide),ot=a.mapPos(it,tt.endSide),st>ot||st==ot&&tt.startSide>0&&tt.endSide<=0)continue;(ot-st||tt.endSide-tt.startSide)<0||(b<0&&(b=st),tt.point&&(_=Math.max(_,ot-st)),c.push(tt),d.push(st-b),g.push(ot-b))}return{mapped:c.length?new Chunk(d,g,c,_):null,pos:b}}}class RangeSet{constructor(e,a,c,d){this.chunkPos=e,this.chunk=a,this.nextLayer=c,this.maxPoint=d}static create(e,a,c,d){return new RangeSet(e,a,c,d)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let a of this.chunk)e+=a.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:a=[],sort:c=!1,filterFrom:d=0,filterTo:g=this.length}=e,b=e.filter;if(a.length==0&&!b)return this;if(c&&(a=a.slice().sort(cmpRange)),this.isEmpty)return a.length?RangeSet.of(a):this;let _=new LayerCursor(this,null,-1).goto(0),_e=0,tt=[],nt=new RangeSetBuilder;for(;_.value||_e<a.length;)if(_e<a.length&&(_.from-a[_e].from||_.startSide-a[_e].value.startSide)>=0){let it=a[_e++];nt.addInner(it.from,it.to,it.value)||tt.push(it)}else _.rangeIndex==1&&_.chunkIndex<this.chunk.length&&(_e==a.length||this.chunkEnd(_.chunkIndex)<a[_e].from)&&(!b||d>this.chunkEnd(_.chunkIndex)||g<this.chunkPos[_.chunkIndex])&&nt.addChunk(this.chunkPos[_.chunkIndex],this.chunk[_.chunkIndex])?_.nextChunk():((!b||d>_.to||g<_.from||b(_.from,_.to,_.value))&&(nt.addInner(_.from,_.to,_.value)||tt.push(Range$2.create(_.from,_.to,_.value))),_.next());return nt.finishInner(this.nextLayer.isEmpty&&!tt.length?RangeSet.empty:this.nextLayer.update({add:tt,filter:b,filterFrom:d,filterTo:g}))}map(e){if(e.empty||this.isEmpty)return this;let a=[],c=[],d=-1;for(let b=0;b<this.chunk.length;b++){let _=this.chunkPos[b],_e=this.chunk[b],tt=e.touchesRange(_,_+_e.length);if(tt===!1)d=Math.max(d,_e.maxPoint),a.push(_e),c.push(e.mapPos(_));else if(tt===!0){let{mapped:nt,pos:it}=_e.map(_,e);nt&&(d=Math.max(d,nt.maxPoint),a.push(nt),c.push(it))}}let g=this.nextLayer.map(e);return a.length==0?g:new RangeSet(c,a,g||RangeSet.empty,d)}between(e,a,c){if(!this.isEmpty){for(let d=0;d<this.chunk.length;d++){let g=this.chunkPos[d],b=this.chunk[d];if(a>=g&&e<=g+b.length&&b.between(g,e-g,a-g,c)===!1)return}this.nextLayer.between(e,a,c)}}iter(e=0){return HeapCursor.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,a=0){return HeapCursor.from(e).goto(a)}static compare(e,a,c,d,g=-1){let b=e.filter(it=>it.maxPoint>0||!it.isEmpty&&it.maxPoint>=g),_=a.filter(it=>it.maxPoint>0||!it.isEmpty&&it.maxPoint>=g),_e=findSharedChunks(b,_,c),tt=new SpanCursor(b,_e,g),nt=new SpanCursor(_,_e,g);c.iterGaps((it,st,ot)=>compare(tt,it,nt,st,ot,d)),c.empty&&c.length==0&&compare(tt,0,nt,0,0,d)}static eq(e,a,c=0,d){d==null&&(d=999999999);let g=e.filter(nt=>!nt.isEmpty&&a.indexOf(nt)<0),b=a.filter(nt=>!nt.isEmpty&&e.indexOf(nt)<0);if(g.length!=b.length)return!1;if(!g.length)return!0;let _=findSharedChunks(g,b),_e=new SpanCursor(g,_,0).goto(c),tt=new SpanCursor(b,_,0).goto(c);for(;;){if(_e.to!=tt.to||!sameValues(_e.active,tt.active)||_e.point&&(!tt.point||!_e.point.eq(tt.point)))return!1;if(_e.to>d)return!0;_e.next(),tt.next()}}static spans(e,a,c,d,g=-1){let b=new SpanCursor(e,null,g).goto(a),_=a,_e=b.openStart;for(;;){let tt=Math.min(b.to,c);if(b.point){let nt=b.activeForPoint(b.to),it=b.pointFrom<a?nt.length+1:b.point.startSide<0?nt.length:Math.min(nt.length,_e);d.point(_,tt,b.point,nt,it,b.pointRank),_e=Math.min(b.openEnd(tt),nt.length)}else tt>_&&(d.span(_,tt,b.active,_e),_e=b.openEnd(tt));if(b.to>c)return _e+(b.point&&b.to>c?1:0);_=b.to,b.next()}}static of(e,a=!1){let c=new RangeSetBuilder;for(let d of e instanceof Range$2?[e]:a?lazySort(e):e)c.add(d.from,d.to,d.value);return c.finish()}static join(e){if(!e.length)return RangeSet.empty;let a=e[e.length-1];for(let c=e.length-2;c>=0;c--)for(let d=e[c];d!=RangeSet.empty;d=d.nextLayer)a=new RangeSet(d.chunkPos,d.chunk,a,Math.max(d.maxPoint,a.maxPoint));return a}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(o){if(o.length>1)for(let e=o[0],a=1;a<o.length;a++){let c=o[a];if(cmpRange(e,c)>0)return o.slice().sort(cmpRange);e=c}return o}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(e){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,a,c){this.addInner(e,a,c)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(e,a,c)}addInner(e,a,c){let d=e-this.lastTo||c.startSide-this.last.endSide;if(d<=0&&(e-this.lastFrom||c.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return d<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(a-this.chunkStart),this.last=c,this.lastFrom=e,this.lastTo=a,this.value.push(c),c.point&&(this.maxPoint=Math.max(this.maxPoint,a-e)),!0)}addChunk(e,a){if((e-this.lastTo||a.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,a.maxPoint),this.chunks.push(a),this.chunkPos.push(e);let c=a.value.length-1;return this.last=a.value[c],this.lastFrom=a.from[c]+e,this.lastTo=a.to[c]+e,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let a=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,a}}function findSharedChunks(o,e,a){let c=new Map;for(let g of o)for(let b=0;b<g.chunk.length;b++)g.chunk[b].maxPoint<=0&&c.set(g.chunk[b],g.chunkPos[b]);let d=new Set;for(let g of e)for(let b=0;b<g.chunk.length;b++){let _=c.get(g.chunk[b]);_!=null&&(a?a.mapPos(_):_)==g.chunkPos[b]&&!(a!=null&&a.touchesRange(_,_+g.chunk[b].length))&&d.add(g.chunk[b])}return d}class LayerCursor{constructor(e,a,c,d=0){this.layer=e,this.skip=a,this.minPoint=c,this.rank=d}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,a=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,a,!1),this}gotoInner(e,a,c){for(;this.chunkIndex<this.layer.chunk.length;){let d=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(d)||this.layer.chunkEnd(this.chunkIndex)<e||d.maxPoint<this.minPoint))break;this.chunkIndex++,c=!1}if(this.chunkIndex<this.layer.chunk.length){let d=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],a,!0);(!c||this.rangeIndex<d)&&this.setRangeIndex(d)}this.next()}forward(e,a){(this.to-e||this.endSide-a)<0&&this.gotoInner(e,a,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],a=this.layer.chunk[this.chunkIndex],c=e+a.from[this.rangeIndex];if(this.from=c,this.to=e+a.to[this.rangeIndex],this.value=a.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class HeapCursor{constructor(e){this.heap=e}static from(e,a=null,c=-1){let d=[];for(let g=0;g<e.length;g++)for(let b=e[g];!b.isEmpty;b=b.nextLayer)b.maxPoint>=c&&d.push(new LayerCursor(b,a,c,g));return d.length==1?d[0]:new HeapCursor(d)}get startSide(){return this.value?this.value.startSide:0}goto(e,a=-1e9){for(let c of this.heap)c.goto(e,a);for(let c=this.heap.length>>1;c>=0;c--)heapBubble(this.heap,c);return this.next(),this}forward(e,a){for(let c of this.heap)c.forward(e,a);for(let c=this.heap.length>>1;c>=0;c--)heapBubble(this.heap,c);(this.to-e||this.value.endSide-a)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),heapBubble(this.heap,0)}}}function heapBubble(o,e){for(let a=o[e];;){let c=(e<<1)+1;if(c>=o.length)break;let d=o[c];if(c+1<o.length&&d.compare(o[c+1])>=0&&(d=o[c+1],c++),a.compare(d)<0)break;o[c]=a,o[e]=d,e=c}}class SpanCursor{constructor(e,a,c){this.minPoint=c,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(e,a,c)}goto(e,a=-1e9){return this.cursor.goto(e,a),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=a,this.openStart=-1,this.next(),this}forward(e,a){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-a)<0;)this.removeActive(this.minActive);this.cursor.forward(e,a)}removeActive(e){remove(this.active,e),remove(this.activeTo,e),remove(this.activeRank,e),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(e){let a=0,{value:c,to:d,rank:g}=this.cursor;for(;a<this.activeRank.length&&(g-this.activeRank[a]||d-this.activeTo[a])>0;)a++;insert(this.active,a,c),insert(this.activeTo,a,d),insert(this.activeRank,a,g),e&&insert(e,a,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let e=this.to,a=this.point;this.point=null;let c=this.openStart<0?[]:null;for(;;){let d=this.minActive;if(d>-1&&(this.activeTo[d]-this.cursor.from||this.active[d].endSide-this.cursor.startSide)<0){if(this.activeTo[d]>e){this.to=this.activeTo[d],this.endSide=this.active[d].endSide;break}this.removeActive(d),c&&remove(c,d)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let g=this.cursor.value;if(!g.point)this.addActive(c),this.cursor.next();else if(a&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=g,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=g.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(c){this.openStart=0;for(let d=c.length-1;d>=0&&c[d]<e;d--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let a=[];for(let c=this.active.length-1;c>=0&&!(this.activeRank[c]<this.pointRank);c--)(this.activeTo[c]>e||this.activeTo[c]==e&&this.active[c].endSide>=this.point.endSide)&&a.push(this.active[c]);return a.reverse()}openEnd(e){let a=0;for(let c=this.activeTo.length-1;c>=0&&this.activeTo[c]>e;c--)a++;return a}}function compare(o,e,a,c,d,g){o.goto(e),a.goto(c);let b=c+d,_=c,_e=c-e;for(;;){let tt=o.to+_e-a.to||o.endSide-a.endSide,nt=tt<0?o.to+_e:a.to,it=Math.min(nt,b);if(o.point||a.point?o.point&&a.point&&(o.point==a.point||o.point.eq(a.point))&&sameValues(o.activeForPoint(o.to),a.activeForPoint(a.to))||g.comparePoint(_,it,o.point,a.point):it>_&&!sameValues(o.active,a.active)&&g.compareRange(_,it,o.active,a.active),nt>b)break;_=nt,tt<=0&&o.next(),tt>=0&&a.next()}}function sameValues(o,e){if(o.length!=e.length)return!1;for(let a=0;a<o.length;a++)if(o[a]!=e[a]&&!o[a].eq(e[a]))return!1;return!0}function remove(o,e){for(let a=e,c=o.length-1;a<c;a++)o[a]=o[a+1];o.pop()}function insert(o,e,a){for(let c=o.length-1;c>=e;c--)o[c+1]=o[c];o[e]=a}function findMinIndex(o,e){let a=-1,c=1e9;for(let d=0;d<e.length;d++)(e[d]-c||o[d].endSide-o[a].endSide)<0&&(a=d,c=e[d]);return a}function countColumn(o,e,a=o.length){let c=0;for(let d=0;d<a;)o.charCodeAt(d)==9?(c+=e-c%e,d++):(c++,d=findClusterBreak(o,d));return c}function findColumn(o,e,a,c){for(let d=0,g=0;;){if(g>=e)return d;if(d==o.length)break;g+=o.charCodeAt(d)==9?a-g%a:1,d=findClusterBreak(o,d)}return c===!0?-1:o.length}const C="",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET$1=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(e,a){this.rules=[];let{finish:c}=a||{};function d(b){return/^@/.test(b)?[b]:b.split(/,\s*/)}function g(b,_,_e,tt){let nt=[],it=/^@(\w+)\b/.exec(b[0]),st=it&&it[1]=="keyframes";if(it&&_==null)return _e.push(b[0]+";");for(let ot in _){let ht=_[ot];if(/&/.test(ot))g(ot.split(/,\s*/).map(dt=>b.map(Et=>dt.replace(/&/,Et))).reduce((dt,Et)=>dt.concat(Et)),ht,_e);else if(ht&&typeof ht=="object"){if(!it)throw new RangeError("The value of a property ("+ot+") should be a primitive value.");g(d(ot),ht,nt,st)}else ht!=null&&nt.push(ot.replace(/_.*/,"").replace(/[A-Z]/g,dt=>"-"+dt.toLowerCase())+": "+ht+";")}(nt.length||st)&&_e.push((c&&!it&&!tt?b.map(c):b).join(", ")+" {"+nt.join(" ")+"}")}for(let b in e)g(d(b),e[b],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=top[COUNT]||1;return top[COUNT]=e+1,C+e.toString(36)}static mount(e,a,c){let d=e[SET$1],g=c&&c.nonce;d?g&&d.setNonce(g):d=new StyleSet(e,g),d.mount(Array.isArray(a)?a:[a],e)}}let adoptedSet=new Map;class StyleSet{constructor(e,a){let c=e.ownerDocument||e,d=c.defaultView;if(!e.head&&e.adoptedStyleSheets&&d.CSSStyleSheet){let g=adoptedSet.get(c);if(g)return e[SET$1]=g;this.sheet=new d.CSSStyleSheet,adoptedSet.set(c,this)}else this.styleTag=c.createElement("style"),a&&this.styleTag.setAttribute("nonce",a);this.modules=[],e[SET$1]=this}mount(e,a){let c=this.sheet,d=0,g=0;for(let b=0;b<e.length;b++){let _=e[b],_e=this.modules.indexOf(_);if(_e<g&&_e>-1&&(this.modules.splice(_e,1),g--,_e=-1),_e==-1){if(this.modules.splice(g++,0,_),c)for(let tt=0;tt<_.rules.length;tt++)c.insertRule(_.rules[tt],d++)}else{for(;g<_e;)d+=this.modules[g++].rules.length;d+=_.rules.length,g++}}if(c)a.adoptedStyleSheets.indexOf(this.sheet)<0&&(a.adoptedStyleSheets=[this.sheet,...a.adoptedStyleSheets]);else{let b="";for(let _e=0;_e<this.modules.length;_e++)b+=this.modules[_e].getRules()+`
`;this.styleTag.textContent=b;let _=a.head||a;this.styleTag.parentNode!=_&&_.insertBefore(this.styleTag,_.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift$3={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift$3[i]=String.fromCharCode(i);for(var code$1 in base)shift$3.hasOwnProperty(code$1)||(shift$3[code$1]=base[code$1]);function keyName(o){var e=mac&&o.metaKey&&o.shiftKey&&!o.ctrlKey&&!o.altKey||ie$1&&o.shiftKey&&o.key&&o.key.length==1||o.key=="Unidentified",a=!e&&o.key||(o.shiftKey?shift$3:base)[o.keyCode]||o.key||"Unidentified";return a=="Esc"&&(a="Escape"),a=="Del"&&(a="Delete"),a=="Left"&&(a="ArrowLeft"),a=="Up"&&(a="ArrowUp"),a=="Right"&&(a="ArrowRight"),a=="Down"&&(a="ArrowDown"),a}function getSelection(o){let e;return o.nodeType==11?e=o.getSelection?o:o.ownerDocument:e=o,e.getSelection()}function contains(o,e){return e?o==e||o.contains(e.nodeType!=1?e.parentNode:e):!1}function hasSelection(o,e){if(!e.anchorNode)return!1;try{return contains(o,e.anchorNode)}catch{return!1}}function clientRectsFor(o){return o.nodeType==3?textRange(o,0,o.nodeValue.length).getClientRects():o.nodeType==1?o.getClientRects():[]}function isEquivalentPosition(o,e,a,c){return a?scanFor(o,e,a,c,-1)||scanFor(o,e,a,c,1):!1}function domIndex(o){for(var e=0;;e++)if(o=o.previousSibling,!o)return e}function isBlockElement(o){return o.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(o.nodeName)}function scanFor(o,e,a,c,d){for(;;){if(o==a&&e==c)return!0;if(e==(d<0?0:maxOffset(o))){if(o.nodeName=="DIV")return!1;let g=o.parentNode;if(!g||g.nodeType!=1)return!1;e=domIndex(o)+(d<0?0:1),o=g}else if(o.nodeType==1){if(o=o.childNodes[e+(d<0?-1:0)],o.nodeType==1&&o.contentEditable=="false")return!1;e=d<0?maxOffset(o):0}else return!1}}function maxOffset(o){return o.nodeType==3?o.nodeValue.length:o.childNodes.length}function flattenRect(o,e){let a=e?o.left:o.right;return{left:a,right:a,top:o.top,bottom:o.bottom}}function windowRect(o){let e=o.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:o.innerWidth,top:0,bottom:o.innerHeight}}function getScale$1(o,e){let a=e.width/o.offsetWidth,c=e.height/o.offsetHeight;return(a>.995&&a<1.005||!isFinite(a)||Math.abs(e.width-o.offsetWidth)<1)&&(a=1),(c>.995&&c<1.005||!isFinite(c)||Math.abs(e.height-o.offsetHeight)<1)&&(c=1),{scaleX:a,scaleY:c}}function scrollRectIntoView(o,e,a,c,d,g,b,_){let _e=o.ownerDocument,tt=_e.defaultView||window;for(let nt=o,it=!1;nt&&!it;)if(nt.nodeType==1){let st,ot=nt==_e.body,ht=1,dt=1;if(ot)st=windowRect(tt);else{if(/^(fixed|sticky)$/.test(getComputedStyle(nt).position)&&(it=!0),nt.scrollHeight<=nt.clientHeight&&nt.scrollWidth<=nt.clientWidth){nt=nt.assignedSlot||nt.parentNode;continue}let gt=nt.getBoundingClientRect();({scaleX:ht,scaleY:dt}=getScale$1(nt,gt)),st={left:gt.left,right:gt.left+nt.clientWidth*ht,top:gt.top,bottom:gt.top+nt.clientHeight*dt}}let Et=0,pt=0;if(d=="nearest")e.top<st.top?(pt=-(st.top-e.top+b),a>0&&e.bottom>st.bottom+pt&&(pt=e.bottom-st.bottom+pt+b)):e.bottom>st.bottom&&(pt=e.bottom-st.bottom+b,a<0&&e.top-pt<st.top&&(pt=-(st.top+pt-e.top+b)));else{let gt=e.bottom-e.top,St=st.bottom-st.top;pt=(d=="center"&&gt<=St?e.top+gt/2-St/2:d=="start"||d=="center"&&a<0?e.top-b:e.bottom-St+b)-st.top}if(c=="nearest"?e.left<st.left?(Et=-(st.left-e.left+g),a>0&&e.right>st.right+Et&&(Et=e.right-st.right+Et+g)):e.right>st.right&&(Et=e.right-st.right+g,a<0&&e.left<st.left+Et&&(Et=-(st.left+Et-e.left+g))):Et=(c=="center"?e.left+(e.right-e.left)/2-(st.right-st.left)/2:c=="start"==_?e.left-g:e.right-(st.right-st.left)+g)-st.left,Et||pt)if(ot)tt.scrollBy(Et,pt);else{let gt=0,St=0;if(pt){let Tt=nt.scrollTop;nt.scrollTop+=pt/dt,St=(nt.scrollTop-Tt)*dt}if(Et){let Tt=nt.scrollLeft;nt.scrollLeft+=Et/ht,gt=(nt.scrollLeft-Tt)*ht}e={left:e.left-gt,top:e.top-St,right:e.right-gt,bottom:e.bottom-St},gt&&Math.abs(gt-Et)<1&&(c="nearest"),St&&Math.abs(St-pt)<1&&(d="nearest")}if(ot)break;nt=nt.assignedSlot||nt.parentNode}else if(nt.nodeType==11)nt=nt.host;else break}function scrollableParents(o){let e=o.ownerDocument,a,c;for(let d=o.parentNode;d&&!(d==e.body||a&&c);)if(d.nodeType==1)!c&&d.scrollHeight>d.clientHeight&&(c=d),!a&&d.scrollWidth>d.clientWidth&&(a=d),d=d.assignedSlot||d.parentNode;else if(d.nodeType==11)d=d.host;else break;return{x:a,y:c}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:a,focusNode:c}=e;this.set(a,Math.min(e.anchorOffset,a?maxOffset(a):0),c,Math.min(e.focusOffset,c?maxOffset(c):0))}set(e,a,c,d){this.anchorNode=e,this.anchorOffset=a,this.focusNode=c,this.focusOffset=d}}let preventScrollSupported=null;function focusPreventScroll(o){if(o.setActive)return o.setActive();if(preventScrollSupported)return o.focus(preventScrollSupported);let e=[];for(let a=o;a&&(e.push(a,a.scrollTop,a.scrollLeft),a!=a.ownerDocument);a=a.parentNode);if(o.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let a=0;a<e.length;){let c=e[a++],d=e[a++],g=e[a++];c.scrollTop!=d&&(c.scrollTop=d),c.scrollLeft!=g&&(c.scrollLeft=g)}}}let scratchRange;function textRange(o,e,a=e){let c=scratchRange||(scratchRange=document.createRange());return c.setEnd(o,a),c.setStart(o,e),c}function dispatchKey(o,e,a,c){let d={key:e,code:e,keyCode:a,which:a,cancelable:!0};c&&({altKey:d.altKey,ctrlKey:d.ctrlKey,shiftKey:d.shiftKey,metaKey:d.metaKey}=c);let g=new KeyboardEvent("keydown",d);g.synthetic=!0,o.dispatchEvent(g);let b=new KeyboardEvent("keyup",d);return b.synthetic=!0,o.dispatchEvent(b),g.defaultPrevented||b.defaultPrevented}function getRoot(o){for(;o;){if(o&&(o.nodeType==9||o.nodeType==11&&o.host))return o;o=o.assignedSlot||o.parentNode}return null}function clearAttributes(o){for(;o.attributes.length;)o.removeAttributeNode(o.attributes[0])}function atElementStart(o,e){let a=e.focusNode,c=e.focusOffset;if(!a||e.anchorNode!=a||e.anchorOffset!=c)return!1;for(c=Math.min(c,maxOffset(a));;)if(c){if(a.nodeType!=1)return!1;let d=a.childNodes[c-1];d.contentEditable=="false"?c--:(a=d,c=maxOffset(a))}else{if(a==o)return!0;c=domIndex(a),a=a.parentNode}}function isScrolledToBottom(o){return o.scrollTop>Math.max(1,o.scrollHeight-o.clientHeight-4)}function textNodeBefore(o,e){for(let a=o,c=e;;){if(a.nodeType==3&&c>0)return{node:a,offset:c};if(a.nodeType==1&&c>0){if(a.contentEditable=="false")return null;a=a.childNodes[c-1],c=maxOffset(a)}else if(a.parentNode&&!isBlockElement(a))c=domIndex(a),a=a.parentNode;else return null}}function textNodeAfter(o,e){for(let a=o,c=e;;){if(a.nodeType==3&&c<a.nodeValue.length)return{node:a,offset:c};if(a.nodeType==1&&c<a.childNodes.length){if(a.contentEditable=="false")return null;a=a.childNodes[c],c=0}else if(a.parentNode&&!isBlockElement(a))c=domIndex(a)+1,a=a.parentNode;else return null}}class DOMPos{constructor(e,a,c=!0){this.node=e,this.offset=a,this.precise=c}static before(e,a){return new DOMPos(e.parentNode,domIndex(e),a)}static after(e,a){return new DOMPos(e.parentNode,domIndex(e)+1,a)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let a=this.posAtStart;for(let c of this.children){if(c==e)return a;a+=c.length+c.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,a){if(this.flags&2){let c=this.dom,d=null,g;for(let b of this.children){if(b.flags&7){if(!b.dom&&(g=d?d.nextSibling:c.firstChild)){let _=ContentView.get(g);(!_||!_.parent&&_.canReuseDOM(b))&&b.reuseDOM(g)}b.sync(e,a),b.flags&=-8}if(g=d?d.nextSibling:c.firstChild,a&&!a.written&&a.node==c&&g!=b.dom&&(a.written=!0),b.dom.parentNode==c)for(;g&&g!=b.dom;)g=rm$1(g);else c.insertBefore(b.dom,g);d=b.dom}for(g=d?d.nextSibling:c.firstChild,g&&a&&a.node==c&&(a.written=!0);g;)g=rm$1(g)}else if(this.flags&1)for(let c of this.children)c.flags&7&&(c.sync(e,a),c.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,a){let c;if(e==this.dom)c=this.dom.childNodes[a];else{let d=maxOffset(e)==0?0:a==0?-1:1;for(;;){let g=e.parentNode;if(g==this.dom)break;d==0&&g.firstChild!=g.lastChild&&(e==g.firstChild?d=-1:d=1),e=g}d<0?c=e:c=e.nextSibling}if(c==this.dom.firstChild)return 0;for(;c&&!ContentView.get(c);)c=c.nextSibling;if(!c)return this.length;for(let d=0,g=0;;d++){let b=this.children[d];if(b.dom==c)return g;g+=b.length+b.breakAfter}}domBoundsAround(e,a,c=0){let d=-1,g=-1,b=-1,_=-1;for(let _e=0,tt=c,nt=c;_e<this.children.length;_e++){let it=this.children[_e],st=tt+it.length;if(tt<e&&st>a)return it.domBoundsAround(e,a,tt);if(st>=e&&d==-1&&(d=_e,g=tt),tt>a&&it.dom.parentNode==this.dom){b=_e,_=nt;break}nt=st,tt=st+it.breakAfter}return{from:g,to:_<0?c+this.length:_,startDOM:(d?this.children[d-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:b<this.children.length&&b>=0?this.children[b].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let a=this.parent;a;a=a.parent){if(e&&(a.flags|=2),a.flags&1)return;a.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let a=e.parent;if(!a)return e;e=a}}replaceChildren(e,a,c=noChildren){this.markDirty();for(let d=e;d<a;d++){let g=this.children[d];g.parent==this&&c.indexOf(g)<0&&g.destroy()}c.length<250?this.children.splice(e,a-e,...c):this.children=[].concat(this.children.slice(0,e),c,this.children.slice(a));for(let d=0;d<c.length;d++)c[d].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ChildCursor(this.children,e,this.children.length)}childPos(e,a=1){return this.childCursor().findPos(e,a)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,a,c,d,g,b){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(o){let e=o.nextSibling;return o.parentNode.removeChild(o),e}class ChildCursor{constructor(e,a,c){this.children=e,this.pos=a,this.i=c,this.off=0}findPos(e,a=1){for(;;){if(e>this.pos||e==this.pos&&(a>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let c=this.children[--this.i];this.pos-=c.length+c.breakAfter}}}function replaceRange(o,e,a,c,d,g,b,_,_e){let{children:tt}=o,nt=tt.length?tt[e]:null,it=g.length?g[g.length-1]:null,st=it?it.breakAfter:b;if(!(e==c&&nt&&!b&&!st&&g.length<2&&nt.merge(a,d,g.length?it:null,a==0,_,_e))){if(c<tt.length){let ot=tt[c];ot&&(d<ot.length||ot.breakAfter&&(it!=null&&it.breakAfter))?(e==c&&(ot=ot.split(d),d=0),!st&&it&&ot.merge(0,d,it,!0,0,_e)?g[g.length-1]=ot:((d||ot.children.length&&!ot.children[0].length)&&ot.merge(0,d,null,!1,0,_e),g.push(ot))):ot!=null&&ot.breakAfter&&(it?it.breakAfter=1:b=1),c++}for(nt&&(nt.breakAfter=b,a>0&&(!b&&g.length&&nt.merge(a,nt.length,g[0],!1,_,0)?nt.breakAfter=g.shift().breakAfter:(a<nt.length||nt.children.length&&nt.children[nt.children.length-1].length==0)&&nt.merge(a,nt.length,null,!1,_,0),e++));e<c&&g.length;)if(tt[c-1].become(g[g.length-1]))c--,g.pop(),_e=g.length?0:_;else if(tt[e].become(g[0]))e++,g.shift(),_=g.length?0:_e;else break;!g.length&&e&&c<tt.length&&!tt[e-1].breakAfter&&tt[c].merge(0,0,tt[e-1],!1,_,_e)&&e--,(e<c||g.length)&&o.replaceChildren(e,c,g)}}function mergeChildrenInto(o,e,a,c,d,g){let b=o.childCursor(),{i:_,off:_e}=b.findPos(a,1),{i:tt,off:nt}=b.findPos(e,-1),it=e-a;for(let st of c)it+=st.length;o.length+=it,replaceRange(o,tt,nt,_,_e,c,0,d,g)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,a){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(a&&a.node==this.dom&&(a.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,a,c){return this.flags&8||c&&(!(c instanceof TextView)||this.length-(a-e)+c.length>MaxJoinLen||c.flags&8)?!1:(this.text=this.text.slice(0,e)+(c?c.text:"")+this.text.slice(a),this.markDirty(),!0)}split(e){let a=new TextView(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),a.flags|=this.flags&8,a}localPosFromDOM(e,a){return e==this.dom?a:a?this.text.length:0}domAtPos(e){return new DOMPos(this.dom,e)}domBoundsAround(e,a,c){return{from:c,to:c+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,a){return textCoords(this.dom,e,a)}}class MarkView extends ContentView{constructor(e,a=[],c=0){super(),this.mark=e,this.children=a,this.length=c;for(let d of a)d.setParent(this)}setAttrs(e){if(clearAttributes(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let a in this.mark.attrs)e.setAttribute(a,this.mark.attrs[a]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,a){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,a)}merge(e,a,c,d,g,b){return c&&(!(c instanceof MarkView&&c.mark.eq(this.mark))||e&&g<=0||a<this.length&&b<=0)?!1:(mergeChildrenInto(this,e,a,c?c.children.slice():[],g-1,b-1),this.markDirty(),!0)}split(e){let a=[],c=0,d=-1,g=0;for(let _ of this.children){let _e=c+_.length;_e>e&&a.push(c<e?_.split(e-c):_),d<0&&c>=e&&(d=g),c=_e,g++}let b=this.length-e;return this.length=e,d>-1&&(this.children.length=d,this.markDirty()),new MarkView(this.mark,a,b)}domAtPos(e){return inlineDOMAtPos(this,e)}coordsAt(e,a){return coordsInChildren(this,e,a)}}function textCoords(o,e,a){let c=o.nodeValue.length;e>c&&(e=c);let d=e,g=e,b=0;e==0&&a<0||e==c&&a>=0?browser.chrome||browser.gecko||(e?(d--,b=1):g<c&&(g++,b=-1)):a<0?d--:g<c&&g++;let _=textRange(o,d,g).getClientRects();if(!_.length)return null;let _e=_[(b?b<0:a>=0)?0:_.length-1];return browser.safari&&!b&&_e.width==0&&(_e=Array.prototype.find.call(_,tt=>tt.width)||_e),b?flattenRect(_e,b<0):_e||null}class WidgetView extends ContentView{static create(e,a,c){return new WidgetView(e,a,c)}constructor(e,a,c){super(),this.widget=e,this.length=a,this.side=c,this.prevWidget=null}split(e){let a=WidgetView.create(this.widget,this.length-e,this.side);return this.length-=e,a}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,a,c,d,g,b){return c&&(!(c instanceof WidgetView)||!this.widget.compare(c.widget)||e>0&&g<=0||a<this.length&&b<=0)?!1:(this.length=e+(c?c.length:0)+(this.length-a),!0)}become(e){return e instanceof WidgetView&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Text.empty;let e=this;for(;e.parent;)e=e.parent;let{view:a}=e,c=a&&a.state.doc,d=this.posAtStart;return c?c.slice(d,d+this.length):Text.empty}domAtPos(e){return(this.length?e==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,a){let c=this.widget.coordsAt(this.dom,e,a);if(c)return c;let d=this.dom.getClientRects(),g=null;if(!d.length)return null;let b=this.side?this.side<0:e>0;for(let _=b?d.length-1:0;g=d[_],!(e>0?_==0:_==d.length-1||g.top<g.bottom);_+=b?-1:1);return flattenRect(g,!b)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof WidgetBufferView&&e.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(o,e){let a=o.dom,{children:c}=o,d=0;for(let g=0;d<c.length;d++){let b=c[d],_=g+b.length;if(!(_==g&&b.getSide()<=0)){if(e>g&&e<_&&b.dom.parentNode==a)return b.domAtPos(e-g);if(e<=g)break;g=_}}for(let g=d;g>0;g--){let b=c[g-1];if(b.dom.parentNode==a)return b.domAtPos(b.length)}for(let g=d;g<c.length;g++){let b=c[g];if(b.dom.parentNode==a)return b.domAtPos(0)}return new DOMPos(a,0)}function joinInlineInto(o,e,a){let c,{children:d}=o;a>0&&e instanceof MarkView&&d.length&&(c=d[d.length-1])instanceof MarkView&&c.mark.eq(e.mark)?joinInlineInto(c,e.children[0],a-1):(d.push(e),e.setParent(o)),o.length+=e.length}function coordsInChildren(o,e,a){let c=null,d=-1,g=null,b=-1;function _(tt,nt){for(let it=0,st=0;it<tt.children.length&&st<=nt;it++){let ot=tt.children[it],ht=st+ot.length;ht>=nt&&(ot.children.length?_(ot,nt-st):(!g||g.isHidden&&a>0)&&(ht>nt||st==ht&&ot.getSide()>0)?(g=ot,b=nt-st):(st<nt||st==ht&&ot.getSide()<0&&!ot.isHidden)&&(c=ot,d=nt-st)),st=ht}}_(o,e);let _e=(a<0?c:g)||c||g;return _e?_e.coordsAt(Math.max(0,_e==c?d:b),a):fallbackRect(o)}function fallbackRect(o){let e=o.dom.lastChild;if(!e)return o.dom.getBoundingClientRect();let a=clientRectsFor(e);return a[a.length-1]||null}function combineAttrs(o,e){for(let a in o)a=="class"&&e.class?e.class+=" "+o.class:a=="style"&&e.style?e.style+=";"+o.style:e[a]=o[a];return e}const noAttrs$1=Object.create(null);function attrsEq(o,e,a){if(o==e)return!0;o||(o=noAttrs$1),e||(e=noAttrs$1);let c=Object.keys(o),d=Object.keys(e);if(c.length-(a&&c.indexOf(a)>-1?1:0)!=d.length-(a&&d.indexOf(a)>-1?1:0))return!1;for(let g of c)if(g!=a&&(d.indexOf(g)==-1||o[g]!==e[g]))return!1;return!0}function updateAttrs(o,e,a){let c=!1;if(e)for(let d in e)a&&d in a||(c=!0,d=="style"?o.style.cssText="":o.removeAttribute(d));if(a)for(let d in a)e&&e[d]==a[d]||(c=!0,d=="style"?o.style.cssText=a[d]:o.setAttribute(d,a[d]));return c}function getAttrs$1(o){let e=Object.create(null);for(let a=0;a<o.attributes.length;a++){let c=o.attributes[a];e[c.name]=c.value}return e}class WidgetType{eq(e){return!1}updateDOM(e,a){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,a,c){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var BlockType=function(o){return o[o.Text=0]="Text",o[o.WidgetBefore=1]="WidgetBefore",o[o.WidgetAfter=2]="WidgetAfter",o[o.WidgetRange=3]="WidgetRange",o}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(e,a,c,d){super(),this.startSide=e,this.endSide=a,this.widget=c,this.spec=d}get heightRelevant(){return!1}static mark(e){return new MarkDecoration(e)}static widget(e){let a=Math.max(-1e4,Math.min(1e4,e.side||0)),c=!!e.block;return a+=c&&!e.inlineOrder?a>0?3e8:-4e8:a>0?1e8:-1e8,new PointDecoration(e,a,a,c,e.widget||null,!1)}static replace(e){let a=!!e.block,c,d;if(e.isBlockGap)c=-5e8,d=4e8;else{let{start:g,end:b}=getInclusive(e,a);c=(g?a?-3e8:-1:5e8)-1,d=(b?a?2e8:1:-6e8)+1}return new PointDecoration(e,c,d,a,e.widget||null,!0)}static line(e){return new LineDecoration(e)}static set(e,a=!1){return RangeSet.of(e,a)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(e){let{start:a,end:c}=getInclusive(e);super(a?-1:5e8,c?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var a,c;return this==e||e instanceof MarkDecoration&&this.tagName==e.tagName&&(this.class||((a=this.attrs)===null||a===void 0?void 0:a.class))==(e.class||((c=e.attrs)===null||c===void 0?void 0:c.class))&&attrsEq(this.attrs,e.attrs,"class")}range(e,a=e){if(e>=a)throw new RangeError("Mark decorations may not be empty");return super.range(e,a)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof LineDecoration&&this.spec.class==e.spec.class&&attrsEq(this.spec.attributes,e.spec.attributes)}range(e,a=e){if(a!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,a)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(e,a,c,d,g,b){super(a,c,g,e),this.block=d,this.isReplace=b,this.mapMode=d?a<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof PointDecoration&&widgetsEq(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,a=e){if(this.isReplace&&(e>a||e==a&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&a!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,a)}}PointDecoration.prototype.point=!0;function getInclusive(o,e=!1){let{inclusiveStart:a,inclusiveEnd:c}=o;return a==null&&(a=o.inclusive),c==null&&(c=o.inclusive),{start:a??e,end:c??e}}function widgetsEq(o,e){return o==e||!!(o&&e&&o.compare(e))}function addRange(o,e,a,c=0){let d=a.length-1;d>=0&&a[d]+c>=o?a[d]=Math.max(a[d],e):a.push(o,e)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,a,c,d,g,b){if(c){if(!(c instanceof LineView))return!1;this.dom||c.transferDOM(this)}return d&&this.setDeco(c?c.attrs:null),mergeChildrenInto(this,e,a,c?c.children.slice():[],g,b),!0}split(e){let a=new LineView;if(a.breakAfter=this.breakAfter,this.length==0)return a;let{i:c,off:d}=this.childPos(e);d&&(a.append(this.children[c].split(d),0),this.children[c].merge(d,this.children[c].length,null,!1,0,0),c++);for(let g=c;g<this.children.length;g++)a.append(this.children[g],0);for(;c>0&&this.children[c-1].length==0;)this.children[--c].destroy();return this.children.length=c,this.markDirty(),this.length=e,a}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){attrsEq(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,a){joinInlineInto(this,e,a)}addLineDeco(e){let a=e.spec.attributes,c=e.spec.class;a&&(this.attrs=combineAttrs(a,this.attrs||{})),c&&(this.attrs=combineAttrs({class:c},this.attrs||{}))}domAtPos(e){return inlineDOMAtPos(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,a){var c;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,a);let d=this.dom.lastChild;for(;d&&ContentView.get(d)instanceof MarkView;)d=d.lastChild;if(!d||!this.length||d.nodeName!="BR"&&((c=ContentView.get(d))===null||c===void 0?void 0:c.isEditable)==!1&&(!browser.ios||!this.children.some(g=>g instanceof TextView))){let g=document.createElement("BR");g.cmIgnore=!0,this.dom.appendChild(g)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,a;for(let c of this.children){if(!(c instanceof TextView)||/[^ -~]/.test(c.text))return null;let d=clientRectsFor(c.dom);if(d.length!=1)return null;e+=d[0].width,a=d[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:a}:null}coordsAt(e,a){let c=coordsInChildren(this,e,a);if(!this.children.length&&c&&this.parent){let{heightOracle:d}=this.parent.view.viewState,g=c.bottom-c.top;if(Math.abs(g-d.lineHeight)<2&&d.textHeight<g){let b=(g-d.textHeight)/2;return{top:c.top+b,bottom:c.bottom-b,left:c.left,right:c.left}}}return c}become(e){return e instanceof LineView&&this.children.length==0&&e.children.length==0&&attrsEq(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,a){for(let c=0,d=0;c<e.children.length;c++){let g=e.children[c],b=d+g.length;if(b>=a){if(g instanceof LineView)return g;if(b>a)break}d=b+g.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(e,a,c){super(),this.widget=e,this.length=a,this.deco=c,this.breakAfter=0,this.prevWidget=null}merge(e,a,c,d,g,b){return c&&(!(c instanceof BlockWidgetView)||!this.widget.compare(c.widget)||e>0&&g<=0||a<this.length&&b<=0)?!1:(this.length=e+(c?c.length:0)+(this.length-a),!0)}domAtPos(e){return e==0?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}split(e){let a=this.length-e;this.length=e;let c=new BlockWidgetView(this.widget,a,this.deco);return c.breakAfter=this.breakAfter,c}get children(){return noChildren}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(e){return e instanceof BlockWidgetView&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,a){let c=this.widget.coordsAt(this.dom,e,a);return c||(this.widget instanceof BlockGapWidget?null:flattenRect(this.dom.getBoundingClientRect(),this.length?e==0:a<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:a,endSide:c}=this.deco;return a==c?!1:e<0?a<0:c>0}}class BlockGapWidget extends WidgetType{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ContentBuilder{constructor(e,a,c,d){this.doc=e,this.pos=a,this.end=c,this.disallowBlockEffectsFor=d,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=a}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof BlockWidgetView&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText(e,a,c){for(;e>0;){if(this.textOff==this.text.length){let{value:g,lineBreak:b,done:_}=this.cursor.next(this.skip);if(this.skip=0,_)throw new Error("Ran out of text content when drawing inline views");if(b){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=g,this.textOff=0}let d=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(a.slice(a.length-c)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+d)),a),c),this.atCursorPos=!0,this.textOff+=d,e-=d,c=0}}span(e,a,c,d){this.buildText(a-e,c,d),this.pos=a,this.openStart<0&&(this.openStart=d)}point(e,a,c,d,g,b){if(this.disallowBlockEffectsFor[b]&&c instanceof PointDecoration){if(c.block)throw new RangeError("Block decorations may not be specified via plugins");if(a>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let _=a-e;if(c instanceof PointDecoration)if(c.block)c.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(c.widget||NullWidget.block,_,c));else{let _e=WidgetView.create(c.widget||NullWidget.inline,_,_?0:c.startSide),tt=this.atCursorPos&&!_e.isEditable&&g<=d.length&&(e<a||c.startSide>0),nt=!_e.isEditable&&(e<a||g>d.length||c.startSide<=0),it=this.getLine();this.pendingBuffer==2&&!tt&&!_e.isEditable&&(this.pendingBuffer=0),this.flushBuffer(d),tt&&(it.append(wrapMarks(new WidgetBufferView(1),d),g),g=d.length+Math.max(0,g-d.length)),it.append(wrapMarks(_e,d),g),this.atCursorPos=nt,this.pendingBuffer=nt?e<a||g>d.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=d.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(c);_&&(this.textOff+_<=this.text.length?this.textOff+=_:(this.skip+=_-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=a),this.openStart<0&&(this.openStart=g)}static build(e,a,c,d,g){let b=new ContentBuilder(e,a,c,g);return b.openEnd=RangeSet.spans(d,a,c,b),b.openStart<0&&(b.openStart=b.openEnd),b.finish(b.openEnd),b}}function wrapMarks(o,e){for(let a of e)o=new MarkView(a,[o],o.length);return o}class NullWidget extends WidgetType{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=function(o){return o[o.LTR=0]="LTR",o[o.RTL=1]="RTL",o}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(o){let e=[];for(let a=0;a<o.length;a++)e.push(1<<+o[a]);return e}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let o of["()","[]","{}"]){let e=o.charCodeAt(0),a=o.charCodeAt(1);Brackets[e]=a,Brackets[a]=-e}function charType(o){return o<=247?LowTypes[o]:1424<=o&&o<=1524?2:1536<=o&&o<=1785?ArabicTypes[o-1536]:1774<=o&&o<=2220?4:8192<=o&&o<=8204?256:64336<=o&&o<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(e,a,c){this.from=e,this.to=a,this.level=c}side(e,a){return this.dir==a==e?this.to:this.from}forward(e,a){return e==(this.dir==a)}static find(e,a,c,d){let g=-1;for(let b=0;b<e.length;b++){let _=e[b];if(_.from<=a&&_.to>=a){if(_.level==c)return b;(g<0||(d!=0?d<0?_.from<a:_.to>a:e[g].level>_.level))&&(g=b)}}if(g<0)throw new RangeError("Index out of range");return g}}function isolatesEq(o,e){if(o.length!=e.length)return!1;for(let a=0;a<o.length;a++){let c=o[a],d=e[a];if(c.from!=d.from||c.to!=d.to||c.direction!=d.direction||!isolatesEq(c.inner,d.inner))return!1}return!0}const types$1=[];function computeCharTypes(o,e,a,c,d){for(let g=0;g<=c.length;g++){let b=g?c[g-1].to:e,_=g<c.length?c[g].from:a,_e=g?256:d;for(let tt=b,nt=_e,it=_e;tt<_;tt++){let st=charType(o.charCodeAt(tt));st==512?st=nt:st==8&&it==4&&(st=16),types$1[tt]=st==4?2:st,st&7&&(it=st),nt=st}for(let tt=b,nt=_e,it=_e;tt<_;tt++){let st=types$1[tt];if(st==128)tt<_-1&&nt==types$1[tt+1]&&nt&24?st=types$1[tt]=nt:types$1[tt]=256;else if(st==64){let ot=tt+1;for(;ot<_&&types$1[ot]==64;)ot++;let ht=tt&&nt==8||ot<a&&types$1[ot]==8?it==1?1:8:256;for(let dt=tt;dt<ot;dt++)types$1[dt]=ht;tt=ot-1}else st==8&&it==1&&(types$1[tt]=1);nt=st,st&7&&(it=st)}}}function processBracketPairs(o,e,a,c,d){let g=d==1?2:1;for(let b=0,_=0,_e=0;b<=c.length;b++){let tt=b?c[b-1].to:e,nt=b<c.length?c[b].from:a;for(let it=tt,st,ot,ht;it<nt;it++)if(ot=Brackets[st=o.charCodeAt(it)])if(ot<0){for(let dt=_-3;dt>=0;dt-=3)if(BracketStack[dt+1]==-ot){let Et=BracketStack[dt+2],pt=Et&2?d:Et&4?Et&1?g:d:0;pt&&(types$1[it]=types$1[BracketStack[dt]]=pt),_=dt;break}}else{if(BracketStack.length==189)break;BracketStack[_++]=it,BracketStack[_++]=st,BracketStack[_++]=_e}else if((ht=types$1[it])==2||ht==1){let dt=ht==d;_e=dt?0:1;for(let Et=_-3;Et>=0;Et-=3){let pt=BracketStack[Et+2];if(pt&2)break;if(dt)BracketStack[Et+2]|=2;else{if(pt&4)break;BracketStack[Et+2]|=4}}}}}function processNeutrals(o,e,a,c){for(let d=0,g=c;d<=a.length;d++){let b=d?a[d-1].to:o,_=d<a.length?a[d].from:e;for(let _e=b;_e<_;){let tt=types$1[_e];if(tt==256){let nt=_e+1;for(;;)if(nt==_){if(d==a.length)break;nt=a[d++].to,_=d<a.length?a[d].from:e}else if(types$1[nt]==256)nt++;else break;let it=g==1,st=(nt<e?types$1[nt]:c)==1,ot=it==st?it?1:2:c;for(let ht=nt,dt=d,Et=dt?a[dt-1].to:o;ht>_e;)ht==Et&&(ht=a[--dt].from,Et=dt?a[dt-1].to:o),types$1[--ht]=ot;_e=nt}else g=tt,_e++}}}function emitSpans(o,e,a,c,d,g,b){let _=c%2?2:1;if(c%2==d%2)for(let _e=e,tt=0;_e<a;){let nt=!0,it=!1;if(tt==g.length||_e<g[tt].from){let dt=types$1[_e];dt!=_&&(nt=!1,it=dt==16)}let st=!nt&&_==1?[]:null,ot=nt?c:c+1,ht=_e;e:for(;;)if(tt<g.length&&ht==g[tt].from){if(it)break e;let dt=g[tt];if(!nt)for(let Et=dt.to,pt=tt+1;;){if(Et==a)break e;if(pt<g.length&&g[pt].from==Et)Et=g[pt++].to;else{if(types$1[Et]==_)break e;break}}if(tt++,st)st.push(dt);else{dt.from>_e&&b.push(new BidiSpan(_e,dt.from,ot));let Et=dt.direction==LTR!=!(ot%2);computeSectionOrder(o,Et?c+1:c,d,dt.inner,dt.from,dt.to,b),_e=dt.to}ht=dt.to}else{if(ht==a||(nt?types$1[ht]!=_:types$1[ht]==_))break;ht++}st?emitSpans(o,_e,ht,c+1,d,st,b):_e<ht&&b.push(new BidiSpan(_e,ht,ot)),_e=ht}else for(let _e=a,tt=g.length;_e>e;){let nt=!0,it=!1;if(!tt||_e>g[tt-1].to){let dt=types$1[_e-1];dt!=_&&(nt=!1,it=dt==16)}let st=!nt&&_==1?[]:null,ot=nt?c:c+1,ht=_e;e:for(;;)if(tt&&ht==g[tt-1].to){if(it)break e;let dt=g[--tt];if(!nt)for(let Et=dt.from,pt=tt;;){if(Et==e)break e;if(pt&&g[pt-1].to==Et)Et=g[--pt].from;else{if(types$1[Et-1]==_)break e;break}}if(st)st.push(dt);else{dt.to<_e&&b.push(new BidiSpan(dt.to,_e,ot));let Et=dt.direction==LTR!=!(ot%2);computeSectionOrder(o,Et?c+1:c,d,dt.inner,dt.from,dt.to,b),_e=dt.from}ht=dt.from}else{if(ht==e||(nt?types$1[ht-1]!=_:types$1[ht-1]==_))break;ht--}st?emitSpans(o,ht,_e,c+1,d,st,b):ht<_e&&b.push(new BidiSpan(ht,_e,ot)),_e=ht}}function computeSectionOrder(o,e,a,c,d,g,b){let _=e%2?2:1;computeCharTypes(o,d,g,c,_),processBracketPairs(o,d,g,c,_),processNeutrals(d,g,c,_),emitSpans(o,d,g,e,a,c,b)}function computeOrder(o,e,a){if(!o)return[new BidiSpan(0,0,e==RTL?1:0)];if(e==LTR&&!a.length&&!BidiRE.test(o))return trivialOrder(o.length);if(a.length)for(;o.length>types$1.length;)types$1[types$1.length]=256;let c=[],d=e==LTR?0:1;return computeSectionOrder(o,d,d,a,0,o.length,c),c}function trivialOrder(o){return[new BidiSpan(0,o,0)]}let movedOver="";function moveVisually(o,e,a,c,d){var g;let b=c.head-o.from,_=BidiSpan.find(e,b,(g=c.bidiLevel)!==null&&g!==void 0?g:-1,c.assoc),_e=e[_],tt=_e.side(d,a);if(b==tt){let st=_+=d?1:-1;if(st<0||st>=e.length)return null;_e=e[_=st],b=_e.side(!d,a),tt=_e.side(d,a)}let nt=findClusterBreak(o.text,b,_e.forward(d,a));(nt<_e.from||nt>_e.to)&&(nt=tt),movedOver=o.text.slice(Math.min(b,nt),Math.max(b,nt));let it=_==(d?e.length-1:0)?null:e[_+(d?1:-1)];return it&&nt==tt&&it.level+(d?0:1)<_e.level?EditorSelection.cursor(it.side(!d,a)+o.from,it.forward(d,a)?1:-1,it.level):EditorSelection.cursor(nt+o.from,_e.forward(d,a)?-1:1,_e.level)}function autoDirection(o,e,a){for(let c=e;c<a;c++){let d=charType(o.charCodeAt(c));if(d==1)return LTR;if(d==2||d==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:o=>o.some(e=>e)}),nativeSelectionHidden=Facet.define({combine:o=>o.some(e=>e)}),scrollHandler=Facet.define();class ScrollTarget{constructor(e,a="nearest",c="nearest",d=5,g=5,b=!1){this.range=e,this.y=a,this.x=c,this.yMargin=d,this.xMargin=g,this.isSnapshot=b}map(e){return e.empty?this:new ScrollTarget(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ScrollTarget(EditorSelection.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(o,e)=>o.map(e)}),setEditContextFormatting=StateEffect.define();function logException(o,e,a){let c=o.facet(exceptionSink);c.length?c[0](e):window.onerror?window.onerror(String(e),a,void 0,void 0,e):a?console.error(a+":",e):console.error(e)}const editable=Facet.define({combine:o=>o.length?o[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(e,a,c,d,g){this.id=e,this.create=a,this.domEventHandlers=c,this.domEventObservers=d,this.extension=g(this)}static define(e,a){const{eventHandlers:c,eventObservers:d,provide:g,decorations:b}=a||{};return new ViewPlugin(nextPluginID++,e,c,d,_=>{let _e=[viewPlugin.of(_)];return b&&_e.push(decorations.of(tt=>{let nt=tt.plugin(_);return nt?b(nt):Decoration.none})),g&&_e.push(g(_)),_e})}static fromClass(e,a){return ViewPlugin.define(c=>new e(c),a)}}class PluginInstance{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let a=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(a)}catch(c){if(logException(a.state,c,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(a){logException(e.state,a,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var a;if(!((a=this.value)===null||a===void 0)&&a.destroy)try{this.value.destroy()}catch(c){logException(e.state,c,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(o,e){let a=o.state.facet(bidiIsolatedRanges);if(!a.length)return a;let c=a.map(g=>g instanceof Function?g(o):g),d=[];return RangeSet.spans(c,e.from,e.to,{point(){},span(g,b,_,_e){let tt=g-e.from,nt=b-e.from,it=d;for(let st=_.length-1;st>=0;st--,_e--){let ot=_[st].spec.bidiIsolate,ht;if(ot==null&&(ot=autoDirection(e.text,tt,nt)),_e>0&&it.length&&(ht=it[it.length-1]).to==tt&&ht.direction==ot)ht.to=nt,it=ht.inner;else{let dt={from:tt,to:nt,direction:ot,inner:[]};it.push(dt),it=dt.inner}}}}),d}const scrollMargins=Facet.define();function getScrollMargins(o){let e=0,a=0,c=0,d=0;for(let g of o.state.facet(scrollMargins)){let b=g(o);b&&(b.left!=null&&(e=Math.max(e,b.left)),b.right!=null&&(a=Math.max(a,b.right)),b.top!=null&&(c=Math.max(c,b.top)),b.bottom!=null&&(d=Math.max(d,b.bottom)))}return{left:e,right:a,top:c,bottom:d}}const styleModule=Facet.define();class ChangedRange{constructor(e,a,c,d){this.fromA=e,this.toA=a,this.fromB=c,this.toB=d}join(e){return new ChangedRange(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let a=e.length,c=this;for(;a>0;a--){let d=e[a-1];if(!(d.fromA>c.toA)){if(d.toA<c.fromA)break;c=c.join(d),e.splice(a-1,1)}}return e.splice(a,0,c),e}static extendWithRanges(e,a){if(a.length==0)return e;let c=[];for(let d=0,g=0,b=0,_=0;;d++){let _e=d==e.length?null:e[d],tt=b-_,nt=_e?_e.fromB:1e9;for(;g<a.length&&a[g]<nt;){let it=a[g],st=a[g+1],ot=Math.max(_,it),ht=Math.min(nt,st);if(ot<=ht&&new ChangedRange(ot+tt,ht+tt,ot,ht).addToSet(c),st>nt)break;g+=2}if(!_e)return c;new ChangedRange(_e.fromA,_e.toA,_e.fromB,_e.toB).addToSet(c),b=_e.toA,_=_e.toB}}}class ViewUpdate{constructor(e,a,c){this.view=e,this.state=a,this.transactions=c,this.flags=0,this.startState=e.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let g of c)this.changes=this.changes.compose(g.changes);let d=[];this.changes.iterChangedRanges((g,b,_,_e)=>d.push(new ChangedRange(g,b,_,_e))),this.changedRanges=d}static create(e,a,c){return new ViewUpdate(e,a,c)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,e.state.doc.length)],0,null)}update(e){var a;let c=e.changedRanges;this.minWidth>0&&c.length&&(c.every(({fromA:tt,toA:nt})=>nt<this.minWidthFrom||tt>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let d=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((a=this.domChanged)===null||a===void 0)&&a.newSel?d=this.domChanged.newSel.head:!touchesComposition(e.changes,this.hasComposition)&&!e.selectionSet&&(d=e.state.selection.main.head));let g=d>-1?findCompositionRange(this.view,e.changes,d):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:tt,to:nt}=this.hasComposition;c=new ChangedRange(tt,nt,e.changes.mapPos(tt,-1),e.changes.mapPos(nt,1)).addToSet(c.slice())}this.hasComposition=g?{from:g.range.fromB,to:g.range.toB}:null,(browser.ie||browser.chrome)&&!g&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let b=this.decorations,_=this.updateDeco(),_e=findChangedDeco(b,_,e.changes);return c=ChangedRange.extendWithRanges(c,_e),!(this.flags&7)&&c.length==0?!1:(this.updateInner(c,e.startState.doc.length,g),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,a,c){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,a,c);let{observer:d}=this.view;d.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let b=browser.chrome||browser.ios?{node:d.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,b),this.flags&=-8,b&&(b.written||d.selectionRange.focusNode!=b.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(b=>b.flags&=-9);let g=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let b of this.children)b instanceof BlockWidgetView&&b.widget instanceof BlockGapWidget&&g.push(b.dom);d.updateGaps(g)}updateChildren(e,a,c){let d=c?c.range.addToSet(e.slice()):e,g=this.childCursor(a);for(let b=d.length-1;;b--){let _=b>=0?d[b]:null;if(!_)break;let{fromA:_e,toA:tt,fromB:nt,toB:it}=_,st,ot,ht,dt;if(c&&c.range.fromB<it&&c.range.toB>nt){let Tt=ContentBuilder.build(this.view.state.doc,nt,c.range.fromB,this.decorations,this.dynamicDecorationMap),bt=ContentBuilder.build(this.view.state.doc,c.range.toB,it,this.decorations,this.dynamicDecorationMap);ot=Tt.breakAtStart,ht=Tt.openStart,dt=bt.openEnd;let vt=this.compositionView(c);bt.breakAtStart?vt.breakAfter=1:bt.content.length&&vt.merge(vt.length,vt.length,bt.content[0],!1,bt.openStart,0)&&(vt.breakAfter=bt.content[0].breakAfter,bt.content.shift()),Tt.content.length&&vt.merge(0,0,Tt.content[Tt.content.length-1],!0,0,Tt.openEnd)&&Tt.content.pop(),st=Tt.content.concat(vt).concat(bt.content)}else({content:st,breakAtStart:ot,openStart:ht,openEnd:dt}=ContentBuilder.build(this.view.state.doc,nt,it,this.decorations,this.dynamicDecorationMap));let{i:Et,off:pt}=g.findPos(tt,1),{i:gt,off:St}=g.findPos(_e,-1);replaceRange(this,gt,St,Et,pt,st,ot,ht,dt)}c&&this.fixCompositionDOM(c)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let a of e.transactions)for(let c of a.effects)c.is(setEditContextFormatting)&&(this.editContextFormatting=c.value)}compositionView(e){let a=new TextView(e.text.nodeValue);a.flags|=8;for(let{deco:d}of e.marks)a=new MarkView(d,[a],a.length);let c=new LineView;return c.append(a,0),c}fixCompositionDOM(e){let a=(g,b)=>{b.flags|=8|(b.children.some(_e=>_e.flags&7)?1:0),this.markedForComposition.add(b);let _=ContentView.get(g);_&&_!=b&&(_.dom=null),b.setDOM(g)},c=this.childPos(e.range.fromB,1),d=this.children[c.i];a(e.line,d);for(let g=e.marks.length-1;g>=-1;g--)c=d.childPos(c.off,1),d=d.children[c.i],a(g>=0?e.marks[g].node:e.text,d)}updateSelection(e=!1,a=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let c=this.view.root.activeElement,d=c==this.dom,g=!d&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(c&&this.dom.contains(c));if(!(d||a||g))return;let b=this.forceSelection;this.forceSelection=!1;let _=this.view.state.selection.main,_e=this.moveToLine(this.domAtPos(_.anchor)),tt=_.empty?_e:this.moveToLine(this.domAtPos(_.head));if(browser.gecko&&_.empty&&!this.hasComposition&&betweenUneditable(_e)){let it=document.createTextNode("");this.view.observer.ignore(()=>_e.node.insertBefore(it,_e.node.childNodes[_e.offset]||null)),_e=tt=new DOMPos(it,0),b=!0}let nt=this.view.observer.selectionRange;(b||!nt.focusNode||(!isEquivalentPosition(_e.node,_e.offset,nt.anchorNode,nt.anchorOffset)||!isEquivalentPosition(tt.node,tt.offset,nt.focusNode,nt.focusOffset))&&!this.suppressWidgetCursorChange(nt,_))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(nt.focusNode)&&inUneditable(nt.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let it=getSelection(this.view.root);if(it)if(_.empty){if(browser.gecko){let st=nextToUneditable(_e.node,_e.offset);if(st&&st!=3){let ot=(st==1?textNodeBefore:textNodeAfter)(_e.node,_e.offset);ot&&(_e=new DOMPos(ot.node,ot.offset))}}it.collapse(_e.node,_e.offset),_.bidiLevel!=null&&it.caretBidiLevel!==void 0&&(it.caretBidiLevel=_.bidiLevel)}else if(it.extend){it.collapse(_e.node,_e.offset);try{it.extend(tt.node,tt.offset)}catch{}}else{let st=document.createRange();_.anchor>_.head&&([_e,tt]=[tt,_e]),st.setEnd(tt.node,tt.offset),st.setStart(_e.node,_e.offset),it.removeAllRanges(),it.addRange(st)}g&&this.view.root.activeElement==this.dom&&(this.dom.blur(),c&&c.focus())}),this.view.observer.setSelectionRange(_e,tt)),this.impreciseAnchor=_e.precise?null:new DOMPos(nt.anchorNode,nt.anchorOffset),this.impreciseHead=tt.precise?null:new DOMPos(nt.focusNode,nt.focusOffset)}suppressWidgetCursorChange(e,a){return this.hasComposition&&a.empty&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==a.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,a=e.state.selection.main,c=getSelection(e.root),{anchorNode:d,anchorOffset:g}=e.observer.selectionRange;if(!c||!a.empty||!a.assoc||!c.modify)return;let b=LineView.find(this,a.head);if(!b)return;let _=b.posAtStart;if(a.head==_||a.head==_+b.length)return;let _e=this.coordsAt(a.head,-1),tt=this.coordsAt(a.head,1);if(!_e||!tt||_e.bottom>tt.top)return;let nt=this.domAtPos(a.head+a.assoc);c.collapse(nt.node,nt.offset),c.modify("move",a.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let it=e.observer.selectionRange;e.docView.posFromDOM(it.anchorNode,it.anchorOffset)!=a.from&&c.collapse(d,g)}moveToLine(e){let a=this.dom,c;if(e.node!=a)return e;for(let d=e.offset;!c&&d<a.childNodes.length;d++){let g=ContentView.get(a.childNodes[d]);g instanceof LineView&&(c=g.domAtPos(0))}for(let d=e.offset-1;!c&&d>=0;d--){let g=ContentView.get(a.childNodes[d]);g instanceof LineView&&(c=g.domAtPos(g.length))}return c?new DOMPos(c.node,c.offset,!0):e}nearest(e){for(let a=e;a;){let c=ContentView.get(a);if(c&&c.rootView==this)return c;a=a.parentNode}return null}posFromDOM(e,a){let c=this.nearest(e);if(!c)throw new RangeError("Trying to find position for a DOM position outside of the document");return c.localPosFromDOM(e,a)+c.posAtStart}domAtPos(e){let{i:a,off:c}=this.childCursor().findPos(e,-1);for(;a<this.children.length-1;){let d=this.children[a];if(c<d.length||d instanceof LineView)break;a++,c=0}return this.children[a].domAtPos(c)}coordsAt(e,a){let c=null,d=0;for(let g=this.length,b=this.children.length-1;b>=0;b--){let _=this.children[b],_e=g-_.breakAfter,tt=_e-_.length;if(_e<e)break;if(tt<=e&&(tt<e||_.covers(-1))&&(_e>e||_.covers(1))&&(!c||_ instanceof LineView&&!(c instanceof LineView&&a>=0)))c=_,d=tt;else if(c&&tt==e&&_e==e&&_ instanceof BlockWidgetView&&Math.abs(a)<2){if(_.deco.startSide<0)break;b&&(c=null)}g=tt}return c?c.coordsAt(e-d,a):null}coordsForChar(e){let{i:a,off:c}=this.childPos(e,1),d=this.children[a];if(!(d instanceof LineView))return null;for(;d.children.length;){let{i:_,off:_e}=d.childPos(c,1);for(;;_++){if(_==d.children.length)return null;if((d=d.children[_]).length)break}c=_e}if(!(d instanceof TextView))return null;let g=findClusterBreak(d.text,c);if(g==c)return null;let b=textRange(d.dom,c,g).getClientRects();for(let _=0;_<b.length;_++){let _e=b[_];if(_==b.length-1||_e.top<_e.bottom&&_e.left<_e.right)return _e}return null}measureVisibleLineHeights(e){let a=[],{from:c,to:d}=e,g=this.view.contentDOM.clientWidth,b=g>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,_=-1,_e=this.view.textDirection==Direction.LTR;for(let tt=0,nt=0;nt<this.children.length;nt++){let it=this.children[nt],st=tt+it.length;if(st>d)break;if(tt>=c){let ot=it.dom.getBoundingClientRect();if(a.push(ot.height),b){let ht=it.dom.lastChild,dt=ht?clientRectsFor(ht):[];if(dt.length){let Et=dt[dt.length-1],pt=_e?Et.right-ot.left:ot.right-Et.left;pt>_&&(_=pt,this.minWidth=g,this.minWidthFrom=tt,this.minWidthTo=st)}}}tt=st+it.breakAfter}return a}textDirectionAt(e){let{i:a}=this.childPos(e,1);return getComputedStyle(this.children[a].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let g of this.children)if(g instanceof LineView){let b=g.measureTextSize();if(b)return b}let e=document.createElement("div"),a,c,d;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let g=clientRectsFor(e.firstChild)[0];a=e.getBoundingClientRect().height,c=g?g.width/27:7,d=g?g.height:a,e.remove()}),{lineHeight:a,charWidth:c,textHeight:d}}childCursor(e=this.length){let a=this.children.length;return a&&(e-=this.children[--a].length),new ChildCursor(this.children,e,a)}computeBlockGapDeco(){let e=[],a=this.view.viewState;for(let c=0,d=0;;d++){let g=d==a.viewports.length?null:a.viewports[d],b=g?g.from-1:this.length;if(b>c){let _=(a.lineBlockAt(b).bottom-a.lineBlockAt(c).top)/this.view.scaleY;e.push(Decoration.replace({widget:new BlockGapWidget(_),block:!0,inclusive:!0,isBlockGap:!0}).range(c,b))}if(!g)break;c=g.to+1}return Decoration.set(e)}updateDeco(){let e=1,a=this.view.state.facet(decorations).map(g=>(this.dynamicDecorationMap[e++]=typeof g=="function")?g(this.view):g),c=!1,d=this.view.state.facet(outerDecorations).map((g,b)=>{let _=typeof g=="function";return _&&(c=!0),_?g(this.view):g});for(d.length&&(this.dynamicDecorationMap[e++]=c,a.push(RangeSet.join(d))),this.decorations=[this.editContextFormatting,...a,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let tt=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=tt.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let tt of this.view.state.facet(scrollHandler))try{if(tt(this.view,e.range,e))return!0}catch(nt){logException(this.view.state,nt,"scroll handler")}let{range:a}=e,c=this.coordsAt(a.head,a.empty?a.assoc:a.head>a.anchor?-1:1),d;if(!c)return;!a.empty&&(d=this.coordsAt(a.anchor,a.anchor>a.head?-1:1))&&(c={left:Math.min(c.left,d.left),top:Math.min(c.top,d.top),right:Math.max(c.right,d.right),bottom:Math.max(c.bottom,d.bottom)});let g=getScrollMargins(this.view),b={left:c.left-g.left,top:c.top-g.top,right:c.right+g.right,bottom:c.bottom+g.bottom},{offsetWidth:_,offsetHeight:_e}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,b,a.head<a.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,_),-_),Math.max(Math.min(e.yMargin,_e),-_e),this.view.textDirection==Direction.LTR)}}function betweenUneditable(o){return o.node.nodeType==1&&o.node.firstChild&&(o.offset==0||o.node.childNodes[o.offset-1].contentEditable=="false")&&(o.offset==o.node.childNodes.length||o.node.childNodes[o.offset].contentEditable=="false")}function findCompositionNode(o,e){let a=o.observer.selectionRange;if(!a.focusNode)return null;let c=textNodeBefore(a.focusNode,a.focusOffset),d=textNodeAfter(a.focusNode,a.focusOffset),g=c||d;if(d&&c&&d.node!=c.node){let _=ContentView.get(d.node);if(!_||_ instanceof TextView&&_.text!=d.node.nodeValue)g=d;else if(o.docView.lastCompositionAfterCursor){let _e=ContentView.get(c.node);!_e||_e instanceof TextView&&_e.text!=c.node.nodeValue||(g=d)}}if(o.docView.lastCompositionAfterCursor=g!=c,!g)return null;let b=e-g.offset;return{from:b,to:b+g.node.nodeValue.length,node:g.node}}function findCompositionRange(o,e,a){let c=findCompositionNode(o,a);if(!c)return null;let{node:d,from:g,to:b}=c,_=d.nodeValue;if(/[\n\r]/.test(_)||o.state.doc.sliceString(c.from,c.to)!=_)return null;let _e=e.invertedDesc,tt=new ChangedRange(_e.mapPos(g),_e.mapPos(b),g,b),nt=[];for(let it=d.parentNode;;it=it.parentNode){let st=ContentView.get(it);if(st instanceof MarkView)nt.push({node:it,deco:st.mark});else{if(st instanceof LineView||it.nodeName=="DIV"&&it.parentNode==o.contentDOM)return{range:tt,text:d,marks:nt,line:it};if(it!=o.contentDOM)nt.push({node:it,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs$1(it),tagName:it.tagName.toLowerCase()})});else return null}}}function nextToUneditable(o,e){return o.nodeType!=1?0:(e&&o.childNodes[e-1].contentEditable=="false"?1:0)|(e<o.childNodes.length&&o.childNodes[e].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(e,a){addRange(e,a,this.changes)}comparePoint(e,a){addRange(e,a,this.changes)}};function findChangedDeco(o,e,a){let c=new DecorationComparator$1;return RangeSet.compare(o,e,a,c),c.changes}function inUneditable(o,e){for(let a=o;a&&a!=e;a=a.assignedSlot||a.parentNode)if(a.nodeType==1&&a.contentEditable=="false")return!0;return!1}function touchesComposition(o,e){let a=!1;return e&&o.iterChangedRanges((c,d)=>{c<e.to&&d>e.from&&(a=!0)}),a}function groupAt(o,e,a=1){let c=o.charCategorizer(e),d=o.doc.lineAt(e),g=e-d.from;if(d.length==0)return EditorSelection.cursor(e);g==0?a=1:g==d.length&&(a=-1);let b=g,_=g;a<0?b=findClusterBreak(d.text,g,!1):_=findClusterBreak(d.text,g);let _e=c(d.text.slice(b,_));for(;b>0;){let tt=findClusterBreak(d.text,b,!1);if(c(d.text.slice(tt,b))!=_e)break;b=tt}for(;_<d.length;){let tt=findClusterBreak(d.text,_);if(c(d.text.slice(_,tt))!=_e)break;_=tt}return EditorSelection.range(b+d.from,_+d.from)}function getdx(o,e){return e.left>o?e.left-o:Math.max(0,o-e.right)}function getdy(o,e){return e.top>o?e.top-o:Math.max(0,o-e.bottom)}function yOverlap(o,e){return o.top<e.bottom-1&&o.bottom>e.top+1}function upTop(o,e){return e<o.top?{top:e,left:o.left,right:o.right,bottom:o.bottom}:o}function upBot(o,e){return e>o.bottom?{top:o.top,left:o.left,right:o.right,bottom:e}:o}function domPosAtCoords(o,e,a){let c,d,g,b,_=!1,_e,tt,nt,it;for(let ht=o.firstChild;ht;ht=ht.nextSibling){let dt=clientRectsFor(ht);for(let Et=0;Et<dt.length;Et++){let pt=dt[Et];d&&yOverlap(d,pt)&&(pt=upTop(upBot(pt,d.bottom),d.top));let gt=getdx(e,pt),St=getdy(a,pt);if(gt==0&&St==0)return ht.nodeType==3?domPosInText(ht,e,a):domPosAtCoords(ht,e,a);if(!c||b>St||b==St&&g>gt){c=ht,d=pt,g=gt,b=St;let Tt=St?a<pt.top?-1:1:gt?e<pt.left?-1:1:0;_=!Tt||(Tt>0?Et<dt.length-1:Et>0)}gt==0?a>pt.bottom&&(!nt||nt.bottom<pt.bottom)?(_e=ht,nt=pt):a<pt.top&&(!it||it.top>pt.top)&&(tt=ht,it=pt):nt&&yOverlap(nt,pt)?nt=upBot(nt,pt.bottom):it&&yOverlap(it,pt)&&(it=upTop(it,pt.top))}}if(nt&&nt.bottom>=a?(c=_e,d=nt):it&&it.top<=a&&(c=tt,d=it),!c)return{node:o,offset:0};let st=Math.max(d.left,Math.min(d.right,e));if(c.nodeType==3)return domPosInText(c,st,a);if(_&&c.contentEditable!="false")return domPosAtCoords(c,st,a);let ot=Array.prototype.indexOf.call(o.childNodes,c)+(e>=(d.left+d.right)/2?1:0);return{node:o,offset:ot}}function domPosInText(o,e,a){let c=o.nodeValue.length,d=-1,g=1e9,b=0;for(let _=0;_<c;_++){let _e=textRange(o,_,_+1).getClientRects();for(let tt=0;tt<_e.length;tt++){let nt=_e[tt];if(nt.top==nt.bottom)continue;b||(b=e-nt.left);let it=(nt.top>a?nt.top-a:a-nt.bottom)-1;if(nt.left-1<=e&&nt.right+1>=e&&it<g){let st=e>=(nt.left+nt.right)/2,ot=st;if((browser.chrome||browser.gecko)&&textRange(o,_).getBoundingClientRect().left==nt.right&&(ot=!st),it<=0)return{node:o,offset:_+(ot?1:0)};d=_+(ot?1:0),g=it}}}return{node:o,offset:d>-1?d:b>0?o.nodeValue.length:0}}function posAtCoords(o,e,a,c=-1){var d,g;let b=o.contentDOM.getBoundingClientRect(),_=b.top+o.viewState.paddingTop,_e,{docHeight:tt}=o.viewState,{x:nt,y:it}=e,st=it-_;if(st<0)return 0;if(st>tt)return o.state.doc.length;for(let Tt=o.viewState.heightOracle.textHeight/2,bt=!1;_e=o.elementAtHeight(st),_e.type!=BlockType.Text;)for(;st=c>0?_e.bottom+Tt:_e.top-Tt,!(st>=0&&st<=tt);){if(bt)return a?null:0;bt=!0,c=-c}it=_+st;let ot=_e.from;if(ot<o.viewport.from)return o.viewport.from==0?0:a?null:posAtCoordsImprecise(o,b,_e,nt,it);if(ot>o.viewport.to)return o.viewport.to==o.state.doc.length?o.state.doc.length:a?null:posAtCoordsImprecise(o,b,_e,nt,it);let ht=o.dom.ownerDocument,dt=o.root.elementFromPoint?o.root:ht,Et=dt.elementFromPoint(nt,it);Et&&!o.contentDOM.contains(Et)&&(Et=null),Et||(nt=Math.max(b.left+1,Math.min(b.right-1,nt)),Et=dt.elementFromPoint(nt,it),Et&&!o.contentDOM.contains(Et)&&(Et=null));let pt,gt=-1;if(Et&&((d=o.docView.nearest(Et))===null||d===void 0?void 0:d.isEditable)!=!1){if(ht.caretPositionFromPoint){let Tt=ht.caretPositionFromPoint(nt,it);Tt&&({offsetNode:pt,offset:gt}=Tt)}else if(ht.caretRangeFromPoint){let Tt=ht.caretRangeFromPoint(nt,it);Tt&&({startContainer:pt,startOffset:gt}=Tt,(!o.contentDOM.contains(pt)||browser.safari&&isSuspiciousSafariCaretResult(pt,gt,nt)||browser.chrome&&isSuspiciousChromeCaretResult(pt,gt,nt))&&(pt=void 0))}pt&&(gt=Math.min(maxOffset(pt),gt))}if(!pt||!o.docView.dom.contains(pt)){let Tt=LineView.find(o.docView,ot);if(!Tt)return st>_e.top+_e.height/2?_e.to:_e.from;({node:pt,offset:gt}=domPosAtCoords(Tt.dom,nt,it))}let St=o.docView.nearest(pt);if(!St)return null;if(St.isWidget&&((g=St.dom)===null||g===void 0?void 0:g.nodeType)==1){let Tt=St.dom.getBoundingClientRect();return e.y<Tt.top||e.y<=Tt.bottom&&e.x<=(Tt.left+Tt.right)/2?St.posAtStart:St.posAtEnd}else return St.localPosFromDOM(pt,gt)+St.posAtStart}function posAtCoordsImprecise(o,e,a,c,d){let g=Math.round((c-e.left)*o.defaultCharacterWidth);if(o.lineWrapping&&a.height>o.defaultLineHeight*1.5){let _=o.viewState.heightOracle.textHeight,_e=Math.floor((d-a.top-(o.defaultLineHeight-_)*.5)/_);g+=_e*o.viewState.heightOracle.lineLength}let b=o.state.sliceDoc(a.from,a.to);return a.from+findColumn(b,g,o.state.tabSize)}function isSuspiciousSafariCaretResult(o,e,a){let c;if(o.nodeType!=3||e!=(c=o.nodeValue.length))return!1;for(let d=o.nextSibling;d;d=d.nextSibling)if(d.nodeType!=1||d.nodeName!="BR")return!1;return textRange(o,c-1,c).getBoundingClientRect().left>a}function isSuspiciousChromeCaretResult(o,e,a){if(e!=0)return!1;for(let d=o;;){let g=d.parentNode;if(!g||g.nodeType!=1||g.firstChild!=d)return!1;if(g.classList.contains("cm-line"))break;d=g}let c=o.nodeType==1?o.getBoundingClientRect():textRange(o,0,Math.max(o.nodeValue.length,1)).getBoundingClientRect();return a-c.left>5}function blockAt(o,e){let a=o.lineBlockAt(e);if(Array.isArray(a.type)){for(let c of a.type)if(c.to>e||c.to==e&&(c.to==a.to||c.type==BlockType.Text))return c}return a}function moveToLineBoundary(o,e,a,c){let d=blockAt(o,e.head),g=!c||d.type!=BlockType.Text||!(o.lineWrapping||d.widgetLineBreaks)?null:o.coordsAtPos(e.assoc<0&&e.head>d.from?e.head-1:e.head);if(g){let b=o.dom.getBoundingClientRect(),_=o.textDirectionAt(d.from),_e=o.posAtCoords({x:a==(_==Direction.LTR)?b.right-1:b.left+1,y:(g.top+g.bottom)/2});if(_e!=null)return EditorSelection.cursor(_e,a?-1:1)}return EditorSelection.cursor(a?d.to:d.from,a?-1:1)}function moveByChar(o,e,a,c){let d=o.state.doc.lineAt(e.head),g=o.bidiSpans(d),b=o.textDirectionAt(d.from);for(let _=e,_e=null;;){let tt=moveVisually(d,g,b,_,a),nt=movedOver;if(!tt){if(d.number==(a?o.state.doc.lines:1))return _;nt=`
`,d=o.state.doc.line(d.number+(a?1:-1)),g=o.bidiSpans(d),tt=o.visualLineSide(d,!a)}if(_e){if(!_e(nt))return _}else{if(!c)return tt;_e=c(nt)}_=tt}}function byGroup(o,e,a){let c=o.state.charCategorizer(e),d=c(a);return g=>{let b=c(g);return d==CharCategory.Space&&(d=b),d==b}}function moveVertically(o,e,a,c){let d=e.head,g=a?1:-1;if(d==(a?o.state.doc.length:0))return EditorSelection.cursor(d,e.assoc);let b=e.goalColumn,_,_e=o.contentDOM.getBoundingClientRect(),tt=o.coordsAtPos(d,e.assoc||-1),nt=o.documentTop;if(tt)b==null&&(b=tt.left-_e.left),_=g<0?tt.top:tt.bottom;else{let ot=o.viewState.lineBlockAt(d);b==null&&(b=Math.min(_e.right-_e.left,o.defaultCharacterWidth*(d-ot.from))),_=(g<0?ot.top:ot.bottom)+nt}let it=_e.left+b,st=c??o.viewState.heightOracle.textHeight>>1;for(let ot=0;;ot+=10){let ht=_+(st+ot)*g,dt=posAtCoords(o,{x:it,y:ht},!1,g);if(ht<_e.top||ht>_e.bottom||(g<0?dt<d:dt>d)){let Et=o.docView.coordsForChar(dt),pt=!Et||ht<Et.top?-1:1;return EditorSelection.cursor(dt,pt,void 0,b)}}}function skipAtomicRanges(o,e,a){for(;;){let c=0;for(let d of o)d.between(e-1,e+1,(g,b,_)=>{if(e>g&&e<b){let _e=c||a||(e-g<b-e?-1:1);e=_e<0?g:b,c=_e}});if(!c)return e}}function skipAtoms(o,e,a){let c=skipAtomicRanges(o.state.facet(atomicRanges).map(d=>d(o)),a.from,e.head>a.from?-1:1);return c==a.from?a:EditorSelection.cursor(c,c<a.from?1:-1)}const LineBreakPlaceholder="";class DOMReader{constructor(e,a){this.points=e,this.text="",this.lineSeparator=a.facet(EditorState.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=LineBreakPlaceholder}readRange(e,a){if(!e)return this;let c=e.parentNode;for(let d=e;;){this.findPointBefore(c,d);let g=this.text.length;this.readNode(d);let b=d.nextSibling;if(b==a)break;let _=ContentView.get(d),_e=ContentView.get(b);(_&&_e?_.breakAfter:(_?_.breakAfter:isBlockElement(d))||isBlockElement(b)&&(d.nodeName!="BR"||d.cmIgnore)&&this.text.length>g)&&this.lineBreak(),d=b}return this.findPointBefore(c,a),this}readTextNode(e){let a=e.nodeValue;for(let c of this.points)c.node==e&&(c.pos=this.text.length+Math.min(c.offset,a.length));for(let c=0,d=this.lineSeparator?null:/\r\n?|\n/g;;){let g=-1,b=1,_;if(this.lineSeparator?(g=a.indexOf(this.lineSeparator,c),b=this.lineSeparator.length):(_=d.exec(a))&&(g=_.index,b=_[0].length),this.append(a.slice(c,g<0?a.length:g)),g<0)break;if(this.lineBreak(),b>1)for(let _e of this.points)_e.node==e&&_e.pos>this.text.length&&(_e.pos-=b-1);c=g+b}}readNode(e){if(e.cmIgnore)return;let a=ContentView.get(e),c=a&&a.overrideDOMText;if(c!=null){this.findPointInside(e,c.length);for(let d=c.iter();!d.next().done;)d.lineBreak?this.lineBreak():this.append(d.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,a){for(let c of this.points)c.node==e&&e.childNodes[c.offset]==a&&(c.pos=this.text.length)}findPointInside(e,a){for(let c of this.points)(e.nodeType==3?c.node==e:e.contains(c.node))&&(c.pos=this.text.length+(isAtEnd(e,c.node,c.offset)?a:0))}}function isAtEnd(o,e,a){for(;;){if(!e||a<maxOffset(e))return!1;if(e==o)return!0;a=domIndex(e)+1,e=e.parentNode}}class DOMPoint{constructor(e,a){this.node=e,this.offset=a,this.pos=-1}}class DOMChange{constructor(e,a,c,d){this.typeOver=d,this.bounds=null,this.text="",this.domChanged=a>-1;let{impreciseHead:g,impreciseAnchor:b}=e.docView;if(e.state.readOnly&&a>-1)this.newSel=null;else if(a>-1&&(this.bounds=e.docView.domBoundsAround(a,c,0))){let _=g||b?[]:selectionPoints(e),_e=new DOMReader(_,e.state);_e.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=_e.text,this.newSel=selectionFromPoints(_,this.bounds.from)}else{let _=e.observer.selectionRange,_e=g&&g.node==_.focusNode&&g.offset==_.focusOffset||!contains(e.contentDOM,_.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(_.focusNode,_.focusOffset),tt=b&&b.node==_.anchorNode&&b.offset==_.anchorOffset||!contains(e.contentDOM,_.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(_.anchorNode,_.anchorOffset),nt=e.viewport;if((browser.ios||browser.chrome)&&e.state.selection.main.empty&&_e!=tt&&(nt.from>0||nt.to<e.state.doc.length)){let it=Math.min(_e,tt),st=Math.max(_e,tt),ot=nt.from-it,ht=nt.to-st;(ot==0||ot==1||it==0)&&(ht==0||ht==-1||st==e.state.doc.length)&&(_e=0,tt=e.state.doc.length)}this.newSel=EditorSelection.single(tt,_e)}}}function applyDOMChange(o,e){let a,{newSel:c}=e,d=o.state.selection.main,g=o.inputState.lastKeyTime>Date.now()-100?o.inputState.lastKeyCode:-1;if(e.bounds){let{from:b,to:_}=e.bounds,_e=d.from,tt=null;(g===8||browser.android&&e.text.length<_-b)&&(_e=d.to,tt="end");let nt=findDiff(o.state.doc.sliceString(b,_,LineBreakPlaceholder),e.text,_e-b,tt);nt&&(browser.chrome&&g==13&&nt.toB==nt.from+2&&e.text.slice(nt.from,nt.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&nt.toB--,a={from:b+nt.from,to:b+nt.toA,insert:Text.of(e.text.slice(nt.from,nt.toB).split(LineBreakPlaceholder))})}else c&&(!o.hasFocus&&o.state.facet(editable)||c.main.eq(d))&&(c=null);if(!a&&!c)return!1;if(!a&&e.typeOver&&!d.empty&&c&&c.main.empty?a={from:d.from,to:d.to,insert:o.state.doc.slice(d.from,d.to)}:a&&a.from>=d.from&&a.to<=d.to&&(a.from!=d.from||a.to!=d.to)&&d.to-d.from-(a.to-a.from)<=4?a={from:d.from,to:d.to,insert:o.state.doc.slice(d.from,a.from).append(a.insert).append(o.state.doc.slice(a.to,d.to))}:(browser.mac||browser.android)&&a&&a.from==a.to&&a.from==d.head-1&&/^\. ?$/.test(a.insert.toString())&&o.contentDOM.getAttribute("autocorrect")=="off"?(c&&a.insert.length==2&&(c=EditorSelection.single(c.main.anchor-1,c.main.head-1)),a={from:d.from,to:d.to,insert:Text.of([" "])}):browser.chrome&&a&&a.from==a.to&&a.from==d.head&&a.insert.toString()==`
 `&&o.lineWrapping&&(c&&(c=EditorSelection.single(c.main.anchor-1,c.main.head-1)),a={from:d.from,to:d.to,insert:Text.of([" "])}),a)return applyDOMChangeInner(o,a,c,g);if(c&&!c.main.eq(d)){let b=!1,_="select";return o.inputState.lastSelectionTime>Date.now()-50&&(o.inputState.lastSelectionOrigin=="select"&&(b=!0),_=o.inputState.lastSelectionOrigin),o.dispatch({selection:c,scrollIntoView:b,userEvent:_}),!0}else return!1}function applyDOMChangeInner(o,e,a,c=-1){if(browser.ios&&o.inputState.flushIOSKey(e))return!0;let d=o.state.selection.main;if(browser.android&&(e.to==d.to&&(e.from==d.from||e.from==d.from-1&&o.state.sliceDoc(e.from,d.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&dispatchKey(o.contentDOM,"Enter",13)||(e.from==d.from-1&&e.to==d.to&&e.insert.length==0||c==8&&e.insert.length<e.to-e.from&&e.to>d.head)&&dispatchKey(o.contentDOM,"Backspace",8)||e.from==d.from&&e.to==d.to+1&&e.insert.length==0&&dispatchKey(o.contentDOM,"Delete",46)))return!0;let g=e.insert.toString();o.inputState.composing>=0&&o.inputState.composing++;let b,_=()=>b||(b=applyDefaultInsert(o,e,a));return o.state.facet(inputHandler$1).some(_e=>_e(o,e.from,e.to,g,_))||o.dispatch(_()),!0}function applyDefaultInsert(o,e,a){let c,d=o.state,g=d.selection.main;if(e.from>=g.from&&e.to<=g.to&&e.to-e.from>=(g.to-g.from)/3&&(!a||a.main.empty&&a.main.from==e.from+e.insert.length)&&o.inputState.composing<0){let _=g.from<e.from?d.sliceDoc(g.from,e.from):"",_e=g.to>e.to?d.sliceDoc(e.to,g.to):"";c=d.replaceSelection(o.state.toText(_+e.insert.sliceString(0,void 0,o.state.lineBreak)+_e))}else{let _=d.changes(e),_e=a&&a.main.to<=_.newLength?a.main:void 0;if(d.selection.ranges.length>1&&o.inputState.composing>=0&&e.to<=g.to&&e.to>=g.to-10){let tt=o.state.sliceDoc(e.from,e.to),nt,it=a&&findCompositionNode(o,a.main.head);if(it){let ht=e.insert.length-(e.to-e.from);nt={from:it.from,to:it.to-ht}}else nt=o.state.doc.lineAt(g.head);let st=g.to-e.to,ot=g.to-g.from;c=d.changeByRange(ht=>{if(ht.from==g.from&&ht.to==g.to)return{changes:_,range:_e||ht.map(_)};let dt=ht.to-st,Et=dt-tt.length;if(ht.to-ht.from!=ot||o.state.sliceDoc(Et,dt)!=tt||ht.to>=nt.from&&ht.from<=nt.to)return{range:ht};let pt=d.changes({from:Et,to:dt,insert:e.insert}),gt=ht.to-g.to;return{changes:pt,range:_e?EditorSelection.range(Math.max(0,_e.anchor+gt),Math.max(0,_e.head+gt)):ht.map(pt)}})}else c={changes:_,selection:_e&&d.selection.replaceRange(_e)}}let b="input.type";return(o.composing||o.inputState.compositionPendingChange&&o.inputState.compositionEndedAt>Date.now()-50)&&(o.inputState.compositionPendingChange=!1,b+=".compose",o.inputState.compositionFirstChange&&(b+=".start",o.inputState.compositionFirstChange=!1)),d.update(c,{userEvent:b,scrollIntoView:!0})}function findDiff(o,e,a,c){let d=Math.min(o.length,e.length),g=0;for(;g<d&&o.charCodeAt(g)==e.charCodeAt(g);)g++;if(g==d&&o.length==e.length)return null;let b=o.length,_=e.length;for(;b>0&&_>0&&o.charCodeAt(b-1)==e.charCodeAt(_-1);)b--,_--;if(c=="end"){let _e=Math.max(0,g-Math.min(b,_));a-=b+_e-g}if(b<g&&o.length<e.length){let _e=a<=g&&a>=b?g-a:0;g-=_e,_=g+(_-b),b=g}else if(_<g){let _e=a<=g&&a>=_?g-a:0;g-=_e,b=g+(b-_),_=g}return{from:g,toA:b,toB:_}}function selectionPoints(o){let e=[];if(o.root.activeElement!=o.contentDOM)return e;let{anchorNode:a,anchorOffset:c,focusNode:d,focusOffset:g}=o.observer.selectionRange;return a&&(e.push(new DOMPoint(a,c)),(d!=a||g!=c)&&e.push(new DOMPoint(d,g))),e}function selectionFromPoints(o,e){if(o.length==0)return null;let a=o[0].pos,c=o.length==2?o[1].pos:a;return a>-1&&c>-1?EditorSelection.single(a+e,c+e):null}class InputState{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,browser.safari&&e.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(e.contentDOM.ownerDocument)}handleEvent(e){!eventBelongsToEditor(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,a){let c=this.handlers[e];if(c){for(let d of c.observers)d(this.view,a);for(let d of c.handlers){if(a.defaultPrevented)break;if(d(this.view,a)){a.preventDefault();break}}}}ensureHandlers(e){let a=computeHandlers(e),c=this.handlers,d=this.view.contentDOM;for(let g in a)if(g!="scroll"){let b=!a[g].handlers.length,_=c[g];_&&b!=!_.handlers.length&&(d.removeEventListener(g,this.handleEvent),_=null),_||d.addEventListener(g,this.handleEvent,{passive:b})}for(let g in c)g!="scroll"&&!a[g]&&d.removeEventListener(g,this.handleEvent);this.handlers=a}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&modifierCodes.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let a;return browser.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((a=PendingKeys.find(c=>c.keyCode==e.keyCode))&&!e.ctrlKey||EmacsyPendingKeys.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=a||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let a=this.pendingIOSKey;return!a||a.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,a.key,a.keyCode,a instanceof KeyboardEvent?a:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(o,e){return(a,c)=>{try{return e.call(o,c,a)}catch(d){logException(a.state,d)}}}function computeHandlers(o){let e=Object.create(null);function a(c){return e[c]||(e[c]={observers:[],handlers:[]})}for(let c of o){let d=c.spec;if(d&&d.domEventHandlers)for(let g in d.domEventHandlers){let b=d.domEventHandlers[g];b&&a(g).handlers.push(bindHandler(c.value,b))}if(d&&d.domEventObservers)for(let g in d.domEventObservers){let b=d.domEventObservers[g];b&&a(g).observers.push(bindHandler(c.value,b))}}for(let c in handlers$1)a(c).handlers.push(handlers$1[c]);for(let c in observers)a(c).observers.push(observers[c]);return e}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(o){return Math.max(0,o)*.7+8}function dist(o,e){return Math.max(Math.abs(o.clientX-e.clientX),Math.abs(o.clientY-e.clientY))}class MouseSelection{constructor(e,a,c,d){this.view=e,this.startEvent=a,this.style=c,this.mustSelect=d,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=a,this.scrollParents=scrollableParents(e.contentDOM),this.atoms=e.state.facet(atomicRanges).map(b=>b(e));let g=e.contentDOM.ownerDocument;g.addEventListener("mousemove",this.move=this.move.bind(this)),g.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=a.shiftKey,this.multiple=e.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(e,a),this.dragging=isInPrimarySelection(e,a)&&getClickType(a)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let a=0,c=0,d=0,g=0,b=this.view.win.innerWidth,_=this.view.win.innerHeight;this.scrollParents.x&&({left:d,right:b}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:g,bottom:_}=this.scrollParents.y.getBoundingClientRect());let _e=getScrollMargins(this.view);e.clientX-_e.left<=d+dragScrollMargin?a=-dragScrollSpeed(d-e.clientX):e.clientX+_e.right>=b-dragScrollMargin&&(a=dragScrollSpeed(e.clientX-b)),e.clientY-_e.top<=g+dragScrollMargin?c=-dragScrollSpeed(g-e.clientY):e.clientY+_e.bottom>=_-dragScrollMargin&&(c=dragScrollSpeed(e.clientY-_)),this.setScrollSpeed(a,c)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,a){this.scrollSpeed={x:e,y:a},e||a?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:a}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),a&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=a,a=0),(e||a)&&this.view.win.scrollBy(e,a),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let a=null;for(let c=0;c<e.ranges.length;c++){let d=e.ranges[c],g=null;if(d.empty){let b=skipAtomicRanges(this.atoms,d.from,0);b!=d.from&&(g=EditorSelection.cursor(b,-1))}else{let b=skipAtomicRanges(this.atoms,d.from,-1),_=skipAtomicRanges(this.atoms,d.to,1);(b!=d.from||_!=d.to)&&(g=EditorSelection.range(d.from==d.anchor?b:_,d.from==d.head?b:_))}g&&(a||(a=e.ranges.slice()),a[c]=g)}return a?EditorSelection.create(a,e.mainIndex):e}select(e){let{view:a}=this,c=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!c.eq(a.state.selection,this.dragging===!1))&&this.view.dispatch({selection:c,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(a=>a.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(o,e){let a=o.state.facet(clickAddsSelectionRange);return a.length?a[0](e):browser.mac?e.metaKey:e.ctrlKey}function dragMovesSelection(o,e){let a=o.state.facet(dragMovesSelection$1);return a.length?a[0](e):browser.mac?!e.altKey:!e.ctrlKey}function isInPrimarySelection(o,e){let{main:a}=o.state.selection;if(a.empty)return!1;let c=getSelection(o.root);if(!c||c.rangeCount==0)return!0;let d=c.getRangeAt(0).getClientRects();for(let g=0;g<d.length;g++){let b=d[g];if(b.left<=e.clientX&&b.right>=e.clientX&&b.top<=e.clientY&&b.bottom>=e.clientY)return!0}return!1}function eventBelongsToEditor(o,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let a=e.target,c;a!=o.contentDOM;a=a.parentNode)if(!a||a.nodeType==11||(c=ContentView.get(a))&&c.ignoreEvent(e))return!1;return!0}const handlers$1=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(o){let e=o.dom.parentNode;if(!e)return;let a=e.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px",a.focus(),setTimeout(()=>{o.focus(),a.remove(),doPaste(o,a.value)},50)}function textFilter(o,e,a){for(let c of o.facet(e))a=c(a,o);return a}function doPaste(o,e){e=textFilter(o.state,clipboardInputFilter,e);let{state:a}=o,c,d=1,g=a.toText(e),b=g.lines==a.selection.ranges.length;if(lastLinewiseCopy!=null&&a.selection.ranges.every(_e=>_e.empty)&&lastLinewiseCopy==g.toString()){let _e=-1;c=a.changeByRange(tt=>{let nt=a.doc.lineAt(tt.from);if(nt.from==_e)return{range:tt};_e=nt.from;let it=a.toText((b?g.line(d++).text:e)+a.lineBreak);return{changes:{from:nt.from,insert:it},range:EditorSelection.cursor(tt.from+it.length)}})}else b?c=a.changeByRange(_e=>{let tt=g.line(d++);return{changes:{from:_e.from,to:_e.to,insert:tt.text},range:EditorSelection.cursor(_e.from+tt.length)}}):c=a.replaceSelection(g);o.dispatch(c,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=o=>{o.inputState.lastScrollTop=o.scrollDOM.scrollTop,o.inputState.lastScrollLeft=o.scrollDOM.scrollLeft};handlers$1.keydown=(o,e)=>(o.inputState.setSelectionOrigin("select"),e.keyCode==27&&o.inputState.tabFocusMode!=0&&(o.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(o,e)=>{o.inputState.lastTouchTime=Date.now(),o.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=o=>{o.inputState.setSelectionOrigin("select.pointer")};handlers$1.mousedown=(o,e)=>{if(o.observer.flush(),o.inputState.lastTouchTime>Date.now()-2e3)return!1;let a=null;for(let c of o.state.facet(mouseSelectionStyle))if(a=c(o,e),a)break;if(!a&&e.button==0&&(a=basicMouseSelection(o,e)),a){let c=!o.hasFocus;o.inputState.startMouseSelection(new MouseSelection(o,e,a,c)),c&&o.observer.ignore(()=>{focusPreventScroll(o.contentDOM);let g=o.root.activeElement;g&&!g.contains(o.contentDOM)&&g.blur()});let d=o.inputState.mouseSelection;if(d)return d.start(e),d.dragging===!1}return!1};function rangeForClick(o,e,a,c){if(c==1)return EditorSelection.cursor(e,a);if(c==2)return groupAt(o.state,e,a);{let d=LineView.find(o.docView,e),g=o.state.doc.lineAt(d?d.posAtEnd:e),b=d?d.posAtStart:g.from,_=d?d.posAtEnd:g.to;return _<o.state.doc.length&&_==g.to&&_++,EditorSelection.range(b,_)}}let inside=(o,e,a)=>e>=a.top&&e<=a.bottom&&o>=a.left&&o<=a.right;function findPositionSide(o,e,a,c){let d=LineView.find(o.docView,e);if(!d)return 1;let g=e-d.posAtStart;if(g==0)return 1;if(g==d.length)return-1;let b=d.coordsAt(g,-1);if(b&&inside(a,c,b))return-1;let _=d.coordsAt(g,1);return _&&inside(a,c,_)?1:b&&b.bottom>=c?-1:1}function queryPos(o,e){let a=o.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:a,bias:findPositionSide(o,a,e.clientX,e.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(o){if(!BadMouseDetail)return o.detail;let e=lastMouseDown,a=lastMouseDownTime;return lastMouseDown=o,lastMouseDownTime=Date.now(),lastMouseDownCount=!e||a>Date.now()-400&&Math.abs(e.clientX-o.clientX)<2&&Math.abs(e.clientY-o.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(o,e){let a=queryPos(o,e),c=getClickType(e),d=o.state.selection;return{update(g){g.docChanged&&(a.pos=g.changes.mapPos(a.pos),d=d.map(g.changes))},get(g,b,_){let _e=queryPos(o,g),tt,nt=rangeForClick(o,_e.pos,_e.bias,c);if(a.pos!=_e.pos&&!b){let it=rangeForClick(o,a.pos,a.bias,c),st=Math.min(it.from,nt.from),ot=Math.max(it.to,nt.to);nt=st<nt.from?EditorSelection.range(st,ot):EditorSelection.range(ot,st)}return b?d.replaceRange(d.main.extend(nt.from,nt.to)):_&&c==1&&d.ranges.length>1&&(tt=removeRangeAround(d,_e.pos))?tt:_?d.addRange(nt):EditorSelection.create([nt])}}}function removeRangeAround(o,e){for(let a=0;a<o.ranges.length;a++){let{from:c,to:d}=o.ranges[a];if(c<=e&&d>=e)return EditorSelection.create(o.ranges.slice(0,a).concat(o.ranges.slice(a+1)),o.mainIndex==a?0:o.mainIndex-(o.mainIndex>a?1:0))}return null}handlers$1.dragstart=(o,e)=>{let{selection:{main:a}}=o.state;if(e.target.draggable){let d=o.docView.nearest(e.target);if(d&&d.isWidget){let g=d.posAtStart,b=g+d.length;(g>=a.to||b<=a.from)&&(a=EditorSelection.range(g,b))}}let{inputState:c}=o;return c.mouseSelection&&(c.mouseSelection.dragging=!0),c.draggedContent=a,e.dataTransfer&&(e.dataTransfer.setData("Text",textFilter(o.state,clipboardOutputFilter,o.state.sliceDoc(a.from,a.to))),e.dataTransfer.effectAllowed="copyMove"),!1};handlers$1.dragend=o=>(o.inputState.draggedContent=null,!1);function dropText(o,e,a,c){if(a=textFilter(o.state,clipboardInputFilter,a),!a)return;let d=o.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:g}=o.inputState,b=c&&g&&dragMovesSelection(o,e)?{from:g.from,to:g.to}:null,_={from:d,insert:a},_e=o.state.changes(b?[b,_]:_);o.focus(),o.dispatch({changes:_e,selection:{anchor:_e.mapPos(d,-1),head:_e.mapPos(d,1)},userEvent:b?"move.drop":"input.drop"}),o.inputState.draggedContent=null}handlers$1.drop=(o,e)=>{if(!e.dataTransfer)return!1;if(o.state.readOnly)return!0;let a=e.dataTransfer.files;if(a&&a.length){let c=Array(a.length),d=0,g=()=>{++d==a.length&&dropText(o,e,c.filter(b=>b!=null).join(o.state.lineBreak),!1)};for(let b=0;b<a.length;b++){let _=new FileReader;_.onerror=g,_.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(_.result)||(c[b]=_.result),g()},_.readAsText(a[b])}return!0}else{let c=e.dataTransfer.getData("Text");if(c)return dropText(o,e,c,!0),!0}return!1};handlers$1.paste=(o,e)=>{if(o.state.readOnly)return!0;o.observer.flush();let a=brokenClipboardAPI?null:e.clipboardData;return a?(doPaste(o,a.getData("text/plain")||a.getData("text/uri-list")),!0):(capturePaste(o),!1)};function captureCopy(o,e){let a=o.dom.parentNode;if(!a)return;let c=a.appendChild(document.createElement("textarea"));c.style.cssText="position: fixed; left: -10000px; top: 10px",c.value=e,c.focus(),c.selectionEnd=e.length,c.selectionStart=0,setTimeout(()=>{c.remove(),o.focus()},50)}function copiedRange(o){let e=[],a=[],c=!1;for(let d of o.selection.ranges)d.empty||(e.push(o.sliceDoc(d.from,d.to)),a.push(d));if(!e.length){let d=-1;for(let{from:g}of o.selection.ranges){let b=o.doc.lineAt(g);b.number>d&&(e.push(b.text),a.push({from:b.from,to:Math.min(o.doc.length,b.to+1)})),d=b.number}c=!0}return{text:textFilter(o,clipboardOutputFilter,e.join(o.lineBreak)),ranges:a,linewise:c}}let lastLinewiseCopy=null;handlers$1.copy=handlers$1.cut=(o,e)=>{let{text:a,ranges:c,linewise:d}=copiedRange(o.state);if(!a&&!d)return!1;lastLinewiseCopy=d?a:null,e.type=="cut"&&!o.state.readOnly&&o.dispatch({changes:c,scrollIntoView:!0,userEvent:"delete.cut"});let g=brokenClipboardAPI?null:e.clipboardData;return g?(g.clearData(),g.setData("text/plain",a),!0):(captureCopy(o,a),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(o,e){let a=[];for(let c of o.facet(focusChangeEffect)){let d=c(o,e);d&&a.push(d)}return a?o.update({effects:a,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(o){setTimeout(()=>{let e=o.hasFocus;if(e!=o.inputState.notifiedFocused){let a=focusChangeTransaction(o.state,e);a?o.dispatch(a):o.update([])}},10)}observers.focus=o=>{o.inputState.lastFocusTime=Date.now(),!o.scrollDOM.scrollTop&&(o.inputState.lastScrollTop||o.inputState.lastScrollLeft)&&(o.scrollDOM.scrollTop=o.inputState.lastScrollTop,o.scrollDOM.scrollLeft=o.inputState.lastScrollLeft),updateForFocusChange(o)};observers.blur=o=>{o.observer.clearSelectionRange(),updateForFocusChange(o)};observers.compositionstart=observers.compositionupdate=o=>{o.observer.editContext||(o.inputState.compositionFirstChange==null&&(o.inputState.compositionFirstChange=!0),o.inputState.composing<0&&(o.inputState.composing=0))};observers.compositionend=o=>{o.observer.editContext||(o.inputState.composing=-1,o.inputState.compositionEndedAt=Date.now(),o.inputState.compositionPendingKey=!0,o.inputState.compositionPendingChange=o.observer.pendingRecords().length>0,o.inputState.compositionFirstChange=null,browser.chrome&&browser.android?o.observer.flushSoon():o.inputState.compositionPendingChange?Promise.resolve().then(()=>o.observer.flush()):setTimeout(()=>{o.inputState.composing<0&&o.docView.hasComposition&&o.update([])},50))};observers.contextmenu=o=>{o.inputState.lastContextMenu=Date.now()};handlers$1.beforeinput=(o,e)=>{var a,c;if(e.inputType=="insertReplacementText"&&o.observer.editContext){let g=(a=e.dataTransfer)===null||a===void 0?void 0:a.getData("text/plain"),b=e.getTargetRanges();if(g&&b.length){let _=b[0],_e=o.posAtDOM(_.startContainer,_.startOffset),tt=o.posAtDOM(_.endContainer,_.endOffset);return applyDOMChangeInner(o,{from:_e,to:tt,insert:o.state.toText(g)},null),!0}}let d;if(browser.chrome&&browser.android&&(d=PendingKeys.find(g=>g.inputType==e.inputType))&&(o.observer.delayAndroidKey(d.key,d.keyCode),d.key=="Backspace"||d.key=="Delete")){let g=((c=window.visualViewport)===null||c===void 0?void 0:c.height)||0;setTimeout(()=>{var b;(((b=window.visualViewport)===null||b===void 0?void 0:b.height)||0)>g+10&&o.hasFocus&&(o.contentDOM.blur(),o.focus())},100)}return browser.ios&&e.inputType=="deleteContentForward"&&o.observer.flushSoon(),browser.safari&&e.inputType=="insertText"&&o.inputState.composing>=0&&setTimeout(()=>observers.compositionend(o,e),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(o){appliedFirefoxHack.has(o)||(appliedFirefoxHack.add(o),o.addEventListener("copy",()=>{}),o.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(e){this.lineWrapping=e,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,a){let c=this.doc.lineAt(a).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(c+=Math.max(0,Math.ceil((a-e-c*this.lineLength*.5)/this.lineLength))),this.lineHeight*c}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return wrappingWhiteSpace.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let a=!1;for(let c=0;c<e.length;c++){let d=e[c];d<0?c++:this.heightSamples[Math.floor(d*10)]||(a=!0,this.heightSamples[Math.floor(d*10)]=!0)}return a}refresh(e,a,c,d,g,b){let _=wrappingWhiteSpace.indexOf(e)>-1,_e=Math.round(a)!=Math.round(this.lineHeight)||this.lineWrapping!=_;if(this.lineWrapping=_,this.lineHeight=a,this.charWidth=c,this.textHeight=d,this.lineLength=g,_e){this.heightSamples={};for(let tt=0;tt<b.length;tt++){let nt=b[tt];nt<0?tt++:this.heightSamples[Math.floor(nt*10)]=!0}}return _e}}class MeasuredHeights{constructor(e,a){this.from=e,this.heights=a,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(e,a,c,d,g){this.from=e,this.length=a,this.top=c,this.height=d,this._content=g}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let a=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new BlockInfo(this.from,this.length+e.length,this.top,this.height+e.height,a)}}var QueryType$1=function(o){return o[o.ByPos=0]="ByPos",o[o.ByHeight=1]="ByHeight",o[o.ByPosNoHeight=2]="ByPosNoHeight",o}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(e,a,c=2){this.length=e,this.height=a,this.flags=c}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Epsilon&&(heightChangeFlag=!0),this.height=e)}replace(e,a,c){return HeightMap.of(c)}decomposeLeft(e,a){a.push(this)}decomposeRight(e,a){a.push(this)}applyChanges(e,a,c,d){let g=this,b=c.doc;for(let _=d.length-1;_>=0;_--){let{fromA:_e,toA:tt,fromB:nt,toB:it}=d[_],st=g.lineAt(_e,QueryType$1.ByPosNoHeight,c.setDoc(a),0,0),ot=st.to>=tt?st:g.lineAt(tt,QueryType$1.ByPosNoHeight,c,0,0);for(it+=ot.to-tt,tt=ot.to;_>0&&st.from<=d[_-1].toA;)_e=d[_-1].fromA,nt=d[_-1].fromB,_--,_e<st.from&&(st=g.lineAt(_e,QueryType$1.ByPosNoHeight,c,0,0));nt+=st.from-_e,_e=st.from;let ht=NodeBuilder.build(c.setDoc(b),e,nt,it);g=replace(g,g.replace(_e,tt,ht))}return g.updateHeight(c,0)}static empty(){return new HeightMapText(0,0)}static of(e){if(e.length==1)return e[0];let a=0,c=e.length,d=0,g=0;for(;;)if(a==c)if(d>g*2){let _=e[a-1];_.break?e.splice(--a,1,_.left,null,_.right):e.splice(--a,1,_.left,_.right),c+=1+_.break,d-=_.size}else if(g>d*2){let _=e[c];_.break?e.splice(c,1,_.left,null,_.right):e.splice(c,1,_.left,_.right),c+=2+_.break,g-=_.size}else break;else if(d<g){let _=e[a++];_&&(d+=_.size)}else{let _=e[--c];_&&(g+=_.size)}let b=0;return e[a-1]==null?(b=1,a--):e[a]==null&&(b=1,c++),new HeightMapBranch(HeightMap.of(e.slice(0,a)),b,HeightMap.of(e.slice(c)))}}function replace(o,e){return o==e?o:(o.constructor!=e.constructor&&(heightChangeFlag=!0),e)}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(e,a,c){super(e,a),this.deco=c}blockAt(e,a,c,d){return new BlockInfo(d,this.length,c,this.height,this.deco||0)}lineAt(e,a,c,d,g){return this.blockAt(0,c,d,g)}forEachLine(e,a,c,d,g,b){e<=g+this.length&&a>=g&&b(this.blockAt(0,c,d,g))}updateHeight(e,a=0,c=!1,d){return d&&d.from<=a&&d.more&&this.setHeight(d.heights[d.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(e,a){super(e,a,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,a,c,d){return new BlockInfo(d,this.length,c,this.height,this.breaks)}replace(e,a,c){let d=c[0];return c.length==1&&(d instanceof HeightMapText||d instanceof HeightMapGap&&d.flags&4)&&Math.abs(this.length-d.length)<10?(d instanceof HeightMapGap?d=new HeightMapText(d.length,this.height):d.height=this.height,this.outdated||(d.outdated=!1),d):HeightMap.of(c)}updateHeight(e,a=0,c=!1,d){return d&&d.from<=a&&d.more?this.setHeight(d.heights[d.index++]):(c||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(e){super(e,0)}heightMetrics(e,a){let c=e.doc.lineAt(a).number,d=e.doc.lineAt(a+this.length).number,g=d-c+1,b,_=0;if(e.lineWrapping){let _e=Math.min(this.height,e.lineHeight*g);b=_e/g,this.length>g+1&&(_=(this.height-_e)/(this.length-g-1))}else b=this.height/g;return{firstLine:c,lastLine:d,perLine:b,perChar:_}}blockAt(e,a,c,d){let{firstLine:g,lastLine:b,perLine:_,perChar:_e}=this.heightMetrics(a,d);if(a.lineWrapping){let tt=d+(e<a.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-c)/this.height))*this.length)),nt=a.doc.lineAt(tt),it=_+nt.length*_e,st=Math.max(c,e-it/2);return new BlockInfo(nt.from,nt.length,st,it,0)}else{let tt=Math.max(0,Math.min(b-g,Math.floor((e-c)/_))),{from:nt,length:it}=a.doc.line(g+tt);return new BlockInfo(nt,it,c+_*tt,_,0)}}lineAt(e,a,c,d,g){if(a==QueryType$1.ByHeight)return this.blockAt(e,c,d,g);if(a==QueryType$1.ByPosNoHeight){let{from:ot,to:ht}=c.doc.lineAt(e);return new BlockInfo(ot,ht-ot,0,0,0)}let{firstLine:b,perLine:_,perChar:_e}=this.heightMetrics(c,g),tt=c.doc.lineAt(e),nt=_+tt.length*_e,it=tt.number-b,st=d+_*it+_e*(tt.from-g-it);return new BlockInfo(tt.from,tt.length,Math.max(d,Math.min(st,d+this.height-nt)),nt,0)}forEachLine(e,a,c,d,g,b){e=Math.max(e,g),a=Math.min(a,g+this.length);let{firstLine:_,perLine:_e,perChar:tt}=this.heightMetrics(c,g);for(let nt=e,it=d;nt<=a;){let st=c.doc.lineAt(nt);if(nt==e){let ht=st.number-_;it+=_e*ht+tt*(e-g-ht)}let ot=_e+tt*st.length;b(new BlockInfo(st.from,st.length,it,ot,0)),it+=ot,nt=st.to+1}}replace(e,a,c){let d=this.length-a;if(d>0){let g=c[c.length-1];g instanceof HeightMapGap?c[c.length-1]=new HeightMapGap(g.length+d):c.push(null,new HeightMapGap(d-1))}if(e>0){let g=c[0];g instanceof HeightMapGap?c[0]=new HeightMapGap(e+g.length):c.unshift(new HeightMapGap(e-1),null)}return HeightMap.of(c)}decomposeLeft(e,a){a.push(new HeightMapGap(e-1),null)}decomposeRight(e,a){a.push(null,new HeightMapGap(this.length-e-1))}updateHeight(e,a=0,c=!1,d){let g=a+this.length;if(d&&d.from<=a+this.length&&d.more){let b=[],_=Math.max(a,d.from),_e=-1;for(d.from>a&&b.push(new HeightMapGap(d.from-a-1).updateHeight(e,a));_<=g&&d.more;){let nt=e.doc.lineAt(_).length;b.length&&b.push(null);let it=d.heights[d.index++];_e==-1?_e=it:Math.abs(it-_e)>=Epsilon&&(_e=-2);let st=new HeightMapText(nt,it);st.outdated=!1,b.push(st),_+=nt+1}_<=g&&b.push(null,new HeightMapGap(g-_).updateHeight(e,_));let tt=HeightMap.of(b);return(_e<0||Math.abs(tt.height-this.height)>=Epsilon||Math.abs(_e-this.heightMetrics(e,a).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,tt)}else(c||this.outdated)&&(this.setHeight(e.heightForGap(a,a+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(e,a,c){super(e.length+a+c.length,e.height+c.height,a|(e.outdated||c.outdated?2:0)),this.left=e,this.right=c,this.size=e.size+c.size}get break(){return this.flags&1}blockAt(e,a,c,d){let g=c+this.left.height;return e<g?this.left.blockAt(e,a,c,d):this.right.blockAt(e,a,g,d+this.left.length+this.break)}lineAt(e,a,c,d,g){let b=d+this.left.height,_=g+this.left.length+this.break,_e=a==QueryType$1.ByHeight?e<b:e<_,tt=_e?this.left.lineAt(e,a,c,d,g):this.right.lineAt(e,a,c,b,_);if(this.break||(_e?tt.to<_:tt.from>_))return tt;let nt=a==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return _e?tt.join(this.right.lineAt(_,nt,c,b,_)):this.left.lineAt(_,nt,c,d,g).join(tt)}forEachLine(e,a,c,d,g,b){let _=d+this.left.height,_e=g+this.left.length+this.break;if(this.break)e<_e&&this.left.forEachLine(e,a,c,d,g,b),a>=_e&&this.right.forEachLine(e,a,c,_,_e,b);else{let tt=this.lineAt(_e,QueryType$1.ByPos,c,d,g);e<tt.from&&this.left.forEachLine(e,tt.from-1,c,d,g,b),tt.to>=e&&tt.from<=a&&b(tt),a>tt.to&&this.right.forEachLine(tt.to+1,a,c,_,_e,b)}}replace(e,a,c){let d=this.left.length+this.break;if(a<d)return this.balanced(this.left.replace(e,a,c),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-d,a-d,c));let g=[];e>0&&this.decomposeLeft(e,g);let b=g.length;for(let _ of c)g.push(_);if(e>0&&mergeGaps(g,b-1),a<this.length){let _=g.length;this.decomposeRight(a,g),mergeGaps(g,_)}return HeightMap.of(g)}decomposeLeft(e,a){let c=this.left.length;if(e<=c)return this.left.decomposeLeft(e,a);a.push(this.left),this.break&&(c++,e>=c&&a.push(null)),e>c&&this.right.decomposeLeft(e-c,a)}decomposeRight(e,a){let c=this.left.length,d=c+this.break;if(e>=d)return this.right.decomposeRight(e-d,a);e<c&&this.left.decomposeRight(e,a),this.break&&e<d&&a.push(null),a.push(this.right)}balanced(e,a){return e.size>2*a.size||a.size>2*e.size?HeightMap.of(this.break?[e,null,a]:[e,a]):(this.left=replace(this.left,e),this.right=replace(this.right,a),this.setHeight(e.height+a.height),this.outdated=e.outdated||a.outdated,this.size=e.size+a.size,this.length=e.length+this.break+a.length,this)}updateHeight(e,a=0,c=!1,d){let{left:g,right:b}=this,_=a+g.length+this.break,_e=null;return d&&d.from<=a+g.length&&d.more?_e=g=g.updateHeight(e,a,c,d):g.updateHeight(e,a,c),d&&d.from<=_+b.length&&d.more?_e=b=b.updateHeight(e,_,c,d):b.updateHeight(e,_,c),_e?this.balanced(g,b):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(o,e){let a,c;o[e]==null&&(a=o[e-1])instanceof HeightMapGap&&(c=o[e+1])instanceof HeightMapGap&&o.splice(e-1,3,new HeightMapGap(a.length+1+c.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(e,a){this.pos=e,this.oracle=a,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,a){if(this.lineStart>-1){let c=Math.min(a,this.lineEnd),d=this.nodes[this.nodes.length-1];d instanceof HeightMapText?d.length+=c-this.pos:(c>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(c-this.pos,-1)),this.writtenTo=c,a>c&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=a}point(e,a,c){if(e<a||c.heightRelevant){let d=c.widget?c.widget.estimatedHeight:0,g=c.widget?c.widget.lineBreaks:0;d<0&&(d=this.oracle.lineHeight);let b=a-e;c.block?this.addBlock(new HeightMapBlock(b,d,c)):(b||g||d>=relevantWidgetHeight)&&this.addLineDeco(d,g,b)}else a>e&&this.span(e,a);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:a}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=a,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new HeightMapText(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,a){let c=new HeightMapGap(a-e);return this.oracle.doc.lineAt(e).to==a&&(c.flags|=4),c}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof HeightMapText)return e;let a=new HeightMapText(0,-1);return this.nodes.push(a),a}addBlock(e){this.enterLine();let a=e.deco;a&&a.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,a&&a.endSide>0&&(this.covering=e)}addLineDeco(e,a,c){let d=this.ensureLine();d.length+=c,d.collapsed+=c,d.widgetHeight=Math.max(d.widgetHeight,e),d.breaks+=a,this.writtenTo=this.pos=this.pos+c}finish(e){let a=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(a instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||a==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let c=e;for(let d of this.nodes)d instanceof HeightMapText&&d.updateHeight(this.oracle,c),c+=d?d.length:1;return this.nodes}static build(e,a,c,d){let g=new NodeBuilder(c,e);return RangeSet.spans(a,c,d,g,0),g.finish(c)}}function heightRelevantDecoChanges(o,e,a){let c=new DecorationComparator;return RangeSet.compare(o,e,a,c,0),c.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(e,a,c,d){(e<a||c&&c.heightRelevant||d&&d.heightRelevant)&&addRange(e,a,this.changes,5)}}function visiblePixelRange(o,e){let a=o.getBoundingClientRect(),c=o.ownerDocument,d=c.defaultView||window,g=Math.max(0,a.left),b=Math.min(d.innerWidth,a.right),_=Math.max(0,a.top),_e=Math.min(d.innerHeight,a.bottom);for(let tt=o.parentNode;tt&&tt!=c.body;)if(tt.nodeType==1){let nt=tt,it=window.getComputedStyle(nt);if((nt.scrollHeight>nt.clientHeight||nt.scrollWidth>nt.clientWidth)&&it.overflow!="visible"){let st=nt.getBoundingClientRect();g=Math.max(g,st.left),b=Math.min(b,st.right),_=Math.max(_,st.top),_e=Math.min(tt==o.parentNode?d.innerHeight:_e,st.bottom)}tt=it.position=="absolute"||it.position=="fixed"?nt.offsetParent:nt.parentNode}else if(tt.nodeType==11)tt=tt.host;else break;return{left:g-a.left,right:Math.max(g,b)-a.left,top:_-(a.top+e),bottom:Math.max(_,_e)-(a.top+e)}}function fullPixelRange(o,e){let a=o.getBoundingClientRect();return{left:0,right:a.right-a.left,top:e,bottom:a.bottom-(a.top+e)}}class LineGap{constructor(e,a,c,d){this.from=e,this.to=a,this.size=c,this.displaySize=d}static same(e,a){if(e.length!=a.length)return!1;for(let c=0;c<e.length;c++){let d=e[c],g=a[c];if(d.from!=g.from||d.to!=g.to||d.size!=g.size)return!1}return!0}draw(e,a){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(a?e.scaleY:e.scaleX),a)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(e,a){super(),this.size=e,this.vertical=a}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let a=e.facet(contentAttributes).some(c=>typeof c!="function"&&c.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(a),this.stateDeco=e.facet(decorations).filter(c=>typeof c!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(e.doc),[new ChangedRange(0,0,0,e.doc.length)]);for(let c=0;c<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());c++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(c=>c.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:a}=this.state.selection;for(let c=0;c<=1;c++){let d=c?a.head:a.anchor;if(!e.some(({from:g,to:b})=>d>=g&&d<=b)){let{from:g,to:b}=this.lineBlockAt(d);e.push(new Viewport(g,b))}}return this.viewports=e.sort((c,d)=>c.from-d.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(scaleBlock(e,this.scaler))})}update(e,a=null){this.state=e.state;let c=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(nt=>typeof nt!="function");let d=e.changedRanges,g=ChangedRange.extendWithRanges(d,heightRelevantDecoChanges(c,this.stateDeco,e?e.changes:ChangeSet.empty(this.state.doc.length))),b=this.heightMap.height,_=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),g),(this.heightMap.height!=b||heightChangeFlag)&&(e.flags|=2),_?(this.scrollAnchorPos=e.changes.mapPos(_.from,-1),this.scrollAnchorHeight=_.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let _e=g.length?this.mapViewport(this.viewport,e.changes):this.viewport;(a&&(a.range.head<_e.from||a.range.head>_e.to)||!this.viewportIsAppropriate(_e))&&(_e=this.getViewport(0,a));let tt=_e.from!=this.viewport.from||_e.to!=this.viewport.to;this.viewport=_e,e.flags|=this.updateForViewport(),(tt||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),a&&(this.scrollTarget=a),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let a=e.contentDOM,c=window.getComputedStyle(a),d=this.heightOracle,g=c.whiteSpace;this.defaultTextDirection=c.direction=="rtl"?Direction.RTL:Direction.LTR;let b=this.heightOracle.mustRefreshForWrapping(g),_=a.getBoundingClientRect(),_e=b||this.mustMeasureContent||this.contentDOMHeight!=_.height;this.contentDOMHeight=_.height,this.mustMeasureContent=!1;let tt=0,nt=0;if(_.width&&_.height){let{scaleX:Tt,scaleY:bt}=getScale$1(a,_);(Tt>.005&&Math.abs(this.scaleX-Tt)>.005||bt>.005&&Math.abs(this.scaleY-bt)>.005)&&(this.scaleX=Tt,this.scaleY=bt,tt|=8,b=_e=!0)}let it=(parseInt(c.paddingTop)||0)*this.scaleY,st=(parseInt(c.paddingBottom)||0)*this.scaleY;(this.paddingTop!=it||this.paddingBottom!=st)&&(this.paddingTop=it,this.paddingBottom=st,tt|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(d.lineWrapping&&(_e=!0),this.editorWidth=e.scrollDOM.clientWidth,tt|=8);let ot=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=ot&&(this.scrollAnchorHeight=-1,this.scrollTop=ot),this.scrolledToBottom=isScrolledToBottom(e.scrollDOM);let ht=(this.printing?fullPixelRange:visiblePixelRange)(a,this.paddingTop),dt=ht.top-this.pixelViewport.top,Et=ht.bottom-this.pixelViewport.bottom;this.pixelViewport=ht;let pt=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(pt!=this.inView&&(this.inView=pt,pt&&(_e=!0)),!this.inView&&!this.scrollTarget)return 0;let gt=_.width;if((this.contentDOMWidth!=gt||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=_.width,this.editorHeight=e.scrollDOM.clientHeight,tt|=8),_e){let Tt=e.docView.measureVisibleLineHeights(this.viewport);if(d.mustRefreshForHeights(Tt)&&(b=!0),b||d.lineWrapping&&Math.abs(gt-this.contentDOMWidth)>d.charWidth){let{lineHeight:bt,charWidth:vt,textHeight:kt}=e.docView.measureTextSize();b=bt>0&&d.refresh(g,bt,vt,kt,gt/vt,Tt),b&&(e.docView.minWidth=0,tt|=8)}dt>0&&Et>0?nt=Math.max(dt,Et):dt<0&&Et<0&&(nt=Math.min(dt,Et)),clearHeightChangeFlag();for(let bt of this.viewports){let vt=bt.from==this.viewport.from?Tt:e.docView.measureVisibleLineHeights(bt);this.heightMap=(b?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(d,0,b,new MeasuredHeights(bt.from,vt))}heightChangeFlag&&(tt|=2)}let St=!this.viewportIsAppropriate(this.viewport,nt)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return St&&(tt&2&&(tt|=this.updateScaler()),this.viewport=this.getViewport(nt,this.scrollTarget),tt|=this.updateForViewport()),(tt&2||St)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(b?[]:this.lineGaps,e)),tt|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),tt}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,a){let c=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),d=this.heightMap,g=this.heightOracle,{visibleTop:b,visibleBottom:_}=this,_e=new Viewport(d.lineAt(b-c*1e3,QueryType$1.ByHeight,g,0,0).from,d.lineAt(_+(1-c)*1e3,QueryType$1.ByHeight,g,0,0).to);if(a){let{head:tt}=a.range;if(tt<_e.from||tt>_e.to){let nt=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),it=d.lineAt(tt,QueryType$1.ByPos,g,0,0),st;a.y=="center"?st=(it.top+it.bottom)/2-nt/2:a.y=="start"||a.y=="nearest"&&tt<_e.from?st=it.top:st=it.bottom-nt,_e=new Viewport(d.lineAt(st-1e3/2,QueryType$1.ByHeight,g,0,0).from,d.lineAt(st+nt+1e3/2,QueryType$1.ByHeight,g,0,0).to)}}return _e}mapViewport(e,a){let c=a.mapPos(e.from,-1),d=a.mapPos(e.to,1);return new Viewport(this.heightMap.lineAt(c,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(d,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:a},c=0){if(!this.inView)return!0;let{top:d}=this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:g}=this.heightMap.lineAt(a,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:b,visibleBottom:_}=this;return(e==0||d<=b-Math.max(10,Math.min(-c,250)))&&(a==this.state.doc.length||g>=_+Math.max(10,Math.min(c,250)))&&d>b-2*1e3&&g<_+2*1e3}mapLineGaps(e,a){if(!e.length||a.empty)return e;let c=[];for(let d of e)a.touchesRange(d.from,d.to)||c.push(new LineGap(a.mapPos(d.from),a.mapPos(d.to),d.size,d.displaySize));return c}ensureLineGaps(e,a){let c=this.heightOracle.lineWrapping,d=c?1e4:2e3,g=d>>1,b=d<<1;if(this.defaultTextDirection!=Direction.LTR&&!c)return[];let _=[],_e=(nt,it,st,ot)=>{if(it-nt<g)return;let ht=this.state.selection.main,dt=[ht.from];ht.empty||dt.push(ht.to);for(let pt of dt)if(pt>nt&&pt<it){_e(nt,pt-10,st,ot),_e(pt+10,it,st,ot);return}let Et=find$1(e,pt=>pt.from>=st.from&&pt.to<=st.to&&Math.abs(pt.from-nt)<g&&Math.abs(pt.to-it)<g&&!dt.some(gt=>pt.from<gt&&pt.to>gt));if(!Et){if(it<st.to&&a&&c&&a.visibleRanges.some(St=>St.from<=it&&St.to>=it)){let St=a.moveToLineBoundary(EditorSelection.cursor(it),!1,!0).head;St>nt&&(it=St)}let pt=this.gapSize(st,nt,it,ot),gt=c||pt<2e6?pt:2e6;Et=new LineGap(nt,it,pt,gt)}_.push(Et)},tt=nt=>{if(nt.length<b||nt.type!=BlockType.Text)return;let it=lineStructure(nt.from,nt.to,this.stateDeco);if(it.total<b)return;let st=this.scrollTarget?this.scrollTarget.range.head:null,ot,ht;if(c){let dt=d/this.heightOracle.lineLength*this.heightOracle.lineHeight,Et,pt;if(st!=null){let gt=findFraction(it,st),St=((this.visibleBottom-this.visibleTop)/2+dt)/nt.height;Et=gt-St,pt=gt+St}else Et=(this.visibleTop-nt.top-dt)/nt.height,pt=(this.visibleBottom-nt.top+dt)/nt.height;ot=findPosition(it,Et),ht=findPosition(it,pt)}else{let dt=it.total*this.heightOracle.charWidth,Et=d*this.heightOracle.charWidth,pt=0;if(dt>2e6)for(let vt of e)vt.from>=nt.from&&vt.from<nt.to&&vt.size!=vt.displaySize&&vt.from*this.heightOracle.charWidth+pt<this.pixelViewport.left&&(pt=vt.size-vt.displaySize);let gt=this.pixelViewport.left+pt,St=this.pixelViewport.right+pt,Tt,bt;if(st!=null){let vt=findFraction(it,st),kt=((St-gt)/2+Et)/dt;Tt=vt-kt,bt=vt+kt}else Tt=(gt-Et)/dt,bt=(St+Et)/dt;ot=findPosition(it,Tt),ht=findPosition(it,bt)}ot>nt.from&&_e(nt.from,ot,nt,it),ht<nt.to&&_e(ht,nt.to,nt,it)};for(let nt of this.viewportLines)Array.isArray(nt.type)?nt.type.forEach(tt):tt(nt);return _}gapSize(e,a,c,d){let g=findFraction(d,c)-findFraction(d,a);return this.heightOracle.lineWrapping?e.height*g:d.total*this.heightOracle.charWidth*g}updateLineGaps(e){LineGap.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Decoration.set(e.map(a=>a.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let a=[];RangeSet.spans(e,this.viewport.from,this.viewport.to,{span(d,g){a.push({from:d,to:g})},point(){}},20);let c=a.length!=this.visibleRanges.length||this.visibleRanges.some((d,g)=>d.from!=a[g].from||d.to!=a[g].to);return this.visibleRanges=a,c?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(a=>a.from<=e&&a.to>=e)||scaleBlock(this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(a=>a.top<=e&&a.bottom>=e)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(e),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let a=this.lineBlockAtHeight(e+8);return a.from>=this.viewport.from||this.viewportLines[0].top-e>200?a:this.viewportLines[0]}elementAtHeight(e){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(e,a){this.from=e,this.to=a}}function lineStructure(o,e,a){let c=[],d=o,g=0;return RangeSet.spans(a,o,e,{span(){},point(b,_){b>d&&(c.push({from:d,to:b}),g+=b-d),d=_}},20),d<e&&(c.push({from:d,to:e}),g+=e-d),{total:g,ranges:c}}function findPosition({total:o,ranges:e},a){if(a<=0)return e[0].from;if(a>=1)return e[e.length-1].to;let c=Math.floor(o*a);for(let d=0;;d++){let{from:g,to:b}=e[d],_=b-g;if(c<=_)return g+c;c-=_}}function findFraction(o,e){let a=0;for(let{from:c,to:d}of o.ranges){if(e<=d){a+=e-c;break}a+=d-c}return a/o.total}function find$1(o,e){for(let a of o)if(e(a))return a}const IdScaler={toDOM(o){return o},fromDOM(o){return o},scale:1,eq(o){return o==this}};class BigScaler{constructor(e,a,c){let d=0,g=0,b=0;this.viewports=c.map(({from:_,to:_e})=>{let tt=a.lineAt(_,QueryType$1.ByPos,e,0,0).top,nt=a.lineAt(_e,QueryType$1.ByPos,e,0,0).bottom;return d+=nt-tt,{from:_,to:_e,top:tt,bottom:nt,domTop:0,domBottom:0}}),this.scale=(7e6-d)/(a.height-d);for(let _ of this.viewports)_.domTop=b+(_.top-g)*this.scale,b=_.domBottom=_.domTop+(_.bottom-_.top),g=_.bottom}toDOM(e){for(let a=0,c=0,d=0;;a++){let g=a<this.viewports.length?this.viewports[a]:null;if(!g||e<g.top)return d+(e-c)*this.scale;if(e<=g.bottom)return g.domTop+(e-g.top);c=g.bottom,d=g.domBottom}}fromDOM(e){for(let a=0,c=0,d=0;;a++){let g=a<this.viewports.length?this.viewports[a]:null;if(!g||e<g.domTop)return c+(e-d)/this.scale;if(e<=g.domBottom)return g.top+(e-g.domTop);c=g.bottom,d=g.domBottom}}eq(e){return e instanceof BigScaler?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((a,c)=>a.from==e.viewports[c].from&&a.to==e.viewports[c].to):!1}}function scaleBlock(o,e){if(e.scale==1)return o;let a=e.toDOM(o.top),c=e.toDOM(o.bottom);return new BlockInfo(o.from,o.length,a,c-a,Array.isArray(o._content)?o._content.map(d=>scaleBlock(d,e)):o._content)}const theme=Facet.define({combine:o=>o.join(" ")}),darkTheme=Facet.define({combine:o=>o.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(o,e,a){return new StyleModule(e,{finish(c){return/&/.test(c)?c.replace(/&\w*/,d=>{if(d=="&")return o;if(!a||!a[d])throw new RangeError(`Unsupported selector: ${d}`);return a[d]}):o+" "+c}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(a=>{for(let c of a)this.queue.push(c);(browser.ie&&browser.ie_version<=11||browser.ios&&e.composing)&&a.some(c=>c.type=="childList"&&c.removedNodes.length||c.type=="characterData"&&c.oldValue.length>c.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager(e),e.state.facet(editable)&&(e.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=a=>{this.queue.push({target:a.target,type:"characterData",oldValue:a.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var a;((a=this.view.docView)===null||a===void 0?void 0:a.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(a=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),a.length>0&&a[a.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(a=>{a.length>0&&a[a.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((a,c)=>a!=e[c]))){this.gapIntersection.disconnect();for(let a of e)this.gapIntersection.observe(a);this.gaps=e}}onSelectionChange(e){let a=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:c}=this,d=this.selectionRange;if(c.state.facet(editable)?c.root.activeElement!=this.dom:!hasSelection(this.dom,d))return;let g=d.anchorNode&&c.docView.nearest(d.anchorNode);if(g&&g.ignoreEvent(e)){a||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!c.state.selection.main.empty&&d.focusNode&&isEquivalentPosition(d.focusNode,d.focusOffset,d.anchorNode,d.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,a=getSelection(e.root);if(!a)return!1;let c=browser.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,a)||a;if(!c||this.selectionRange.eq(c))return!1;let d=hasSelection(this.dom,c);return d&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,c)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(c),d&&(this.selectionChanged=!0),!0)}setSelectionRange(e,a){this.selectionRange.set(e.node,e.offset,a.node,a.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,a=null;for(let c=this.dom;c;)if(c.nodeType==1)!a&&e<this.scrollTargets.length&&this.scrollTargets[e]==c?e++:a||(a=this.scrollTargets.slice(0,e)),a&&a.push(c),c=c.assignedSlot||c.parentNode;else if(c.nodeType==11)c=c.host;else break;if(e<this.scrollTargets.length&&!a&&(a=this.scrollTargets.slice(0,e)),a){for(let c of this.scrollTargets)c.removeEventListener("scroll",this.onScroll);for(let c of this.scrollTargets=a)c.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,a){var c;if(!this.delayedAndroidKey){let d=()=>{let g=this.delayedAndroidKey;g&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=g.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&g.force&&dispatchKey(this.dom,g.key,g.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(d)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:a,force:this.lastChange<Date.now()-50||!!(!((c=this.delayedAndroidKey)===null||c===void 0)&&c.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let a=-1,c=-1,d=!1;for(let g of e){let b=this.readMutation(g);b&&(b.typeOver&&(d=!0),a==-1?{from:a,to:c}=b:(a=Math.min(b.from,a),c=Math.max(b.to,c)))}return{from:a,to:c,typeOver:d}}readChange(){let{from:e,to:a,typeOver:c}=this.processRecords(),d=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(e<0&&!d)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let g=new DOMChange(this.view,e,a,c);return this.view.docView.domChanged={newSel:g.newSel?g.newSel.main:null},g}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let a=this.readChange();if(!a)return this.view.requestMeasure(),!1;let c=this.view.state,d=applyDOMChange(this.view,a);return this.view.state==c&&(a.domChanged||a.newSel&&!a.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),d}readMutation(e){let a=this.view.docView.nearest(e.target);if(!a||a.ignoreMutation(e))return null;if(a.markDirty(e.type=="attributes"),e.type=="attributes"&&(a.flags|=4),e.type=="childList"){let c=findChild(a,e.previousSibling||e.target.previousSibling,-1),d=findChild(a,e.nextSibling||e.target.nextSibling,1);return{from:c?a.posAfter(c):a.posAtStart,to:d?a.posBefore(d):a.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:a.posAtStart,to:a.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(editable)!=e.state.facet(editable)&&(e.view.contentDOM.editContext=e.state.facet(editable)?this.editContext.editContext:null))}destroy(){var e,a,c;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(a=this.gapIntersection)===null||a===void 0||a.disconnect(),(c=this.resizeScroll)===null||c===void 0||c.disconnect();for(let d of this.scrollTargets)d.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(o,e,a){for(;e;){let c=ContentView.get(e);if(c&&c.parent==o)return c;let d=e.parentNode;e=d!=o.dom?d:a>0?e.nextSibling:e.previousSibling}return null}function buildSelectionRangeFromRange(o,e){let a=e.startContainer,c=e.startOffset,d=e.endContainer,g=e.endOffset,b=o.docView.domAtPos(o.state.selection.main.anchor);return isEquivalentPosition(b.node,b.offset,d,g)&&([a,c,d,g]=[d,g,a,c]),{anchorNode:a,anchorOffset:c,focusNode:d,focusOffset:g}}function safariSelectionRangeHack(o,e){if(e.getComposedRanges){let d=e.getComposedRanges(o.root)[0];if(d)return buildSelectionRangeFromRange(o,d)}let a=null;function c(d){d.preventDefault(),d.stopImmediatePropagation(),a=d.getTargetRanges()[0]}return o.contentDOM.addEventListener("beforeinput",c,!0),o.dom.ownerDocument.execCommand("indent"),o.contentDOM.removeEventListener("beforeinput",c,!0),a?buildSelectionRangeFromRange(o,a):null}class EditContextManager{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let a=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=c=>{let{anchor:d}=e.state.selection.main,g={from:this.toEditorPos(c.updateRangeStart),to:this.toEditorPos(c.updateRangeEnd),insert:Text.of(c.text.split(`
`))};g.from==this.from&&d<this.from?g.from=d:g.to==this.to&&d>this.to&&(g.to=d),!(g.from==g.to&&!g.insert.length)&&(this.pendingContextChange=g,e.state.readOnly||applyDOMChangeInner(e,g,EditorSelection.single(this.toEditorPos(c.selectionStart),this.toEditorPos(c.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=c=>{let d=[],g=null;for(let b=this.toEditorPos(c.rangeStart),_=this.toEditorPos(c.rangeEnd);b<_;b++){let _e=e.coordsForChar(b);g=_e&&new DOMRect(_e.left,_e.top,_e.right-_e.left,_e.bottom-_e.top)||g||new DOMRect,d.push(g)}a.updateCharacterBounds(c.rangeStart,d)},this.handlers.textformatupdate=c=>{let d=[];for(let g of c.getTextFormats()){let b=g.underlineStyle,_=g.underlineThickness;if(b!="None"&&_!="None"){let _e=`text-decoration: underline ${b=="Dashed"?"dashed ":b=="Squiggle"?"wavy ":""}${_=="Thin"?1:2}px`;d.push(Decoration.mark({attributes:{style:_e}}).range(this.toEditorPos(g.rangeStart),this.toEditorPos(g.rangeEnd)))}}e.dispatch({effects:setEditContextFormatting.of(Decoration.set(d))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let c in this.handlers)a.addEventListener(c,this.handlers[c]);this.measureReq={read:c=>{this.editContext.updateControlBounds(c.contentDOM.getBoundingClientRect());let d=getSelection(c.root);d&&d.rangeCount&&this.editContext.updateSelectionBounds(d.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let a=0,c=!1,d=this.pendingContextChange;return e.changes.iterChanges((g,b,_,_e,tt)=>{if(c)return;let nt=tt.length-(b-g);if(d&&b>=d.to)if(d.from==g&&d.to==b&&d.insert.eq(tt)){d=this.pendingContextChange=null,a+=nt,this.to+=nt;return}else d=null,this.revertPending(e.state);if(g+=a,b+=a,b<=this.from)this.from+=nt,this.to+=nt;else if(g<this.to){if(g<this.from||b>this.to||this.to-this.from+tt.length>3e4){c=!0;return}this.editContext.updateText(this.toContextPos(g),this.toContextPos(b),tt.toString()),this.to+=nt}a+=nt}),d&&!c&&this.revertPending(e.state),!c}update(e){let a=this.pendingContextChange;!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)):(e.docChanged||e.selectionSet||a)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:a}=e.selection.main;this.from=Math.max(0,a-1e4),this.to=Math.min(e.doc.length,a+1e4)}revertPending(e){let a=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(a.from),this.toContextPos(a.from+a.insert.length),e.doc.sliceString(a.from,a.to))}setSelection(e){let{main:a}=e.selection,c=this.toContextPos(Math.max(this.from,Math.min(this.to,a.anchor))),d=this.toContextPos(a.head);(this.editContext.selectionStart!=c||this.editContext.selectionEnd!=d)&&this.editContext.updateSelection(c,d)}rangeIsValid(e){let{head:a}=e.selection.main;return!(this.from>0&&a-this.from<500||this.to<e.doc.length&&this.to-a<500||this.to-this.from>1e4*3)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var a;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:c}=e;this.dispatchTransactions=e.dispatchTransactions||c&&(d=>d.forEach(g=>c(g,this)))||(d=>this.update(d)),this.dispatch=this.dispatch.bind(this),this._root=e.root||getRoot(e.parent)||document,this.viewState=new ViewState(e.state||EditorState.create(e)),e.scrollTo&&e.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(d=>new PluginInstance(d));for(let d of this.plugins)d.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((a=document.fonts)===null||a===void 0)&&a.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let a=e.length==1&&e[0]instanceof Transaction?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(a,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let a=!1,c=!1,d,g=this.state;for(let st of e){if(st.startState!=g)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");g=st.state}if(this.destroyed){this.viewState.state=g;return}let b=this.hasFocus,_=0,_e=null;e.some(st=>st.annotation(isFocusChange))?(this.inputState.notifiedFocused=b,_=1):b!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=b,_e=focusChangeTransaction(g,b),_e||(_=1));let tt=this.observer.delayedAndroidKey,nt=null;if(tt?(this.observer.clearDelayedAndroidKey(),nt=this.observer.readChange(),(nt&&!this.state.doc.eq(g.doc)||!this.state.selection.eq(g.selection))&&(nt=null)):this.observer.clear(),g.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(g);d=ViewUpdate.create(this,g,e),d.flags|=_;let it=this.viewState.scrollTarget;try{this.updateState=2;for(let st of e){if(it&&(it=it.map(st.changes)),st.scrollIntoView){let{main:ot}=st.state.selection;it=new ScrollTarget(ot.empty?ot:EditorSelection.cursor(ot.head,ot.head>ot.anchor?-1:1))}for(let ot of st.effects)ot.is(scrollIntoView$1)&&(it=ot.value.clip(this.state))}this.viewState.update(d,it),this.bidiCache=CachedOrder.update(this.bidiCache,d.changes),d.empty||(this.updatePlugins(d),this.inputState.update(d)),a=this.docView.update(d),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),c=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(a,e.some(st=>st.isUserEvent("select.pointer")))}finally{this.updateState=0}if(d.startState.facet(theme)!=d.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(a||c||it||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),a&&this.docViewUpdate(),!d.empty)for(let st of this.state.facet(updateListener))try{st(d)}catch(ot){logException(this.state,ot,"update listener")}(_e||nt)&&Promise.resolve().then(()=>{_e&&this.state==_e.startState&&this.dispatch(_e),nt&&!applyDOMChange(this,nt)&&tt.force&&dispatchKey(this.contentDOM,tt.key,tt.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let a=this.hasFocus;try{for(let c of this.plugins)c.destroy(this);this.viewState=new ViewState(e),this.plugins=e.facet(viewPlugin).map(c=>new PluginInstance(c)),this.pluginMap.clear();for(let c of this.plugins)c.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}a&&this.focus(),this.requestMeasure()}updatePlugins(e){let a=e.startState.facet(viewPlugin),c=e.state.facet(viewPlugin);if(a!=c){let d=[];for(let g of c){let b=a.indexOf(g);if(b<0)d.push(new PluginInstance(g));else{let _=this.plugins[b];_.mustUpdate=e,d.push(_)}}for(let g of this.plugins)g.mustUpdate!=e&&g.destroy(this);this.plugins=d,this.pluginMap.clear()}else for(let d of this.plugins)d.mustUpdate=e;for(let d=0;d<this.plugins.length;d++)this.plugins[d].update(this);a!=c&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let a=e.value;if(a&&a.docViewUpdate)try{a.docViewUpdate(this)}catch(c){logException(this.state,c,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let a=null,c=this.scrollDOM,d=c.scrollTop*this.scaleY,{scrollAnchorPos:g,scrollAnchorHeight:b}=this.viewState;Math.abs(d-this.viewState.scrollTop)>1&&(b=-1),this.viewState.scrollAnchorHeight=-1;try{for(let _=0;;_++){if(b<0)if(isScrolledToBottom(c))g=-1,b=this.viewState.heightMap.height;else{let ot=this.viewState.scrollAnchorAt(d);g=ot.from,b=ot.top}this.updateState=1;let _e=this.viewState.measure(this);if(!_e&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(_>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let tt=[];_e&4||([this.measureRequests,tt]=[tt,this.measureRequests]);let nt=tt.map(ot=>{try{return ot.read(this)}catch(ht){return logException(this.state,ht),BadMeasure}}),it=ViewUpdate.create(this,this.state,[]),st=!1;it.flags|=_e,a?a.flags|=_e:a=it,this.updateState=2,it.empty||(this.updatePlugins(it),this.inputState.update(it),this.updateAttrs(),st=this.docView.update(it),st&&this.docViewUpdate());for(let ot=0;ot<tt.length;ot++)if(nt[ot]!=BadMeasure)try{let ht=tt[ot];ht.write&&ht.write(nt[ot],this)}catch(ht){logException(this.state,ht)}if(st&&this.docView.updateSelection(!0),!it.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,b=-1;continue}else{let ht=(g<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(g).top)-b;if(ht>1||ht<-1){d=d+ht,c.scrollTop=d/this.scaleY,b=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(a&&!a.empty)for(let _ of this.state.facet(updateListener))_(a)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let e=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),a={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(a["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,a);let c=this.observer.ignore(()=>{let d=updateAttrs(this.contentDOM,this.contentAttrs,a),g=updateAttrs(this.dom,this.editorAttrs,e);return d||g});return this.editorAttrs=e,this.contentAttrs=a,c}showAnnouncements(e){let a=!0;for(let c of e)for(let d of c.effects)if(d.is(EditorView.announce)){a&&(this.announceDOM.textContent=""),a=!1;let g=this.announceDOM.appendChild(document.createElement("div"));g.textContent=d.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let e=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let a=0;a<this.measureRequests.length;a++)if(this.measureRequests[a].key===e.key){this.measureRequests[a]=e;return}}this.measureRequests.push(e)}}plugin(e){let a=this.pluginMap.get(e);return(a===void 0||a&&a.spec!=e)&&this.pluginMap.set(e,a=this.plugins.find(c=>c.spec==e)||null),a&&a.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,a,c){return skipAtoms(this,e,moveByChar(this,e,a,c))}moveByGroup(e,a){return skipAtoms(this,e,moveByChar(this,e,a,c=>byGroup(this,e.head,c)))}visualLineSide(e,a){let c=this.bidiSpans(e),d=this.textDirectionAt(e.from),g=c[a?c.length-1:0];return EditorSelection.cursor(g.side(a,d)+e.from,g.forward(!a,d)?1:-1)}moveToLineBoundary(e,a,c=!0){return moveToLineBoundary(this,e,a,c)}moveVertically(e,a,c){return skipAtoms(this,e,moveVertically(this,e,a,c))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,a=0){return this.docView.posFromDOM(e,a)}posAtCoords(e,a=!0){return this.readMeasured(),posAtCoords(this,e,a)}coordsAtPos(e,a=1){this.readMeasured();let c=this.docView.coordsAt(e,a);if(!c||c.left==c.right)return c;let d=this.state.doc.lineAt(e),g=this.bidiSpans(d),b=g[BidiSpan.find(g,e-d.from,-1,a)];return flattenRect(c,b.dir==Direction.LTR==a>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(perLineTextDirection)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>MaxBidiLine)return trivialOrder(e.length);let a=this.textDirectionAt(e.from),c;for(let g of this.bidiCache)if(g.from==e.from&&g.dir==a&&(g.fresh||isolatesEq(g.isolates,c=getIsolatedRanges(this,e))))return g.order;c||(c=getIsolatedRanges(this,e));let d=computeOrder(e.text,a,c);return this.bidiCache.push(new CachedOrder(e.from,e.to,a,c,!0,d)),d}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,a={}){return scrollIntoView$1.of(new ScrollTarget(typeof e=="number"?EditorSelection.cursor(e):e,a.y,a.x,a.yMargin,a.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:a}=this.scrollDOM,c=this.viewState.scrollAnchorAt(e);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(c.from),"start","start",c.top-e,a,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ViewPlugin.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ViewPlugin.define(()=>({}),{eventObservers:e})}static theme(e,a){let c=StyleModule.newName(),d=[theme.of(c),styleModule.of(buildTheme(`.${c}`,e))];return a&&a.dark&&d.push(darkTheme.of(!0)),d}static baseTheme(e){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,e,lightDarkIDs)))}static findFromDOM(e){var a;let c=e.querySelector(".cm-content"),d=c&&ContentView.get(c)||ContentView.get(e);return((a=d==null?void 0:d.rootView)===null||a===void 0?void 0:a.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:o=>o.length?o[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(e,a,c,d,g,b){this.from=e,this.to=a,this.dir=c,this.isolates=d,this.fresh=g,this.order=b}static update(e,a){if(a.empty&&!e.some(g=>g.fresh))return e;let c=[],d=e.length?e[e.length-1].dir:Direction.LTR;for(let g=Math.max(0,e.length-10);g<e.length;g++){let b=e[g];b.dir==d&&!a.touchesRange(b.from,b.to)&&c.push(new CachedOrder(a.mapPos(b.from,1),a.mapPos(b.to,-1),b.dir,b.isolates,!1,b.order))}return c}}function attrsFromFacet(o,e,a){for(let c=o.state.facet(e),d=c.length-1;d>=0;d--){let g=c[d],b=typeof g=="function"?g(o):g;b&&combineAttrs(b,a)}return a}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(o,e){const a=o.split(/-(?!$)/);let c=a[a.length-1];c=="Space"&&(c=" ");let d,g,b,_;for(let _e=0;_e<a.length-1;++_e){const tt=a[_e];if(/^(cmd|meta|m)$/i.test(tt))_=!0;else if(/^a(lt)?$/i.test(tt))d=!0;else if(/^(c|ctrl|control)$/i.test(tt))g=!0;else if(/^s(hift)?$/i.test(tt))b=!0;else if(/^mod$/i.test(tt))e=="mac"?_=!0:g=!0;else throw new Error("Unrecognized modifier name: "+tt)}return d&&(c="Alt-"+c),g&&(c="Ctrl-"+c),_&&(c="Meta-"+c),b&&(c="Shift-"+c),c}function modifiers(o,e,a){return e.altKey&&(o="Alt-"+o),e.ctrlKey&&(o="Ctrl-"+o),e.metaKey&&(o="Meta-"+o),a!==!1&&e.shiftKey&&(o="Shift-"+o),o}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(o,e){return runHandlers(getKeymap(e.state),o,e,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(o){let e=o.facet(keymap),a=Keymaps.get(e);return a||Keymaps.set(e,a=buildKeymap(e.reduce((c,d)=>c.concat(d),[]))),a}function runScopeHandlers(o,e,a){return runHandlers(getKeymap(o.state),e,o,a)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(o,e=currentPlatform){let a=Object.create(null),c=Object.create(null),d=(b,_)=>{let _e=c[b];if(_e==null)c[b]=_;else if(_e!=_)throw new Error("Key binding "+b+" is used both as a regular binding and as a multi-stroke prefix")},g=(b,_,_e,tt,nt)=>{var it,st;let ot=a[b]||(a[b]=Object.create(null)),ht=_.split(/ (?!$)/).map(pt=>normalizeKeyName(pt,e));for(let pt=1;pt<ht.length;pt++){let gt=ht.slice(0,pt).join(" ");d(gt,!0),ot[gt]||(ot[gt]={preventDefault:!0,stopPropagation:!1,run:[St=>{let Tt=storedPrefix={view:St,prefix:gt,scope:b};return setTimeout(()=>{storedPrefix==Tt&&(storedPrefix=null)},PrefixTimeout),!0}]})}let dt=ht.join(" ");d(dt,!1);let Et=ot[dt]||(ot[dt]={preventDefault:!1,stopPropagation:!1,run:((st=(it=ot._any)===null||it===void 0?void 0:it.run)===null||st===void 0?void 0:st.slice())||[]});_e&&Et.run.push(_e),tt&&(Et.preventDefault=!0),nt&&(Et.stopPropagation=!0)};for(let b of o){let _=b.scope?b.scope.split(" "):["editor"];if(b.any)for(let tt of _){let nt=a[tt]||(a[tt]=Object.create(null));nt._any||(nt._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:it}=b;for(let st in nt)nt[st].run.push(ot=>it(ot,currentKeyEvent))}let _e=b[e]||b.key;if(_e)for(let tt of _)g(tt,_e,b.run,b.preventDefault,b.stopPropagation),b.shift&&g(tt,"Shift-"+_e,b.shift,b.preventDefault,b.stopPropagation)}return a}let currentKeyEvent=null;function runHandlers(o,e,a,c){currentKeyEvent=e;let d=keyName(e),g=codePointAt(d,0),b=codePointSize(g)==d.length&&d!=" ",_="",_e=!1,tt=!1,nt=!1;storedPrefix&&storedPrefix.view==a&&storedPrefix.scope==c&&(_=storedPrefix.prefix+" ",modifierCodes.indexOf(e.keyCode)<0&&(tt=!0,storedPrefix=null));let it=new Set,st=Et=>{if(Et){for(let pt of Et.run)if(!it.has(pt)&&(it.add(pt),pt(a)))return Et.stopPropagation&&(nt=!0),!0;Et.preventDefault&&(Et.stopPropagation&&(nt=!0),tt=!0)}return!1},ot=o[c],ht,dt;return ot&&(st(ot[_+modifiers(d,e,!b)])?_e=!0:b&&(e.altKey||e.metaKey||e.ctrlKey)&&!(browser.windows&&e.ctrlKey&&e.altKey)&&(ht=base[e.keyCode])&&ht!=d?(st(ot[_+modifiers(ht,e,!0)])||e.shiftKey&&(dt=shift$3[e.keyCode])!=d&&dt!=ht&&st(ot[_+modifiers(dt,e,!1)]))&&(_e=!0):b&&e.shiftKey&&st(ot[_+modifiers(d,e,!0)])&&(_e=!0),!_e&&st(ot._any)&&(_e=!0)),tt&&(_e=!0),_e&&nt&&e.stopPropagation(),currentKeyEvent=null,_e}class RectangleMarker{constructor(e,a,c,d,g){this.className=e,this.left=a,this.top=c,this.width=d,this.height=g}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,a){return a.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,a,c){if(c.empty){let d=e.coordsAtPos(c.head,c.assoc||1);if(!d)return[];let g=getBase(e);return[new RectangleMarker(a,d.left-g.left,d.top-g.top,null,d.bottom-d.top)]}else return rectanglesForRange(e,a,c)}}function getBase(o){let e=o.scrollDOM.getBoundingClientRect();return{left:(o.textDirection==Direction.LTR?e.left:e.right-o.scrollDOM.clientWidth*o.scaleX)-o.scrollDOM.scrollLeft*o.scaleX,top:e.top-o.scrollDOM.scrollTop*o.scaleY}}function wrappedLine(o,e,a,c){let d=o.coordsAtPos(e,a*2);if(!d)return c;let g=o.dom.getBoundingClientRect(),b=(d.top+d.bottom)/2,_=o.posAtCoords({x:g.left+1,y:b}),_e=o.posAtCoords({x:g.right-1,y:b});return _==null||_e==null?c:{from:Math.max(c.from,Math.min(_,_e)),to:Math.min(c.to,Math.max(_,_e))}}function rectanglesForRange(o,e,a){if(a.to<=o.viewport.from||a.from>=o.viewport.to)return[];let c=Math.max(a.from,o.viewport.from),d=Math.min(a.to,o.viewport.to),g=o.textDirection==Direction.LTR,b=o.contentDOM,_=b.getBoundingClientRect(),_e=getBase(o),tt=b.querySelector(".cm-line"),nt=tt&&window.getComputedStyle(tt),it=_.left+(nt?parseInt(nt.paddingLeft)+Math.min(0,parseInt(nt.textIndent)):0),st=_.right-(nt?parseInt(nt.paddingRight):0),ot=blockAt(o,c),ht=blockAt(o,d),dt=ot.type==BlockType.Text?ot:null,Et=ht.type==BlockType.Text?ht:null;if(dt&&(o.lineWrapping||ot.widgetLineBreaks)&&(dt=wrappedLine(o,c,1,dt)),Et&&(o.lineWrapping||ht.widgetLineBreaks)&&(Et=wrappedLine(o,d,-1,Et)),dt&&Et&&dt.from==Et.from&&dt.to==Et.to)return gt(St(a.from,a.to,dt));{let bt=dt?St(a.from,null,dt):Tt(ot,!1),vt=Et?St(null,a.to,Et):Tt(ht,!0),kt=[];return(dt||ot).to<(Et||ht).from-(dt&&Et?1:0)||ot.widgetLineBreaks>1&&bt.bottom+o.defaultLineHeight/2<vt.top?kt.push(pt(it,bt.bottom,st,vt.top)):bt.bottom<vt.top&&o.elementAtHeight((bt.bottom+vt.top)/2).type==BlockType.Text&&(bt.bottom=vt.top=(bt.bottom+vt.top)/2),gt(bt).concat(kt).concat(gt(vt))}function pt(bt,vt,kt,Nt){return new RectangleMarker(e,bt-_e.left,vt-_e.top-.01,kt-bt,Nt-vt+.01)}function gt({top:bt,bottom:vt,horizontal:kt}){let Nt=[];for(let en=0;en<kt.length;en+=2)Nt.push(pt(kt[en],bt,kt[en+1],vt));return Nt}function St(bt,vt,kt){let Nt=1e9,en=-1e9,jt=[];function tn(mn,dn,On,hn,zt){let nn=o.coordsAtPos(mn,mn==kt.to?-2:2),wt=o.coordsAtPos(On,On==kt.from?2:-2);!nn||!wt||(Nt=Math.min(nn.top,wt.top,Nt),en=Math.max(nn.bottom,wt.bottom,en),zt==Direction.LTR?jt.push(g&&dn?it:nn.left,g&&hn?st:wt.right):jt.push(!g&&hn?it:wt.left,!g&&dn?st:nn.right))}let Yt=bt??kt.from,pn=vt??kt.to;for(let mn of o.visibleRanges)if(mn.to>Yt&&mn.from<pn)for(let dn=Math.max(mn.from,Yt),On=Math.min(mn.to,pn);;){let hn=o.state.doc.lineAt(dn);for(let zt of o.bidiSpans(hn)){let nn=zt.from+hn.from,wt=zt.to+hn.from;if(nn>=On)break;wt>dn&&tn(Math.max(nn,dn),bt==null&&nn<=Yt,Math.min(wt,On),vt==null&&wt>=pn,zt.dir)}if(dn=hn.to+1,dn>=On)break}return jt.length==0&&tn(Yt,bt==null,pn,vt==null,o.textDirection),{top:Nt,bottom:en,horizontal:jt}}function Tt(bt,vt){let kt=_.top+(vt?bt.top:bt.bottom);return{top:kt,bottom:kt,horizontal:[]}}}function sameMarker(o,e){return o.constructor==e.constructor&&o.eq(e)}class LayerView{constructor(e,a){this.view=e,this.layer=a,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),a.above&&this.dom.classList.add("cm-layer-above"),a.class&&this.dom.classList.add(a.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),a.mount&&a.mount(this.dom,e)}update(e){e.startState.facet(layerOrder)!=e.state.facet(layerOrder)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let a=0,c=e.facet(layerOrder);for(;a<c.length&&c[a]!=this.layer;)a++;this.dom.style.zIndex=String((this.layer.above?150:-1)-a)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:a}=this.view;(e!=this.scaleX||a!=this.scaleY)&&(this.scaleX=e,this.scaleY=a,this.dom.style.transform=`scale(${1/e}, ${1/a})`)}draw(e){if(e.length!=this.drawn.length||e.some((a,c)=>!sameMarker(a,this.drawn[c]))){let a=this.dom.firstChild,c=0;for(let d of e)d.update&&a&&d.constructor&&this.drawn[c].constructor&&d.update(a,this.drawn[c])?(a=a.nextSibling,c++):this.dom.insertBefore(d.draw(),a);for(;a;){let d=a.nextSibling;a.remove(),a=d}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(o){return[ViewPlugin.define(e=>new LayerView(e,o)),layerOrder.of(o)]}const CanHidePrimary=!browser.ios,selectionConfig=Facet.define({combine(o){return combineConfig(o,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,a)=>Math.min(e,a),drawRangeCursor:(e,a)=>e||a})}});function drawSelection(o={}){return[selectionConfig.of(o),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(o){return o.startState.facet(selectionConfig)!=o.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(o){let{state:e}=o,a=e.facet(selectionConfig),c=[];for(let d of e.selection.ranges){let g=d==e.selection.main;if(d.empty?!g||CanHidePrimary:a.drawRangeCursor){let b=g?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",_=d.empty?d:EditorSelection.cursor(d.head,d.head>d.anchor?-1:1);for(let _e of RectangleMarker.forRange(o,b,_))c.push(_e)}}return c},update(o,e){o.transactions.some(c=>c.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let a=configChanged(o);return a&&setBlinkRate(o.state,e),o.docChanged||o.selectionSet||a},mount(o,e){setBlinkRate(e.state,o)},class:"cm-cursorLayer"});function setBlinkRate(o,e){e.style.animationDuration=o.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(o){return o.state.selection.ranges.map(e=>e.empty?[]:RectangleMarker.forRange(o,"cm-selectionBackground",e)).reduce((e,a)=>e.concat(a))},update(o,e){return o.docChanged||o.selectionSet||o.viewportChanged||configChanged(o)},class:"cm-selectionLayer"}),themeSpec={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};CanHidePrimary&&(themeSpec[".cm-line"].caretColor=themeSpec[".cm-content"].caretColor="transparent !important");const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec)),setDropCursorPos=StateEffect.define({map(o,e){return o==null?null:e.mapPos(o)}}),dropCursorPos=StateField.define({create(){return null},update(o,e){return o!=null&&(o=e.changes.mapPos(o)),e.effects.reduce((a,c)=>c.is(setDropCursorPos)?c.value:a,o)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(o){var e;let a=o.state.field(dropCursorPos);a==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(o.startState.field(dropCursorPos)!=a||o.docChanged||o.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:o}=this,e=o.state.field(dropCursorPos),a=e!=null&&o.coordsAtPos(e);if(!a)return null;let c=o.scrollDOM.getBoundingClientRect();return{left:a.left-c.left+o.scrollDOM.scrollLeft*o.scaleX,top:a.top-c.top+o.scrollDOM.scrollTop*o.scaleY,height:a.bottom-a.top}}drawCursor(o){if(this.cursor){let{scaleX:e,scaleY:a}=this.view;o?(this.cursor.style.left=o.left/e+"px",this.cursor.style.top=o.top/a+"px",this.cursor.style.height=o.height/a+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(o){this.view.state.field(dropCursorPos)!=o&&this.view.dispatch({effects:setDropCursorPos.of(o)})}},{eventObservers:{dragover(o){this.setDropPos(this.view.posAtCoords({x:o.clientX,y:o.clientY}))},dragleave(o){(o.target==this.view.contentDOM||!this.view.contentDOM.contains(o.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(o,e,a,c,d){e.lastIndex=0;for(let g=o.iterRange(a,c),b=a,_;!g.next().done;b+=g.value.length)if(!g.lineBreak)for(;_=e.exec(g.value);)d(b+_.index,_)}function matchRanges(o,e){let a=o.visibleRanges;if(a.length==1&&a[0].from==o.viewport.from&&a[0].to==o.viewport.to)return a;let c=[];for(let{from:d,to:g}of a)d=Math.max(o.state.doc.lineAt(d).from,d-e),g=Math.min(o.state.doc.lineAt(g).to,g+e),c.length&&c[c.length-1].to>=d?c[c.length-1].to=g:c.push({from:d,to:g});return c}class MatchDecorator{constructor(e){const{regexp:a,decoration:c,decorate:d,boundary:g,maxLength:b=1e3}=e;if(!a.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=a,d)this.addMatch=(_,_e,tt,nt)=>d(nt,tt,tt+_[0].length,_,_e);else if(typeof c=="function")this.addMatch=(_,_e,tt,nt)=>{let it=c(_,_e,tt);it&&nt(tt,tt+_[0].length,it)};else if(c)this.addMatch=(_,_e,tt,nt)=>nt(tt,tt+_[0].length,c);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=g,this.maxLength=b}createDeco(e){let a=new RangeSetBuilder,c=a.add.bind(a);for(let{from:d,to:g}of matchRanges(e,this.maxLength))iterMatches(e.state.doc,this.regexp,d,g,(b,_)=>this.addMatch(_,e,b,c));return a.finish()}updateDeco(e,a){let c=1e9,d=-1;return e.docChanged&&e.changes.iterChanges((g,b,_,_e)=>{_e>e.view.viewport.from&&_<e.view.viewport.to&&(c=Math.min(_,c),d=Math.max(_e,d))}),e.viewportChanged||d-c>1e3?this.createDeco(e.view):d>-1?this.updateRange(e.view,a.map(e.changes),c,d):a}updateRange(e,a,c,d){for(let g of e.visibleRanges){let b=Math.max(g.from,c),_=Math.min(g.to,d);if(_>b){let _e=e.state.doc.lineAt(b),tt=_e.to<_?e.state.doc.lineAt(_):_e,nt=Math.max(g.from,_e.from),it=Math.min(g.to,tt.to);if(this.boundary){for(;b>_e.from;b--)if(this.boundary.test(_e.text[b-1-_e.from])){nt=b;break}for(;_<tt.to;_++)if(this.boundary.test(tt.text[_-tt.from])){it=_;break}}let st=[],ot,ht=(dt,Et,pt)=>st.push(pt.range(dt,Et));if(_e==tt)for(this.regexp.lastIndex=nt-_e.from;(ot=this.regexp.exec(_e.text))&&ot.index<it-_e.from;)this.addMatch(ot,e,ot.index+_e.from,ht);else iterMatches(e.state.doc,this.regexp,nt,it,(dt,Et)=>this.addMatch(Et,e,dt,ht));a=a.update({filterFrom:nt,filterTo:it,filter:(dt,Et)=>dt<nt||Et>it,add:st})}}return a}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var o;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let e=document.body.style;_supportsTabSize=((o=e.tabSize)!==null&&o!==void 0?o:e.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(o){let e=combineConfig(o,{render:null,specialChars:Specials,addSpecialChars:null});return(e.replaceTabs=!supportsTabSize())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,UnicodeRegexpSupport)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,UnicodeRegexpSupport)),e}});function highlightSpecialChars(o={}){return[specialCharConfig.of(o),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(o.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(o)}makeDecorator(o){return new MatchDecorator({regexp:o.specialChars,decoration:(e,a,c)=>{let{doc:d}=a.state,g=codePointAt(e[0],0);if(g==9){let b=d.lineAt(c),_=a.state.tabSize,_e=countColumn(b.text,_,c-b.from);return Decoration.replace({widget:new TabWidget((_-_e%_)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[g]||(this.decorationCache[g]=Decoration.replace({widget:new SpecialCharWidget(o,g)}))},boundary:o.replaceTabs?void 0:/[^]/})}update(o){let e=o.state.facet(specialCharConfig);o.startState.facet(specialCharConfig)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(o.view)):this.decorations=this.decorator.updateDeco(o,this.decorations)}},{decorations:o=>o.decorations}))}const DefaultPlaceholder="";function placeholder$1(o){return o>=32?DefaultPlaceholder:o==10?"":String.fromCharCode(9216+o)}class SpecialCharWidget extends WidgetType{constructor(e,a){super(),this.options=e,this.code=a}eq(e){return e.code==this.code}toDOM(e){let a=placeholder$1(this.code),c=e.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),d=this.options.render&&this.options.render(this.code,c,a);if(d)return d;let g=document.createElement("span");return g.textContent=a,g.title=c,g.setAttribute("aria-label",c),g.className="cm-specialChar",g}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(o){this.decorations=this.getDeco(o)}update(o){(o.docChanged||o.selectionSet)&&(this.decorations=this.getDeco(o.view))}getDeco(o){let e=-1,a=[];for(let c of o.state.selection.ranges){let d=o.lineBlockAt(c.head);d.from>e&&(a.push(lineDeco.range(d.from)),e=d.from)}return Decoration.set(a)}},{decorations:o=>o.decorations});class Placeholder extends WidgetType{constructor(e){super(),this.content=e}toDOM(e){let a=document.createElement("span");return a.className="cm-placeholder",a.style.pointerEvents="none",a.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),typeof this.content=="string"?a.setAttribute("aria-label","placeholder "+this.content):a.setAttribute("aria-hidden","true"),a}coordsAt(e){let a=e.firstChild?clientRectsFor(e.firstChild):[];if(!a.length)return null;let c=window.getComputedStyle(e.parentNode),d=flattenRect(a[0],c.direction!="rtl"),g=parseInt(c.lineHeight);return d.bottom-d.top>g*1.5?{left:d.left,right:d.right,top:d.top,bottom:d.top+g}:d}ignoreEvent(){return!1}}function placeholder(o){return ViewPlugin.fromClass(class{constructor(e){this.view=e,this.placeholder=o?Decoration.set([Decoration.widget({widget:new Placeholder(o),side:1}).range(0)]):Decoration.none}get decorations(){return this.view.state.doc.length?Decoration.none:this.placeholder}},{decorations:e=>e.decorations})}const MaxOff=2e3;function rectangleFor(o,e,a){let c=Math.min(e.line,a.line),d=Math.max(e.line,a.line),g=[];if(e.off>MaxOff||a.off>MaxOff||e.col<0||a.col<0){let b=Math.min(e.off,a.off),_=Math.max(e.off,a.off);for(let _e=c;_e<=d;_e++){let tt=o.doc.line(_e);tt.length<=_&&g.push(EditorSelection.range(tt.from+b,tt.to+_))}}else{let b=Math.min(e.col,a.col),_=Math.max(e.col,a.col);for(let _e=c;_e<=d;_e++){let tt=o.doc.line(_e),nt=findColumn(tt.text,b,o.tabSize,!0);if(nt<0)g.push(EditorSelection.cursor(tt.to));else{let it=findColumn(tt.text,_,o.tabSize);g.push(EditorSelection.range(tt.from+nt,tt.from+it))}}}return g}function absoluteColumn(o,e){let a=o.coordsAtPos(o.viewport.from);return a?Math.round(Math.abs((a.left-e)/o.defaultCharacterWidth)):-1}function getPos(o,e){let a=o.posAtCoords({x:e.clientX,y:e.clientY},!1),c=o.state.doc.lineAt(a),d=a-c.from,g=d>MaxOff?-1:d==c.length?absoluteColumn(o,e.clientX):countColumn(c.text,o.state.tabSize,a-c.from);return{line:c.number,col:g,off:d}}function rectangleSelectionStyle(o,e){let a=getPos(o,e),c=o.state.selection;return a?{update(d){if(d.docChanged){let g=d.changes.mapPos(d.startState.doc.line(a.line).from),b=d.state.doc.lineAt(g);a={line:b.number,col:a.col,off:Math.min(a.off,b.length)},c=c.map(d.changes)}},get(d,g,b){let _=getPos(o,d);if(!_)return c;let _e=rectangleFor(o.state,a,_);return _e.length?b?EditorSelection.create(_e.concat(c.ranges)):EditorSelection.create(_e):c}}:null}function rectangularSelection(o){let e=a=>a.altKey&&a.button==0;return EditorView.mouseSelectionStyle.of((a,c)=>e(c)?rectangleSelectionStyle(a,c):null)}const keys$1={Alt:[18,o=>!!o.altKey],Control:[17,o=>!!o.ctrlKey],Shift:[16,o=>!!o.shiftKey],Meta:[91,o=>!!o.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(o={}){let[e,a]=keys$1[o.key||"Alt"],c=ViewPlugin.fromClass(class{constructor(d){this.view=d,this.isDown=!1}set(d){this.isDown!=d&&(this.isDown=d,this.view.update([]))}},{eventObservers:{keydown(d){this.set(d.keyCode==e||a(d))},keyup(d){(d.keyCode==e||!a(d))&&this.set(!1)},mousemove(d){this.set(a(d))}}});return[c,EditorView.contentAttributes.of(d=>{var g;return!((g=d.plugin(c))===null||g===void 0)&&g.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(e,a,c,d){this.facet=a,this.createTooltipView=c,this.removeTooltipView=d,this.input=e.state.facet(a),this.tooltips=this.input.filter(b=>b);let g=null;this.tooltipViews=this.tooltips.map(b=>g=c(b,g))}update(e,a){var c;let d=e.state.facet(this.facet),g=d.filter(_e=>_e);if(d===this.input){for(let _e of this.tooltipViews)_e.update&&_e.update(e);return!1}let b=[],_=a?[]:null;for(let _e=0;_e<g.length;_e++){let tt=g[_e],nt=-1;if(tt){for(let it=0;it<this.tooltips.length;it++){let st=this.tooltips[it];st&&st.create==tt.create&&(nt=it)}if(nt<0)b[_e]=this.createTooltipView(tt,_e?b[_e-1]:null),_&&(_[_e]=!!tt.above);else{let it=b[_e]=this.tooltipViews[nt];_&&(_[_e]=a[nt]),it.update&&it.update(e)}}}for(let _e of this.tooltipViews)b.indexOf(_e)<0&&(this.removeTooltipView(_e),(c=_e.destroy)===null||c===void 0||c.call(_e));return a&&(_.forEach((_e,tt)=>a[tt]=_e),a.length=_.length),this.input=d,this.tooltips=g,this.tooltipViews=b,!0}}function windowSpace(o){let{win:e}=o;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const tooltipConfig=Facet.define({combine:o=>{var e,a,c;return{position:browser.ios?"absolute":((e=o.find(d=>d.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((a=o.find(d=>d.parent))===null||a===void 0?void 0:a.parent)||null,tooltipSpace:((c=o.find(d=>d.tooltipSpace))===null||c===void 0?void 0:c.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=o.state.facet(tooltipConfig);this.position=e.position,this.parent=e.parent,this.classes=o.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(o,showTooltip,(a,c)=>this.createTooltip(a,c),a=>{this.resizeObserver&&this.resizeObserver.unobserve(a.dom),a.dom.remove()}),this.above=this.manager.tooltips.map(a=>!!a.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(a=>{Date.now()>this.lastTransaction-50&&a.length>0&&a[a.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),o.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let o of this.manager.tooltipViews)this.intersectionObserver.observe(o.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(o){o.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(o,this.above);e&&this.observeIntersection();let a=e||o.geometryChanged,c=o.state.facet(tooltipConfig);if(c.position!=this.position&&!this.madeAbsolute){this.position=c.position;for(let d of this.manager.tooltipViews)d.dom.style.position=this.position;a=!0}if(c.parent!=this.parent){this.parent&&this.container.remove(),this.parent=c.parent,this.createContainer();for(let d of this.manager.tooltipViews)this.container.appendChild(d.dom);a=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);a&&this.maybeMeasure()}createTooltip(o,e){let a=o.create(this.view),c=e?e.dom:null;if(a.dom.classList.add("cm-tooltip"),o.arrow&&!a.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let d=document.createElement("div");d.className="cm-tooltip-arrow",a.dom.appendChild(d)}return a.dom.style.position=this.position,a.dom.style.top=Outside,a.dom.style.left="0px",this.container.insertBefore(a.dom,c),a.mount&&a.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(a.dom),a}destroy(){var o,e,a;this.view.win.removeEventListener("resize",this.measureSoon);for(let c of this.manager.tooltipViews)c.dom.remove(),(o=c.destroy)===null||o===void 0||o.call(c);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(a=this.intersectionObserver)===null||a===void 0||a.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let o=this.view.dom.getBoundingClientRect(),e=1,a=1,c=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:d}=this.manager.tooltipViews[0];if(browser.gecko)c=d.offsetParent!=this.container.ownerDocument.body;else if(d.style.top==Outside&&d.style.left=="0px"){let g=d.getBoundingClientRect();c=Math.abs(g.top+1e4)>1||Math.abs(g.left)>1}}if(c||this.position=="absolute")if(this.parent){let d=this.parent.getBoundingClientRect();d.width&&d.height&&(e=d.width/this.parent.offsetWidth,a=d.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:a}=this.view.viewState);return{editor:o,parent:this.parent?this.container.getBoundingClientRect():o,pos:this.manager.tooltips.map((d,g)=>{let b=this.manager.tooltipViews[g];return b.getCoords?b.getCoords(d.pos):this.view.coordsAtPos(d.pos)}),size:this.manager.tooltipViews.map(({dom:d})=>d.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:e,scaleY:a,makeAbsolute:c}}writeMeasure(o){var e;if(o.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let _ of this.manager.tooltipViews)_.dom.style.position="absolute"}let{editor:a,space:c,scaleX:d,scaleY:g}=o,b=[];for(let _=0;_<this.manager.tooltips.length;_++){let _e=this.manager.tooltips[_],tt=this.manager.tooltipViews[_],{dom:nt}=tt,it=o.pos[_],st=o.size[_];if(!it||it.bottom<=Math.max(a.top,c.top)||it.top>=Math.min(a.bottom,c.bottom)||it.right<Math.max(a.left,c.left)-.1||it.left>Math.min(a.right,c.right)+.1){nt.style.top=Outside;continue}let ot=_e.arrow?tt.dom.querySelector(".cm-tooltip-arrow"):null,ht=ot?7:0,dt=st.right-st.left,Et=(e=knownHeight.get(tt))!==null&&e!==void 0?e:st.bottom-st.top,pt=tt.offset||noOffset,gt=this.view.textDirection==Direction.LTR,St=st.width>c.right-c.left?gt?c.left:c.right-st.width:gt?Math.max(c.left,Math.min(it.left-(ot?14:0)+pt.x,c.right-dt)):Math.min(Math.max(c.left,it.left-dt+(ot?14:0)-pt.x),c.right-dt),Tt=this.above[_];!_e.strictSide&&(Tt?it.top-(st.bottom-st.top)-pt.y<c.top:it.bottom+(st.bottom-st.top)+pt.y>c.bottom)&&Tt==c.bottom-it.bottom>it.top-c.top&&(Tt=this.above[_]=!Tt);let bt=(Tt?it.top-c.top:c.bottom-it.bottom)-ht;if(bt<Et&&tt.resize!==!1){if(bt<this.view.defaultLineHeight){nt.style.top=Outside;continue}knownHeight.set(tt,Et),nt.style.height=(Et=bt)/g+"px"}else nt.style.height&&(nt.style.height="");let vt=Tt?it.top-Et-ht-pt.y:it.bottom+ht+pt.y,kt=St+dt;if(tt.overlap!==!0)for(let Nt of b)Nt.left<kt&&Nt.right>St&&Nt.top<vt+Et&&Nt.bottom>vt&&(vt=Tt?Nt.top-Et-2-ht:Nt.bottom+ht+2);if(this.position=="absolute"?(nt.style.top=(vt-o.parent.top)/g+"px",nt.style.left=(St-o.parent.left)/d+"px"):(nt.style.top=vt/g+"px",nt.style.left=St/d+"px"),ot){let Nt=it.left+(gt?pt.x:-pt.x)-(St+14-7);ot.style.left=Nt/d+"px"}tt.overlap!==!0&&b.push({left:St,top:vt,right:kt,bottom:vt+Et}),nt.classList.toggle("cm-tooltip-above",Tt),nt.classList.toggle("cm-tooltip-below",!Tt),tt.positioned&&tt.positioned(o.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let o of this.manager.tooltipViews)o.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}}),baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define({combine:o=>o.reduce((e,a)=>e.concat(a),[])});class HoverTooltipHost{static create(e){return new HoverTooltipHost(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(e,showHoverTooltip,(a,c)=>this.createHostedView(a,c),a=>a.dom.remove())}createHostedView(e,a){let c=e.create(this.view);return c.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(c.dom,a?a.dom.nextSibling:this.dom.firstChild),this.mounted&&c.mount&&c.mount(this.view),c}mount(e){for(let a of this.manager.tooltipViews)a.mount&&a.mount(e);this.mounted=!0}positioned(e){for(let a of this.manager.tooltipViews)a.positioned&&a.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let a of this.manager.tooltipViews)(e=a.destroy)===null||e===void 0||e.call(a)}passProp(e){let a;for(let c of this.manager.tooltipViews){let d=c[e];if(d!==void 0){if(a===void 0)a=d;else if(a!==d)return}}return a}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],o=>{let e=o.facet(showHoverTooltip);return e.length===0?null:{pos:Math.min(...e.map(a=>a.pos)),end:Math.max(...e.map(a=>{var c;return(c=a.end)!==null&&c!==void 0?c:a.pos})),create:HoverTooltipHost.create,above:e[0].above,arrow:e.some(a=>a.arrow)}});class HoverPlugin{constructor(e,a,c,d,g){this.view=e,this.source=a,this.field=c,this.setHover=d,this.hoverTime=g,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:a}=this,c=e.docView.nearest(a.target);if(!c)return;let d,g=1;if(c instanceof WidgetView)d=c.posAtStart;else{if(d=e.posAtCoords(a),d==null)return;let _=e.coordsAtPos(d);if(!_||a.y<_.top||a.y>_.bottom||a.x<_.left-e.defaultCharacterWidth||a.x>_.right+e.defaultCharacterWidth)return;let _e=e.bidiSpans(e.state.doc.lineAt(d)).find(nt=>nt.from<=d&&nt.to>=d),tt=_e&&_e.dir==Direction.RTL?-1:1;g=a.x<_.left?-tt:tt}let b=this.source(e,d,g);if(b!=null&&b.then){let _=this.pending={pos:d};b.then(_e=>{this.pending==_&&(this.pending=null,_e&&!(Array.isArray(_e)&&!_e.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(_e)?_e:[_e])}))},_e=>logException(e.state,_e,"hover tooltip"))}else b&&!(Array.isArray(b)&&!b.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(b)?b:[b])})}get tooltip(){let e=this.view.plugin(tooltipPlugin),a=e?e.manager.tooltips.findIndex(c=>c.create==HoverTooltipHost.create):-1;return a>-1?e.manager.tooltipViews[a]:null}mousemove(e){var a,c;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:d,tooltip:g}=this;if(d.length&&g&&!isInTooltip(g.dom,e)||this.pending){let{pos:b}=d[0]||this.pending,_=(c=(a=d[0])===null||a===void 0?void 0:a.end)!==null&&c!==void 0?c:b;(b==_?this.view.posAtCoords(this.lastMove)!=b:!isOverRange(this.view,b,_,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:a}=this;if(a.length){let{tooltip:c}=this;c&&c.dom.contains(e.relatedTarget)?this.watchTooltipLeave(c.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let a=c=>{e.removeEventListener("mouseleave",a),this.active.length&&!this.view.dom.contains(c.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",a)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(o,e){let{left:a,right:c,top:d,bottom:g}=o.getBoundingClientRect(),b;if(b=o.querySelector(".cm-tooltip-arrow")){let _=b.getBoundingClientRect();d=Math.min(_.top,d),g=Math.max(_.bottom,g)}return e.clientX>=a-tooltipMargin&&e.clientX<=c+tooltipMargin&&e.clientY>=d-tooltipMargin&&e.clientY<=g+tooltipMargin}function isOverRange(o,e,a,c,d,g){let b=o.scrollDOM.getBoundingClientRect(),_=o.documentTop+o.documentPadding.top+o.contentHeight;if(b.left>c||b.right<c||b.top>d||Math.min(b.bottom,_)<d)return!1;let _e=o.posAtCoords({x:c,y:d},!1);return _e>=e&&_e<=a}function hoverTooltip(o,e={}){let a=StateEffect.define(),c=StateField.define({create(){return[]},update(d,g){if(d.length&&(e.hideOnChange&&(g.docChanged||g.selection)?d=[]:e.hideOn&&(d=d.filter(b=>!e.hideOn(g,b))),g.docChanged)){let b=[];for(let _ of d){let _e=g.changes.mapPos(_.pos,-1,MapMode.TrackDel);if(_e!=null){let tt=Object.assign(Object.create(null),_);tt.pos=_e,tt.end!=null&&(tt.end=g.changes.mapPos(tt.end)),b.push(tt)}}d=b}for(let b of g.effects)b.is(a)&&(d=b.value),b.is(closeHoverTooltipEffect)&&(d=[]);return d},provide:d=>showHoverTooltip.from(d)});return{active:c,extension:[c,ViewPlugin.define(d=>new HoverPlugin(d,o,c,a,e.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(o,e){let a=o.plugin(tooltipPlugin);if(!a)return null;let c=a.manager.tooltips.indexOf(e);return c<0?null:a.manager.tooltipViews[c]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(o){let e,a;for(let c of o)e=e||c.topContainer,a=a||c.bottomContainer;return{topContainer:e,bottomContainer:a}}});function getPanel(o,e){let a=o.plugin(panelPlugin),c=a?a.specs.indexOf(e):-1;return c>-1?a.panels[c]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(o){this.input=o.state.facet(showPanel),this.specs=this.input.filter(a=>a),this.panels=this.specs.map(a=>a(o));let e=o.state.facet(panelConfig);this.top=new PanelGroup(o,!0,e.topContainer),this.bottom=new PanelGroup(o,!1,e.bottomContainer),this.top.sync(this.panels.filter(a=>a.top)),this.bottom.sync(this.panels.filter(a=>!a.top));for(let a of this.panels)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}update(o){let e=o.state.facet(panelConfig);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new PanelGroup(o.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(o.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let a=o.state.facet(showPanel);if(a!=this.input){let c=a.filter(_e=>_e),d=[],g=[],b=[],_=[];for(let _e of c){let tt=this.specs.indexOf(_e),nt;tt<0?(nt=_e(o.view),_.push(nt)):(nt=this.panels[tt],nt.update&&nt.update(o)),d.push(nt),(nt.top?g:b).push(nt)}this.specs=c,this.panels=d,this.top.sync(g),this.bottom.sync(b);for(let _e of _)_e.dom.classList.add("cm-panel"),_e.mount&&_e.mount()}else for(let c of this.panels)c.update&&c.update(o)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:o=>EditorView.scrollMargins.of(e=>{let a=e.plugin(o);return a&&{top:a.top.scrollMargin(),bottom:a.bottom.scrollMargin()}})});class PanelGroup{constructor(e,a,c){this.view=e,this.top=a,this.container=c,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let a of this.panels)a.destroy&&e.indexOf(a)<0&&a.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let a=this.container||this.view.dom;a.insertBefore(this.dom,this.top?a.firstChild:null)}let e=this.dom.firstChild;for(let a of this.panels)if(a.dom.parentNode==this.dom){for(;e!=a.dom;)e=rm(e);e=e.nextSibling}else this.dom.insertBefore(a.dom,e);for(;e;)e=rm(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function rm(o){let e=o.nextSibling;return o.remove(),e}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(o){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$1),o))]}const unfixGutters=Facet.define({combine:o=>o.some(e=>e)});function gutters(o){return[gutterView]}const gutterView=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.prevViewport=o.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=o.state.facet(activeGutters).map(e=>new SingleGutterView(o,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!o.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),o.scrollDOM.insertBefore(this.dom,o.contentDOM)}update(o){if(this.updateGutters(o)){let e=this.prevViewport,a=o.view.viewport,c=Math.min(e.to,a.to)-Math.max(e.from,a.from);this.syncGutters(c<(a.to-a.from)*.8)}o.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=o.view.viewport}syncGutters(o){let e=this.dom.nextSibling;o&&this.dom.remove();let a=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),c=[],d=this.gutters.map(g=>new UpdateContext(g,this.view.viewport,-this.view.documentPadding.top));for(let g of this.view.viewportLineBlocks)if(c.length&&(c=[]),Array.isArray(g.type)){let b=!0;for(let _ of g.type)if(_.type==BlockType.Text&&b){advanceCursor(a,c,_.from);for(let _e of d)_e.line(this.view,_,c);b=!1}else if(_.widget)for(let _e of d)_e.widget(this.view,_)}else if(g.type==BlockType.Text){advanceCursor(a,c,g.from);for(let b of d)b.line(this.view,g,c)}else if(g.widget)for(let b of d)b.widget(this.view,g);for(let g of d)g.finish();o&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(o){let e=o.startState.facet(activeGutters),a=o.state.facet(activeGutters),c=o.docChanged||o.heightChanged||o.viewportChanged||!RangeSet.eq(o.startState.facet(gutterLineClass),o.state.facet(gutterLineClass),o.view.viewport.from,o.view.viewport.to);if(e==a)for(let d of this.gutters)d.update(o)&&(c=!0);else{c=!0;let d=[];for(let g of a){let b=e.indexOf(g);b<0?d.push(new SingleGutterView(this.view,g)):(this.gutters[b].update(o),d.push(this.gutters[b]))}for(let g of this.gutters)g.dom.remove(),d.indexOf(g)<0&&g.destroy();for(let g of d)this.dom.appendChild(g.dom);this.gutters=d}return c}destroy(){for(let o of this.gutters)o.destroy();this.dom.remove()}},{provide:o=>EditorView.scrollMargins.of(e=>{let a=e.plugin(o);return!a||a.gutters.length==0||!a.fixed?null:e.textDirection==Direction.LTR?{left:a.dom.offsetWidth*e.scaleX}:{right:a.dom.offsetWidth*e.scaleX}})});function asArray(o){return Array.isArray(o)?o:[o]}function advanceCursor(o,e,a){for(;o.value&&o.from<=a;)o.from==a&&e.push(o.value),o.next()}class UpdateContext{constructor(e,a,c){this.gutter=e,this.height=c,this.i=0,this.cursor=RangeSet.iter(e.markers,a.from)}addElement(e,a,c){let{gutter:d}=this,g=(a.top-this.height)/e.scaleY,b=a.height/e.scaleY;if(this.i==d.elements.length){let _=new GutterElement(e,b,g,c);d.elements.push(_),d.dom.appendChild(_.dom)}else d.elements[this.i].update(e,b,g,c);this.height=a.bottom,this.i++}line(e,a,c){let d=[];advanceCursor(this.cursor,d,a.from),c.length&&(d=d.concat(c));let g=this.gutter.config.lineMarker(e,a,d);g&&d.unshift(g);let b=this.gutter;d.length==0&&!b.config.renderEmptyElements||this.addElement(e,a,d)}widget(e,a){let c=this.gutter.config.widgetMarker(e,a.widget,a),d=c?[c]:null;for(let g of e.state.facet(gutterWidgetClass)){let b=g(e,a.widget,a);b&&(d||(d=[])).push(b)}d&&this.addElement(e,a,d)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let a=e.elements.pop();e.dom.removeChild(a.dom),a.destroy()}}}class SingleGutterView{constructor(e,a){this.view=e,this.config=a,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let c in a.domEventHandlers)this.dom.addEventListener(c,d=>{let g=d.target,b;if(g!=this.dom&&this.dom.contains(g)){for(;g.parentNode!=this.dom;)g=g.parentNode;let _e=g.getBoundingClientRect();b=(_e.top+_e.bottom)/2}else b=d.clientY;let _=e.lineBlockAtHeight(b-e.documentTop);a.domEventHandlers[c](e,_,d)&&d.preventDefault()});this.markers=asArray(a.markers(e)),a.initialSpacer&&(this.spacer=new GutterElement(e,0,0,[a.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let a=this.markers;if(this.markers=asArray(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let d=this.config.updateSpacer(this.spacer.markers[0],e);d!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[d])}let c=e.view.viewport;return!RangeSet.eq(this.markers,a,c.from,c.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class GutterElement{constructor(e,a,c,d){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,a,c,d)}update(e,a,c,d){this.height!=a&&(this.height=a,this.dom.style.height=a+"px"),this.above!=c&&(this.dom.style.marginTop=(this.above=c)?c+"px":""),sameMarkers(this.markers,d)||this.setMarkers(e,d)}setMarkers(e,a){let c="cm-gutterElement",d=this.dom.firstChild;for(let g=0,b=0;;){let _=b,_e=g<a.length?a[g++]:null,tt=!1;if(_e){let nt=_e.elementClass;nt&&(c+=" "+nt);for(let it=b;it<this.markers.length;it++)if(this.markers[it].compare(_e)){_=it,tt=!0;break}}else _=this.markers.length;for(;b<_;){let nt=this.markers[b++];if(nt.toDOM){nt.destroy(d);let it=d.nextSibling;d.remove(),d=it}}if(!_e)break;_e.toDOM&&(tt?d=d.nextSibling:this.dom.insertBefore(_e.toDOM(e),d)),tt&&b++}this.dom.className=c,this.markers=a}destroy(){this.setMarkers(null,[])}}function sameMarkers(o,e){if(o.length!=e.length)return!1;for(let a=0;a<o.length;a++)if(!o[a].compare(e[a]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(o){return combineConfig(o,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,a){let c=Object.assign({},e);for(let d in a){let g=c[d],b=a[d];c[d]=g?(_,_e,tt)=>g(_,_e,tt)||b(_,_e,tt):b}return c}})}});class NumberMarker extends GutterMarker{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(o,e){return o.state.facet(lineNumberConfig).formatNumber(e,o.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],o=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(lineNumberMarkers)},lineMarker(e,a,c){return c.some(d=>d.toDOM)?null:new NumberMarker(formatNumber(e,e.state.doc.lineAt(a.from).number))},widgetMarker:(e,a,c)=>{for(let d of e.state.facet(lineNumberWidgetMarker)){let g=d(e,a,c);if(g)return g}return null},lineMarkerChange:e=>e.startState.facet(lineNumberConfig)!=e.state.facet(lineNumberConfig),initialSpacer(e){return new NumberMarker(formatNumber(e,maxLineNumber(e.state.doc.lines)))},updateSpacer(e,a){let c=formatNumber(a.view,maxLineNumber(a.view.state.doc.lines));return c==e.number?e:new NumberMarker(c)},domEventHandlers:o.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(o={}){return[lineNumberConfig.of(o),gutters(),lineNumberGutter]}function maxLineNumber(o){let e=9;for(;e<o;)e=e*10+9;return e}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],o=>{let e=[],a=-1;for(let c of o.selection.ranges){let d=o.doc.lineAt(c.head).from;d>a&&(a=d,e.push(activeLineGutterMarker.range(d)))}return RangeSet.of(e)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0,Range$1=class{constructor(e,a){this.from=e,this.to=a}};class NodeProp{constructor(e={}){this.id=nextPropID++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=NodeType.match(e)),a=>{let c=e(a);return c===void 0?null:[this,c]}}}NodeProp.closedBy=new NodeProp({deserialize:o=>o.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:o=>o.split(" ")});NodeProp.group=new NodeProp({deserialize:o=>o.split(" ")});NodeProp.isolate=new NodeProp({deserialize:o=>{if(o&&o!="rtl"&&o!="ltr"&&o!="auto")throw new RangeError("Invalid value for isolate: "+o);return o||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(e,a,c){this.tree=e,this.overlay=a,this.parser=c}static get(e){return e&&e.props&&e.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(e,a,c,d=0){this.name=e,this.props=a,this.id=c,this.flags=d}static define(e){let a=e.props&&e.props.length?Object.create(null):noProps,c=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),d=new NodeType(e.name||"",a,e.id,c);if(e.props){for(let g of e.props)if(Array.isArray(g)||(g=g(d)),g){if(g[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");a[g[0].id]=g[1]}}return d}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let a=this.prop(NodeProp.group);return a?a.indexOf(e)>-1:!1}return this.id==e}static match(e){let a=Object.create(null);for(let c in e)for(let d of c.split(" "))a[d]=e[c];return c=>{for(let d=c.prop(NodeProp.group),g=-1;g<(d?d.length:0);g++){let b=a[g<0?c.name:d[g]];if(b)return b}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(e){this.types=e;for(let a=0;a<e.length;a++)if(e[a].id!=a)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let a=[];for(let c of this.types){let d=null;for(let g of e){let b=g(c);b&&(d||(d=Object.assign({},c.props)),d[b[0].id]=b[1])}a.push(d?new NodeType(c.name,d,c.id,c.flags):c)}return new NodeSet(a)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(o){o[o.ExcludeBuffers=1]="ExcludeBuffers",o[o.IncludeAnonymous=2]="IncludeAnonymous",o[o.IgnoreMounts=4]="IgnoreMounts",o[o.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(e,a,c,d,g){if(this.type=e,this.children=a,this.positions=c,this.length=d,this.props=null,g&&g.length){this.props=Object.create(null);for(let[b,_]of g)this.props[typeof b=="number"?b:b.id]=_}}toString(){let e=MountedTree.get(this);if(e&&!e.overlay)return e.tree.toString();let a="";for(let c of this.children){let d=c.toString();d&&(a&&(a+=","),a+=d)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(a.length?"("+a+")":""):a}cursor(e=0){return new TreeCursor(this.topNode,e)}cursorAt(e,a=0,c=0){let d=CachedNode.get(this)||this.topNode,g=new TreeCursor(d);return g.moveTo(e,a),CachedNode.set(this,g._tree),g}get topNode(){return new TreeNode(this,0,0,null)}resolve(e,a=0){let c=resolveNode(CachedNode.get(this)||this.topNode,e,a,!1);return CachedNode.set(this,c),c}resolveInner(e,a=0){let c=resolveNode(CachedInnerNode.get(this)||this.topNode,e,a,!0);return CachedInnerNode.set(this,c),c}resolveStack(e,a=0){return stackIterator(this,e,a)}iterate(e){let{enter:a,leave:c,from:d=0,to:g=this.length}=e,b=e.mode||0,_=(b&IterMode.IncludeAnonymous)>0;for(let _e=this.cursor(b|IterMode.IncludeAnonymous);;){let tt=!1;if(_e.from<=g&&_e.to>=d&&(!_&&_e.type.isAnonymous||a(_e)!==!1)){if(_e.firstChild())continue;tt=!0}for(;tt&&c&&(_||!_e.type.isAnonymous)&&c(_e),!_e.nextSibling();){if(!_e.parent())return;tt=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let a in this.props)e.push([+a,this.props[a]]);return e}balance(e={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(a,c,d)=>new Tree(this.type,a,c,d,this.propValues),e.makeTree||((a,c,d)=>new Tree(NodeType.none,a,c,d)))}static build(e){return buildTree(e)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(e,a){this.buffer=e,this.index=a}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(e,a,c){this.buffer=e,this.length=a,this.set=c}get type(){return NodeType.none}toString(){let e=[];for(let a=0;a<this.buffer.length;)e.push(this.childString(a)),a=this.buffer[a+3];return e.join(",")}childString(e){let a=this.buffer[e],c=this.buffer[e+3],d=this.set.types[a],g=d.name;if(/\W/.test(g)&&!d.isError&&(g=JSON.stringify(g)),e+=4,c==e)return g;let b=[];for(;e<c;)b.push(this.childString(e)),e=this.buffer[e+3];return g+"("+b.join(",")+")"}findChild(e,a,c,d,g){let{buffer:b}=this,_=-1;for(let _e=e;_e!=a&&!(checkSide(g,d,b[_e+1],b[_e+2])&&(_=_e,c>0));_e=b[_e+3]);return _}slice(e,a,c){let d=this.buffer,g=new Uint16Array(a-e),b=0;for(let _=e,_e=0;_<a;){g[_e++]=d[_++],g[_e++]=d[_++]-c;let tt=g[_e++]=d[_++]-c;g[_e++]=d[_++]-e,b=Math.max(b,tt)}return new TreeBuffer(g,b,this.set)}}function checkSide(o,e,a,c){switch(o){case-2:return a<e;case-1:return c>=e&&a<e;case 0:return a<e&&c>e;case 1:return a<=e&&c>e;case 2:return c>e;case 4:return!0}}function resolveNode(o,e,a,c){for(var d;o.from==o.to||(a<1?o.from>=e:o.from>e)||(a>-1?o.to<=e:o.to<e);){let b=!c&&o instanceof TreeNode&&o.index<0?null:o.parent;if(!b)return o;o=b}let g=c?0:IterMode.IgnoreOverlays;if(c)for(let b=o,_=b.parent;_;b=_,_=b.parent)b instanceof TreeNode&&b.index<0&&((d=_.enter(e,a,g))===null||d===void 0?void 0:d.from)!=b.from&&(o=_);for(;;){let b=o.enter(e,a,g);if(!b)return o;o=b}}class BaseNode{cursor(e=0){return new TreeCursor(this,e)}getChild(e,a=null,c=null){let d=getChildren(this,e,a,c);return d.length?d[0]:null}getChildren(e,a=null,c=null){return getChildren(this,e,a,c)}resolve(e,a=0){return resolveNode(this,e,a,!1)}resolveInner(e,a=0){return resolveNode(this,e,a,!0)}matchContext(e){return matchNodeContext(this,e)}enterUnfinishedNodesBefore(e){let a=this.childBefore(e),c=this;for(;a;){let d=a.lastChild;if(!d||d.to!=a.to)break;d.type.isError&&d.from==d.to?(c=a,a=d.prevSibling):a=d}return c}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(e,a,c,d){super(),this._tree=e,this.from=a,this.index=c,this._parent=d}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,a,c,d,g=0){for(let b=this;;){for(let{children:_,positions:_e}=b._tree,tt=a>0?_.length:-1;e!=tt;e+=a){let nt=_[e],it=_e[e]+b.from;if(checkSide(d,c,it,it+nt.length)){if(nt instanceof TreeBuffer){if(g&IterMode.ExcludeBuffers)continue;let st=nt.findChild(0,nt.buffer.length,a,c-it,d);if(st>-1)return new BufferNode(new BufferContext(b,nt,e,it),null,st)}else if(g&IterMode.IncludeAnonymous||!nt.type.isAnonymous||hasChild(nt)){let st;if(!(g&IterMode.IgnoreMounts)&&(st=MountedTree.get(nt))&&!st.overlay)return new TreeNode(st.tree,it,e,b);let ot=new TreeNode(nt,it,e,b);return g&IterMode.IncludeAnonymous||!ot.type.isAnonymous?ot:ot.nextChild(a<0?nt.children.length-1:0,a,c,d)}}}if(g&IterMode.IncludeAnonymous||!b.type.isAnonymous||(b.index>=0?e=b.index+a:e=a<0?-1:b._parent._tree.children.length,b=b._parent,!b))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,a,c=0){let d;if(!(c&IterMode.IgnoreOverlays)&&(d=MountedTree.get(this._tree))&&d.overlay){let g=e-this.from;for(let{from:b,to:_}of d.overlay)if((a>0?b<=g:b<g)&&(a<0?_>=g:_>g))return new TreeNode(d.tree,d.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,a,c)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(o,e,a,c){let d=o.cursor(),g=[];if(!d.firstChild())return g;if(a!=null){for(let b=!1;!b;)if(b=d.type.is(a),!d.nextSibling())return g}for(;;){if(c!=null&&d.type.is(c))return g;if(d.type.is(e)&&g.push(d.node),!d.nextSibling())return c==null?g:[]}}function matchNodeContext(o,e,a=e.length-1){for(let c=o.parent;a>=0;c=c.parent){if(!c)return!1;if(!c.type.isAnonymous){if(e[a]&&e[a]!=c.name)return!1;a--}}return!0}class BufferContext{constructor(e,a,c,d){this.parent=e,this.buffer=a,this.index=c,this.start=d}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,a,c){super(),this.context=e,this._parent=a,this.index=c,this.type=e.buffer.set.types[e.buffer.buffer[c]]}child(e,a,c){let{buffer:d}=this.context,g=d.findChild(this.index+4,d.buffer[this.index+3],e,a-this.context.start,c);return g<0?null:new BufferNode(this.context,this,g)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,a,c=0){if(c&IterMode.ExcludeBuffers)return null;let{buffer:d}=this.context,g=d.findChild(this.index+4,d.buffer[this.index+3],a>0?1:-1,e-this.context.start,a);return g<0?null:new BufferNode(this.context,this,g)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,a=e.buffer[this.index+3];return a<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new BufferNode(this.context,this._parent,a):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,a=this._parent?this._parent.index+4:0;return this.index==a?this.externalSibling(-1):new BufferNode(this.context,this._parent,e.findChild(a,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],a=[],{buffer:c}=this.context,d=this.index+4,g=c.buffer[this.index+3];if(g>d){let b=c.buffer[this.index+1];e.push(c.slice(d,g,b)),a.push(0)}return new Tree(this.type,e,a,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(o){if(!o.length)return null;let e=0,a=o[0];for(let g=1;g<o.length;g++){let b=o[g];(b.from>a.from||b.to<a.to)&&(a=b,e=g)}let c=a instanceof TreeNode&&a.index<0?null:a.parent,d=o.slice();return c?d[e]=c:d.splice(e,1),new StackIterator(d,a)}class StackIterator{constructor(e,a){this.heads=e,this.node=a}get next(){return iterStack(this.heads)}}function stackIterator(o,e,a){let c=o.resolveInner(e,a),d=null;for(let g=c instanceof TreeNode?c:c.context.parent;g;g=g.parent)if(g.index<0){let b=g.parent;(d||(d=[c])).push(b.resolve(e,a)),g=b}else{let b=MountedTree.get(g.tree);if(b&&b.overlay&&b.overlay[0].from<=e&&b.overlay[b.overlay.length-1].to>=e){let _=new TreeNode(b.tree,b.overlay[0].from+g.from,-1,g);(d||(d=[c])).push(resolveNode(_,e,a,!1))}}return d?iterStack(d):c}class TreeCursor{get name(){return this.type.name}constructor(e,a=0){if(this.mode=a,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof TreeNode)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let c=e._parent;c;c=c._parent)this.stack.unshift(c.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,a){this.index=e;let{start:c,buffer:d}=this.buffer;return this.type=a||d.set.types[d.buffer[e]],this.from=c+d.buffer[e+1],this.to=c+d.buffer[e+2],!0}yield(e){return e?e instanceof TreeNode?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,a,c){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,a,c,this.mode));let{buffer:d}=this.buffer,g=d.findChild(this.index+4,d.buffer[this.index+3],e,a-this.buffer.start,c);return g<0?!1:(this.stack.push(this.index),this.yieldBuf(g))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,a,c=this.mode){return this.buffer?c&IterMode.ExcludeBuffers?!1:this.enterChild(1,e,a):this.yield(this._tree.enter(e,a,c))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:a}=this.buffer,c=this.stack.length-1;if(e<0){let d=c<0?0:this.stack[c]+4;if(this.index!=d)return this.yieldBuf(a.findChild(d,this.index,-1,0,4))}else{let d=a.buffer[this.index+3];if(d<(c<0?a.buffer.length:a.buffer[this.stack[c]+3]))return this.yieldBuf(d)}return c<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let a,c,{buffer:d}=this;if(d){if(e>0){if(this.index<d.buffer.buffer.length)return!1}else for(let g=0;g<this.index;g++)if(d.buffer.buffer[g+3]<this.index)return!1;({index:a,parent:c}=d)}else({index:a,_parent:c}=this._tree);for(;c;{index:a,_parent:c}=c)if(a>-1)for(let g=a+e,b=e<0?-1:c._tree.children.length;g!=b;g+=e){let _=c._tree.children[g];if(this.mode&IterMode.IncludeAnonymous||_ instanceof TreeBuffer||!_.type.isAnonymous||hasChild(_))return!1}return!0}move(e,a){if(a&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,a=0){for(;(this.from==this.to||(a<1?this.from>=e:this.from>e)||(a>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,a););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,a=null,c=0;if(e&&e.context==this.buffer)e:for(let d=this.index,g=this.stack.length;g>=0;){for(let b=e;b;b=b._parent)if(b.index==d){if(d==this.index)return b;a=b,c=g+1;break e}d=this.stack[--g]}for(let d=c;d<this.stack.length;d++)a=new BufferNode(this.buffer,a,this.stack[d]);return this.bufferNode=new BufferNode(this.buffer,a,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,a){for(let c=0;;){let d=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){c++;continue}this.type.isAnonymous||(d=!0)}for(;d&&a&&a(this),d=this.type.isAnonymous,!this.nextSibling();){if(!c)return;this.parent(),c--,d=!0}}}matchContext(e){if(!this.buffer)return matchNodeContext(this.node,e);let{buffer:a}=this.buffer,{types:c}=a.set;for(let d=e.length-1,g=this.stack.length-1;d>=0;g--){if(g<0)return matchNodeContext(this.node,e,d);let b=c[a.buffer[this.stack[g]]];if(!b.isAnonymous){if(e[d]&&e[d]!=b.name)return!1;d--}}return!0}}function hasChild(o){return o.children.some(e=>e instanceof TreeBuffer||!e.type.isAnonymous||hasChild(e))}function buildTree(o){var e;let{buffer:a,nodeSet:c,maxBufferLength:d=DefaultBufferLength,reused:g=[],minRepeatType:b=c.types.length}=o,_=Array.isArray(a)?new FlatBufferCursor(a,a.length):a,_e=c.types,tt=0,nt=0;function it(bt,vt,kt,Nt,en,jt){let{id:tn,start:Yt,end:pn,size:mn}=_,dn=nt;for(;mn<0;)if(_.next(),mn==-1){let wt=g[tn];kt.push(wt),Nt.push(Yt-bt);return}else if(mn==-3){tt=tn;return}else if(mn==-4){nt=tn;return}else throw new RangeError(`Unrecognized record size: ${mn}`);let On=_e[tn],hn,zt,nn=Yt-bt;if(pn-Yt<=d&&(zt=Et(_.pos-vt,en))){let wt=new Uint16Array(zt.size-zt.skip),fn=_.pos-zt.size,Sn=wt.length;for(;_.pos>fn;)Sn=pt(zt.start,wt,Sn);hn=new TreeBuffer(wt,pn-zt.start,c),nn=zt.start-bt}else{let wt=_.pos-mn;_.next();let fn=[],Sn=[],Pt=tn>=b?tn:-1,wn=0,In=pn;for(;_.pos>wt;)Pt>=0&&_.id==Pt&&_.size>=0?(_.end<=In-d&&(ht(fn,Sn,Yt,wn,_.end,In,Pt,dn),wn=fn.length,In=_.end),_.next()):jt>2500?st(Yt,wt,fn,Sn):it(Yt,wt,fn,Sn,Pt,jt+1);if(Pt>=0&&wn>0&&wn<fn.length&&ht(fn,Sn,Yt,wn,Yt,In,Pt,dn),fn.reverse(),Sn.reverse(),Pt>-1&&wn>0){let xn=ot(On);hn=balanceRange(On,fn,Sn,0,fn.length,0,pn-Yt,xn,xn)}else hn=dt(On,fn,Sn,pn-Yt,dn-pn)}kt.push(hn),Nt.push(nn)}function st(bt,vt,kt,Nt){let en=[],jt=0,tn=-1;for(;_.pos>vt;){let{id:Yt,start:pn,end:mn,size:dn}=_;if(dn>4)_.next();else{if(tn>-1&&pn<tn)break;tn<0&&(tn=mn-d),en.push(Yt,pn,mn),jt++,_.next()}}if(jt){let Yt=new Uint16Array(jt*4),pn=en[en.length-2];for(let mn=en.length-3,dn=0;mn>=0;mn-=3)Yt[dn++]=en[mn],Yt[dn++]=en[mn+1]-pn,Yt[dn++]=en[mn+2]-pn,Yt[dn++]=dn;kt.push(new TreeBuffer(Yt,en[2]-pn,c)),Nt.push(pn-bt)}}function ot(bt){return(vt,kt,Nt)=>{let en=0,jt=vt.length-1,tn,Yt;if(jt>=0&&(tn=vt[jt])instanceof Tree){if(!jt&&tn.type==bt&&tn.length==Nt)return tn;(Yt=tn.prop(NodeProp.lookAhead))&&(en=kt[jt]+tn.length+Yt)}return dt(bt,vt,kt,Nt,en)}}function ht(bt,vt,kt,Nt,en,jt,tn,Yt){let pn=[],mn=[];for(;bt.length>Nt;)pn.push(bt.pop()),mn.push(vt.pop()+kt-en);bt.push(dt(c.types[tn],pn,mn,jt-en,Yt-jt)),vt.push(en-kt)}function dt(bt,vt,kt,Nt,en=0,jt){if(tt){let tn=[NodeProp.contextHash,tt];jt=jt?[tn].concat(jt):[tn]}if(en>25){let tn=[NodeProp.lookAhead,en];jt=jt?[tn].concat(jt):[tn]}return new Tree(bt,vt,kt,Nt,jt)}function Et(bt,vt){let kt=_.fork(),Nt=0,en=0,jt=0,tn=kt.end-d,Yt={size:0,start:0,skip:0};e:for(let pn=kt.pos-bt;kt.pos>pn;){let mn=kt.size;if(kt.id==vt&&mn>=0){Yt.size=Nt,Yt.start=en,Yt.skip=jt,jt+=4,Nt+=4,kt.next();continue}let dn=kt.pos-mn;if(mn<0||dn<pn||kt.start<tn)break;let On=kt.id>=b?4:0,hn=kt.start;for(kt.next();kt.pos>dn;){if(kt.size<0)if(kt.size==-3)On+=4;else break e;else kt.id>=b&&(On+=4);kt.next()}en=hn,Nt+=mn,jt+=On}return(vt<0||Nt==bt)&&(Yt.size=Nt,Yt.start=en,Yt.skip=jt),Yt.size>4?Yt:void 0}function pt(bt,vt,kt){let{id:Nt,start:en,end:jt,size:tn}=_;if(_.next(),tn>=0&&Nt<b){let Yt=kt;if(tn>4){let pn=_.pos-(tn-4);for(;_.pos>pn;)kt=pt(bt,vt,kt)}vt[--kt]=Yt,vt[--kt]=jt-bt,vt[--kt]=en-bt,vt[--kt]=Nt}else tn==-3?tt=Nt:tn==-4&&(nt=Nt);return kt}let gt=[],St=[];for(;_.pos>0;)it(o.start||0,o.bufferStart||0,gt,St,-1,0);let Tt=(e=o.length)!==null&&e!==void 0?e:gt.length?St[0]+gt[0].length:0;return new Tree(_e[o.topID],gt.reverse(),St.reverse(),Tt)}const nodeSizeCache=new WeakMap;function nodeSize(o,e){if(!o.isAnonymous||e instanceof TreeBuffer||e.type!=o)return 1;let a=nodeSizeCache.get(e);if(a==null){a=1;for(let c of e.children){if(c.type!=o||!(c instanceof Tree)){a=1;break}a+=nodeSize(o,c)}nodeSizeCache.set(e,a)}return a}function balanceRange(o,e,a,c,d,g,b,_,_e){let tt=0;for(let ht=c;ht<d;ht++)tt+=nodeSize(o,e[ht]);let nt=Math.ceil(tt*1.5/8),it=[],st=[];function ot(ht,dt,Et,pt,gt){for(let St=Et;St<pt;){let Tt=St,bt=dt[St],vt=nodeSize(o,ht[St]);for(St++;St<pt;St++){let kt=nodeSize(o,ht[St]);if(vt+kt>=nt)break;vt+=kt}if(St==Tt+1){if(vt>nt){let kt=ht[Tt];ot(kt.children,kt.positions,0,kt.children.length,dt[Tt]+gt);continue}it.push(ht[Tt])}else{let kt=dt[St-1]+ht[St-1].length-bt;it.push(balanceRange(o,ht,dt,Tt,St,bt,kt,null,_e))}st.push(bt+gt-g)}}return ot(e,a,c,d,0),(_||_e)(it,st,b)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(e,a,c){let d=this.map.get(e);d||this.map.set(e,d=new Map),d.set(a,c)}getBuffer(e,a){let c=this.map.get(e);return c&&c.get(a)}set(e,a){e instanceof BufferNode?this.setBuffer(e.context.buffer,e.index,a):e instanceof TreeNode&&this.map.set(e.tree,a)}get(e){return e instanceof BufferNode?this.getBuffer(e.context.buffer,e.index):e instanceof TreeNode?this.map.get(e.tree):void 0}cursorSet(e,a){e.buffer?this.setBuffer(e.buffer.buffer,e.index,a):this.map.set(e.tree,a)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class TreeFragment{constructor(e,a,c,d,g=!1,b=!1){this.from=e,this.to=a,this.tree=c,this.offset=d,this.open=(g?1:0)|(b?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,a=[],c=!1){let d=[new TreeFragment(0,e.length,e,0,!1,c)];for(let g of a)g.to>e.length&&d.push(g);return d}static applyChanges(e,a,c=128){if(!a.length)return e;let d=[],g=1,b=e.length?e[0]:null;for(let _=0,_e=0,tt=0;;_++){let nt=_<a.length?a[_]:null,it=nt?nt.fromA:1e9;if(it-_e>=c)for(;b&&b.from<it;){let st=b;if(_e>=st.from||it<=st.to||tt){let ot=Math.max(st.from,_e)-tt,ht=Math.min(st.to,it)-tt;st=ot>=ht?null:new TreeFragment(ot,ht,st.tree,st.offset+tt,_>0,!!nt)}if(st&&d.push(st),b.to>it)break;b=g<e.length?e[g++]:null}if(!nt)break;_e=nt.toA,tt=nt.toA-nt.toB}return d}}let Parser$1=class{startParse(e,a,c){return typeof e=="string"&&(e=new StringInput(e)),c=c?c.length?c.map(d=>new Range$1(d.from,d.to)):[new Range$1(0,0)]:[new Range$1(0,e.length)],this.createParse(e,a||[],c)}parse(e,a,c){let d=this.startParse(e,a,c);for(;;){let g=d.advance();if(g)return g}}};class StringInput{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,a){return this.string.slice(e,a)}}function parseMixed(o){return(e,a,c,d)=>new MixedParse(e,o,a,c,d)}class InnerParse{constructor(e,a,c,d,g){this.parser=e,this.parse=a,this.overlay=c,this.target=d,this.from=g}}function checkRanges(o){if(!o.length||o.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(o))}class ActiveOverlay{constructor(e,a,c,d,g,b,_){this.parser=e,this.predicate=a,this.mounts=c,this.index=d,this.start=g,this.target=b,this.prev=_,this.depth=0,this.ranges=[]}}const stoppedInner=new NodeProp({perNode:!0});class MixedParse{constructor(e,a,c,d,g){this.nest=a,this.input=c,this.fragments=d,this.ranges=g,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let c=this.baseParse.advance();if(!c)return null;if(this.baseParse=null,this.baseTree=c,this.startInner(),this.stoppedAt!=null)for(let d of this.inner)d.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let c=this.baseTree;return this.stoppedAt!=null&&(c=new Tree(c.type,c.children,c.positions,c.length,c.propValues.concat([[stoppedInner,this.stoppedAt]]))),c}let e=this.inner[this.innerDone],a=e.parse.advance();if(a){this.innerDone++;let c=Object.assign(Object.create(null),e.target.props);c[NodeProp.mounted.id]=new MountedTree(a,e.overlay,e.parser),e.target.props=c}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let a=this.innerDone;a<this.inner.length;a++)this.inner[a].from<e&&(e=Math.min(e,this.inner[a].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let a=this.innerDone;a<this.inner.length;a++)this.inner[a].parse.stopAt(e)}startInner(){let e=new FragmentCursor$2(this.fragments),a=null,c=null,d=new TreeCursor(new TreeNode(this.baseTree,this.ranges[0].from,0,null),IterMode.IncludeAnonymous|IterMode.IgnoreMounts);e:for(let g,b;;){let _=!0,_e;if(this.stoppedAt!=null&&d.from>=this.stoppedAt)_=!1;else if(e.hasNode(d)){if(a){let tt=a.mounts.find(nt=>nt.frag.from<=d.from&&nt.frag.to>=d.to&&nt.mount.overlay);if(tt)for(let nt of tt.mount.overlay){let it=nt.from+tt.pos,st=nt.to+tt.pos;it>=d.from&&st<=d.to&&!a.ranges.some(ot=>ot.from<st&&ot.to>it)&&a.ranges.push({from:it,to:st})}}_=!1}else if(c&&(b=checkCover(c.ranges,d.from,d.to)))_=b!=2;else if(!d.type.isAnonymous&&(g=this.nest(d,this.input))&&(d.from<d.to||!g.overlay)){d.tree||materialize(d);let tt=e.findMounts(d.from,g.parser);if(typeof g.overlay=="function")a=new ActiveOverlay(g.parser,g.overlay,tt,this.inner.length,d.from,d.tree,a);else{let nt=punchRanges(this.ranges,g.overlay||(d.from<d.to?[new Range$1(d.from,d.to)]:[]));nt.length&&checkRanges(nt),(nt.length||!g.overlay)&&this.inner.push(new InnerParse(g.parser,nt.length?g.parser.startParse(this.input,enterFragments(tt,nt),nt):g.parser.startParse(""),g.overlay?g.overlay.map(it=>new Range$1(it.from-d.from,it.to-d.from)):null,d.tree,nt.length?nt[0].from:d.from)),g.overlay?nt.length&&(c={ranges:nt,depth:0,prev:c}):_=!1}}else a&&(_e=a.predicate(d))&&(_e===!0&&(_e=new Range$1(d.from,d.to)),_e.from<_e.to&&a.ranges.push(_e));if(_&&d.firstChild())a&&a.depth++,c&&c.depth++;else for(;!d.nextSibling();){if(!d.parent())break e;if(a&&!--a.depth){let tt=punchRanges(this.ranges,a.ranges);tt.length&&(checkRanges(tt),this.inner.splice(a.index,0,new InnerParse(a.parser,a.parser.startParse(this.input,enterFragments(a.mounts,tt),tt),a.ranges.map(nt=>new Range$1(nt.from-a.start,nt.to-a.start)),a.target,tt[0].from))),a=a.prev}c&&!--c.depth&&(c=c.prev)}}}}function checkCover(o,e,a){for(let c of o){if(c.from>=a)break;if(c.to>e)return c.from<=e&&c.to>=a?2:1}return 0}function sliceBuf(o,e,a,c,d,g){if(e<a){let b=o.buffer[e+1];c.push(o.slice(e,a,b)),d.push(b-g)}}function materialize(o){let{node:e}=o,a=[],c=e.context.buffer;do a.push(o.index),o.parent();while(!o.tree);let d=o.tree,g=d.children.indexOf(c),b=d.children[g],_=b.buffer,_e=[g];function tt(nt,it,st,ot,ht,dt){let Et=a[dt],pt=[],gt=[];sliceBuf(b,nt,Et,pt,gt,ot);let St=_[Et+1],Tt=_[Et+2];_e.push(pt.length);let bt=dt?tt(Et+4,_[Et+3],b.set.types[_[Et]],St,Tt-St,dt-1):e.toTree();return pt.push(bt),gt.push(St-ot),sliceBuf(b,_[Et+3],it,pt,gt,ot),new Tree(st,pt,gt,ht)}d.children[g]=tt(0,_.length,NodeType.none,0,b.length,a.length-1);for(let nt of _e){let it=o.tree.children[nt],st=o.tree.positions[nt];o.yield(new TreeNode(it,st+o.from,nt,o._tree))}}class StructureCursor{constructor(e,a){this.offset=a,this.done=!1,this.cursor=e.cursor(IterMode.IncludeAnonymous|IterMode.IgnoreMounts)}moveTo(e){let{cursor:a}=this,c=e-this.offset;for(;!this.done&&a.from<c;)a.to>=e&&a.enter(c,1,IterMode.IgnoreOverlays|IterMode.ExcludeBuffers)||a.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let a=this.cursor.tree;;){if(a==e.tree)return!0;if(a.children.length&&a.positions[0]==0&&a.children[0]instanceof Tree)a=a.children[0];else break}return!1}}let FragmentCursor$2=class{constructor(e){var a;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let c=this.curFrag=e[0];this.curTo=(a=c.tree.prop(stoppedInner))!==null&&a!==void 0?a:c.to,this.inner=new StructureCursor(c.tree,-c.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let a=this.curFrag=this.fragments[this.fragI];this.curTo=(e=a.tree.prop(stoppedInner))!==null&&e!==void 0?e:a.to,this.inner=new StructureCursor(a.tree,-a.offset)}}findMounts(e,a){var c;let d=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let g=this.inner.cursor.node;g;g=g.parent){let b=(c=g.tree)===null||c===void 0?void 0:c.prop(NodeProp.mounted);if(b&&b.parser==a)for(let _=this.fragI;_<this.fragments.length;_++){let _e=this.fragments[_];if(_e.from>=g.to)break;_e.tree==this.curFrag.tree&&d.push({frag:_e,pos:g.from-_e.offset,mount:b})}}}return d}};function punchRanges(o,e){let a=null,c=e;for(let d=1,g=0;d<o.length;d++){let b=o[d-1].to,_=o[d].from;for(;g<c.length;g++){let _e=c[g];if(_e.from>=_)break;_e.to<=b||(a||(c=a=e.slice()),_e.from<b?(a[g]=new Range$1(_e.from,b),_e.to>_&&a.splice(g+1,0,new Range$1(_,_e.to))):_e.to>_?a[g--]=new Range$1(_,_e.to):a.splice(g--,1))}}return c}function findCoverChanges(o,e,a,c){let d=0,g=0,b=!1,_=!1,_e=-1e9,tt=[];for(;;){let nt=d==o.length?1e9:b?o[d].to:o[d].from,it=g==e.length?1e9:_?e[g].to:e[g].from;if(b!=_){let st=Math.max(_e,a),ot=Math.min(nt,it,c);st<ot&&tt.push(new Range$1(st,ot))}if(_e=Math.min(nt,it),_e==1e9)break;nt==_e&&(b?(b=!1,d++):b=!0),it==_e&&(_?(_=!1,g++):_=!0)}return tt}function enterFragments(o,e){let a=[];for(let{pos:c,mount:d,frag:g}of o){let b=c+(d.overlay?d.overlay[0].from:0),_=b+d.tree.length,_e=Math.max(g.from,b),tt=Math.min(g.to,_);if(d.overlay){let nt=d.overlay.map(st=>new Range$1(st.from+c,st.to+c)),it=findCoverChanges(e,nt,_e,tt);for(let st=0,ot=_e;;st++){let ht=st==it.length,dt=ht?tt:it[st].from;if(dt>ot&&a.push(new TreeFragment(ot,dt,d.tree,-b,g.from>=ot||g.openStart,g.to<=dt||g.openEnd)),ht)break;ot=it[st].to}}else a.push(new TreeFragment(_e,tt,d.tree,-b,g.from>=b||g.openStart,g.to<=_||g.openEnd))}return a}let nextTagID=0;class Tag{constructor(e,a,c,d){this.name=e,this.set=a,this.base=c,this.modified=d,this.id=nextTagID++}toString(){let{name:e}=this;for(let a of this.modified)a.name&&(e=`${a.name}(${e})`);return e}static define(e,a){let c=typeof e=="string"?e:"?";if(e instanceof Tag&&(a=e),a!=null&&a.base)throw new Error("Can not derive from a modified tag");let d=new Tag(c,[],null,[]);if(d.set.push(d),a)for(let g of a.set)d.set.push(g);return d}static defineModifier(e){let a=new Modifier(e);return c=>c.modified.indexOf(a)>-1?c:Modifier.get(c.base||c,c.modified.concat(a).sort((d,g)=>d.id-g.id))}}let nextModifierID=0;class Modifier{constructor(e){this.name=e,this.instances=[],this.id=nextModifierID++}static get(e,a){if(!a.length)return e;let c=a[0].instances.find(_=>_.base==e&&sameArray(a,_.modified));if(c)return c;let d=[],g=new Tag(e.name,d,e,a);for(let _ of a)_.instances.push(g);let b=powerSet(a);for(let _ of e.set)if(!_.modified.length)for(let _e of b)d.push(Modifier.get(_,_e));return g}}function sameArray(o,e){return o.length==e.length&&o.every((a,c)=>a==e[c])}function powerSet(o){let e=[[]];for(let a=0;a<o.length;a++)for(let c=0,d=e.length;c<d;c++)e.push(e[c].concat(o[a]));return e.sort((a,c)=>c.length-a.length)}function styleTags(o){let e=Object.create(null);for(let a in o){let c=o[a];Array.isArray(c)||(c=[c]);for(let d of a.split(" "))if(d){let g=[],b=2,_=d;for(let it=0;;){if(_=="..."&&it>0&&it+3==d.length){b=1;break}let st=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(_);if(!st)throw new RangeError("Invalid path: "+d);if(g.push(st[0]=="*"?"":st[0][0]=='"'?JSON.parse(st[0]):st[0]),it+=st[0].length,it==d.length)break;let ot=d[it++];if(it==d.length&&ot=="!"){b=0;break}if(ot!="/")throw new RangeError("Invalid path: "+d);_=d.slice(it)}let _e=g.length-1,tt=g[_e];if(!tt)throw new RangeError("Invalid path: "+d);let nt=new Rule(c,b,_e>0?g.slice(0,_e):null);e[tt]=nt.sort(e[tt])}}return ruleNodeProp.add(e)}const ruleNodeProp=new NodeProp;class Rule{constructor(e,a,c,d){this.tags=e,this.mode=a,this.context=c,this.next=d}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(o,e){let a=Object.create(null);for(let g of o)if(!Array.isArray(g.tag))a[g.tag.id]=g.class;else for(let b of g.tag)a[b.id]=g.class;let{scope:c,all:d=null}=e||{};return{style:g=>{let b=d;for(let _ of g)for(let _e of _.set){let tt=a[_e.id];if(tt){b=b?b+" "+tt:tt;break}}return b},scope:c}}function highlightTags(o,e){let a=null;for(let c of o){let d=c.style(e);d&&(a=a?a+" "+d:d)}return a}function highlightTree(o,e,a,c=0,d=o.length){let g=new HighlightBuilder(c,Array.isArray(e)?e:[e],a);g.highlightRange(o.cursor(),c,d,"",g.highlighters),g.flush(d)}class HighlightBuilder{constructor(e,a,c){this.at=e,this.highlighters=a,this.span=c,this.class=""}startSpan(e,a){a!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=a)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,a,c,d,g){let{type:b,from:_,to:_e}=e;if(_>=c||_e<=a)return;b.isTop&&(g=this.highlighters.filter(ot=>!ot.scope||ot.scope(b)));let tt=d,nt=getStyleTags(e)||Rule.empty,it=highlightTags(g,nt.tags);if(it&&(tt&&(tt+=" "),tt+=it,nt.mode==1&&(d+=(d?" ":"")+it)),this.startSpan(Math.max(a,_),tt),nt.opaque)return;let st=e.tree&&e.tree.prop(NodeProp.mounted);if(st&&st.overlay){let ot=e.node.enter(st.overlay[0].from+_,1),ht=this.highlighters.filter(Et=>!Et.scope||Et.scope(st.tree.type)),dt=e.firstChild();for(let Et=0,pt=_;;Et++){let gt=Et<st.overlay.length?st.overlay[Et]:null,St=gt?gt.from+_:_e,Tt=Math.max(a,pt),bt=Math.min(c,St);if(Tt<bt&&dt)for(;e.from<bt&&(this.highlightRange(e,Tt,bt,d,g),this.startSpan(Math.min(bt,e.to),tt),!(e.to>=St||!e.nextSibling())););if(!gt||St>c)break;pt=gt.to+_,pt>a&&(this.highlightRange(ot.cursor(),Math.max(a,gt.from+_),Math.min(c,pt),"",ht),this.startSpan(Math.min(c,pt),tt))}dt&&e.parent()}else if(e.firstChild()){st&&(d="");do if(!(e.to<=a)){if(e.from>=c)break;this.highlightRange(e,a,c,d,g),this.startSpan(Math.min(c,e.to),tt)}while(e.nextSibling());e.parent()}}}function getStyleTags(o){let e=o.type.prop(ruleNodeProp);for(;e&&e.context&&!o.matchContext(e.context);)e=e.next;return e||null}const t=Tag.define,comment$2=t(),name$1=t(),typeName=t(name$1),propertyName=t(name$1),literal=t(),string$2=t(literal),number$1=t(literal),content$2=t(),heading$1=t(content$2),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags$1={comment:comment$2,lineComment:t(comment$2),blockComment:t(comment$2),docComment:t(comment$2),name:name$1,variableName:t(name$1),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name$1),labelName:t(name$1),namespace:t(name$1),macroName:t(name$1),literal,string:string$2,docString:t(string$2),character:t(string$2),attributeValue:t(string$2),number:number$1,integer:t(number$1),float:t(number$1),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content:content$2,heading:heading$1,heading1:t(heading$1),heading2:t(heading$1),heading3:t(heading$1),heading4:t(heading$1),heading5:t(heading$1),heading6:t(heading$1),contentSeparator:t(content$2),list:t(content$2),quote:t(content$2),emphasis:t(content$2),strong:t(content$2),link:t(content$2),monospace:t(content$2),strikethrough:t(content$2),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let o in tags$1){let e=tags$1[o];e instanceof Tag&&(e.name=o)}tagHighlighter([{tag:tags$1.link,class:"tok-link"},{tag:tags$1.heading,class:"tok-heading"},{tag:tags$1.emphasis,class:"tok-emphasis"},{tag:tags$1.strong,class:"tok-strong"},{tag:tags$1.keyword,class:"tok-keyword"},{tag:tags$1.atom,class:"tok-atom"},{tag:tags$1.bool,class:"tok-bool"},{tag:tags$1.url,class:"tok-url"},{tag:tags$1.labelName,class:"tok-labelName"},{tag:tags$1.inserted,class:"tok-inserted"},{tag:tags$1.deleted,class:"tok-deleted"},{tag:tags$1.literal,class:"tok-literal"},{tag:tags$1.string,class:"tok-string"},{tag:tags$1.number,class:"tok-number"},{tag:[tags$1.regexp,tags$1.escape,tags$1.special(tags$1.string)],class:"tok-string2"},{tag:tags$1.variableName,class:"tok-variableName"},{tag:tags$1.local(tags$1.variableName),class:"tok-variableName tok-local"},{tag:tags$1.definition(tags$1.variableName),class:"tok-variableName tok-definition"},{tag:tags$1.special(tags$1.variableName),class:"tok-variableName2"},{tag:tags$1.definition(tags$1.propertyName),class:"tok-propertyName tok-definition"},{tag:tags$1.typeName,class:"tok-typeName"},{tag:tags$1.namespace,class:"tok-namespace"},{tag:tags$1.className,class:"tok-className"},{tag:tags$1.macroName,class:"tok-macroName"},{tag:tags$1.propertyName,class:"tok-propertyName"},{tag:tags$1.operator,class:"tok-operator"},{tag:tags$1.comment,class:"tok-comment"},{tag:tags$1.meta,class:"tok-meta"},{tag:tags$1.invalid,class:"tok-invalid"},{tag:tags$1.punctuation,class:"tok-punctuation"}]);var _a$1;const languageDataProp=new NodeProp;function defineLanguageFacet(o){return Facet.define({combine:o?e=>e.concat(o):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(e,a,c=[],d=""){this.data=e,this.name=d,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=a,this.extension=[language.of(this),EditorState.languageData.of((g,b,_)=>{let _e=topNodeAt(g,b,_),tt=_e.type.prop(languageDataProp);if(!tt)return[];let nt=g.facet(tt),it=_e.type.prop(sublanguageProp);if(it){let st=_e.resolve(b-_e.from,_);for(let ot of it)if(ot.test(st,g)){let ht=g.facet(ot.facet);return ot.type=="replace"?ht:ht.concat(nt)}}return nt})].concat(c)}isActiveAt(e,a,c=-1){return topNodeAt(e,a,c).type.prop(languageDataProp)==this.data}findRegions(e){let a=e.facet(language);if((a==null?void 0:a.data)==this.data)return[{from:0,to:e.doc.length}];if(!a||!a.allowsNesting)return[];let c=[],d=(g,b)=>{if(g.prop(languageDataProp)==this.data){c.push({from:b,to:b+g.length});return}let _=g.prop(NodeProp.mounted);if(_){if(_.tree.prop(languageDataProp)==this.data){if(_.overlay)for(let _e of _.overlay)c.push({from:_e.from+b,to:_e.to+b});else c.push({from:b,to:b+g.length});return}else if(_.overlay){let _e=c.length;if(d(_.tree,_.overlay[0].from+b),c.length>_e)return}}for(let _e=0;_e<g.children.length;_e++){let tt=g.children[_e];tt instanceof Tree&&d(tt,g.positions[_e]+b)}};return d(syntaxTree(e),0),c}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(o,e,a){let c=o.facet(language),d=syntaxTree(o).topNode;if(!c||c.allowsNesting)for(let g=d;g;g=g.enter(e,a,IterMode.ExcludeBuffers))g.type.isTop&&(d=g);return d}class LRLanguage extends Language{constructor(e,a,c){super(e,a,[],c),this.parser=a}static define(e){let a=defineLanguageFacet(e.languageData);return new LRLanguage(a,e.parser.configure({props:[languageDataProp.add(c=>c.isTop?a:void 0)]}),e.name)}configure(e,a){return new LRLanguage(this.data,this.parser.configure(e),a||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(o){let e=o.field(Language.state,!1);return e?e.tree:Tree.empty}class DocInput{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,a){let c=this.cursorPos-this.string.length;return e<c||a>=this.cursorPos?this.doc.sliceString(e,a):this.string.slice(e-c,a-c)}}let currentContext=null;class ParseContext{constructor(e,a,c=[],d,g,b,_,_e){this.parser=e,this.state=a,this.fragments=c,this.tree=d,this.treeLen=g,this.viewport=b,this.skipped=_,this.scheduleOn=_e,this.parse=null,this.tempSkipped=[]}static create(e,a,c){return new ParseContext(e,a,[],Tree.empty,0,c,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(e,a){return a!=null&&a>=this.state.doc.length&&(a=void 0),this.tree!=Tree.empty&&this.isDone(a??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var c;if(typeof e=="number"){let d=Date.now()+e;e=()=>Date.now()>d}for(this.parse||(this.parse=this.startParse()),a!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>a)&&a<this.state.doc.length&&this.parse.stopAt(a);;){let d=this.parse.advance();if(d)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(d,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(c=this.parse.stoppedAt)!==null&&c!==void 0?c:this.state.doc.length,this.tree=d,this.parse=null,this.treeLen<(a??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,a;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(a=this.parse.advance()););}),this.treeLen=e,this.tree=a,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let a=currentContext;currentContext=this;try{return e()}finally{currentContext=a}}withoutTempSkipped(e){for(let a;a=this.tempSkipped.pop();)e=cutFragments(e,a.from,a.to);return e}changes(e,a){let{fragments:c,tree:d,treeLen:g,viewport:b,skipped:_}=this;if(this.takeTree(),!e.empty){let _e=[];if(e.iterChangedRanges((tt,nt,it,st)=>_e.push({fromA:tt,toA:nt,fromB:it,toB:st})),c=TreeFragment.applyChanges(c,_e),d=Tree.empty,g=0,b={from:e.mapPos(b.from,-1),to:e.mapPos(b.to,1)},this.skipped.length){_=[];for(let tt of this.skipped){let nt=e.mapPos(tt.from,1),it=e.mapPos(tt.to,-1);nt<it&&_.push({from:nt,to:it})}}}return new ParseContext(this.parser,a,c,d,g,b,_,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let a=this.skipped.length;for(let c=0;c<this.skipped.length;c++){let{from:d,to:g}=this.skipped[c];d<e.to&&g>e.from&&(this.fragments=cutFragments(this.fragments,d,g),this.skipped.splice(c--,1))}return this.skipped.length>=a?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,a){this.skipped.push({from:e,to:a})}static getSkippingParser(e){return new class extends Parser$1{createParse(a,c,d){let g=d[0].from,b=d[d.length-1].to;return{parsedPos:g,advance(){let _e=currentContext;if(_e){for(let tt of d)_e.tempSkipped.push(tt);e&&(_e.scheduleOn=_e.scheduleOn?Promise.all([_e.scheduleOn,e]):e)}return this.parsedPos=b,new Tree(NodeType.none,[],[],b-g)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let a=this.fragments;return this.treeLen>=e&&a.length&&a[0].from==0&&a[0].to>=e}static get(){return currentContext}}function cutFragments(o,e,a){return TreeFragment.applyChanges(o,[{fromA:e,toA:a,fromB:e,toB:a}])}class LanguageState{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let a=this.context.changes(e.changes,e.state),c=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),a.viewport.to);return a.work(20,c)||a.takeTree(),new LanguageState(a)}static init(e){let a=Math.min(3e3,e.doc.length),c=ParseContext.create(e.facet(language).parser,e,{from:0,to:a});return c.work(20,a)||c.takeTree(),new LanguageState(c)}}Language.state=StateField.define({create:LanguageState.init,update(o,e){for(let a of e.effects)if(a.is(Language.setState))return a.value;return e.startState.facet(language)!=e.state.facet(language)?LanguageState.init(e.state):o.apply(e)}});let requestIdle=o=>{let e=setTimeout(()=>o(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(requestIdle=o=>{let e=-1,a=setTimeout(()=>{e=requestIdleCallback(o,{timeout:400})},100);return()=>e<0?clearTimeout(a):cancelIdleCallback(e)});const isInputPending=typeof navigator<"u"&&(!((_a$1=navigator.scheduling)===null||_a$1===void 0)&&_a$1.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let a=this.view.state.field(Language.state).context;(a.updateViewport(e.view.viewport)||this.view.viewport.to>a.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(a)}scheduleWork(){if(this.working)return;let{state:e}=this.view,a=e.field(Language.state);(a.tree!=a.context.tree||!a.context.isDone(e.doc.length))&&(this.working=requestIdle(this.work))}work(e){this.working=null;let a=Date.now();if(this.chunkEnd<a&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=a+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:c,viewport:{to:d}}=this.view,g=c.field(Language.state);if(g.tree==g.context.tree&&g.context.isDone(d+1e5))return;let b=Date.now()+Math.min(this.chunkBudget,100,e&&!isInputPending?Math.max(25,e.timeRemaining()-5):1e9),_=g.context.treeLen<d&&c.doc.length>d+1e3,_e=g.context.work(()=>isInputPending&&isInputPending()||Date.now()>b,d+(_?0:1e5));this.chunkBudget-=Date.now()-a,(_e||this.chunkBudget<=0)&&(g.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(g.context))})),this.chunkBudget>0&&!(_e&&!_)&&this.scheduleWork(),this.checkAsyncSchedule(g.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(a=>logException(this.view.state,a)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(o){return o.length?o[0]:null},enables:o=>[Language.state,parseWorker,EditorView.contentAttributes.compute([o],e=>{let a=e.facet(o);return a&&a.name?{"data-language":a.name}:{}})]});class LanguageSupport{constructor(e,a=[]){this.language=e,this.support=a,this.extension=[e,a]}}class LanguageDescription{constructor(e,a,c,d,g,b=void 0){this.name=e,this.alias=a,this.extensions=c,this.filename=d,this.loadFunc=g,this.support=b,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:a,support:c}=e;if(!a){if(!c)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");a=()=>Promise.resolve(c)}return new LanguageDescription(e.name,(e.alias||[]).concat(e.name).map(d=>d.toLowerCase()),e.extensions||[],e.filename,a,c)}static matchFilename(e,a){for(let d of e)if(d.filename&&d.filename.test(a))return d;let c=/\.([^.]+)$/.exec(a);if(c){for(let d of e)if(d.extensions.indexOf(c[1])>-1)return d}return null}static matchLanguageName(e,a,c=!0){a=a.toLowerCase();for(let d of e)if(d.alias.some(g=>g==a))return d;if(c)for(let d of e)for(let g of d.alias){let b=a.indexOf(g);if(b>-1&&(g.length>2||!/\w/.test(a[b-1])&&!/\w/.test(a[b+g.length])))return d}return null}}const indentService=Facet.define(),indentUnit=Facet.define({combine:o=>{if(!o.length)return"  ";let e=o[0];if(!e||/\S/.test(e)||Array.from(e).some(a=>a!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(o[0]));return e}});function getIndentUnit(o){let e=o.facet(indentUnit);return e.charCodeAt(0)==9?o.tabSize*e.length:e.length}function indentString(o,e){let a="",c=o.tabSize,d=o.facet(indentUnit)[0];if(d=="	"){for(;e>=c;)a+="	",e-=c;d=" "}for(let g=0;g<e;g++)a+=d;return a}function getIndentation(o,e){o instanceof EditorState&&(o=new IndentContext(o));for(let c of o.state.facet(indentService)){let d=c(o,e);if(d!==void 0)return d}let a=syntaxTree(o.state);return a.length>=e?syntaxIndentation(o,a,e):null}class IndentContext{constructor(e,a={}){this.state=e,this.options=a,this.unit=getIndentUnit(e)}lineAt(e,a=1){let c=this.state.doc.lineAt(e),{simulateBreak:d,simulateDoubleBreak:g}=this.options;return d!=null&&d>=c.from&&d<=c.to?g&&d==e?{text:"",from:e}:(a<0?d<e:d<=e)?{text:c.text.slice(d-c.from),from:d}:{text:c.text.slice(0,d-c.from),from:c.from}:c}textAfterPos(e,a=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:c,from:d}=this.lineAt(e,a);return c.slice(e-d,Math.min(c.length,e+100-d))}column(e,a=1){let{text:c,from:d}=this.lineAt(e,a),g=this.countColumn(c,e-d),b=this.options.overrideIndentation?this.options.overrideIndentation(d):-1;return b>-1&&(g+=b-this.countColumn(c,c.search(/\S|$/))),g}countColumn(e,a=e.length){return countColumn(e,this.state.tabSize,a)}lineIndent(e,a=1){let{text:c,from:d}=this.lineAt(e,a),g=this.options.overrideIndentation;if(g){let b=g(d);if(b>-1)return b}return this.countColumn(c,c.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(o,e,a){let c=e.resolveStack(a),d=c.node.enterUnfinishedNodesBefore(a);if(d!=c.node){let g=[];for(let b=d;b!=c.node;b=b.parent)g.push(b);for(let b=g.length-1;b>=0;b--)c={node:g[b],next:c}}return indentFor(c,o,a)}function indentFor(o,e,a){for(let c=o;c;c=c.next){let d=indentStrategy(c.node);if(d)return d(TreeIndentContext.create(e,a,c))}return 0}function ignoreClosed(o){return o.pos==o.options.simulateBreak&&o.options.simulateDoubleBreak}function indentStrategy(o){let e=o.type.prop(indentNodeProp);if(e)return e;let a=o.firstChild,c;if(a&&(c=a.type.prop(NodeProp.closedBy))){let d=o.lastChild,g=d&&c.indexOf(d.name)>-1;return b=>delimitedStrategy(b,!0,1,void 0,g&&!ignoreClosed(b)?d.from:void 0)}return o.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(e,a,c){super(e.state,e.options),this.base=e,this.pos=a,this.context=c}get node(){return this.context.node}static create(e,a,c){return new TreeIndentContext(e,a,c)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let a=this.state.doc.lineAt(e.from);for(;;){let c=e.resolve(a.from);for(;c.parent&&c.parent.from==c.from;)c=c.parent;if(isParent(c,e))break;a=this.state.doc.lineAt(c.from)}return this.lineIndent(a.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(o,e){for(let a=e;a;a=a.parent)if(o==a)return!0;return!1}function bracketedAligned(o){let e=o.node,a=e.childAfter(e.from),c=e.lastChild;if(!a)return null;let d=o.options.simulateBreak,g=o.state.doc.lineAt(a.from),b=d==null||d<=g.from?g.to:Math.min(g.to,d);for(let _=a.to;;){let _e=e.childAfter(_);if(!_e||_e==c)return null;if(!_e.type.isSkipped){if(_e.from>=b)return null;let tt=/^ */.exec(g.text.slice(a.to-g.from))[0].length;return{from:a.from,to:a.to+tt}}_=_e.to}}function delimitedIndent({closing:o,align:e=!0,units:a=1}){return c=>delimitedStrategy(c,e,a,o)}function delimitedStrategy(o,e,a,c,d){let g=o.textAfter,b=g.match(/^\s*/)[0].length,_=c&&g.slice(b,b+c.length)==c||d==o.pos+b,_e=e?bracketedAligned(o):null;return _e?_?o.column(_e.from):o.column(_e.to):o.baseIndent+(_?0:o.unit*a)}const flatIndent=o=>o.baseIndent;function continuedIndent({except:o,units:e=1}={}){return a=>{let c=o&&o.test(a.textAfter);return a.baseIndent+(c?0:e*a.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(o=>{if(!o.docChanged||!o.isUserEvent("input.type")&&!o.isUserEvent("input.complete"))return o;let e=o.startState.languageDataAt("indentOnInput",o.startState.selection.main.head);if(!e.length)return o;let a=o.newDoc,{head:c}=o.newSelection.main,d=a.lineAt(c);if(c>d.from+DontIndentBeyond)return o;let g=a.sliceString(d.from,c);if(!e.some(tt=>tt.test(g)))return o;let{state:b}=o,_=-1,_e=[];for(let{head:tt}of b.selection.ranges){let nt=b.doc.lineAt(tt);if(nt.from==_)continue;_=nt.from;let it=getIndentation(b,nt.from);if(it==null)continue;let st=/^\s*/.exec(nt.text)[0],ot=indentString(b,it);st!=ot&&_e.push({from:nt.from,to:nt.from+st.length,insert:ot})}return _e.length?[o,{changes:_e,sequential:!0}]:o})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(o){let e=o.firstChild,a=o.lastChild;return e&&e.to<a.from?{from:e.to,to:a.type.isError?o.to:a.from}:null}function syntaxFolding(o,e,a){let c=syntaxTree(o);if(c.length<a)return null;let d=c.resolveStack(a,1),g=null;for(let b=d;b;b=b.next){let _=b.node;if(_.to<=a||_.from>a)continue;if(g&&_.from<e)break;let _e=_.type.prop(foldNodeProp);if(_e&&(_.to<c.length-50||c.length==o.doc.length||!isUnfinished(_))){let tt=_e(_,o);tt&&tt.from<=a&&tt.from>=e&&tt.to>a&&(g=tt)}}return g}function isUnfinished(o){let e=o.lastChild;return e&&e.to==o.to&&e.type.isError}function foldable(o,e,a){for(let c of o.facet(foldService)){let d=c(o,e,a);if(d)return d}return syntaxFolding(o,e,a)}function mapRange(o,e){let a=e.mapPos(o.from,1),c=e.mapPos(o.to,-1);return a>=c?void 0:{from:a,to:c}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(o){let e=[];for(let{head:a}of o.state.selection.ranges)e.some(c=>c.from<=a&&c.to>=a)||e.push(o.lineBlockAt(a));return e}const foldState=StateField.define({create(){return Decoration.none},update(o,e){o=o.map(e.changes);for(let a of e.effects)if(a.is(foldEffect)&&!foldExists(o,a.value.from,a.value.to)){let{preparePlaceholder:c}=e.state.facet(foldConfig),d=c?Decoration.replace({widget:new PreparedFoldWidget(c(e.state,a.value))}):foldWidget;o=o.update({add:[d.range(a.value.from,a.value.to)]})}else a.is(unfoldEffect)&&(o=o.update({filter:(c,d)=>a.value.from!=c||a.value.to!=d,filterFrom:a.value.from,filterTo:a.value.to}));if(e.selection){let a=!1,{head:c}=e.selection.main;o.between(c,c,(d,g)=>{d<c&&g>c&&(a=!0)}),a&&(o=o.update({filterFrom:c,filterTo:c,filter:(d,g)=>g<=c||d>=c}))}return o},provide:o=>EditorView.decorations.from(o),toJSON(o,e){let a=[];return o.between(0,e.doc.length,(c,d)=>{a.push(c,d)}),a},fromJSON(o){if(!Array.isArray(o)||o.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let a=0;a<o.length;){let c=o[a++],d=o[a++];if(typeof c!="number"||typeof d!="number")throw new RangeError("Invalid JSON for fold state");e.push(foldWidget.range(c,d))}return Decoration.set(e,!0)}});function findFold(o,e,a){var c;let d=null;return(c=o.field(foldState,!1))===null||c===void 0||c.between(e,a,(g,b)=>{(!d||d.from>g)&&(d={from:g,to:b})}),d}function foldExists(o,e,a){let c=!1;return o.between(e,e,(d,g)=>{d==e&&g==a&&(c=!0)}),c}function maybeEnable(o,e){return o.field(foldState,!1)?e:e.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=o=>{for(let e of selectedLines(o)){let a=foldable(o.state,e.from,e.to);if(a)return o.dispatch({effects:maybeEnable(o.state,[foldEffect.of(a),announceFold(o,a)])}),!0}return!1},unfoldCode=o=>{if(!o.state.field(foldState,!1))return!1;let e=[];for(let a of selectedLines(o)){let c=findFold(o.state,a.from,a.to);c&&e.push(unfoldEffect.of(c),announceFold(o,c,!1))}return e.length&&o.dispatch({effects:e}),e.length>0};function announceFold(o,e,a=!0){let c=o.state.doc.lineAt(e.from).number,d=o.state.doc.lineAt(e.to).number;return EditorView.announce.of(`${o.state.phrase(a?"Folded lines":"Unfolded lines")} ${c} ${o.state.phrase("to")} ${d}.`)}const foldAll=o=>{let{state:e}=o,a=[];for(let c=0;c<e.doc.length;){let d=o.lineBlockAt(c),g=foldable(e,d.from,d.to);g&&a.push(foldEffect.of(g)),c=(g?o.lineBlockAt(g.to):d).to+1}return a.length&&o.dispatch({effects:maybeEnable(o.state,a)}),!!a.length},unfoldAll=o=>{let e=o.state.field(foldState,!1);if(!e||!e.size)return!1;let a=[];return e.between(0,o.state.doc.length,(c,d)=>{a.push(unfoldEffect.of({from:c,to:d}))}),o.dispatch({effects:a}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},foldConfig=Facet.define({combine(o){return combineConfig(o,defaultConfig)}});function codeFolding(o){return[foldState,baseTheme$1$2]}function widgetToDOM(o,e){let{state:a}=o,c=a.facet(foldConfig),d=b=>{let _=o.lineBlockAt(o.posAtDOM(b.target)),_e=findFold(o.state,_.from,_.to);_e&&o.dispatch({effects:unfoldEffect.of(_e)}),b.preventDefault()};if(c.placeholderDOM)return c.placeholderDOM(o,d,e);let g=document.createElement("span");return g.textContent=c.placeholderText,g.setAttribute("aria-label",a.phrase("folded code")),g.title=a.phrase("unfold"),g.className="cm-foldPlaceholder",g.onclick=d,g}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(o){return widgetToDOM(o,null)}}});class PreparedFoldWidget extends WidgetType{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return widgetToDOM(e,this.value)}}const foldGutterDefaults={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(e,a){super(),this.config=e,this.open=a}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let a=document.createElement("span");return a.textContent=this.open?this.config.openText:this.config.closedText,a.title=e.state.phrase(this.open?"Fold line":"Unfold line"),a}}function foldGutter(o={}){let e=Object.assign(Object.assign({},foldGutterDefaults),o),a=new FoldMarker(e,!0),c=new FoldMarker(e,!1),d=ViewPlugin.fromClass(class{constructor(b){this.from=b.viewport.from,this.markers=this.buildMarkers(b)}update(b){(b.docChanged||b.viewportChanged||b.startState.facet(language)!=b.state.facet(language)||b.startState.field(foldState,!1)!=b.state.field(foldState,!1)||syntaxTree(b.startState)!=syntaxTree(b.state)||e.foldingChanged(b))&&(this.markers=this.buildMarkers(b.view))}buildMarkers(b){let _=new RangeSetBuilder;for(let _e of b.viewportLineBlocks){let tt=findFold(b.state,_e.from,_e.to)?c:foldable(b.state,_e.from,_e.to)?a:null;tt&&_.add(_e.from,_e.from,tt)}return _.finish()}}),{domEventHandlers:g}=e;return[d,gutter({class:"cm-foldGutter",markers(b){var _;return((_=b.plugin(d))===null||_===void 0?void 0:_.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(e,!1)},domEventHandlers:Object.assign(Object.assign({},g),{click:(b,_,_e)=>{if(g.click&&g.click(b,_,_e))return!0;let tt=findFold(b.state,_.from,_.to);if(tt)return b.dispatch({effects:unfoldEffect.of(tt)}),!0;let nt=foldable(b.state,_.from,_.to);return nt?(b.dispatch({effects:foldEffect.of(nt)}),!0):!1}})}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(e,a){this.specs=e;let c;function d(_){let _e=StyleModule.newName();return(c||(c=Object.create(null)))["."+_e]=_,_e}const g=typeof a.all=="string"?a.all:a.all?d(a.all):void 0,b=a.scope;this.scope=b instanceof Language?_=>_.prop(languageDataProp)==b.data:b?_=>_==b:void 0,this.style=tagHighlighter(e.map(_=>({tag:_.tag,class:_.class||d(Object.assign({},_,{tag:null}))})),{all:g}).style,this.module=c?new StyleModule(c):null,this.themeType=a.themeType}static define(e,a){return new HighlightStyle(e,a||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(o){return o.length?[o[0]]:null}});function getHighlighters(o){let e=o.facet(highlighterFacet);return e.length?e:o.facet(fallbackHighlighter)}function syntaxHighlighting(o,e){let a=[treeHighlighter],c;return o instanceof HighlightStyle&&(o.module&&a.push(EditorView.styleModule.of(o.module)),c=o.themeType),e!=null&&e.fallback?a.push(fallbackHighlighter.of(o)):c?a.push(highlighterFacet.computeN([EditorView.darkTheme],d=>d.facet(EditorView.darkTheme)==(c=="dark")?[o]:[])):a.push(highlighterFacet.of(o)),a}class TreeHighlighter{constructor(e){this.markCache=Object.create(null),this.tree=syntaxTree(e.state),this.decorations=this.buildDeco(e,getHighlighters(e.state)),this.decoratedTo=e.viewport.to}update(e){let a=syntaxTree(e.state),c=getHighlighters(e.state),d=c!=getHighlighters(e.startState),{viewport:g}=e.view,b=e.changes.mapPos(this.decoratedTo,1);a.length<g.to&&!d&&a.type==this.tree.type&&b>=g.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=b):(a!=this.tree||e.viewportChanged||d)&&(this.tree=a,this.decorations=this.buildDeco(e.view,c),this.decoratedTo=g.to)}buildDeco(e,a){if(!a||!this.tree.length)return Decoration.none;let c=new RangeSetBuilder;for(let{from:d,to:g}of e.visibleRanges)highlightTree(this.tree,a,(b,_,_e)=>{c.add(b,_,this.markCache[_e]||(this.markCache[_e]=Decoration.mark({class:_e})))},d,g);return c.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:o=>o.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags$1.meta,color:"#404740"},{tag:tags$1.link,textDecoration:"underline"},{tag:tags$1.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags$1.emphasis,fontStyle:"italic"},{tag:tags$1.strong,fontWeight:"bold"},{tag:tags$1.strikethrough,textDecoration:"line-through"},{tag:tags$1.keyword,color:"#708"},{tag:[tags$1.atom,tags$1.bool,tags$1.url,tags$1.contentSeparator,tags$1.labelName],color:"#219"},{tag:[tags$1.literal,tags$1.inserted],color:"#164"},{tag:[tags$1.string,tags$1.deleted],color:"#a11"},{tag:[tags$1.regexp,tags$1.escape,tags$1.special(tags$1.string)],color:"#e40"},{tag:tags$1.definition(tags$1.variableName),color:"#00f"},{tag:tags$1.local(tags$1.variableName),color:"#30a"},{tag:[tags$1.typeName,tags$1.namespace],color:"#085"},{tag:tags$1.className,color:"#167"},{tag:[tags$1.special(tags$1.variableName),tags$1.macroName],color:"#256"},{tag:tags$1.definition(tags$1.propertyName),color:"#00c"},{tag:tags$1.comment,color:"#940"},{tag:tags$1.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(o){return combineConfig(o,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(o){let e=[],a=o.matched?matchingMark:nonmatchingMark;return e.push(a.range(o.start.from,o.start.to)),o.end&&e.push(a.range(o.end.from,o.end.to)),e}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(o,e){if(!e.docChanged&&!e.selection)return o;let a=[],c=e.state.facet(bracketMatchingConfig);for(let d of e.state.selection.ranges){if(!d.empty)continue;let g=matchBrackets(e.state,d.head,-1,c)||d.head>0&&matchBrackets(e.state,d.head-1,1,c)||c.afterCursor&&(matchBrackets(e.state,d.head,1,c)||d.head<e.state.doc.length&&matchBrackets(e.state,d.head+1,-1,c));g&&(a=a.concat(c.renderMatch(g,e.state)))}return Decoration.set(a,!0)},provide:o=>EditorView.decorations.from(o)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(o={}){return[bracketMatchingConfig.of(o),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(o,e,a){let c=o.prop(e<0?NodeProp.openedBy:NodeProp.closedBy);if(c)return c;if(o.name.length==1){let d=a.indexOf(o.name);if(d>-1&&d%2==(e<0?1:0))return[a[d+e]]}return null}function findHandle(o){let e=o.type.prop(bracketMatchingHandle);return e?e(o.node):o}function matchBrackets(o,e,a,c={}){let d=c.maxScanDistance||DefaultScanDist,g=c.brackets||DefaultBrackets,b=syntaxTree(o),_=b.resolveInner(e,a);for(let _e=_;_e;_e=_e.parent){let tt=matchingNodes(_e.type,a,g);if(tt&&_e.from<_e.to){let nt=findHandle(_e);if(nt&&(a>0?e>=nt.from&&e<nt.to:e>nt.from&&e<=nt.to))return matchMarkedBrackets(o,e,a,_e,nt,tt,g)}}return matchPlainBrackets(o,e,a,b,_.type,d,g)}function matchMarkedBrackets(o,e,a,c,d,g,b){let _=c.parent,_e={from:d.from,to:d.to},tt=0,nt=_==null?void 0:_.cursor();if(nt&&(a<0?nt.childBefore(c.from):nt.childAfter(c.to)))do if(a<0?nt.to<=c.from:nt.from>=c.to){if(tt==0&&g.indexOf(nt.type.name)>-1&&nt.from<nt.to){let it=findHandle(nt);return{start:_e,end:it?{from:it.from,to:it.to}:void 0,matched:!0}}else if(matchingNodes(nt.type,a,b))tt++;else if(matchingNodes(nt.type,-a,b)){if(tt==0){let it=findHandle(nt);return{start:_e,end:it&&it.from<it.to?{from:it.from,to:it.to}:void 0,matched:!1}}tt--}}while(a<0?nt.prevSibling():nt.nextSibling());return{start:_e,matched:!1}}function matchPlainBrackets(o,e,a,c,d,g,b){let _=a<0?o.sliceDoc(e-1,e):o.sliceDoc(e,e+1),_e=b.indexOf(_);if(_e<0||_e%2==0!=a>0)return null;let tt={from:a<0?e-1:e,to:a>0?e+1:e},nt=o.doc.iterRange(e,a>0?o.doc.length:0),it=0;for(let st=0;!nt.next().done&&st<=g;){let ot=nt.value;a<0&&(st+=ot.length);let ht=e+st*a;for(let dt=a>0?0:ot.length-1,Et=a>0?ot.length:-1;dt!=Et;dt+=a){let pt=b.indexOf(ot[dt]);if(!(pt<0||c.resolveInner(ht+dt,1).type!=d))if(pt%2==0==a>0)it++;else{if(it==1)return{start:tt,end:{from:ht+dt,to:ht+dt+1},matched:pt>>1==_e>>1};it--}}a>0&&(st+=ot.length)}return nt.done?{start:tt,matched:!1}:null}function countCol(o,e,a,c=0,d=0){e==null&&(e=o.search(/[^\s\u00a0]/),e==-1&&(e=o.length));let g=d;for(let b=c;b<e;b++)o.charCodeAt(b)==9?g+=a-g%a:g++;return g}class StringStream{constructor(e,a,c,d){this.string=e,this.tabSize=a,this.indentUnit=c,this.overrideIndent=d,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let a=this.string.charAt(this.pos),c;if(typeof e=="string"?c=a==e:c=a&&(e instanceof RegExp?e.test(a):e(a)),c)return++this.pos,a}eatWhile(e){let a=this.pos;for(;this.eat(e););return this.pos>a}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let a=this.string.indexOf(e,this.pos);if(a>-1)return this.pos=a,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countCol(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:countCol(this.string,null,this.tabSize)}match(e,a,c){if(typeof e=="string"){let d=b=>c?b.toLowerCase():b,g=this.string.substr(this.pos,e.length);return d(g)==d(e)?(a!==!1&&(this.pos+=e.length),!0):null}else{let d=this.string.slice(this.pos).match(e);return d&&d.index>0?null:(d&&a!==!1&&(this.pos+=d[0].length),d)}}current(){return this.string.slice(this.start,this.pos)}}function fullParser(o){return{name:o.name||"",token:o.token,blankLine:o.blankLine||(()=>{}),startState:o.startState||(()=>!0),copyState:o.copyState||defaultCopyState,indent:o.indent||(()=>null),languageData:o.languageData||{},tokenTable:o.tokenTable||noTokens}}function defaultCopyState(o){if(typeof o!="object")return o;let e={};for(let a in o){let c=o[a];e[a]=c instanceof Array?c.slice():c}return e}const IndentedFrom=new WeakMap;class StreamLanguage extends Language{constructor(e){let a=defineLanguageFacet(e.languageData),c=fullParser(e),d,g=new class extends Parser$1{createParse(b,_,_e){return new Parse$1(d,b,_,_e)}};super(a,g,[indentService.of((b,_)=>this.getIndent(b,_))],e.name),this.topNode=docID(a),d=this,this.streamParser=c,this.stateAfter=new NodeProp({perNode:!0}),this.tokenTable=e.tokenTable?new TokenTable(c.tokenTable):defaultTokenTable}static define(e){return new StreamLanguage(e)}getIndent(e,a){let c=syntaxTree(e.state),d=c.resolve(a);for(;d&&d.type!=this.topNode;)d=d.parent;if(!d)return null;let g,{overrideIndentation:b}=e.options;b&&(g=IndentedFrom.get(e.state),g!=null&&g<a-1e4&&(g=void 0));let _=findState(this,c,0,d.from,g??a),_e,tt;if(_?(tt=_.state,_e=_.pos+1):(tt=this.streamParser.startState(e.unit),_e=0),a-_e>1e4)return null;for(;_e<a;){let it=e.state.doc.lineAt(_e),st=Math.min(a,it.to);if(it.length){let ot=b?b(it.from):-1,ht=new StringStream(it.text,e.state.tabSize,e.unit,ot<0?void 0:ot);for(;ht.pos<st-it.from;)readToken$1(this.streamParser.token,ht,tt)}else this.streamParser.blankLine(tt,e.unit);if(st==a)break;_e=it.to+1}let nt=e.lineAt(a);return b&&g==null&&IndentedFrom.set(e.state,nt.from),this.streamParser.indent(tt,/^\s*(.*)/.exec(nt.text)[1],e)}get allowsNesting(){return!1}}function findState(o,e,a,c,d){let g=a>=c&&a+e.length<=d&&e.prop(o.stateAfter);if(g)return{state:o.streamParser.copyState(g),pos:a+e.length};for(let b=e.children.length-1;b>=0;b--){let _=e.children[b],_e=a+e.positions[b],tt=_ instanceof Tree&&_e<d&&findState(o,_,_e,c,d);if(tt)return tt}return null}function cutTree(o,e,a,c,d){if(d&&a<=0&&c>=e.length)return e;!d&&e.type==o.topNode&&(d=!0);for(let g=e.children.length-1;g>=0;g--){let b=e.positions[g],_=e.children[g],_e;if(b<c&&_ instanceof Tree){if(!(_e=cutTree(o,_,a-b,c-b,d)))break;return d?new Tree(e.type,e.children.slice(0,g).concat(_e),e.positions.slice(0,g+1),b+_e.length):_e}}return null}function findStartInFragments(o,e,a,c){for(let d of e){let g=d.from+(d.openStart?25:0),b=d.to-(d.openEnd?25:0),_=g<=a&&b>a&&findState(o,d.tree,0-d.offset,a,b),_e;if(_&&(_e=cutTree(o,d.tree,a+d.offset,_.pos+d.offset,!1)))return{state:_.state,tree:_e}}return{state:o.streamParser.startState(c?getIndentUnit(c):4),tree:Tree.empty}}let Parse$1=class{constructor(e,a,c,d){this.lang=e,this.input=a,this.fragments=c,this.ranges=d,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=d[d.length-1].to;let g=ParseContext.get(),b=d[0].from,{state:_,tree:_e}=findStartInFragments(e,c,b,g==null?void 0:g.state);this.state=_,this.parsedPos=this.chunkStart=b+_e.length;for(let tt=0;tt<_e.children.length;tt++)this.chunks.push(_e.children[tt]),this.chunkPos.push(_e.positions[tt]);g&&this.parsedPos<g.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(getIndentUnit(g.state)),g.skipUntilInView(this.parsedPos,g.viewport.from),this.parsedPos=g.viewport.from),this.moveRangeIndex()}advance(){let e=ParseContext.get(),a=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),c=Math.min(a,this.chunkStart+2048);for(e&&(c=Math.min(c,e.viewport.to));this.parsedPos<c;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=a?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,a),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let a=this.input.chunk(e);if(this.input.lineChunks)a==`
`&&(a="");else{let c=a.indexOf(`
`);c>-1&&(a=a.slice(0,c))}return e+a.length<=this.to?a:a.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,a=this.lineAfter(e),c=e+a.length;for(let d=this.rangeIndex;;){let g=this.ranges[d].to;if(g>=c||(a=a.slice(0,g-(c-a.length)),d++,d==this.ranges.length))break;let b=this.ranges[d].from,_=this.lineAfter(b);a+=_,c=b+_.length}return{line:a,end:c}}skipGapsTo(e,a,c){for(;;){let d=this.ranges[this.rangeIndex].to,g=e+a;if(c>0?d>g:d>=g)break;let b=this.ranges[++this.rangeIndex].from;a+=b-d}return a}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,a,c,d,g){if(this.ranges.length>1){g=this.skipGapsTo(a,g,1),a+=g;let b=this.chunk.length;g=this.skipGapsTo(c,g,-1),c+=g,d+=this.chunk.length-b}return this.chunk.push(e,a,c,d),g}parseLine(e){let{line:a,end:c}=this.nextLine(),d=0,{streamParser:g}=this.lang,b=new StringStream(a,e?e.state.tabSize:4,e?getIndentUnit(e.state):2);if(b.eol())g.blankLine(this.state,b.indentUnit);else for(;!b.eol();){let _=readToken$1(g.token,b,this.state);if(_&&(d=this.emitToken(this.lang.tokenTable.resolve(_),this.parsedPos+b.start,this.parsedPos+b.pos,4,d)),b.start>1e4)break}this.parsedPos=c,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Tree.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new Tree(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Tree(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function readToken$1(o,e,a){e.start=e.pos;for(let c=0;c<10;c++){let d=o(e,a);if(e.pos>e.start)return d}throw new Error("Stream parser failed to advance stream.")}const noTokens=Object.create(null),typeArray=[NodeType.none],nodeSet=new NodeSet(typeArray),warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[o,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[o]=createTokenType(noTokens,e);class TokenTable{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),defaultTable)}resolve(e){return e?this.table[e]||(this.table[e]=createTokenType(this.extra,e)):0}}const defaultTokenTable=new TokenTable(noTokens);function warnForPart(o,e){warned.indexOf(o)>-1||(warned.push(o),console.warn(e))}function createTokenType(o,e){let a=[];for(let _ of e.split(" ")){let _e=[];for(let tt of _.split(".")){let nt=o[tt]||tags$1[tt];nt?typeof nt=="function"?_e.length?_e=_e.map(nt):warnForPart(tt,`Modifier ${tt} used at start of tag`):_e.length?warnForPart(tt,`Tag ${tt} used as modifier`):_e=Array.isArray(nt)?nt:[nt]:warnForPart(tt,`Unknown highlighting tag ${tt}`)}for(let tt of _e)a.push(tt)}if(!a.length)return 0;let c=e.replace(/ /g,"_"),d=c+" "+a.map(_=>_.id),g=byTag[d];if(g)return g.id;let b=byTag[d]=NodeType.define({id:typeArray.length,name:c,props:[styleTags({[c]:a})]});return typeArray.push(b),b.id}function docID(o){let e=NodeType.define({id:typeArray.length,name:"Document",props:[languageDataProp.add(()=>o)],top:!0});return typeArray.push(e),e}Direction.RTL,Direction.LTR;const toggleComment=o=>{let{state:e}=o,a=e.doc.lineAt(e.selection.main.from),c=getConfig(o.state,a.from);return c.line?toggleLineComment(o):c.block?toggleBlockCommentByLine(o):!1};function command(o,e){return({state:a,dispatch:c})=>{if(a.readOnly)return!1;let d=o(e,a);return d?(c(a.update(d)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((o,e)=>changeBlockComment(o,e,selectedLineRanges(e)),0);function getConfig(o,e){let a=o.languageDataAt("commentTokens",e);return a.length?a[0]:{}}const SearchMargin=50;function findBlockComment(o,{open:e,close:a},c,d){let g=o.sliceDoc(c-SearchMargin,c),b=o.sliceDoc(d,d+SearchMargin),_=/\s*$/.exec(g)[0].length,_e=/^\s*/.exec(b)[0].length,tt=g.length-_;if(g.slice(tt-e.length,tt)==e&&b.slice(_e,_e+a.length)==a)return{open:{pos:c-_,margin:_&&1},close:{pos:d+_e,margin:_e&&1}};let nt,it;d-c<=2*SearchMargin?nt=it=o.sliceDoc(c,d):(nt=o.sliceDoc(c,c+SearchMargin),it=o.sliceDoc(d-SearchMargin,d));let st=/^\s*/.exec(nt)[0].length,ot=/\s*$/.exec(it)[0].length,ht=it.length-ot-a.length;return nt.slice(st,st+e.length)==e&&it.slice(ht,ht+a.length)==a?{open:{pos:c+st+e.length,margin:/\s/.test(nt.charAt(st+e.length))?1:0},close:{pos:d-ot-a.length,margin:/\s/.test(it.charAt(ht-1))?1:0}}:null}function selectedLineRanges(o){let e=[];for(let a of o.selection.ranges){let c=o.doc.lineAt(a.from),d=a.to<=c.to?c:o.doc.lineAt(a.to),g=e.length-1;g>=0&&e[g].to>c.from?e[g].to=d.to:e.push({from:c.from+/^\s*/.exec(c.text)[0].length,to:d.to})}return e}function changeBlockComment(o,e,a=e.selection.ranges){let c=a.map(g=>getConfig(e,g.from).block);if(!c.every(g=>g))return null;let d=a.map((g,b)=>findBlockComment(e,c[b],g.from,g.to));if(o!=2&&!d.every(g=>g))return{changes:e.changes(a.map((g,b)=>d[b]?[]:[{from:g.from,insert:c[b].open+" "},{from:g.to,insert:" "+c[b].close}]))};if(o!=1&&d.some(g=>g)){let g=[];for(let b=0,_;b<d.length;b++)if(_=d[b]){let _e=c[b],{open:tt,close:nt}=_;g.push({from:tt.pos-_e.open.length,to:tt.pos+tt.margin},{from:nt.pos-nt.margin,to:nt.pos+_e.close.length})}return{changes:g}}return null}function changeLineComment(o,e,a=e.selection.ranges){let c=[],d=-1;for(let{from:g,to:b}of a){let _=c.length,_e=1e9,tt=getConfig(e,g).line;if(tt){for(let nt=g;nt<=b;){let it=e.doc.lineAt(nt);if(it.from>d&&(g==b||b>it.from)){d=it.from;let st=/^\s*/.exec(it.text)[0].length,ot=st==it.length,ht=it.text.slice(st,st+tt.length)==tt?st:-1;st<it.text.length&&st<_e&&(_e=st),c.push({line:it,comment:ht,token:tt,indent:st,empty:ot,single:!1})}nt=it.to+1}if(_e<1e9)for(let nt=_;nt<c.length;nt++)c[nt].indent<c[nt].line.text.length&&(c[nt].indent=_e);c.length==_+1&&(c[_].single=!0)}}if(o!=2&&c.some(g=>g.comment<0&&(!g.empty||g.single))){let g=[];for(let{line:_,token:_e,indent:tt,empty:nt,single:it}of c)(it||!nt)&&g.push({from:_.from+tt,insert:_e+" "});let b=e.changes(g);return{changes:b,selection:e.selection.map(b,1)}}else if(o!=1&&c.some(g=>g.comment>=0)){let g=[];for(let{line:b,comment:_,token:_e}of c)if(_>=0){let tt=b.from+_,nt=tt+_e.length;b.text[nt-b.from]==" "&&nt++,g.push({from:tt,to:nt})}return{changes:g}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(o){return combineConfig(o,{minDepth:100,newGroupDelay:500,joinToEvent:(e,a)=>a},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,a)=>(c,d)=>e(c,d)||a(c,d)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(o,e){let a=e.state.facet(historyConfig),c=e.annotation(fromHistory);if(c){let _e=HistEvent.fromTransaction(e,c.selection),tt=c.side,nt=tt==0?o.undone:o.done;return _e?nt=updateBranch(nt,nt.length,a.minDepth,_e):nt=addSelection(nt,e.startState.selection),new HistoryState(tt==0?c.rest:nt,tt==0?nt:c.rest)}let d=e.annotation(isolateHistory);if((d=="full"||d=="before")&&(o=o.isolate()),e.annotation(Transaction.addToHistory)===!1)return e.changes.empty?o:o.addMapping(e.changes.desc);let g=HistEvent.fromTransaction(e),b=e.annotation(Transaction.time),_=e.annotation(Transaction.userEvent);return g?o=o.addChanges(g,b,_,a,e):e.selection&&(o=o.addSelection(e.startState.selection,b,_,a.newGroupDelay)),(d=="full"||d=="after")&&(o=o.isolate()),o},toJSON(o){return{done:o.done.map(e=>e.toJSON()),undone:o.undone.map(e=>e.toJSON())}},fromJSON(o){return new HistoryState(o.done.map(HistEvent.fromJSON),o.undone.map(HistEvent.fromJSON))}});function history(o={}){return[historyField_,historyConfig.of(o),EditorView.domEventHandlers({beforeinput(e,a){let c=e.inputType=="historyUndo"?undo:e.inputType=="historyRedo"?redo:null;return c?(e.preventDefault(),c(a)):!1}})]}function cmd(o,e){return function({state:a,dispatch:c}){if(!e&&a.readOnly)return!1;let d=a.field(historyField_,!1);if(!d)return!1;let g=d.pop(o,a,e);return g?(c(g),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(e,a,c,d,g){this.changes=e,this.effects=a,this.mapped=c,this.startSelection=d,this.selectionsAfter=g}setSelAfter(e){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,a,c;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(a=this.mapped)===null||a===void 0?void 0:a.toJSON(),startSelection:(c=this.startSelection)===null||c===void 0?void 0:c.toJSON(),selectionsAfter:this.selectionsAfter.map(d=>d.toJSON())}}static fromJSON(e){return new HistEvent(e.changes&&ChangeSet.fromJSON(e.changes),[],e.mapped&&ChangeDesc.fromJSON(e.mapped),e.startSelection&&EditorSelection.fromJSON(e.startSelection),e.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(e,a){let c=none$2;for(let d of e.startState.facet(invertedEffects)){let g=d(e);g.length&&(c=c.concat(g))}return!c.length&&e.changes.empty?null:new HistEvent(e.changes.invert(e.startState.doc),c,void 0,a||e.startState.selection,none$2)}static selection(e){return new HistEvent(void 0,none$2,void 0,void 0,e)}}function updateBranch(o,e,a,c){let d=e+1>a+20?e-a-1:0,g=o.slice(d,e);return g.push(c),g}function isAdjacent(o,e){let a=[],c=!1;return o.iterChangedRanges((d,g)=>a.push(d,g)),e.iterChangedRanges((d,g,b,_)=>{for(let _e=0;_e<a.length;){let tt=a[_e++],nt=a[_e++];_>=tt&&b<=nt&&(c=!0)}}),c}function eqSelectionShape(o,e){return o.ranges.length==e.ranges.length&&o.ranges.filter((a,c)=>a.empty!=e.ranges[c].empty).length===0}function conc(o,e){return o.length?e.length?o.concat(e):o:e}const none$2=[],MaxSelectionsPerEvent=200;function addSelection(o,e){if(o.length){let a=o[o.length-1],c=a.selectionsAfter.slice(Math.max(0,a.selectionsAfter.length-MaxSelectionsPerEvent));return c.length&&c[c.length-1].eq(e)?o:(c.push(e),updateBranch(o,o.length-1,1e9,a.setSelAfter(c)))}else return[HistEvent.selection([e])]}function popSelection(o){let e=o[o.length-1],a=o.slice();return a[o.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),a}function addMappingToBranch(o,e){if(!o.length)return o;let a=o.length,c=none$2;for(;a;){let d=mapEvent(o[a-1],e,c);if(d.changes&&!d.changes.empty||d.effects.length){let g=o.slice(0,a);return g[a-1]=d,g}else e=d.mapped,a--,c=d.selectionsAfter}return c.length?[HistEvent.selection(c)]:none$2}function mapEvent(o,e,a){let c=conc(o.selectionsAfter.length?o.selectionsAfter.map(_=>_.map(e)):none$2,a);if(!o.changes)return HistEvent.selection(c);let d=o.changes.map(e),g=e.mapDesc(o.changes,!0),b=o.mapped?o.mapped.composeDesc(g):g;return new HistEvent(d,StateEffect.mapEffects(o.effects,e),b,o.startSelection.map(g),c)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(e,a,c=0,d=void 0){this.done=e,this.undone=a,this.prevTime=c,this.prevUserEvent=d}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(e,a,c,d,g){let b=this.done,_=b[b.length-1];return _&&_.changes&&!_.changes.empty&&e.changes&&(!c||joinableUserEvent.test(c))&&(!_.selectionsAfter.length&&a-this.prevTime<d.newGroupDelay&&d.joinToEvent(g,isAdjacent(_.changes,e.changes))||c=="input.type.compose")?b=updateBranch(b,b.length-1,d.minDepth,new HistEvent(e.changes.compose(_.changes),conc(StateEffect.mapEffects(e.effects,_.changes),_.effects),_.mapped,_.startSelection,none$2)):b=updateBranch(b,b.length,d.minDepth,e),new HistoryState(b,none$2,a,c)}addSelection(e,a,c,d){let g=this.done.length?this.done[this.done.length-1].selectionsAfter:none$2;return g.length>0&&a-this.prevTime<d&&c==this.prevUserEvent&&c&&/^select($|\.)/.test(c)&&eqSelectionShape(g[g.length-1],e)?this:new HistoryState(addSelection(this.done,e),this.undone,a,c)}addMapping(e){return new HistoryState(addMappingToBranch(this.done,e),addMappingToBranch(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,a,c){let d=e==0?this.done:this.undone;if(d.length==0)return null;let g=d[d.length-1],b=g.selectionsAfter[0]||a.selection;if(c&&g.selectionsAfter.length)return a.update({selection:g.selectionsAfter[g.selectionsAfter.length-1],annotations:fromHistory.of({side:e,rest:popSelection(d),selection:b}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(g.changes){let _=d.length==1?none$2:d.slice(0,d.length-1);return g.mapped&&(_=addMappingToBranch(_,g.mapped)),a.update({changes:g.changes,selection:g.startSelection,effects:g.effects,annotations:fromHistory.of({side:e,rest:_,selection:b}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$2,none$2);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(o,e){return EditorSelection.create(o.ranges.map(e),o.mainIndex)}function setSel(o,e){return o.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:o,dispatch:e},a){let c=updateSel(o.selection,a);return c.eq(o.selection,!0)?!1:(e(setSel(o,c)),!0)}function rangeEnd(o,e){return EditorSelection.cursor(e?o.to:o.from)}function cursorByChar(o,e){return moveSel(o,a=>a.empty?o.moveByChar(a,e):rangeEnd(a,e))}function ltrAtCursor(o){return o.textDirectionAt(o.state.selection.main.head)==Direction.LTR}const cursorCharLeft=o=>cursorByChar(o,!ltrAtCursor(o)),cursorCharRight=o=>cursorByChar(o,ltrAtCursor(o));function cursorByGroup(o,e){return moveSel(o,a=>a.empty?o.moveByGroup(a,e):rangeEnd(a,e))}const cursorGroupLeft=o=>cursorByGroup(o,!ltrAtCursor(o)),cursorGroupRight=o=>cursorByGroup(o,ltrAtCursor(o));function interestingNode(o,e,a){if(e.type.prop(a))return!0;let c=e.to-e.from;return c&&(c>2||/[^\s,.;:]/.test(o.sliceDoc(e.from,e.to)))||e.firstChild}function moveBySyntax(o,e,a){let c=syntaxTree(o).resolveInner(e.head),d=a?NodeProp.closedBy:NodeProp.openedBy;for(let _e=e.head;;){let tt=a?c.childAfter(_e):c.childBefore(_e);if(!tt)break;interestingNode(o,tt,d)?c=tt:_e=a?tt.to:tt.from}let g=c.type.prop(d),b,_;return g&&(b=a?matchBrackets(o,c.from,1):matchBrackets(o,c.to,-1))&&b.matched?_=a?b.end.to:b.end.from:_=a?c.to:c.from,EditorSelection.cursor(_,a?-1:1)}const cursorSyntaxLeft=o=>moveSel(o,e=>moveBySyntax(o.state,e,!ltrAtCursor(o))),cursorSyntaxRight=o=>moveSel(o,e=>moveBySyntax(o.state,e,ltrAtCursor(o)));function cursorByLine(o,e){return moveSel(o,a=>{if(!a.empty)return rangeEnd(a,e);let c=o.moveVertically(a,e);return c.head!=a.head?c:o.moveToLineBoundary(a,e)})}const cursorLineUp=o=>cursorByLine(o,!1),cursorLineDown=o=>cursorByLine(o,!0);function pageInfo(o){let e=o.scrollDOM.clientHeight<o.scrollDOM.scrollHeight-2,a=0,c=0,d;if(e){for(let g of o.state.facet(EditorView.scrollMargins)){let b=g(o);b!=null&&b.top&&(a=Math.max(b==null?void 0:b.top,a)),b!=null&&b.bottom&&(c=Math.max(b==null?void 0:b.bottom,c))}d=o.scrollDOM.clientHeight-a-c}else d=(o.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:a,marginBottom:c,selfScroll:e,height:Math.max(o.defaultLineHeight,d-5)}}function cursorByPage(o,e){let a=pageInfo(o),{state:c}=o,d=updateSel(c.selection,b=>b.empty?o.moveVertically(b,e,a.height):rangeEnd(b,e));if(d.eq(c.selection))return!1;let g;if(a.selfScroll){let b=o.coordsAtPos(c.selection.main.head),_=o.scrollDOM.getBoundingClientRect(),_e=_.top+a.marginTop,tt=_.bottom-a.marginBottom;b&&b.top>_e&&b.bottom<tt&&(g=EditorView.scrollIntoView(d.main.head,{y:"start",yMargin:b.top-_e}))}return o.dispatch(setSel(c,d),{effects:g}),!0}const cursorPageUp=o=>cursorByPage(o,!1),cursorPageDown=o=>cursorByPage(o,!0);function moveByLineBoundary(o,e,a){let c=o.lineBlockAt(e.head),d=o.moveToLineBoundary(e,a);if(d.head==e.head&&d.head!=(a?c.to:c.from)&&(d=o.moveToLineBoundary(e,a,!1)),!a&&d.head==c.from&&c.length){let g=/^\s*/.exec(o.state.sliceDoc(c.from,Math.min(c.from+100,c.to)))[0].length;g&&e.head!=c.from+g&&(d=EditorSelection.cursor(c.from+g))}return d}const cursorLineBoundaryForward=o=>moveSel(o,e=>moveByLineBoundary(o,e,!0)),cursorLineBoundaryBackward=o=>moveSel(o,e=>moveByLineBoundary(o,e,!1)),cursorLineBoundaryLeft=o=>moveSel(o,e=>moveByLineBoundary(o,e,!ltrAtCursor(o))),cursorLineBoundaryRight=o=>moveSel(o,e=>moveByLineBoundary(o,e,ltrAtCursor(o))),cursorLineStart=o=>moveSel(o,e=>EditorSelection.cursor(o.lineBlockAt(e.head).from,1)),cursorLineEnd=o=>moveSel(o,e=>EditorSelection.cursor(o.lineBlockAt(e.head).to,-1));function toMatchingBracket(o,e,a){let c=!1,d=updateSel(o.selection,g=>{let b=matchBrackets(o,g.head,-1)||matchBrackets(o,g.head,1)||g.head>0&&matchBrackets(o,g.head-1,1)||g.head<o.doc.length&&matchBrackets(o,g.head+1,-1);if(!b||!b.end)return g;c=!0;let _=b.start.from==g.head?b.end.to:b.end.from;return EditorSelection.cursor(_)});return c?(e(setSel(o,d)),!0):!1}const cursorMatchingBracket=({state:o,dispatch:e})=>toMatchingBracket(o,e);function extendSel(o,e){let a=updateSel(o.state.selection,c=>{let d=e(c);return EditorSelection.range(c.anchor,d.head,d.goalColumn,d.bidiLevel||void 0)});return a.eq(o.state.selection)?!1:(o.dispatch(setSel(o.state,a)),!0)}function selectByChar(o,e){return extendSel(o,a=>o.moveByChar(a,e))}const selectCharLeft=o=>selectByChar(o,!ltrAtCursor(o)),selectCharRight=o=>selectByChar(o,ltrAtCursor(o));function selectByGroup(o,e){return extendSel(o,a=>o.moveByGroup(a,e))}const selectGroupLeft=o=>selectByGroup(o,!ltrAtCursor(o)),selectGroupRight=o=>selectByGroup(o,ltrAtCursor(o)),selectSyntaxLeft=o=>extendSel(o,e=>moveBySyntax(o.state,e,!ltrAtCursor(o))),selectSyntaxRight=o=>extendSel(o,e=>moveBySyntax(o.state,e,ltrAtCursor(o)));function selectByLine(o,e){return extendSel(o,a=>o.moveVertically(a,e))}const selectLineUp=o=>selectByLine(o,!1),selectLineDown=o=>selectByLine(o,!0);function selectByPage(o,e){return extendSel(o,a=>o.moveVertically(a,e,pageInfo(o).height))}const selectPageUp=o=>selectByPage(o,!1),selectPageDown=o=>selectByPage(o,!0),selectLineBoundaryForward=o=>extendSel(o,e=>moveByLineBoundary(o,e,!0)),selectLineBoundaryBackward=o=>extendSel(o,e=>moveByLineBoundary(o,e,!1)),selectLineBoundaryLeft=o=>extendSel(o,e=>moveByLineBoundary(o,e,!ltrAtCursor(o))),selectLineBoundaryRight=o=>extendSel(o,e=>moveByLineBoundary(o,e,ltrAtCursor(o))),selectLineStart=o=>extendSel(o,e=>EditorSelection.cursor(o.lineBlockAt(e.head).from)),selectLineEnd=o=>extendSel(o,e=>EditorSelection.cursor(o.lineBlockAt(e.head).to)),cursorDocStart=({state:o,dispatch:e})=>(e(setSel(o,{anchor:0})),!0),cursorDocEnd=({state:o,dispatch:e})=>(e(setSel(o,{anchor:o.doc.length})),!0),selectDocStart=({state:o,dispatch:e})=>(e(setSel(o,{anchor:o.selection.main.anchor,head:0})),!0),selectDocEnd=({state:o,dispatch:e})=>(e(setSel(o,{anchor:o.selection.main.anchor,head:o.doc.length})),!0),selectAll=({state:o,dispatch:e})=>(e(o.update({selection:{anchor:0,head:o.doc.length},userEvent:"select"})),!0),selectLine=({state:o,dispatch:e})=>{let a=selectedLineBlocks(o).map(({from:c,to:d})=>EditorSelection.range(c,Math.min(d+1,o.doc.length)));return e(o.update({selection:EditorSelection.create(a),userEvent:"select"})),!0},selectParentSyntax=({state:o,dispatch:e})=>{let a=updateSel(o.selection,c=>{let d=syntaxTree(o),g=d.resolveStack(c.from,1);if(c.empty){let b=d.resolveStack(c.from,-1);b.node.from>=g.node.from&&b.node.to<=g.node.to&&(g=b)}for(let b=g;b;b=b.next){let{node:_}=b;if((_.from<c.from&&_.to>=c.to||_.to>c.to&&_.from<=c.from)&&b.next)return EditorSelection.range(_.to,_.from)}return c});return a.eq(o.selection)?!1:(e(setSel(o,a)),!0)},simplifySelection=({state:o,dispatch:e})=>{let a=o.selection,c=null;return a.ranges.length>1?c=EditorSelection.create([a.main]):a.main.empty||(c=EditorSelection.create([EditorSelection.cursor(a.main.head)])),c?(e(setSel(o,c)),!0):!1};function deleteBy(o,e){if(o.state.readOnly)return!1;let a="delete.selection",{state:c}=o,d=c.changeByRange(g=>{let{from:b,to:_}=g;if(b==_){let _e=e(g);_e<b?(a="delete.backward",_e=skipAtomic(o,_e,!1)):_e>b&&(a="delete.forward",_e=skipAtomic(o,_e,!0)),b=Math.min(b,_e),_=Math.max(_,_e)}else b=skipAtomic(o,b,!1),_=skipAtomic(o,_,!0);return b==_?{range:g}:{changes:{from:b,to:_},range:EditorSelection.cursor(b,b<g.head?-1:1)}});return d.changes.empty?!1:(o.dispatch(c.update(d,{scrollIntoView:!0,userEvent:a,effects:a=="delete.selection"?EditorView.announce.of(c.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(o,e,a){if(o instanceof EditorView)for(let c of o.state.facet(EditorView.atomicRanges).map(d=>d(o)))c.between(e,e,(d,g)=>{d<e&&g>e&&(e=a?g:d)});return e}const deleteByChar=(o,e,a)=>deleteBy(o,c=>{let d=c.from,{state:g}=o,b=g.doc.lineAt(d),_,_e;if(a&&!e&&d>b.from&&d<b.from+200&&!/[^ \t]/.test(_=b.text.slice(0,d-b.from))){if(_[_.length-1]=="	")return d-1;let tt=countColumn(_,g.tabSize),nt=tt%getIndentUnit(g)||getIndentUnit(g);for(let it=0;it<nt&&_[_.length-1-it]==" ";it++)d--;_e=d}else _e=findClusterBreak(b.text,d-b.from,e,e)+b.from,_e==d&&b.number!=(e?g.doc.lines:1)?_e+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(b.text.slice(_e-b.from,d-b.from))&&(_e=findClusterBreak(b.text,_e-b.from,!1,!1)+b.from);return _e}),deleteCharBackward=o=>deleteByChar(o,!1,!0),deleteCharForward=o=>deleteByChar(o,!0,!1),deleteByGroup=(o,e)=>deleteBy(o,a=>{let c=a.head,{state:d}=o,g=d.doc.lineAt(c),b=d.charCategorizer(c);for(let _=null;;){if(c==(e?g.to:g.from)){c==a.head&&g.number!=(e?d.doc.lines:1)&&(c+=e?1:-1);break}let _e=findClusterBreak(g.text,c-g.from,e)+g.from,tt=g.text.slice(Math.min(c,_e)-g.from,Math.max(c,_e)-g.from),nt=b(tt);if(_!=null&&nt!=_)break;(tt!=" "||c!=a.head)&&(_=nt),c=_e}return c}),deleteGroupBackward=o=>deleteByGroup(o,!1),deleteGroupForward=o=>deleteByGroup(o,!0),deleteToLineEnd=o=>deleteBy(o,e=>{let a=o.lineBlockAt(e.head).to;return e.head<a?a:Math.min(o.state.doc.length,e.head+1)}),deleteLineBoundaryBackward=o=>deleteBy(o,e=>{let a=o.moveToLineBoundary(e,!1).head;return e.head>a?a:Math.max(0,e.head-1)}),deleteLineBoundaryForward=o=>deleteBy(o,e=>{let a=o.moveToLineBoundary(e,!0).head;return e.head<a?a:Math.min(o.state.doc.length,e.head+1)}),splitLine=({state:o,dispatch:e})=>{if(o.readOnly)return!1;let a=o.changeByRange(c=>({changes:{from:c.from,to:c.to,insert:Text.of(["",""])},range:EditorSelection.cursor(c.from)}));return e(o.update(a,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:o,dispatch:e})=>{if(o.readOnly)return!1;let a=o.changeByRange(c=>{if(!c.empty||c.from==0||c.from==o.doc.length)return{range:c};let d=c.from,g=o.doc.lineAt(d),b=d==g.from?d-1:findClusterBreak(g.text,d-g.from,!1)+g.from,_=d==g.to?d+1:findClusterBreak(g.text,d-g.from,!0)+g.from;return{changes:{from:b,to:_,insert:o.doc.slice(d,_).append(o.doc.slice(b,d))},range:EditorSelection.cursor(_)}});return a.changes.empty?!1:(e(o.update(a,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(o){let e=[],a=-1;for(let c of o.selection.ranges){let d=o.doc.lineAt(c.from),g=o.doc.lineAt(c.to);if(!c.empty&&c.to==g.from&&(g=o.doc.lineAt(c.to-1)),a>=d.number){let b=e[e.length-1];b.to=g.to,b.ranges.push(c)}else e.push({from:d.from,to:g.to,ranges:[c]});a=g.number+1}return e}function moveLine(o,e,a){if(o.readOnly)return!1;let c=[],d=[];for(let g of selectedLineBlocks(o)){if(a?g.to==o.doc.length:g.from==0)continue;let b=o.doc.lineAt(a?g.to+1:g.from-1),_=b.length+1;if(a){c.push({from:g.to,to:b.to},{from:g.from,insert:b.text+o.lineBreak});for(let _e of g.ranges)d.push(EditorSelection.range(Math.min(o.doc.length,_e.anchor+_),Math.min(o.doc.length,_e.head+_)))}else{c.push({from:b.from,to:g.from},{from:g.to,insert:o.lineBreak+b.text});for(let _e of g.ranges)d.push(EditorSelection.range(_e.anchor-_,_e.head-_))}}return c.length?(e(o.update({changes:c,scrollIntoView:!0,selection:EditorSelection.create(d,o.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:o,dispatch:e})=>moveLine(o,e,!1),moveLineDown=({state:o,dispatch:e})=>moveLine(o,e,!0);function copyLine(o,e,a){if(o.readOnly)return!1;let c=[];for(let d of selectedLineBlocks(o))a?c.push({from:d.from,insert:o.doc.slice(d.from,d.to)+o.lineBreak}):c.push({from:d.to,insert:o.lineBreak+o.doc.slice(d.from,d.to)});return e(o.update({changes:c,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:o,dispatch:e})=>copyLine(o,e,!1),copyLineDown=({state:o,dispatch:e})=>copyLine(o,e,!0),deleteLine=o=>{if(o.state.readOnly)return!1;let{state:e}=o,a=e.changes(selectedLineBlocks(e).map(({from:d,to:g})=>(d>0?d--:g<e.doc.length&&g++,{from:d,to:g}))),c=updateSel(e.selection,d=>{let g;if(o.lineWrapping){let b=o.lineBlockAt(d.head),_=o.coordsAtPos(d.head,d.assoc||1);_&&(g=b.bottom+o.documentTop-_.bottom+o.defaultLineHeight/2)}return o.moveVertically(d,!0,g)}).map(a);return o.dispatch({changes:a,selection:c,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(o,e){if(/\(\)|\[\]|\{\}/.test(o.sliceDoc(e-1,e+1)))return{from:e,to:e};let a=syntaxTree(o).resolveInner(e),c=a.childBefore(e),d=a.childAfter(e),g;return c&&d&&c.to<=e&&d.from>=e&&(g=c.type.prop(NodeProp.closedBy))&&g.indexOf(d.name)>-1&&o.doc.lineAt(c.to).from==o.doc.lineAt(d.from).from&&!/\S/.test(o.sliceDoc(c.to,d.from))?{from:c.to,to:d.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(o){return({state:e,dispatch:a})=>{if(e.readOnly)return!1;let c=e.changeByRange(d=>{let{from:g,to:b}=d,_=e.doc.lineAt(g),_e=!o&&g==b&&isBetweenBrackets(e,g);o&&(g=b=(b<=_.to?_:e.doc.lineAt(b)).to);let tt=new IndentContext(e,{simulateBreak:g,simulateDoubleBreak:!!_e}),nt=getIndentation(tt,g);for(nt==null&&(nt=countColumn(/^\s*/.exec(e.doc.lineAt(g).text)[0],e.tabSize));b<_.to&&/\s/.test(_.text[b-_.from]);)b++;_e?{from:g,to:b}=_e:g>_.from&&g<_.from+100&&!/\S/.test(_.text.slice(0,g))&&(g=_.from);let it=["",indentString(e,nt)];return _e&&it.push(indentString(e,tt.lineIndent(_.from,-1))),{changes:{from:g,to:b,insert:Text.of(it)},range:EditorSelection.cursor(g+1+it[1].length)}});return a(e.update(c,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(o,e){let a=-1;return o.changeByRange(c=>{let d=[];for(let b=c.from;b<=c.to;){let _=o.doc.lineAt(b);_.number>a&&(c.empty||c.to>_.from)&&(e(_,d,c),a=_.number),b=_.to+1}let g=o.changes(d);return{changes:d,range:EditorSelection.range(g.mapPos(c.anchor,1),g.mapPos(c.head,1))}})}const indentSelection=({state:o,dispatch:e})=>{if(o.readOnly)return!1;let a=Object.create(null),c=new IndentContext(o,{overrideIndentation:g=>{let b=a[g];return b??-1}}),d=changeBySelectedLine(o,(g,b,_)=>{let _e=getIndentation(c,g.from);if(_e==null)return;/\S/.test(g.text)||(_e=0);let tt=/^\s*/.exec(g.text)[0],nt=indentString(o,_e);(tt!=nt||_.from<g.from+tt.length)&&(a[g.from]=_e,b.push({from:g.from,to:g.from+tt.length,insert:nt}))});return d.changes.empty||e(o.update(d,{userEvent:"indent"})),!0},indentMore=({state:o,dispatch:e})=>o.readOnly?!1:(e(o.update(changeBySelectedLine(o,(a,c)=>{c.push({from:a.from,insert:o.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:o,dispatch:e})=>o.readOnly?!1:(e(o.update(changeBySelectedLine(o,(a,c)=>{let d=/^\s*/.exec(a.text)[0];if(!d)return;let g=countColumn(d,o.tabSize),b=0,_=indentString(o,Math.max(0,g-getIndentUnit(o)));for(;b<d.length&&b<_.length&&d.charCodeAt(b)==_.charCodeAt(b);)b++;c.push({from:a.from+b,to:a.from+d.length,insert:_.slice(b)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=o=>(o.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(o=>({mac:o.key,run:o.run,shift:o.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess};function crelt(){var o=arguments[0];typeof o=="string"&&(o=document.createElement(o));var e=1,a=arguments[1];if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=a[c];typeof d=="string"?o.setAttribute(c,d):d!=null&&(o[c]=d)}e++}for(;e<arguments.length;e++)add(o,arguments[e]);return o}function add(o,e){if(typeof e=="string")o.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)o.appendChild(e);else if(Array.isArray(e))for(var a=0;a<e.length;a++)add(o,e[a]);else throw new RangeError("Unsupported child node: "+e)}const basicNormalize=typeof String.prototype.normalize=="function"?o=>o.normalize("NFKD"):o=>o;class SearchCursor{constructor(e,a,c=0,d=e.length,g,b){this.test=b,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(c,d),this.bufferStart=c,this.normalize=g?_=>g(basicNormalize(_)):basicNormalize,this.query=this.normalize(a)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let a=fromCodePoint$1(e),c=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(e);let d=this.normalize(a);for(let g=0,b=c;;g++){let _=d.charCodeAt(g),_e=this.match(_,b,this.bufferPos+this.bufferStart);if(g==d.length-1){if(_e)return this.value=_e,this;break}b==c&&g<a.length&&a.charCodeAt(g)==_&&b++}}}match(e,a,c){let d=null;for(let g=0;g<this.matches.length;g+=2){let b=this.matches[g],_=!1;this.query.charCodeAt(b)==e&&(b==this.query.length-1?d={from:this.matches[g+1],to:c}:(this.matches[g]++,_=!0)),_||(this.matches.splice(g,2),g-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?d={from:a,to:c}:this.matches.push(1,a)),d&&this.test&&!this.test(d.from,d.to,this.buffer,this.bufferStart)&&(d=null),d}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty$2={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(e,a,c,d=0,g=e.length){if(this.text=e,this.to=g,this.curLine="",this.done=!1,this.value=empty$2,/\\[sWDnr]|\n|\r|\[\^/.test(a))return new MultilineRegExpCursor(e,a,c,d,g);this.re=new RegExp(a,baseFlags+(c!=null&&c.ignoreCase?"i":"")),this.test=c==null?void 0:c.test,this.iter=e.iter();let b=e.lineAt(d);this.curLineStart=b.from,this.matchPos=toCharEnd(e,d),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let a=this.matchPos<=this.to&&this.re.exec(this.curLine);if(a){let c=this.curLineStart+a.index,d=c+a[0].length;if(this.matchPos=toCharEnd(this.text,d+(c==d?1:0)),c==this.curLineStart+this.curLine.length&&this.nextLine(),(c<d||c>this.value.to)&&(!this.test||this.test(c,d,a)))return this.value={from:c,to:d,match:a},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(e,a){this.from=e,this.text=a}get to(){return this.from+this.text.length}static get(e,a,c){let d=flattened.get(e);if(!d||d.from>=c||d.to<=a){let _=new FlattenedDoc(a,e.sliceString(a,c));return flattened.set(e,_),_}if(d.from==a&&d.to==c)return d;let{text:g,from:b}=d;return b>a&&(g=e.sliceString(a,b)+g,b=a),d.to<c&&(g+=e.sliceString(d.to,c)),flattened.set(e,new FlattenedDoc(b,g)),new FlattenedDoc(a,g.slice(a-b,c-b))}}class MultilineRegExpCursor{constructor(e,a,c,d,g){this.text=e,this.to=g,this.done=!1,this.value=empty$2,this.matchPos=toCharEnd(e,d),this.re=new RegExp(a,baseFlags+(c!=null&&c.ignoreCase?"i":"")),this.test=c==null?void 0:c.test,this.flat=FlattenedDoc.get(e,d,this.chunkEnd(d+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,a=this.re.exec(this.flat.text);if(a&&!a[0]&&a.index==e&&(this.re.lastIndex=e+1,a=this.re.exec(this.flat.text)),a){let c=this.flat.from+a.index,d=c+a[0].length;if((this.flat.to>=this.to||a.index+a[0].length<=this.flat.text.length-10)&&(!this.test||this.test(c,d,a)))return this.value={from:c,to:d,match:a},this.matchPos=toCharEnd(this.text,d+(c==d?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(o){try{return new RegExp(o,baseFlags),!0}catch{return!1}}function toCharEnd(o,e){if(e>=o.length)return e;let a=o.lineAt(e),c;for(;e<a.to&&(c=a.text.charCodeAt(e-a.from))>=56320&&c<57344;)e++;return e}function createLineDialog(o){let e=String(o.state.doc.lineAt(o.state.selection.main.head).number),a=crelt("input",{class:"cm-textfield",name:"line",value:e}),c=crelt("form",{class:"cm-gotoLine",onkeydown:g=>{g.keyCode==27?(g.preventDefault(),o.dispatch({effects:dialogEffect.of(!1)}),o.focus()):g.keyCode==13&&(g.preventDefault(),d())},onsubmit:g=>{g.preventDefault(),d()}},crelt("label",o.state.phrase("Go to line"),": ",a)," ",crelt("button",{class:"cm-button",type:"submit"},o.state.phrase("go")));function d(){let g=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(a.value);if(!g)return;let{state:b}=o,_=b.doc.lineAt(b.selection.main.head),[,_e,tt,nt,it]=g,st=nt?+nt.slice(1):0,ot=tt?+tt:_.number;if(tt&&it){let Et=ot/100;_e&&(Et=Et*(_e=="-"?-1:1)+_.number/b.doc.lines),ot=Math.round(b.doc.lines*Et)}else tt&&_e&&(ot=ot*(_e=="-"?-1:1)+_.number);let ht=b.doc.line(Math.max(1,Math.min(b.doc.lines,ot))),dt=EditorSelection.cursor(ht.from+Math.max(0,Math.min(st,ht.length)));o.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(dt.from,{y:"center"})],selection:dt}),o.focus()}return{dom:c}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(o,e){for(let a of e.effects)a.is(dialogEffect)&&(o=a.value);return o},provide:o=>showPanel.from(o,e=>e?createLineDialog:null)}),gotoLine=o=>{let e=getPanel(o,createLineDialog);if(!e){let a=[dialogEffect.of(!0)];o.state.field(dialogField,!1)==null&&a.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),o.dispatch({effects:a}),e=getPanel(o,createLineDialog)}return e&&e.dom.querySelector("input").select(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(o){return combineConfig(o,defaultHighlightOptions,{highlightWordAroundCursor:(e,a)=>e||a,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(o){return[defaultTheme,matchHighlighter]}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(o,e,a,c){return(a==0||o(e.sliceDoc(a-1,a))!=CharCategory.Word)&&(c==e.doc.length||o(e.sliceDoc(c,c+1))!=CharCategory.Word)}function insideWord(o,e,a,c){return o(e.sliceDoc(a,a+1))==CharCategory.Word&&o(e.sliceDoc(c-1,c))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(o){this.decorations=this.getDeco(o)}update(o){(o.selectionSet||o.docChanged||o.viewportChanged)&&(this.decorations=this.getDeco(o.view))}getDeco(o){let e=o.state.facet(highlightConfig),{state:a}=o,c=a.selection;if(c.ranges.length>1)return Decoration.none;let d=c.main,g,b=null;if(d.empty){if(!e.highlightWordAroundCursor)return Decoration.none;let _e=a.wordAt(d.head);if(!_e)return Decoration.none;b=a.charCategorizer(d.head),g=a.sliceDoc(_e.from,_e.to)}else{let _e=d.to-d.from;if(_e<e.minSelectionLength||_e>200)return Decoration.none;if(e.wholeWords){if(g=a.sliceDoc(d.from,d.to),b=a.charCategorizer(d.head),!(insideWordBoundaries(b,a,d.from,d.to)&&insideWord(b,a,d.from,d.to)))return Decoration.none}else if(g=a.sliceDoc(d.from,d.to),!g)return Decoration.none}let _=[];for(let _e of o.visibleRanges){let tt=new SearchCursor(a.doc,g,_e.from,_e.to);for(;!tt.next().done;){let{from:nt,to:it}=tt.value;if((!b||insideWordBoundaries(b,a,nt,it))&&(d.empty&&nt<=d.from&&it>=d.to?_.push(mainMatchDeco.range(nt,it)):(nt>=d.to||it<=d.from)&&_.push(matchDeco.range(nt,it)),_.length>e.maxMatches))return Decoration.none}}return Decoration.set(_)}},{decorations:o=>o.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:o,dispatch:e})=>{let{selection:a}=o,c=EditorSelection.create(a.ranges.map(d=>o.wordAt(d.head)||EditorSelection.cursor(d.head)),a.mainIndex);return c.eq(a)?!1:(e(o.update({selection:c})),!0)};function findNextOccurrence(o,e){let{main:a,ranges:c}=o.selection,d=o.wordAt(a.head),g=d&&d.from==a.from&&d.to==a.to;for(let b=!1,_=new SearchCursor(o.doc,e,c[c.length-1].to);;)if(_.next(),_.done){if(b)return null;_=new SearchCursor(o.doc,e,0,Math.max(0,c[c.length-1].from-1)),b=!0}else{if(b&&c.some(_e=>_e.from==_.value.from))continue;if(g){let _e=o.wordAt(_.value.from);if(!_e||_e.from!=_.value.from||_e.to!=_.value.to)continue}return _.value}}const selectNextOccurrence=({state:o,dispatch:e})=>{let{ranges:a}=o.selection;if(a.some(g=>g.from===g.to))return selectWord({state:o,dispatch:e});let c=o.sliceDoc(a[0].from,a[0].to);if(o.selection.ranges.some(g=>o.sliceDoc(g.from,g.to)!=c))return!1;let d=findNextOccurrence(o,c);return d?(e(o.update({selection:o.selection.addRange(EditorSelection.range(d.from,d.to),!1),effects:EditorView.scrollIntoView(d.to)})),!0):!1},searchConfigFacet=Facet.define({combine(o){return combineConfig(o,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new SearchPanel(e),scrollToMatch:e=>EditorView.scrollIntoView(e)})}});class SearchQuery{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(a,c)=>c=="n"?`
`:c=="r"?"\r":c=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(e,a=0,c){let d=e.doc?e:EditorState.create({doc:e});return c==null&&(c=d.doc.length),this.regexp?regexpCursor(this,d,a,c):stringCursor(this,d,a,c)}}class QueryType{constructor(e){this.spec=e}}function stringCursor(o,e,a,c){return new SearchCursor(e.doc,o.unquoted,a,c,o.caseSensitive?void 0:d=>d.toLowerCase(),o.wholeWord?stringWordTest(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function stringWordTest(o,e){return(a,c,d,g)=>((g>a||g+d.length<c)&&(g=Math.max(0,a-2),d=o.sliceString(g,Math.min(o.length,c+2))),(e(charBefore(d,a-g))!=CharCategory.Word||e(charAfter(d,a-g))!=CharCategory.Word)&&(e(charAfter(d,c-g))!=CharCategory.Word||e(charBefore(d,c-g))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(e){super(e)}nextMatch(e,a,c){let d=stringCursor(this.spec,e,c,e.doc.length).nextOverlapping();return d.done&&(d=stringCursor(this.spec,e,0,a).nextOverlapping()),d.done?null:d.value}prevMatchInRange(e,a,c){for(let d=c;;){let g=Math.max(a,d-1e4-this.spec.unquoted.length),b=stringCursor(this.spec,e,g,d),_=null;for(;!b.nextOverlapping().done;)_=b.value;if(_)return _;if(g==a)return null;d-=1e4}}prevMatch(e,a,c){return this.prevMatchInRange(e,0,a)||this.prevMatchInRange(e,c,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,a){let c=stringCursor(this.spec,e,0,e.doc.length),d=[];for(;!c.next().done;){if(d.length>=a)return null;d.push(c.value)}return d}highlight(e,a,c,d){let g=stringCursor(this.spec,e,Math.max(0,a-this.spec.unquoted.length),Math.min(c+this.spec.unquoted.length,e.doc.length));for(;!g.next().done;)d(g.value.from,g.value.to)}}function regexpCursor(o,e,a,c){return new RegExpCursor(e.doc,o.search,{ignoreCase:!o.caseSensitive,test:o.wholeWord?regexpWordTest(e.charCategorizer(e.selection.main.head)):void 0},a,c)}function charBefore(o,e){return o.slice(findClusterBreak(o,e,!1),e)}function charAfter(o,e){return o.slice(e,findClusterBreak(o,e))}function regexpWordTest(o){return(e,a,c)=>!c[0].length||(o(charBefore(c.input,c.index))!=CharCategory.Word||o(charAfter(c.input,c.index))!=CharCategory.Word)&&(o(charAfter(c.input,c.index+c[0].length))!=CharCategory.Word||o(charBefore(c.input,c.index+c[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(e,a,c){let d=regexpCursor(this.spec,e,c,e.doc.length).next();return d.done&&(d=regexpCursor(this.spec,e,0,a).next()),d.done?null:d.value}prevMatchInRange(e,a,c){for(let d=1;;d++){let g=Math.max(a,c-d*1e4),b=regexpCursor(this.spec,e,g,c),_=null;for(;!b.next().done;)_=b.value;if(_&&(g==a||_.from>g+10))return _;if(g==a)return null}}prevMatch(e,a,c){return this.prevMatchInRange(e,0,a)||this.prevMatchInRange(e,c,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(a,c)=>c=="$"?"$":c=="&"?e.match[0]:c!="0"&&+c<e.match.length?e.match[c]:a)}matchAll(e,a){let c=regexpCursor(this.spec,e,0,e.doc.length),d=[];for(;!c.next().done;){if(d.length>=a)return null;d.push(c.value)}return d}highlight(e,a,c,d){let g=regexpCursor(this.spec,e,Math.max(0,a-250),Math.min(c+250,e.doc.length));for(;!g.next().done;)d(g.value.from,g.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(o){return new SearchState(defaultQuery(o).create(),null)},update(o,e){for(let a of e.effects)a.is(setSearchQuery)?o=new SearchState(a.value.create(),o.panel):a.is(togglePanel$1)&&(o=new SearchState(o.query,a.value?createSearchPanel:null));return o},provide:o=>showPanel.from(o,e=>e.panel)});class SearchState{constructor(e,a){this.query=e,this.panel=a}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.decorations=this.highlight(o.state.field(searchState))}update(o){let e=o.state.field(searchState);(e!=o.startState.field(searchState)||o.docChanged||o.selectionSet||o.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:o,panel:e}){if(!e||!o.spec.valid)return Decoration.none;let{view:a}=this,c=new RangeSetBuilder;for(let d=0,g=a.visibleRanges,b=g.length;d<b;d++){let{from:_,to:_e}=g[d];for(;d<b-1&&_e>g[d+1].from-2*250;)_e=g[++d].to;o.highlight(a.state,_,_e,(tt,nt)=>{let it=a.state.selection.ranges.some(st=>st.from==tt&&st.to==nt);c.add(tt,nt,it?selectedMatchMark:matchMark)})}return c.finish()}},{decorations:o=>o.decorations});function searchCommand(o){return e=>{let a=e.state.field(searchState,!1);return a&&a.query.spec.valid?o(e,a):openSearchPanel(e)}}const findNext=searchCommand((o,{query:e})=>{let{to:a}=o.state.selection.main,c=e.nextMatch(o.state,a,a);if(!c)return!1;let d=EditorSelection.single(c.from,c.to),g=o.state.facet(searchConfigFacet);return o.dispatch({selection:d,effects:[announceMatch(o,c),g.scrollToMatch(d.main,o)],userEvent:"select.search"}),selectSearchInput(o),!0}),findPrevious=searchCommand((o,{query:e})=>{let{state:a}=o,{from:c}=a.selection.main,d=e.prevMatch(a,c,c);if(!d)return!1;let g=EditorSelection.single(d.from,d.to),b=o.state.facet(searchConfigFacet);return o.dispatch({selection:g,effects:[announceMatch(o,d),b.scrollToMatch(g.main,o)],userEvent:"select.search"}),selectSearchInput(o),!0}),selectMatches=searchCommand((o,{query:e})=>{let a=e.matchAll(o.state,1e3);return!a||!a.length?!1:(o.dispatch({selection:EditorSelection.create(a.map(c=>EditorSelection.range(c.from,c.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:o,dispatch:e})=>{let a=o.selection;if(a.ranges.length>1||a.main.empty)return!1;let{from:c,to:d}=a.main,g=[],b=0;for(let _=new SearchCursor(o.doc,o.sliceDoc(c,d));!_.next().done;){if(g.length>1e3)return!1;_.value.from==c&&(b=g.length),g.push(EditorSelection.range(_.value.from,_.value.to))}return e(o.update({selection:EditorSelection.create(g,b),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((o,{query:e})=>{let{state:a}=o,{from:c,to:d}=a.selection.main;if(a.readOnly)return!1;let g=e.nextMatch(a,c,c);if(!g)return!1;let b=[],_,_e,tt=[];if(g.from==c&&g.to==d&&(_e=a.toText(e.getReplacement(g)),b.push({from:g.from,to:g.to,insert:_e}),g=e.nextMatch(a,g.from,g.to),tt.push(EditorView.announce.of(a.phrase("replaced match on line $",a.doc.lineAt(c).number)+"."))),g){let nt=b.length==0||b[0].from>=g.to?0:g.to-g.from-_e.length;_=EditorSelection.single(g.from-nt,g.to-nt),tt.push(announceMatch(o,g)),tt.push(a.facet(searchConfigFacet).scrollToMatch(_.main,o))}return o.dispatch({changes:b,selection:_,effects:tt,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((o,{query:e})=>{if(o.state.readOnly)return!1;let a=e.matchAll(o.state,1e9).map(d=>{let{from:g,to:b}=d;return{from:g,to:b,insert:e.getReplacement(d)}});if(!a.length)return!1;let c=o.state.phrase("replaced $ matches",a.length)+".";return o.dispatch({changes:a,effects:EditorView.announce.of(c),userEvent:"input.replace.all"}),!0});function createSearchPanel(o){return o.state.facet(searchConfigFacet).createPanel(o)}function defaultQuery(o,e){var a,c,d,g,b;let _=o.selection.main,_e=_.empty||_.to>_.from+100?"":o.sliceDoc(_.from,_.to);if(e&&!_e)return e;let tt=o.facet(searchConfigFacet);return new SearchQuery({search:((a=e==null?void 0:e.literal)!==null&&a!==void 0?a:tt.literal)?_e:_e.replace(/\n/g,"\\n"),caseSensitive:(c=e==null?void 0:e.caseSensitive)!==null&&c!==void 0?c:tt.caseSensitive,literal:(d=e==null?void 0:e.literal)!==null&&d!==void 0?d:tt.literal,regexp:(g=e==null?void 0:e.regexp)!==null&&g!==void 0?g:tt.regexp,wholeWord:(b=e==null?void 0:e.wholeWord)!==null&&b!==void 0?b:tt.wholeWord})}function getSearchInput(o){let e=getPanel(o,createSearchPanel);return e&&e.dom.querySelector("[main-field]")}function selectSearchInput(o){let e=getSearchInput(o);e&&e==o.root.activeElement&&e.select()}const openSearchPanel=o=>{let e=o.state.field(searchState,!1);if(e&&e.panel){let a=getSearchInput(o);if(a&&a!=o.root.activeElement){let c=defaultQuery(o.state,e.query.spec);c.valid&&o.dispatch({effects:setSearchQuery.of(c)}),a.focus(),a.select()}}else o.dispatch({effects:[togglePanel$1.of(!0),e?setSearchQuery.of(defaultQuery(o.state,e.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=o=>{let e=o.state.field(searchState,!1);if(!e||!e.panel)return!1;let a=getPanel(o,createSearchPanel);return a&&a.dom.contains(o.root.activeElement)&&o.focus(),o.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(e){this.view=e;let a=this.query=e.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:a.search,placeholder:phrase(e,"Find"),"aria-label":phrase(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:a.replace,placeholder:phrase(e,"Replace"),"aria-label":phrase(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:a.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:a.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:a.wholeWord,onchange:this.commit});function c(d,g,b){return crelt("button",{class:"cm-button",name:d,onclick:g,type:"button"},b)}this.dom=crelt("div",{onkeydown:d=>this.keydown(d),class:"cm-search"},[this.searchField,c("next",()=>findNext(e),[phrase(e,"next")]),c("prev",()=>findPrevious(e),[phrase(e,"previous")]),c("select",()=>selectMatches(e),[phrase(e,"all")]),crelt("label",null,[this.caseField,phrase(e,"match case")]),crelt("label",null,[this.reField,phrase(e,"regexp")]),crelt("label",null,[this.wordField,phrase(e,"by word")]),...e.state.readOnly?[]:[crelt("br"),this.replaceField,c("replace",()=>replaceNext(e),[phrase(e,"replace")]),c("replaceAll",()=>replaceAll(e),[phrase(e,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(e),"aria-label":phrase(e,"close"),type:"button"},[""])])}commit(){let e=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:setSearchQuery.of(e)}))}keydown(e){runScopeHandlers(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?findPrevious:findNext)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),replaceNext(this.view))}update(e){for(let a of e.transactions)for(let c of a.effects)c.is(setSearchQuery)&&!c.value.eq(this.query)&&this.setQuery(c.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(o,e){return o.state.phrase(e)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(o,{from:e,to:a}){let c=o.state.doc.lineAt(e),d=o.state.doc.lineAt(a).to,g=Math.max(c.from,e-AnnounceMargin),b=Math.min(d,a+AnnounceMargin),_=o.state.sliceDoc(g,b);if(g!=c.from){for(let _e=0;_e<AnnounceMargin;_e++)if(!Break.test(_[_e+1])&&Break.test(_[_e])){_=_.slice(_e);break}}if(b!=d){for(let _e=_.length-1;_e>_.length-AnnounceMargin;_e--)if(!Break.test(_[_e-1])&&Break.test(_[_e])){_=_.slice(0,_e);break}}return EditorView.announce.of(`${o.state.phrase("current match")}. ${_} ${o.state.phrase("on line")} ${c.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2];class CompletionContext{constructor(e,a,c,d){this.state=e,this.pos=a,this.explicit=c,this.view=d,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let a=syntaxTree(this.state).resolveInner(this.pos,-1);for(;a&&e.indexOf(a.name)<0;)a=a.parent;return a?{from:a.from,to:this.pos,text:this.state.sliceDoc(a.from,this.pos),type:a.type}:null}matchBefore(e){let a=this.state.doc.lineAt(this.pos),c=Math.max(a.from,this.pos-250),d=a.text.slice(c-a.from,this.pos-a.from),g=d.search(ensureAnchor(e,!1));return g<0?null:{from:c+g,to:this.pos,text:d.slice(g)}}get aborted(){return this.abortListeners==null}addEventListener(e,a,c){e=="abort"&&this.abortListeners&&(this.abortListeners.push(a),c&&c.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(o){let e=Object.keys(o).join(""),a=/\w/.test(e);return a&&(e=e.replace(/\w/g,"")),`[${a?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(o){let e=Object.create(null),a=Object.create(null);for(let{label:d}of o){e[d[0]]=!0;for(let g=1;g<d.length;g++)a[d[g]]=!0}let c=toSet(e)+toSet(a)+"*$";return[new RegExp("^"+c),new RegExp(c)]}function completeFromList(o){let e=o.map(d=>typeof d=="string"?{label:d}:d),[a,c]=e.every(d=>/^\w+$/.test(d.label))?[/\w*$/,/\w+$/]:prefixMatch(e);return d=>{let g=d.matchBefore(c);return g||d.explicit?{from:g?g.from:d.pos,options:e,validFor:a}:null}}function ifNotIn(o,e){return a=>{for(let c=syntaxTree(a.state).resolveInner(a.pos,-1);c;c=c.parent){if(o.indexOf(c.name)>-1)return null;if(c.type.isTop)break}return e(a)}}class Option{constructor(e,a,c,d){this.completion=e,this.source=a,this.match=c,this.score=d}}function cur(o){return o.selection.main.from}function ensureAnchor(o,e){var a;let{source:c}=o,d=e&&c[0]!="^",g=c[c.length-1]!="$";return!d&&!g?o:new RegExp(`${d?"^":""}(?:${c})${g?"$":""}`,(a=o.flags)!==null&&a!==void 0?a:o.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(o,e,a,c){let{main:d}=o.selection,g=a-d.from,b=c-d.from;return Object.assign(Object.assign({},o.changeByRange(_=>{if(_!=d&&a!=c&&o.sliceDoc(_.from+g,_.from+b)!=o.sliceDoc(a,c))return{range:_};let _e=o.toText(e);return{changes:{from:_.from+g,to:c==d.from?_.to:_.from+b,insert:_e},range:EditorSelection.cursor(_.from+g+_e.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const SourceCache=new WeakMap;function asSource(o){if(!Array.isArray(o))return o;let e=SourceCache.get(o);return e||SourceCache.set(o,e=completeFromList(o)),e}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let a=0;a<e.length;){let c=codePointAt(e,a),d=codePointSize(c);this.chars.push(c);let g=e.slice(a,a+d),b=g.toUpperCase();this.folded.push(codePointAt(b==g?g.toLowerCase():b,0)),a+=d}this.astral=e.length!=this.chars.length}ret(e,a){return this.score=e,this.matched=a,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:a,folded:c,any:d,precise:g,byWord:b}=this;if(a.length==1){let gt=codePointAt(e,0),St=codePointSize(gt),Tt=St==e.length?0:-100;if(gt!=a[0])if(gt==c[0])Tt+=-200;else return null;return this.ret(Tt,[0,St])}let _=e.indexOf(this.pattern);if(_==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let _e=a.length,tt=0;if(_<0){for(let gt=0,St=Math.min(e.length,200);gt<St&&tt<_e;){let Tt=codePointAt(e,gt);(Tt==a[tt]||Tt==c[tt])&&(d[tt++]=gt),gt+=codePointSize(Tt)}if(tt<_e)return null}let nt=0,it=0,st=!1,ot=0,ht=-1,dt=-1,Et=/[a-z]/.test(e),pt=!0;for(let gt=0,St=Math.min(e.length,200),Tt=0;gt<St&&it<_e;){let bt=codePointAt(e,gt);_<0&&(nt<_e&&bt==a[nt]&&(g[nt++]=gt),ot<_e&&(bt==a[ot]||bt==c[ot]?(ot==0&&(ht=gt),dt=gt+1,ot++):ot=0));let vt,kt=bt<255?bt>=48&&bt<=57||bt>=97&&bt<=122?2:bt>=65&&bt<=90?1:0:(vt=fromCodePoint$1(bt))!=vt.toLowerCase()?1:vt!=vt.toUpperCase()?2:0;(!gt||kt==1&&Et||Tt==0&&kt!=0)&&(a[it]==bt||c[it]==bt&&(st=!0)?b[it++]=gt:b.length&&(pt=!1)),Tt=kt,gt+=codePointSize(bt)}return it==_e&&b[0]==0&&pt?this.result(-100+(st?-200:0),b,e):ot==_e&&ht==0?this.ret(-200-e.length+(dt==e.length?0:-100),[0,dt]):_>-1?this.ret(-700-e.length,[_,_+this.pattern.length]):ot==_e?this.ret(-900-e.length,[ht,dt]):it==_e?this.result(-100+(st?-200:0)+-700+(pt?0:-1100),b,e):a.length==2?null:this.result((d[0]?-700:0)+-200+-1100,d,e)}result(e,a,c){let d=[],g=0;for(let b of a){let _=b+(this.astral?codePointSize(codePointAt(c,b)):1);g&&d[g-1]==b?d[g-1]=_:(d[g++]=b,d[g++]=_)}return this.ret(e-c.length,d)}}class StrictMatcher{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let a=e.slice(0,this.pattern.length),c=a==this.pattern?0:a.toLowerCase()==this.folded?-200:null;return c==null?null:(this.matched=[0,a.length],this.score=c+(e.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(o){return combineConfig(o,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(e,a)=>e.label.localeCompare(a.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,a)=>e&&a,closeOnBlur:(e,a)=>e&&a,icons:(e,a)=>e&&a,tooltipClass:(e,a)=>c=>joinClass(e(c),a(c)),optionClass:(e,a)=>c=>joinClass(e(c),a(c)),addToOptions:(e,a)=>e.concat(a),filterStrict:(e,a)=>e||a})}});function joinClass(o,e){return o?e?o+" "+e:o:e}function defaultPositionInfo(o,e,a,c,d,g){let b=o.textDirection==Direction.RTL,_=b,_e=!1,tt="top",nt,it,st=e.left-d.left,ot=d.right-e.right,ht=c.right-c.left,dt=c.bottom-c.top;if(_&&st<Math.min(ht,ot)?_=!1:!_&&ot<Math.min(ht,st)&&(_=!0),ht<=(_?st:ot))nt=Math.max(d.top,Math.min(a.top,d.bottom-dt))-e.top,it=Math.min(400,_?st:ot);else{_e=!0,it=Math.min(400,(b?e.right:d.right-e.left)-30);let gt=d.bottom-e.bottom;gt>=dt||gt>e.top?nt=a.bottom-e.top:(tt="bottom",nt=e.bottom-a.top)}let Et=(e.bottom-e.top)/g.offsetHeight,pt=(e.right-e.left)/g.offsetWidth;return{style:`${tt}: ${nt/Et}px; max-width: ${it/pt}px`,class:"cm-completionInfo-"+(_e?b?"left-narrow":"right-narrow":_?"left":"right")}}function optionContent(o){let e=o.addToOptions.slice();return o.icons&&e.push({render(a){let c=document.createElement("div");return c.classList.add("cm-completionIcon"),a.type&&c.classList.add(...a.type.split(/\s+/g).map(d=>"cm-completionIcon-"+d)),c.setAttribute("aria-hidden","true"),c},position:20}),e.push({render(a,c,d,g){let b=document.createElement("span");b.className="cm-completionLabel";let _=a.displayLabel||a.label,_e=0;for(let tt=0;tt<g.length;){let nt=g[tt++],it=g[tt++];nt>_e&&b.appendChild(document.createTextNode(_.slice(_e,nt)));let st=b.appendChild(document.createElement("span"));st.appendChild(document.createTextNode(_.slice(nt,it))),st.className="cm-completionMatchedText",_e=it}return _e<_.length&&b.appendChild(document.createTextNode(_.slice(_e))),b},position:50},{render(a){if(!a.detail)return null;let c=document.createElement("span");return c.className="cm-completionDetail",c.textContent=a.detail,c},position:80}),e.sort((a,c)=>a.position-c.position).map(a=>a.render)}function rangeAroundSelected(o,e,a){if(o<=a)return{from:0,to:o};if(e<0&&(e=0),e<=o>>1){let d=Math.floor(e/a);return{from:d*a,to:(d+1)*a}}let c=Math.floor((o-e)/a);return{from:o-(c+1)*a,to:o-c*a}}class CompletionTooltip{constructor(e,a,c){this.view=e,this.stateField=a,this.applyCompletion=c,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:_e=>this.placeInfo(_e),key:this},this.space=null,this.currentClass="";let d=e.state.field(a),{options:g,selected:b}=d.open,_=e.state.facet(completionConfig);this.optionContent=optionContent(_),this.optionClass=_.optionClass,this.tooltipClass=_.tooltipClass,this.range=rangeAroundSelected(g.length,b,_.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",_e=>{let{options:tt}=e.state.field(a).open;for(let nt=_e.target,it;nt&&nt!=this.dom;nt=nt.parentNode)if(nt.nodeName=="LI"&&(it=/-(\d+)$/.exec(nt.id))&&+it[1]<tt.length){this.applyCompletion(e,tt[+it[1]]),_e.preventDefault();return}}),this.dom.addEventListener("focusout",_e=>{let tt=e.state.field(this.stateField,!1);tt&&tt.tooltip&&e.state.facet(completionConfig).closeOnBlur&&_e.relatedTarget!=e.contentDOM&&e.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(g,d.id)}mount(){this.updateSel()}showOptions(e,a){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,a,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var a;let c=e.state.field(this.stateField),d=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),c!=d){let{options:g,selected:b,disabled:_}=c.open;(!d.open||d.open.options!=g)&&(this.range=rangeAroundSelected(g.length,b,e.state.facet(completionConfig).maxRenderedOptions),this.showOptions(g,c.id)),this.updateSel(),_!=((a=d.open)===null||a===void 0?void 0:a.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!_)}}updateTooltipClass(e){let a=this.tooltipClass(e);if(a!=this.currentClass){for(let c of this.currentClass.split(" "))c&&this.dom.classList.remove(c);for(let c of a.split(" "))c&&this.dom.classList.add(c);this.currentClass=a}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),a=e.open;if((a.selected>-1&&a.selected<this.range.from||a.selected>=this.range.to)&&(this.range=rangeAroundSelected(a.options.length,a.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(a.options,e.id)),this.updateSelectedOption(a.selected)){this.destroyInfo();let{completion:c}=a.options[a.selected],{info:d}=c;if(!d)return;let g=typeof d=="string"?document.createTextNode(d):d(c);if(!g)return;"then"in g?g.then(b=>{b&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(b,c)}).catch(b=>logException(this.view.state,b,"completion info")):this.addInfoPane(g,c)}}addInfoPane(e,a){this.destroyInfo();let c=this.info=document.createElement("div");if(c.className="cm-tooltip cm-completionInfo",e.nodeType!=null)c.appendChild(e),this.infoDestroy=null;else{let{dom:d,destroy:g}=e;c.appendChild(d),this.infoDestroy=g||null}this.dom.appendChild(c),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let a=null;for(let c=this.list.firstChild,d=this.range.from;c;c=c.nextSibling,d++)c.nodeName!="LI"||!c.id?d--:d==e?c.hasAttribute("aria-selected")||(c.setAttribute("aria-selected","true"),a=c):c.hasAttribute("aria-selected")&&c.removeAttribute("aria-selected");return a&&scrollIntoView(this.list,a),a}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let a=this.dom.getBoundingClientRect(),c=this.info.getBoundingClientRect(),d=e.getBoundingClientRect(),g=this.space;if(!g){let b=this.dom.ownerDocument.defaultView||window;g={left:0,top:0,right:b.innerWidth,bottom:b.innerHeight}}return d.top>Math.min(g.bottom,a.bottom)-10||d.bottom<Math.max(g.top,a.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,a,d,c,g,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,a,c){const d=document.createElement("ul");d.id=a,d.setAttribute("role","listbox"),d.setAttribute("aria-expanded","true"),d.setAttribute("aria-label",this.view.state.phrase("Completions"));let g=null;for(let b=c.from;b<c.to;b++){let{completion:_,match:_e}=e[b],{section:tt}=_;if(tt){let st=typeof tt=="string"?tt:tt.name;if(st!=g&&(b>c.from||c.from==0))if(g=st,typeof tt!="string"&&tt.header)d.appendChild(tt.header(tt));else{let ot=d.appendChild(document.createElement("completion-section"));ot.textContent=st}}const nt=d.appendChild(document.createElement("li"));nt.id=a+"-"+b,nt.setAttribute("role","option");let it=this.optionClass(_);it&&(nt.className=it);for(let st of this.optionContent){let ot=st(_,this.view.state,this.view,_e);ot&&nt.appendChild(ot)}}return c.from&&d.classList.add("cm-completionListIncompleteTop"),c.to<e.length&&d.classList.add("cm-completionListIncompleteBottom"),d}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(o,e){return a=>new CompletionTooltip(a,o,e)}function scrollIntoView(o,e){let a=o.getBoundingClientRect(),c=e.getBoundingClientRect(),d=a.height/o.offsetHeight;c.top<a.top?o.scrollTop-=(a.top-c.top)/d:c.bottom>a.bottom&&(o.scrollTop+=(c.bottom-a.bottom)/d)}function score(o){return(o.boost||0)*100+(o.apply?10:0)+(o.info?5:0)+(o.type?1:0)}function sortOptions(o,e){let a=[],c=null,d=tt=>{a.push(tt);let{section:nt}=tt.completion;if(nt){c||(c=[]);let it=typeof nt=="string"?nt:nt.name;c.some(st=>st.name==it)||c.push(typeof nt=="string"?{name:it}:nt)}},g=e.facet(completionConfig);for(let tt of o)if(tt.hasResult()){let nt=tt.result.getMatch;if(tt.result.filter===!1)for(let it of tt.result.options)d(new Option(it,tt.source,nt?nt(it):[],1e9-a.length));else{let it=e.sliceDoc(tt.from,tt.to),st,ot=g.filterStrict?new StrictMatcher(it):new FuzzyMatcher(it);for(let ht of tt.result.options)if(st=ot.match(ht.label)){let dt=ht.displayLabel?nt?nt(ht,st.matched):[]:st.matched;d(new Option(ht,tt.source,dt,st.score+(ht.boost||0)))}}}if(c){let tt=Object.create(null),nt=0,it=(st,ot)=>{var ht,dt;return((ht=st.rank)!==null&&ht!==void 0?ht:1e9)-((dt=ot.rank)!==null&&dt!==void 0?dt:1e9)||(st.name<ot.name?-1:1)};for(let st of c.sort(it))nt-=1e5,tt[st.name]=nt;for(let st of a){let{section:ot}=st.completion;ot&&(st.score+=tt[typeof ot=="string"?ot:ot.name])}}let b=[],_=null,_e=g.compareCompletions;for(let tt of a.sort((nt,it)=>it.score-nt.score||_e(nt.completion,it.completion))){let nt=tt.completion;!_||_.label!=nt.label||_.detail!=nt.detail||_.type!=null&&nt.type!=null&&_.type!=nt.type||_.apply!=nt.apply||_.boost!=nt.boost?b.push(tt):score(tt.completion)>score(_)&&(b[b.length-1]=tt),_=tt.completion}return b}class CompletionDialog{constructor(e,a,c,d,g,b){this.options=e,this.attrs=a,this.tooltip=c,this.timestamp=d,this.selected=g,this.disabled=b}setSelected(e,a){return e==this.selected||e>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(a,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,a,c,d,g){let b=sortOptions(e,a);if(!b.length)return d&&e.some(_e=>_e.state==1)?new CompletionDialog(d.options,d.attrs,d.tooltip,d.timestamp,d.selected,!0):null;let _=a.facet(completionConfig).selectOnOpen?0:-1;if(d&&d.selected!=_&&d.selected!=-1){let _e=d.options[d.selected].completion;for(let tt=0;tt<b.length;tt++)if(b[tt].completion==_e){_=tt;break}}return new CompletionDialog(b,makeAttrs(c,_),{pos:e.reduce((_e,tt)=>tt.hasResult()?Math.min(_e,tt.from):_e,1e8),create:createTooltip,above:g.aboveCursor},d?d.timestamp:Date.now(),_,!1)}map(e){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class CompletionState{constructor(e,a,c){this.active=e,this.id=a,this.open=c}static start(){return new CompletionState(none$1,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:a}=e,c=a.facet(completionConfig),g=(c.override||a.languageDataAt("autocomplete",cur(a)).map(asSource)).map(_=>(this.active.find(tt=>tt.source==_)||new ActiveSource(_,this.active.some(tt=>tt.state!=0)?1:0)).update(e,c));g.length==this.active.length&&g.every((_,_e)=>_==this.active[_e])&&(g=this.active);let b=this.open;b&&e.docChanged&&(b=b.map(e.changes)),e.selection||g.some(_=>_.hasResult()&&e.changes.touchesRange(_.from,_.to))||!sameResults(g,this.active)?b=CompletionDialog.build(g,a,this.id,b,c):b&&b.disabled&&!g.some(_=>_.state==1)&&(b=null),!b&&g.every(_=>_.state!=1)&&g.some(_=>_.hasResult())&&(g=g.map(_=>_.hasResult()?new ActiveSource(_.source,0):_));for(let _ of e.effects)_.is(setSelectedEffect)&&(b=b&&b.setSelected(_.value,this.id));return g==this.active&&b==this.open?this:new CompletionState(g,this.id,b)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(o,e){if(o==e)return!0;for(let a=0,c=0;;){for(;a<o.length&&!o[a].hasResult;)a++;for(;c<e.length&&!e[c].hasResult;)c++;let d=a==o.length,g=c==e.length;if(d||g)return d==g;if(o[a++].result!=e[c++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(o,e){let a={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":o};return e>-1&&(a["aria-activedescendant"]=o+"-"+e),a}const none$1=[];function getUpdateType(o,e){if(o.isUserEvent("input.complete")){let c=o.annotation(pickedCompletion);if(c&&e.activateOnCompletion(c))return 12}let a=o.isUserEvent("input.type");return a&&e.activateOnTyping?5:a?1:o.isUserEvent("delete.backward")?2:o.selection?8:o.docChanged?16:0}class ActiveSource{constructor(e,a,c=-1){this.source=e,this.state=a,this.explicitPos=c}hasResult(){return!1}update(e,a){let c=getUpdateType(e,a),d=this;(c&8||c&16&&this.touches(e))&&(d=new ActiveSource(d.source,0)),c&4&&d.state==0&&(d=new ActiveSource(this.source,1)),d=d.updateFor(e,c);for(let g of e.effects)if(g.is(startCompletionEffect))d=new ActiveSource(d.source,1,g.value?cur(e.state):-1);else if(g.is(closeCompletionEffect))d=new ActiveSource(d.source,0);else if(g.is(setActiveEffect))for(let b of g.value)b.source==d.source&&(d=b);return d}updateFor(e,a){return this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ActiveSource(this.source,this.state,e.mapPos(this.explicitPos))}touches(e){return e.changes.touchesRange(cur(e.state))}}class ActiveResult extends ActiveSource{constructor(e,a,c,d,g){super(e,2,a),this.result=c,this.from=d,this.to=g}hasResult(){return!0}updateFor(e,a){var c;if(!(a&3))return this.map(e.changes);let d=this.result;d.map&&!e.changes.empty&&(d=d.map(d,e.changes));let g=e.changes.mapPos(this.from),b=e.changes.mapPos(this.to,1),_=cur(e.state);if((this.explicitPos<0?_<=g:_<this.from)||_>b||!d||a&2&&cur(e.startState)==this.from)return new ActiveSource(this.source,a&4?1:0);let _e=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return checkValid(d.validFor,e.state,g,b)?new ActiveResult(this.source,_e,d,g,b):d.update&&(d=d.update(d,g,b,new CompletionContext(e.state,_,_e>=0)))?new ActiveResult(this.source,_e,d,d.from,(c=d.to)!==null&&c!==void 0?c:cur(e.state)):new ActiveSource(this.source,1,_e)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ActiveResult(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function checkValid(o,e,a,c){if(!o)return!1;let d=e.sliceDoc(a,c);return typeof o=="function"?o(d,a,c,e):ensureAnchor(o,!0).test(d)}const setActiveEffect=StateEffect.define({map(o,e){return o.map(a=>a.map(e))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(o,e){return o.update(e)},provide:o=>[showTooltip.from(o,e=>e.tooltip),EditorView.contentAttributes.from(o,e=>e.attrs)]});function applyCompletion(o,e){const a=e.completion.apply||e.completion.label;let c=o.state.field(completionState).active.find(d=>d.source==e.source);return c instanceof ActiveResult?(typeof a=="string"?o.dispatch(Object.assign(Object.assign({},insertCompletionText(o.state,a,c.from,c.to)),{annotations:pickedCompletion.of(e.completion)})):a(o,e.completion,c.from,c.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(o,e="option"){return a=>{let c=a.state.field(completionState,!1);if(!c||!c.open||c.open.disabled||Date.now()-c.open.timestamp<a.state.facet(completionConfig).interactionDelay)return!1;let d=1,g;e=="page"&&(g=getTooltip(a,c.open.tooltip))&&(d=Math.max(2,Math.floor(g.dom.offsetHeight/g.dom.querySelector("li").offsetHeight)-1));let{length:b}=c.open.options,_=c.open.selected>-1?c.open.selected+d*(o?1:-1):o?0:b-1;return _<0?_=e=="page"?0:b-1:_>=b&&(_=e=="page"?b-1:0),a.dispatch({effects:setSelectedEffect.of(_)}),!0}}const acceptCompletion=o=>{let e=o.state.field(completionState,!1);return o.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<o.state.facet(completionConfig).interactionDelay?!1:applyCompletion(o,e.open.options[e.open.selected])},startCompletion=o=>o.state.field(completionState,!1)?(o.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=o=>{let e=o.state.field(completionState,!1);return!e||!e.active.some(a=>a.state!=0)?!1:(o.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(e,a){this.active=e,this.context=a,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of o.state.field(completionState).active)e.state==1&&this.startQuery(e)}update(o){let e=o.state.field(completionState),a=o.state.facet(completionConfig);if(!o.selectionSet&&!o.docChanged&&o.startState.field(completionState)==e)return;let c=o.transactions.some(g=>{let b=getUpdateType(g,a);return b&8||(g.selection||g.docChanged)&&!(b&3)});for(let g=0;g<this.running.length;g++){let b=this.running[g];if(c||b.context.abortOnDocChange&&o.docChanged||b.updates.length+o.transactions.length>MaxUpdateCount&&Date.now()-b.time>MinAbortTime){for(let _ of b.context.abortListeners)try{_()}catch(_e){logException(this.view.state,_e)}b.context.abortListeners=null,this.running.splice(g--,1)}else b.updates.push(...o.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),o.transactions.some(g=>g.effects.some(b=>b.is(startCompletionEffect)))&&(this.pendingStart=!0);let d=this.pendingStart?50:a.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(g=>g.state==1&&!this.running.some(b=>b.active.source==g.source))?setTimeout(()=>this.startUpdate(),d):-1,this.composing!=0)for(let g of o.transactions)g.isUserEvent("input.type")?this.composing=2:this.composing==2&&g.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:o}=this.view,e=o.field(completionState);for(let a of e.active)a.state==1&&!this.running.some(c=>c.active.source==a.source)&&this.startQuery(a)}startQuery(o){let{state:e}=this.view,a=cur(e),c=new CompletionContext(e,a,o.explicitPos==a,this.view),d=new RunningQuery(o,c);this.running.push(d),Promise.resolve(o.source(c)).then(g=>{d.context.aborted||(d.done=g||null,this.scheduleAccept())},g=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,g)})}scheduleAccept(){this.running.every(o=>o.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var o;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],a=this.view.state.facet(completionConfig);for(let c=0;c<this.running.length;c++){let d=this.running[c];if(d.done===void 0)continue;if(this.running.splice(c--,1),d.done){let b=new ActiveResult(d.active.source,d.active.explicitPos,d.done,d.done.from,(o=d.done.to)!==null&&o!==void 0?o:cur(d.updates.length?d.updates[0].startState:this.view.state));for(let _ of d.updates)b=b.update(_,a);if(b.hasResult()){e.push(b);continue}}let g=this.view.state.field(completionState).active.find(b=>b.source==d.active.source);if(g&&g.state==1)if(d.done==null){let b=new ActiveSource(d.active.source,0);for(let _ of d.updates)b=b.update(_,a);b.state!=1&&e.push(b)}else this.startQuery(g)}e.length&&this.view.dispatch({effects:setActiveEffect.of(e)})}},{eventHandlers:{blur(o){let e=this.view.state.field(completionState,!1);if(e&&e.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let a=e.open&&getTooltip(this.view,e.open.tooltip);(!a||!a.dom.contains(o.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(o,e){let a=e.state.field(completionState,!1);if(!a||!a.open||a.open.disabled||a.open.selected<0||o.key.length>1||o.ctrlKey&&!(windows&&o.altKey)||o.metaKey)return!1;let c=a.open.options[a.open.selected],d=a.active.find(b=>b.source==c.source),g=c.completion.commitCharacters||d.result.commitCharacters;return g&&g.indexOf(o.key)>-1&&applyCompletion(e,c),!1}})),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(e,a,c,d){this.field=e,this.line=a,this.from=c,this.to=d}}class FieldRange{constructor(e,a,c){this.field=e,this.from=a,this.to=c}map(e){let a=e.mapPos(this.from,-1,MapMode.TrackDel),c=e.mapPos(this.to,1,MapMode.TrackDel);return a==null||c==null?null:new FieldRange(this.field,a,c)}}class Snippet{constructor(e,a){this.lines=e,this.fieldPositions=a}instantiate(e,a){let c=[],d=[a],g=e.doc.lineAt(a),b=/^\s*/.exec(g.text)[0];for(let _e of this.lines){if(c.length){let tt=b,nt=/^\t*/.exec(_e)[0].length;for(let it=0;it<nt;it++)tt+=e.facet(indentUnit);d.push(a+tt.length-nt),_e=tt+_e.slice(nt)}c.push(_e),a+=_e.length+1}let _=this.fieldPositions.map(_e=>new FieldRange(_e.field,d[_e.line]+_e.from,d[_e.line]+_e.to));return{text:c,ranges:_}}static parse(e){let a=[],c=[],d=[],g;for(let b of e.split(/\r\n?|\n/)){for(;g=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(b);){let _=g[1]?+g[1]:null,_e=g[2]||g[3]||"",tt=-1,nt=_e.replace(/\\[{}]/g,it=>it[1]);for(let it=0;it<a.length;it++)(_!=null?a[it].seq==_:nt&&a[it].name==nt)&&(tt=it);if(tt<0){let it=0;for(;it<a.length&&(_==null||a[it].seq!=null&&a[it].seq<_);)it++;a.splice(it,0,{seq:_,name:nt}),tt=it;for(let st of d)st.field>=tt&&st.field++}d.push(new FieldPos(tt,c.length,g.index,g.index+nt.length)),b=b.slice(0,g.index)+_e+b.slice(g.index+g[0].length)}b=b.replace(/\\([{}])/g,(_,_e,tt)=>{for(let nt of d)nt.line==c.length&&nt.from>tt&&(nt.from--,nt.to--);return _e}),c.push(b)}return new Snippet(c,d)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let o=document.createElement("span");return o.className="cm-snippetFieldPosition",o}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(e,a){this.ranges=e,this.active=a,this.deco=Decoration.set(e.map(c=>(c.from==c.to?fieldMarker:fieldRange).range(c.from,c.to)))}map(e){let a=[];for(let c of this.ranges){let d=c.map(e);if(!d)return null;a.push(d)}return new ActiveSnippet(a,this.active)}selectionInsideField(e){return e.ranges.every(a=>this.ranges.some(c=>c.field==this.active&&c.from<=a.from&&c.to>=a.to))}}const setActive=StateEffect.define({map(o,e){return o&&o.map(e)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(o,e){for(let a of e.effects){if(a.is(setActive))return a.value;if(a.is(moveToField)&&o)return new ActiveSnippet(o.ranges,a.value)}return o&&e.docChanged&&(o=o.map(e.changes)),o&&e.selection&&!o.selectionInsideField(e.selection)&&(o=null),o},provide:o=>EditorView.decorations.from(o,e=>e?e.deco:Decoration.none)});function fieldSelection(o,e){return EditorSelection.create(o.filter(a=>a.field==e).map(a=>EditorSelection.range(a.from,a.to)))}function snippet(o){let e=Snippet.parse(o);return(a,c,d,g)=>{let{text:b,ranges:_}=e.instantiate(a.state,d),_e={changes:{from:d,to:g,insert:Text.of(b)},scrollIntoView:!0,annotations:c?[pickedCompletion.of(c),Transaction.userEvent.of("input.complete")]:void 0};if(_.length&&(_e.selection=fieldSelection(_,0)),_.some(tt=>tt.field>0)){let tt=new ActiveSnippet(_,0),nt=_e.effects=[setActive.of(tt)];a.state.field(snippetState,!1)===void 0&&nt.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}a.dispatch(a.state.update(_e))}}function moveField(o){return({state:e,dispatch:a})=>{let c=e.field(snippetState,!1);if(!c||o<0&&c.active==0)return!1;let d=c.active+o,g=o>0&&!c.ranges.some(b=>b.field==d+o);return a(e.update({selection:fieldSelection(c.ranges,d),effects:setActive.of(g?null:new ActiveSnippet(c.ranges,d)),scrollIntoView:!0})),!0}}const clearSnippet=({state:o,dispatch:e})=>o.field(snippetState,!1)?(e(o.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(o){return o.length?o[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],o=>o.facet(snippetKeymap)));function snippetCompletion(o,e){return Object.assign(Object.assign({},e),{apply:snippet(o)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(o,e){let a=e.state.field(snippetState,!1),c;if(!a||(c=e.posAtCoords({x:o.clientX,y:o.clientY}))==null)return!1;let d=a.ranges.find(g=>g.from<=c&&g.to>=c);return!d||d.field==a.active?!1:(e.dispatch({selection:fieldSelection(a.ranges,d.field),effects:setActive.of(a.ranges.some(g=>g.field>d.field)?new ActiveSnippet(a.ranges,d.field):null),scrollIntoView:!0}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(o,e){let a=e.mapPos(o,-1,MapMode.TrackAfter);return a??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(o,e){if(o=o.map(e.changes),e.selection){let a=e.state.doc.lineAt(e.selection.main.head);o=o.update({filter:c=>c>=a.from&&c<=a.to})}for(let a of e.effects)a.is(closeBracketEffect)&&(o=o.update({add:[closedBracket.range(a.value,a.value+1)]}));return o}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(o){for(let e=0;e<definedClosing.length;e+=2)if(definedClosing.charCodeAt(e)==o)return definedClosing.charAt(e+1);return fromCodePoint$1(o<128?o:o+1)}function config(o,e){return o.languageDataAt("closeBrackets",e)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((o,e,a,c)=>{if((android$1?o.composing:o.compositionStarted)||o.state.readOnly)return!1;let d=o.state.selection.main;if(c.length>2||c.length==2&&codePointSize(codePointAt(c,0))==1||e!=d.from||a!=d.to)return!1;let g=insertBracket(o.state,c);return g?(o.dispatch(g),!0):!1}),deleteBracketPair=({state:o,dispatch:e})=>{if(o.readOnly)return!1;let c=config(o,o.selection.main.head).brackets||defaults.brackets,d=null,g=o.changeByRange(b=>{if(b.empty){let _=prevChar(o.doc,b.head);for(let _e of c)if(_e==_&&nextChar(o.doc,b.head)==closing(codePointAt(_e,0)))return{changes:{from:b.head-_e.length,to:b.head+_e.length},range:EditorSelection.cursor(b.head-_e.length)}}return{range:d=b}});return d||e(o.update(g,{scrollIntoView:!0,userEvent:"delete.backward"})),!d},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(o,e){let a=config(o,o.selection.main.head),c=a.brackets||defaults.brackets;for(let d of c){let g=closing(codePointAt(d,0));if(e==d)return g==d?handleSame(o,d,c.indexOf(d+d+d)>-1,a):handleOpen(o,d,g,a.before||defaults.before);if(e==g&&closedBracketAt(o,o.selection.main.from))return handleClose(o,d,g)}return null}function closedBracketAt(o,e){let a=!1;return o.field(bracketState).between(0,o.doc.length,c=>{c==e&&(a=!0)}),a}function nextChar(o,e){let a=o.sliceString(e,e+2);return a.slice(0,codePointSize(codePointAt(a,0)))}function prevChar(o,e){let a=o.sliceString(e-2,e);return codePointSize(codePointAt(a,0))==a.length?a:a.slice(1)}function handleOpen(o,e,a,c){let d=null,g=o.changeByRange(b=>{if(!b.empty)return{changes:[{insert:e,from:b.from},{insert:a,from:b.to}],effects:closeBracketEffect.of(b.to+e.length),range:EditorSelection.range(b.anchor+e.length,b.head+e.length)};let _=nextChar(o.doc,b.head);return!_||/\s/.test(_)||c.indexOf(_)>-1?{changes:{insert:e+a,from:b.head},effects:closeBracketEffect.of(b.head+e.length),range:EditorSelection.cursor(b.head+e.length)}:{range:d=b}});return d?null:o.update(g,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(o,e,a){let c=null,d=o.changeByRange(g=>g.empty&&nextChar(o.doc,g.head)==a?{changes:{from:g.head,to:g.head+a.length,insert:a},range:EditorSelection.cursor(g.head+a.length)}:c={range:g});return c?null:o.update(d,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(o,e,a,c){let d=c.stringPrefixes||defaults.stringPrefixes,g=null,b=o.changeByRange(_=>{if(!_.empty)return{changes:[{insert:e,from:_.from},{insert:e,from:_.to}],effects:closeBracketEffect.of(_.to+e.length),range:EditorSelection.range(_.anchor+e.length,_.head+e.length)};let _e=_.head,tt=nextChar(o.doc,_e),nt;if(tt==e){if(nodeStart(o,_e))return{changes:{insert:e+e,from:_e},effects:closeBracketEffect.of(_e+e.length),range:EditorSelection.cursor(_e+e.length)};if(closedBracketAt(o,_e)){let st=a&&o.sliceDoc(_e,_e+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:_e,to:_e+st.length,insert:st},range:EditorSelection.cursor(_e+st.length)}}}else{if(a&&o.sliceDoc(_e-2*e.length,_e)==e+e&&(nt=canStartStringAt(o,_e-2*e.length,d))>-1&&nodeStart(o,nt))return{changes:{insert:e+e+e+e,from:_e},effects:closeBracketEffect.of(_e+e.length),range:EditorSelection.cursor(_e+e.length)};if(o.charCategorizer(_e)(tt)!=CharCategory.Word&&canStartStringAt(o,_e,d)>-1&&!probablyInString(o,_e,e,d))return{changes:{insert:e+e,from:_e},effects:closeBracketEffect.of(_e+e.length),range:EditorSelection.cursor(_e+e.length)}}return{range:g=_}});return g?null:o.update(b,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(o,e){let a=syntaxTree(o).resolveInner(e+1);return a.parent&&a.from==e}function probablyInString(o,e,a,c){let d=syntaxTree(o).resolveInner(e,-1),g=c.reduce((b,_)=>Math.max(b,_.length),0);for(let b=0;b<5;b++){let _=o.sliceDoc(d.from,Math.min(d.to,d.from+a.length+g)),_e=_.indexOf(a);if(!_e||_e>-1&&c.indexOf(_.slice(0,_e))>-1){let nt=d.firstChild;for(;nt&&nt.from==d.from&&nt.to-nt.from>a.length+_e;){if(o.sliceDoc(nt.to-a.length,nt.to)==a)return!1;nt=nt.firstChild}return!0}let tt=d.to==e&&d.parent;if(!tt)break;d=tt}return!1}function canStartStringAt(o,e,a){let c=o.charCategorizer(e);if(c(o.sliceDoc(e-1,e))!=CharCategory.Word)return e;for(let d of a){let g=e-d.length;if(o.sliceDoc(g,e)==d&&c(o.sliceDoc(g-1,g))!=CharCategory.Word)return g}return-1}function autocompletion(o={}){return[commitCharacters,completionState,completionConfig.of(o),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],o=>o.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(e,a,c){this.from=e,this.to=a,this.diagnostic=c}}class LintState{constructor(e,a,c){this.diagnostics=e,this.panel=a,this.selected=c}static init(e,a,c){let d=e,g=c.facet(lintConfig).markerFilter;g&&(d=g(d,c));let b=Decoration.set(d.map(_=>_.from==_.to||_.from==_.to-1&&c.doc.lineAt(_.from).to==_.from?Decoration.widget({widget:new DiagnosticWidget(_),diagnostic:_}).range(_.from):Decoration.mark({attributes:{class:"cm-lintRange cm-lintRange-"+_.severity+(_.markClass?" "+_.markClass:"")},diagnostic:_}).range(_.from,_.to)),!0);return new LintState(b,a,findDiagnostic(b))}}function findDiagnostic(o,e=null,a=0){let c=null;return o.between(a,1e9,(d,g,{spec:b})=>{if(!(e&&b.diagnostic!=e))return c=new SelectedDiagnostic(d,g,b.diagnostic),!1}),c}function hideTooltip(o,e){let a=e.pos,c=e.end||a,d=o.state.facet(lintConfig).hideOn(o,a,c);if(d!=null)return d;let g=o.startState.doc.lineAt(e.pos);return!!(o.effects.some(b=>b.is(setDiagnosticsEffect))||o.changes.touchesRange(g.from,Math.max(g.to,c)))}function maybeEnableLint(o,e){return o.field(lintState,!1)?e:e.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(o,e){if(e.docChanged&&o.diagnostics.size){let a=o.diagnostics.map(e.changes),c=null,d=o.panel;if(o.selected){let g=e.changes.mapPos(o.selected.from,1);c=findDiagnostic(a,o.selected.diagnostic,g)||findDiagnostic(a,null,g)}!a.size&&d&&e.state.facet(lintConfig).autoPanel&&(d=null),o=new LintState(a,d,c)}for(let a of e.effects)if(a.is(setDiagnosticsEffect)){let c=e.state.facet(lintConfig).autoPanel?a.value.length?LintPanel.open:null:o.panel;o=LintState.init(a.value,c,e.state)}else a.is(togglePanel)?o=new LintState(o.diagnostics,a.value?LintPanel.open:null,o.selected):a.is(movePanelSelection)&&(o=new LintState(o.diagnostics,o.panel,a.value));return o},provide:o=>[showPanel.from(o,e=>e.panel),EditorView.decorations.from(o,e=>e.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(o,e,a){let{diagnostics:c}=o.state.field(lintState),d=[],g=2e8,b=0;c.between(e-(a<0?1:0),e+(a>0?1:0),(_e,tt,{spec:nt})=>{e>=_e&&e<=tt&&(_e==tt||(e>_e||a>0)&&(e<tt||a<0))&&(d.push(nt.diagnostic),g=Math.min(_e,g),b=Math.max(tt,b))});let _=o.state.facet(lintConfig).tooltipFilter;return _&&(d=_(d,o.state)),d.length?{pos:g,end:b,above:o.state.doc.lineAt(g).to<b,create(){return{dom:diagnosticsTooltip(o,d)}}}:null}function diagnosticsTooltip(o,e){return crelt("ul",{class:"cm-tooltip-lint"},e.map(a=>renderDiagnostic(o,a,!1)))}const openLintPanel=o=>{let e=o.state.field(lintState,!1);(!e||!e.panel)&&o.dispatch({effects:maybeEnableLint(o.state,[togglePanel.of(!0)])});let a=getPanel(o,LintPanel.open);return a&&a.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=o=>{let e=o.state.field(lintState,!1);return!e||!e.panel?!1:(o.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=o=>{let e=o.state.field(lintState,!1);if(!e)return!1;let a=o.state.selection.main,c=e.diagnostics.iter(a.to+1);return!c.value&&(c=e.diagnostics.iter(0),!c.value||c.from==a.from&&c.to==a.to)?!1:(o.dispatch({selection:{anchor:c.from,head:c.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(o){return Object.assign({sources:o.map(e=>e.source).filter(e=>e!=null)},combineConfig(o.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,a)=>e?a?c=>e(c)||a(c):e:a}))}});function assignKeys(o){let e=[];if(o)e:for(let{name:a}of o){for(let c=0;c<a.length;c++){let d=a[c];if(/[a-zA-Z]/.test(d)&&!e.some(g=>g.toLowerCase()==d.toLowerCase())){e.push(d);continue e}}e.push("")}return e}function renderDiagnostic(o,e,a){var c;let d=a?assignKeys(e.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},crelt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(o):e.message),(c=e.actions)===null||c===void 0?void 0:c.map((g,b)=>{let _=!1,_e=st=>{if(st.preventDefault(),_)return;_=!0;let ot=findDiagnostic(o.state.field(lintState).diagnostics,e);ot&&g.apply(o,ot.from,ot.to)},{name:tt}=g,nt=d[b]?tt.indexOf(d[b]):-1,it=nt<0?tt:[tt.slice(0,nt),crelt("u",tt.slice(nt,nt+1)),tt.slice(nt+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:_e,onmousedown:_e,"aria-label":` Action: ${tt}${nt<0?"":` (access key "${d[b]})"`}.`},it)}),e.source&&crelt("div",{class:"cm-diagnosticSource"},e.source))}class DiagnosticWidget extends WidgetType{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class PanelItem{constructor(e,a){this.diagnostic=a,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(e,a,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(e){this.view=e,this.items=[];let a=d=>{if(d.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(d.keyCode==38||d.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(d.keyCode==40||d.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(d.keyCode==36)this.moveSelection(0);else if(d.keyCode==35)this.moveSelection(this.items.length-1);else if(d.keyCode==13)this.view.focus();else if(d.keyCode>=65&&d.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:g}=this.items[this.selectedIndex],b=assignKeys(g.actions);for(let _=0;_<b.length;_++)if(b[_].toUpperCase().charCodeAt(0)==d.keyCode){let _e=findDiagnostic(this.view.state.field(lintState).diagnostics,g);_e&&g.actions[_].apply(e,_e.from,_e.to)}}else return;d.preventDefault()},c=d=>{for(let g=0;g<this.items.length;g++)this.items[g].dom.contains(d.target)&&this.moveSelection(g)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:a,onclick:c}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(lintState).selected;if(!e)return-1;for(let a=0;a<this.items.length;a++)if(this.items[a].diagnostic==e.diagnostic)return a;return-1}update(){let{diagnostics:e,selected:a}=this.view.state.field(lintState),c=0,d=!1,g=null;for(e.between(0,this.view.state.doc.length,(b,_,{spec:_e})=>{let tt=-1,nt;for(let it=c;it<this.items.length;it++)if(this.items[it].diagnostic==_e.diagnostic){tt=it;break}tt<0?(nt=new PanelItem(this.view,_e.diagnostic),this.items.splice(c,0,nt),d=!0):(nt=this.items[tt],tt>c&&(this.items.splice(c,tt-c),d=!0)),a&&nt.diagnostic==a.diagnostic?nt.dom.hasAttribute("aria-selected")||(nt.dom.setAttribute("aria-selected","true"),g=nt):nt.dom.hasAttribute("aria-selected")&&nt.dom.removeAttribute("aria-selected"),c++});c<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)d=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),d=!0),g?(this.list.setAttribute("aria-activedescendant",g.id),this.view.requestMeasure({key:this,read:()=>({sel:g.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:b,panel:_})=>{let _e=_.height/this.list.offsetHeight;b.top<_.top?this.list.scrollTop-=(_.top-b.top)/_e:b.bottom>_.bottom&&(this.list.scrollTop+=(b.bottom-_.bottom)/_e)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),d&&this.sync()}sync(){let e=this.list.firstChild;function a(){let c=e;e=c.nextSibling,c.remove()}for(let c of this.items)if(c.dom.parentNode==this.list){for(;e!=c.dom;)a();e=c.dom.nextSibling}else this.list.insertBefore(c.dom,e);for(;e;)a()}moveSelection(e){if(this.selectedIndex<0)return;let a=this.view.state.field(lintState),c=findDiagnostic(a.diagnostics,this.items[e].diagnostic);c&&this.view.dispatch({selection:{anchor:c.from,head:c.to},scrollIntoView:!0,effects:movePanelSelection.of(c)})}static open(e){return new LintPanel(e)}}function svg$2(o,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(o)}</svg>')`}function underline(o){return svg$2(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${o}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),lintExtensions=[lintState,EditorView.decorations.compute([lintState],o=>{let{selected:e,panel:a}=o.field(lintState);return!e||!a||e.from==e.to?Decoration.none:Decoration.set([activeMark.range(e.from,e.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme];var basicSetup=function(e){e===void 0&&(e={});var{crosshairCursor:a=!1}=e,c=[];e.closeBracketsKeymap!==!1&&(c=c.concat(closeBracketsKeymap)),e.defaultKeymap!==!1&&(c=c.concat(defaultKeymap)),e.searchKeymap!==!1&&(c=c.concat(searchKeymap)),e.historyKeymap!==!1&&(c=c.concat(historyKeymap)),e.foldKeymap!==!1&&(c=c.concat(foldKeymap)),e.completionKeymap!==!1&&(c=c.concat(completionKeymap)),e.lintKeymap!==!1&&(c=c.concat(lintKeymap));var d=[];return e.lineNumbers!==!1&&d.push(lineNumbers()),e.highlightActiveLineGutter!==!1&&d.push(highlightActiveLineGutter()),e.highlightSpecialChars!==!1&&d.push(highlightSpecialChars()),e.history!==!1&&d.push(history()),e.foldGutter!==!1&&d.push(foldGutter()),e.drawSelection!==!1&&d.push(drawSelection()),e.dropCursor!==!1&&d.push(dropCursor()),e.allowMultipleSelections!==!1&&d.push(EditorState.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&d.push(indentOnInput()),e.syntaxHighlighting!==!1&&d.push(syntaxHighlighting(defaultHighlightStyle,{fallback:!0})),e.bracketMatching!==!1&&d.push(bracketMatching()),e.closeBrackets!==!1&&d.push(closeBrackets()),e.autocompletion!==!1&&d.push(autocompletion()),e.rectangularSelection!==!1&&d.push(rectangularSelection()),a!==!1&&d.push(crosshairCursor()),e.highlightActiveLine!==!1&&d.push(highlightActiveLine()),e.highlightSelectionMatches!==!1&&d.push(highlightSelectionMatches()),e.tabSize&&typeof e.tabSize=="number"&&d.push(indentUnit.of(" ".repeat(e.tabSize))),d.concat([keymap.of(c.flat())]).filter(Boolean)};const chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags$1.keyword,color:violet},{tag:[tags$1.name,tags$1.deleted,tags$1.character,tags$1.propertyName,tags$1.macroName],color:coral},{tag:[tags$1.function(tags$1.variableName),tags$1.labelName],color:malibu},{tag:[tags$1.color,tags$1.constant(tags$1.name),tags$1.standard(tags$1.name)],color:whiskey},{tag:[tags$1.definition(tags$1.name),tags$1.separator],color:ivory},{tag:[tags$1.typeName,tags$1.className,tags$1.number,tags$1.changed,tags$1.annotation,tags$1.modifier,tags$1.self,tags$1.namespace],color:chalky},{tag:[tags$1.operator,tags$1.operatorKeyword,tags$1.url,tags$1.escape,tags$1.regexp,tags$1.link,tags$1.special(tags$1.string)],color:cyan},{tag:[tags$1.meta,tags$1.comment],color:stone},{tag:tags$1.strong,fontWeight:"bold"},{tag:tags$1.emphasis,fontStyle:"italic"},{tag:tags$1.strikethrough,textDecoration:"line-through"},{tag:tags$1.link,color:stone,textDecoration:"underline"},{tag:tags$1.heading,fontWeight:"bold",color:coral},{tag:[tags$1.atom,tags$1.bool,tags$1.special(tags$1.variableName)],color:whiskey},{tag:[tags$1.processingInstruction,tags$1.string,tags$1.inserted],color:sage},{tag:tags$1.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)];var defaultLightThemeOption=EditorView.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),getDefaultExtensions=function(e){e===void 0&&(e={});var{indentWithTab:a=!0,editable:c=!0,readOnly:d=!1,theme:g="light",placeholder:b="",basicSetup:_=!0}=e,_e=[];switch(a&&_e.unshift(keymap.of([indentWithTab])),_&&(typeof _=="boolean"?_e.unshift(basicSetup()):_e.unshift(basicSetup(_))),b&&_e.unshift(placeholder(b)),g){case"light":_e.push(defaultLightThemeOption);break;case"dark":_e.push(oneDark);break;case"none":break;default:_e.push(g);break}return c===!1&&_e.push(EditorView.editable.of(!1)),d&&_e.push(EditorState.readOnly.of(!0)),[..._e]},getStatistics=o=>({line:o.state.doc.lineAt(o.state.selection.main.from),lineCount:o.state.doc.lines,lineBreak:o.state.lineBreak,length:o.state.doc.length,readOnly:o.state.readOnly,tabSize:o.state.tabSize,selection:o.state.selection,selectionAsSingle:o.state.selection.asSingle().main,ranges:o.state.selection.ranges,selectionCode:o.state.sliceDoc(o.state.selection.main.from,o.state.selection.main.to),selections:o.state.selection.ranges.map(e=>o.state.sliceDoc(e.from,e.to)),selectedText:o.state.selection.ranges.some(e=>!e.empty)}),External=Annotation.define(),emptyExtensions=[];function useCodeMirror(o){var{value:e,selection:a,onChange:c,onStatistics:d,onCreateEditor:g,onUpdate:b,extensions:_=emptyExtensions,autoFocus:_e,theme:tt="light",height:nt=null,minHeight:it=null,maxHeight:st=null,width:ot=null,minWidth:ht=null,maxWidth:dt=null,placeholder:Et="",editable:pt=!0,readOnly:gt=!1,indentWithTab:St=!0,basicSetup:Tt=!0,root:bt,initialState:vt}=o,[kt,Nt]=reactExports.useState(),[en,jt]=reactExports.useState(),[tn,Yt]=reactExports.useState(),pn=EditorView.theme({"&":{height:nt,minHeight:it,maxHeight:st,width:ot,minWidth:ht,maxWidth:dt},"& .cm-scroller":{height:"100% !important"}}),mn=EditorView.updateListener.of(hn=>{if(hn.docChanged&&typeof c=="function"&&!hn.transactions.some(wt=>wt.annotation(External))){var zt=hn.state.doc,nn=zt.toString();c(nn,hn)}d&&d(getStatistics(hn))}),dn=getDefaultExtensions({theme:tt,editable:pt,readOnly:gt,placeholder:Et,indentWithTab:St,basicSetup:Tt}),On=[mn,pn,...dn];return b&&typeof b=="function"&&On.push(EditorView.updateListener.of(b)),On=On.concat(_),reactExports.useEffect(()=>{if(kt&&!tn){var hn={doc:e,selection:a,extensions:On},zt=vt?EditorState.fromJSON(vt.json,hn,vt.fields):EditorState.create(hn);if(Yt(zt),!en){var nn=new EditorView({state:zt,parent:kt,root:bt});jt(nn),g&&g(nn,zt)}}return()=>{en&&(Yt(void 0),jt(void 0))}},[kt,tn]),reactExports.useEffect(()=>Nt(o.container),[o.container]),reactExports.useEffect(()=>()=>{en&&(en.destroy(),jt(void 0))},[en]),reactExports.useEffect(()=>{_e&&en&&en.focus()},[_e,en]),reactExports.useEffect(()=>{en&&en.dispatch({effects:StateEffect.reconfigure.of(On)})},[tt,_,nt,it,st,ot,ht,dt,Et,pt,gt,St,Tt,c,b]),reactExports.useEffect(()=>{if(e!==void 0){var hn=en?en.state.doc.toString():"";en&&e!==hn&&en.dispatch({changes:{from:0,to:hn.length,insert:e||""},annotations:[External.of(!0)]})}},[e,en]),{state:tn,setState:Yt,view:en,setView:jt,container:kt,setContainer:Nt}}var _excluded=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],ReactCodeMirror=reactExports.forwardRef((o,e)=>{var{className:a,value:c="",selection:d,extensions:g=[],onChange:b,onStatistics:_,onCreateEditor:_e,onUpdate:tt,autoFocus:nt,theme:it="light",height:st,minHeight:ot,maxHeight:ht,width:dt,minWidth:Et,maxWidth:pt,basicSetup:gt,placeholder:St,indentWithTab:Tt,editable:bt,readOnly:vt,root:kt,initialState:Nt}=o,en=_objectWithoutPropertiesLoose(o,_excluded),jt=reactExports.useRef(null),{state:tn,view:Yt,container:pn}=useCodeMirror({container:jt.current,root:kt,value:c,autoFocus:nt,theme:it,height:st,minHeight:ot,maxHeight:ht,width:dt,minWidth:Et,maxWidth:pt,basicSetup:gt,placeholder:St,indentWithTab:Tt,editable:bt,readOnly:vt,selection:d,onChange:b,onStatistics:_,onCreateEditor:_e,onUpdate:tt,extensions:g,initialState:Nt});if(reactExports.useImperativeHandle(e,()=>({editor:jt.current,state:tn,view:Yt}),[jt,pn,tn,Yt]),typeof c!="string")throw new Error("value must be typeof string but got "+typeof c);var mn=typeof it=="string"?"cm-theme-"+it:"cm-theme";return jsxRuntimeExports.jsx("div",_extends({ref:jt,className:""+mn+(a?" "+a:"")},en))});ReactCodeMirror.displayName="CodeMirror";class CompositeBlock{static create(e,a,c,d,g){let b=d+(d<<8)+e+(a<<4)|0;return new CompositeBlock(e,a,c,b,g,[],[])}constructor(e,a,c,d,g,b,_){this.type=e,this.value=a,this.from=c,this.hash=d,this.end=g,this.children=b,this.positions=_,this.hashProp=[[NodeProp.contextHash,d]]}addChild(e,a){e.prop(NodeProp.contextHash)!=this.hash&&(e=new Tree(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(a)}toTree(e,a=this.end){let c=this.children.length-1;return c>=0&&(a=Math.max(a,this.positions[c]+this.children[c].length+this.from)),new Tree(e.types[this.type],this.children,this.positions,a-this.from).balance({makeTree:(d,g,b)=>new Tree(NodeType.none,d,g,b,this.hashProp)})}}var Type$1;(function(o){o[o.Document=1]="Document",o[o.CodeBlock=2]="CodeBlock",o[o.FencedCode=3]="FencedCode",o[o.Blockquote=4]="Blockquote",o[o.HorizontalRule=5]="HorizontalRule",o[o.BulletList=6]="BulletList",o[o.OrderedList=7]="OrderedList",o[o.ListItem=8]="ListItem",o[o.ATXHeading1=9]="ATXHeading1",o[o.ATXHeading2=10]="ATXHeading2",o[o.ATXHeading3=11]="ATXHeading3",o[o.ATXHeading4=12]="ATXHeading4",o[o.ATXHeading5=13]="ATXHeading5",o[o.ATXHeading6=14]="ATXHeading6",o[o.SetextHeading1=15]="SetextHeading1",o[o.SetextHeading2=16]="SetextHeading2",o[o.HTMLBlock=17]="HTMLBlock",o[o.LinkReference=18]="LinkReference",o[o.Paragraph=19]="Paragraph",o[o.CommentBlock=20]="CommentBlock",o[o.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",o[o.Escape=22]="Escape",o[o.Entity=23]="Entity",o[o.HardBreak=24]="HardBreak",o[o.Emphasis=25]="Emphasis",o[o.StrongEmphasis=26]="StrongEmphasis",o[o.Link=27]="Link",o[o.Image=28]="Image",o[o.InlineCode=29]="InlineCode",o[o.HTMLTag=30]="HTMLTag",o[o.Comment=31]="Comment",o[o.ProcessingInstruction=32]="ProcessingInstruction",o[o.Autolink=33]="Autolink",o[o.HeaderMark=34]="HeaderMark",o[o.QuoteMark=35]="QuoteMark",o[o.ListMark=36]="ListMark",o[o.LinkMark=37]="LinkMark",o[o.EmphasisMark=38]="EmphasisMark",o[o.CodeMark=39]="CodeMark",o[o.CodeText=40]="CodeText",o[o.CodeInfo=41]="CodeInfo",o[o.LinkTitle=42]="LinkTitle",o[o.LinkLabel=43]="LinkLabel",o[o.URL=44]="URL"})(Type$1||(Type$1={}));class LeafBlock{constructor(e,a){this.start=e,this.content=a,this.marks=[],this.parsers=[]}}class Line{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return skipSpace(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,a=0,c=0){for(let d=a;d<e;d++)c+=this.text.charCodeAt(d)==9?4-c%4:1;return c}findColumn(e){let a=0;for(let c=0;a<this.text.length&&c<e;a++)c+=this.text.charCodeAt(a)==9?4-c%4:1;return a}scrub(){if(!this.baseIndent)return this.text;let e="";for(let a=0;a<this.basePos;a++)e+=" ";return e+this.text.slice(this.basePos)}}function skipForList(o,e,a){if(a.pos==a.text.length||o!=e.block&&a.indent>=e.stack[a.depth+1].value+a.baseIndent)return!0;if(a.indent>=a.baseIndent+4)return!1;let c=(o.type==Type$1.OrderedList?isOrderedList:isBulletList)(a,e,!1);return c>0&&(o.type!=Type$1.BulletList||isHorizontalRule(a,e,!1)<0)&&a.text.charCodeAt(a.pos+c-1)==o.value}const DefaultSkipMarkup={[Type$1.Blockquote](o,e,a){return a.next!=62?!1:(a.markers.push(elt(Type$1.QuoteMark,e.lineStart+a.pos,e.lineStart+a.pos+1)),a.moveBase(a.pos+(space$3(a.text.charCodeAt(a.pos+1))?2:1)),o.end=e.lineStart+a.text.length,!0)},[Type$1.ListItem](o,e,a){return a.indent<a.baseIndent+o.value&&a.next>-1?!1:(a.moveBaseColumn(a.baseIndent+o.value),!0)},[Type$1.OrderedList]:skipForList,[Type$1.BulletList]:skipForList,[Type$1.Document](){return!0}};function space$3(o){return o==32||o==9||o==10||o==13}function skipSpace(o,e=0){for(;e<o.length&&space$3(o.charCodeAt(e));)e++;return e}function skipSpaceBack(o,e,a){for(;e>a&&space$3(o.charCodeAt(e-1));)e--;return e}function isFencedCode(o){if(o.next!=96&&o.next!=126)return-1;let e=o.pos+1;for(;e<o.text.length&&o.text.charCodeAt(e)==o.next;)e++;if(e<o.pos+3)return-1;if(o.next==96){for(let a=e;a<o.text.length;a++)if(o.text.charCodeAt(a)==96)return-1}return e}function isBlockquote(o){return o.next!=62?-1:o.text.charCodeAt(o.pos+1)==32?2:1}function isHorizontalRule(o,e,a){if(o.next!=42&&o.next!=45&&o.next!=95)return-1;let c=1;for(let d=o.pos+1;d<o.text.length;d++){let g=o.text.charCodeAt(d);if(g==o.next)c++;else if(!space$3(g))return-1}return a&&o.next==45&&isSetextUnderline(o)>-1&&o.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(DefaultLeafBlocks.SetextHeading)>-1||c<3?-1:1}function inList(o,e){for(let a=o.stack.length-1;a>=0;a--)if(o.stack[a].type==e)return!0;return!1}function isBulletList(o,e,a){return(o.next==45||o.next==43||o.next==42)&&(o.pos==o.text.length-1||space$3(o.text.charCodeAt(o.pos+1)))&&(!a||inList(e,Type$1.BulletList)||o.skipSpace(o.pos+2)<o.text.length)?1:-1}function isOrderedList(o,e,a){let c=o.pos,d=o.next;for(;d>=48&&d<=57;){c++;if(c==o.text.length)return-1;d=o.text.charCodeAt(c)}return c==o.pos||c>o.pos+9||d!=46&&d!=41||c<o.text.length-1&&!space$3(o.text.charCodeAt(c+1))||a&&!inList(e,Type$1.OrderedList)&&(o.skipSpace(c+1)==o.text.length||c>o.pos+1||o.next!=49)?-1:c+1-o.pos}function isAtxHeading(o){if(o.next!=35)return-1;let e=o.pos+1;for(;e<o.text.length&&o.text.charCodeAt(e)==35;)e++;if(e<o.text.length&&o.text.charCodeAt(e)!=32)return-1;let a=e-o.pos;return a>6?-1:a}function isSetextUnderline(o){if(o.next!=45&&o.next!=61||o.indent>=o.baseIndent+4)return-1;let e=o.pos+1;for(;e<o.text.length&&o.text.charCodeAt(e)==o.next;)e++;let a=e;for(;e<o.text.length&&space$3(o.text.charCodeAt(e));)e++;return e==o.text.length?a:-1}const EmptyLine=/^[ \t]*$/,CommentEnd=/-->/,ProcessingEnd=/\?>/,HTMLBlockStyle=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,CommentEnd],[/^\s*<\?/,ProcessingEnd],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,EmptyLine],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,EmptyLine]];function isHTMLBlock(o,e,a){if(o.next!=60)return-1;let c=o.text.slice(o.pos);for(let d=0,g=HTMLBlockStyle.length-(a?1:0);d<g;d++)if(HTMLBlockStyle[d][0].test(c))return d;return-1}function getListIndent(o,e){let a=o.countIndent(e,o.pos,o.indent),c=o.countIndent(o.skipSpace(e),e,a);return c>=a+5?a+1:c}function addCodeText(o,e,a){let c=o.length-1;c>=0&&o[c].to==e&&o[c].type==Type$1.CodeText?o[c].to=a:o.push(elt(Type$1.CodeText,e,a))}const DefaultBlockParsers={LinkReference:void 0,IndentedCode(o,e){let a=e.baseIndent+4;if(e.indent<a)return!1;let c=e.findColumn(a),d=o.lineStart+c,g=o.lineStart+e.text.length,b=[],_=[];for(addCodeText(b,d,g);o.nextLine()&&e.depth>=o.stack.length;)if(e.pos==e.text.length){addCodeText(_,o.lineStart-1,o.lineStart);for(let _e of e.markers)_.push(_e)}else{if(e.indent<a)break;{if(_.length){for(let tt of _)tt.type==Type$1.CodeText?addCodeText(b,tt.from,tt.to):b.push(tt);_=[]}addCodeText(b,o.lineStart-1,o.lineStart);for(let tt of e.markers)b.push(tt);g=o.lineStart+e.text.length;let _e=o.lineStart+e.findColumn(e.baseIndent+4);_e<g&&addCodeText(b,_e,g)}}return _.length&&(_=_.filter(_e=>_e.type!=Type$1.CodeText),_.length&&(e.markers=_.concat(e.markers))),o.addNode(o.buffer.writeElements(b,-d).finish(Type$1.CodeBlock,g-d),d),!0},FencedCode(o,e){let a=isFencedCode(e);if(a<0)return!1;let c=o.lineStart+e.pos,d=e.next,g=a-e.pos,b=e.skipSpace(a),_=skipSpaceBack(e.text,e.text.length,b),_e=[elt(Type$1.CodeMark,c,c+g)];b<_&&_e.push(elt(Type$1.CodeInfo,o.lineStart+b,o.lineStart+_));for(let tt=!0;o.nextLine()&&e.depth>=o.stack.length;tt=!1){let nt=e.pos;if(e.indent-e.baseIndent<4)for(;nt<e.text.length&&e.text.charCodeAt(nt)==d;)nt++;if(nt-e.pos>=g&&e.skipSpace(nt)==e.text.length){for(let it of e.markers)_e.push(it);_e.push(elt(Type$1.CodeMark,o.lineStart+e.pos,o.lineStart+nt)),o.nextLine();break}else{tt||addCodeText(_e,o.lineStart-1,o.lineStart);for(let ot of e.markers)_e.push(ot);let it=o.lineStart+e.basePos,st=o.lineStart+e.text.length;it<st&&addCodeText(_e,it,st)}}return o.addNode(o.buffer.writeElements(_e,-c).finish(Type$1.FencedCode,o.prevLineEnd()-c),c),!0},Blockquote(o,e){let a=isBlockquote(e);return a<0?!1:(o.startContext(Type$1.Blockquote,e.pos),o.addNode(Type$1.QuoteMark,o.lineStart+e.pos,o.lineStart+e.pos+1),e.moveBase(e.pos+a),null)},HorizontalRule(o,e){if(isHorizontalRule(e,o,!1)<0)return!1;let a=o.lineStart+e.pos;return o.nextLine(),o.addNode(Type$1.HorizontalRule,a),!0},BulletList(o,e){let a=isBulletList(e,o,!1);if(a<0)return!1;o.block.type!=Type$1.BulletList&&o.startContext(Type$1.BulletList,e.basePos,e.next);let c=getListIndent(e,e.pos+1);return o.startContext(Type$1.ListItem,e.basePos,c-e.baseIndent),o.addNode(Type$1.ListMark,o.lineStart+e.pos,o.lineStart+e.pos+a),e.moveBaseColumn(c),null},OrderedList(o,e){let a=isOrderedList(e,o,!1);if(a<0)return!1;o.block.type!=Type$1.OrderedList&&o.startContext(Type$1.OrderedList,e.basePos,e.text.charCodeAt(e.pos+a-1));let c=getListIndent(e,e.pos+a);return o.startContext(Type$1.ListItem,e.basePos,c-e.baseIndent),o.addNode(Type$1.ListMark,o.lineStart+e.pos,o.lineStart+e.pos+a),e.moveBaseColumn(c),null},ATXHeading(o,e){let a=isAtxHeading(e);if(a<0)return!1;let c=e.pos,d=o.lineStart+c,g=skipSpaceBack(e.text,e.text.length,c),b=g;for(;b>c&&e.text.charCodeAt(b-1)==e.next;)b--;(b==g||b==c||!space$3(e.text.charCodeAt(b-1)))&&(b=e.text.length);let _=o.buffer.write(Type$1.HeaderMark,0,a).writeElements(o.parser.parseInline(e.text.slice(c+a+1,b),d+a+1),-d);b<e.text.length&&_.write(Type$1.HeaderMark,b-c,g-c);let _e=_.finish(Type$1.ATXHeading1-1+a,e.text.length-c);return o.nextLine(),o.addNode(_e,d),!0},HTMLBlock(o,e){let a=isHTMLBlock(e,o,!1);if(a<0)return!1;let c=o.lineStart+e.pos,d=HTMLBlockStyle[a][1],g=[],b=d!=EmptyLine;for(;!d.test(e.text)&&o.nextLine();){if(e.depth<o.stack.length){b=!1;break}for(let tt of e.markers)g.push(tt)}b&&o.nextLine();let _=d==CommentEnd?Type$1.CommentBlock:d==ProcessingEnd?Type$1.ProcessingInstructionBlock:Type$1.HTMLBlock,_e=o.prevLineEnd();return o.addNode(o.buffer.writeElements(g,-c).finish(_,_e-c),c),!0},SetextHeading:void 0};class LinkReferenceParser{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,a,c){if(this.stage==-1)return!1;let d=c.content+`
`+a.scrub(),g=this.advance(d);return g>-1&&g<d.length?this.complete(e,c,g):!1}finish(e,a){return(this.stage==2||this.stage==3)&&skipSpace(a.content,this.pos)==a.content.length?this.complete(e,a,a.content.length):!1}complete(e,a,c){return e.addLeafElement(a,elt(Type$1.LinkReference,this.start,this.start+c,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(parseLinkLabel(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(elt(Type$1.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(parseURL(e,skipSpace(e,this.pos),this.start)))return-1}else if(this.stage==2){let a=skipSpace(e,this.pos),c=0;if(a>this.pos){let d=parseLinkTitle(e,a,this.start);if(d){let g=lineEnd(e,d.to-this.start);g>0&&(this.nextStage(d),c=g)}}return c||(c=lineEnd(e,this.pos)),c>0&&c<e.length?c:-1}else return lineEnd(e,this.pos)}}}function lineEnd(o,e){for(;e<o.length;e++){let a=o.charCodeAt(e);if(a==10)break;if(!space$3(a))return-1}return e}class SetextHeadingParser{nextLine(e,a,c){let d=a.depth<e.stack.length?-1:isSetextUnderline(a),g=a.next;if(d<0)return!1;let b=elt(Type$1.HeaderMark,e.lineStart+a.pos,e.lineStart+d);return e.nextLine(),e.addLeafElement(c,elt(g==61?Type$1.SetextHeading1:Type$1.SetextHeading2,c.start,e.prevLineEnd(),[...e.parser.parseInline(c.content,c.start),b])),!0}finish(){return!1}}const DefaultLeafBlocks={LinkReference(o,e){return e.content.charCodeAt(0)==91?new LinkReferenceParser(e):null},SetextHeading(){return new SetextHeadingParser}},DefaultEndLeaf=[(o,e)=>isAtxHeading(e)>=0,(o,e)=>isFencedCode(e)>=0,(o,e)=>isBlockquote(e)>=0,(o,e)=>isBulletList(e,o,!0)>=0,(o,e)=>isOrderedList(e,o,!0)>=0,(o,e)=>isHorizontalRule(e,o,!0)>=0,(o,e)=>isHTMLBlock(e,o,!0)>=0],scanLineResult={text:"",end:0};class BlockContext{constructor(e,a,c,d){this.parser=e,this.input=a,this.ranges=d,this.line=new Line,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=d[d.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=d[0].from,this.block=CompositeBlock.create(Type$1.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=c.length?new FragmentCursor$1(c,a):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let c=0;;){let d=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;c<e.markers.length&&(!d||e.markers[c].from<d.end);){let g=e.markers[c++];this.addNode(g.type,g.from,g.to)}if(!d)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let c of this.parser.blockParsers)if(c){let d=c(this,e);if(d!=!1){if(d==!0)return null;e.forward();continue e}}break}let a=new LeafBlock(this.lineStart+e.pos,e.text.slice(e.pos));for(let c of this.parser.leafBlockParsers)if(c){let d=c(this,a);d&&a.parsers.push(d)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let c of this.parser.endLeafBlock)if(c(this,e,a))break e}for(let c of a.parsers)if(c.nextLine(this,e,a))return null;a.content+=`
`+e.scrub();for(let c of e.markers)a.marks.push(c)}return this.finishLeaf(a),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let a=this.fragments.takeNodes(this);return a?(this.absoluteLineStart+=a,this.lineStart=toRelative(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let a=scanLineResult;if(a.end=e,e>=this.to)a.text="";else if(a.text=this.lineChunkAt(e),a.end+=a.text.length,this.ranges.length>1){let c=this.absoluteLineStart,d=this.rangeI;for(;this.ranges[d].to<a.end;){d++;let g=this.ranges[d].from,b=this.lineChunkAt(g);a.end=g+b.length,a.text=a.text.slice(0,this.ranges[d-1].to-c)+b,c=a.end-a.text.length}}return a}readLine(){let{line:e}=this,{text:a,end:c}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=c,e.reset(a);e.depth<this.stack.length;e.depth++){let d=this.stack[e.depth],g=this.parser.skipContextMarkup[d.type];if(!g)throw new Error("Unhandled block context "+Type$1[d.type]);if(!g(d,this,e))break;e.forward()}}lineChunkAt(e){let a=this.input.chunk(e),c;if(this.input.lineChunks)c=a==`
`?"":a;else{let d=a.indexOf(`
`);c=d<0?a:a.slice(0,d)}return e+c.length>this.to?c.slice(0,this.to-e):c}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,a,c=0){this.block=CompositeBlock.create(e,c,this.lineStart+a,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,a,c=0){this.startContext(this.parser.getNodeType(e),a,c)}addNode(e,a,c){typeof e=="number"&&(e=new Tree(this.parser.nodeSet.types[e],none,none,(c??this.prevLineEnd())-a)),this.block.addChild(e,a-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,a){this.addNode(this.buffer.writeElements(injectMarks(a.children,e.marks),-a.from).finish(a.type,a.to-a.from),a.from)}finishContext(){let e=this.stack.pop(),a=this.stack[this.stack.length-1];a.addChild(e.toTree(this.parser.nodeSet),e.from-a.from),this.block=a}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?injectGaps(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let c of e.parsers)if(c.finish(this,e))return;let a=injectMarks(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(a,-e.start).finish(Type$1.Paragraph,e.content.length),e.start)}elt(e,a,c,d){return typeof e=="string"?elt(this.parser.getNodeType(e),a,c,d):new TreeElement(e,a)}get buffer(){return new Buffer$1(this.parser.nodeSet)}}function injectGaps(o,e,a,c,d){let g=o[e].to,b=[],_=[],_e=a.from+c;function tt(nt,it){for(;it?nt>=g:nt>g;){let st=o[e+1].from-g;c+=st,nt+=st,e++,g=o[e].to}}for(let nt=a.firstChild;nt;nt=nt.nextSibling){tt(nt.from+c,!0);let it=nt.from+c,st,ot=d.get(nt.tree);ot?st=ot:nt.to+c>g?(st=injectGaps(o,e,nt,c,d),tt(nt.to+c,!1)):st=nt.toTree(),b.push(st),_.push(it-_e)}return tt(a.to+c,!1),new Tree(a.type,b,_,a.to+c-_e,a.tree?a.tree.propValues:void 0)}class MarkdownParser extends Parser$1{constructor(e,a,c,d,g,b,_,_e,tt){super(),this.nodeSet=e,this.blockParsers=a,this.leafBlockParsers=c,this.blockNames=d,this.endLeafBlock=g,this.skipContextMarkup=b,this.inlineParsers=_,this.inlineNames=_e,this.wrappers=tt,this.nodeTypes=Object.create(null);for(let nt of e.types)this.nodeTypes[nt.name]=nt.id}createParse(e,a,c){let d=new BlockContext(this,e,a,c);for(let g of this.wrappers)d=g(d,e,a,c);return d}configure(e){let a=resolveConfig(e);if(!a)return this;let{nodeSet:c,skipContextMarkup:d}=this,g=this.blockParsers.slice(),b=this.leafBlockParsers.slice(),_=this.blockNames.slice(),_e=this.inlineParsers.slice(),tt=this.inlineNames.slice(),nt=this.endLeafBlock.slice(),it=this.wrappers;if(nonEmpty(a.defineNodes)){d=Object.assign({},d);let st=c.types.slice(),ot;for(let ht of a.defineNodes){let{name:dt,block:Et,composite:pt,style:gt}=typeof ht=="string"?{name:ht}:ht;if(st.some(bt=>bt.name==dt))continue;pt&&(d[st.length]=(bt,vt,kt)=>pt(vt,kt,bt.value));let St=st.length,Tt=pt?["Block","BlockContext"]:Et?St>=Type$1.ATXHeading1&&St<=Type$1.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;st.push(NodeType.define({id:St,name:dt,props:Tt&&[[NodeProp.group,Tt]]})),gt&&(ot||(ot={}),Array.isArray(gt)||gt instanceof Tag?ot[dt]=gt:Object.assign(ot,gt))}c=new NodeSet(st),ot&&(c=c.extend(styleTags(ot)))}if(nonEmpty(a.props)&&(c=c.extend(...a.props)),nonEmpty(a.remove))for(let st of a.remove){let ot=this.blockNames.indexOf(st),ht=this.inlineNames.indexOf(st);ot>-1&&(g[ot]=b[ot]=void 0),ht>-1&&(_e[ht]=void 0)}if(nonEmpty(a.parseBlock))for(let st of a.parseBlock){let ot=_.indexOf(st.name);if(ot>-1)g[ot]=st.parse,b[ot]=st.leaf;else{let ht=st.before?findName(_,st.before):st.after?findName(_,st.after)+1:_.length-1;g.splice(ht,0,st.parse),b.splice(ht,0,st.leaf),_.splice(ht,0,st.name)}st.endLeaf&&nt.push(st.endLeaf)}if(nonEmpty(a.parseInline))for(let st of a.parseInline){let ot=tt.indexOf(st.name);if(ot>-1)_e[ot]=st.parse;else{let ht=st.before?findName(tt,st.before):st.after?findName(tt,st.after)+1:tt.length-1;_e.splice(ht,0,st.parse),tt.splice(ht,0,st.name)}}return a.wrap&&(it=it.concat(a.wrap)),new MarkdownParser(c,g,b,_,nt,d,_e,tt,it)}getNodeType(e){let a=this.nodeTypes[e];if(a==null)throw new RangeError(`Unknown node type '${e}'`);return a}parseInline(e,a){let c=new InlineContext(this,e,a);e:for(let d=a;d<c.end;){let g=c.char(d);for(let b of this.inlineParsers)if(b){let _=b(c,g,d);if(_>=0){d=_;continue e}}d++}return c.resolveMarkers(0)}}function nonEmpty(o){return o!=null&&o.length>0}function resolveConfig(o){if(!Array.isArray(o))return o;if(o.length==0)return null;let e=resolveConfig(o[0]);if(o.length==1)return e;let a=resolveConfig(o.slice(1));if(!a||!e)return e||a;let c=(b,_)=>(b||none).concat(_||none),d=e.wrap,g=a.wrap;return{props:c(e.props,a.props),defineNodes:c(e.defineNodes,a.defineNodes),parseBlock:c(e.parseBlock,a.parseBlock),parseInline:c(e.parseInline,a.parseInline),remove:c(e.remove,a.remove),wrap:d?g?(b,_,_e,tt)=>d(g(b,_,_e,tt),_,_e,tt):d:g}}function findName(o,e){let a=o.indexOf(e);if(a<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return a}let nodeTypes=[NodeType.none];for(let o=1,e;e=Type$1[o];o++)nodeTypes[o]=NodeType.define({id:o,name:e,props:o>=Type$1.Escape?[]:[[NodeProp.group,o in DefaultSkipMarkup?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const none=[];let Buffer$1=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,a,c,d=0){return this.content.push(e,a,c,4+d*4),this}writeElements(e,a=0){for(let c of e)c.writeTo(this,a);return this}finish(e,a){return Tree.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:a})}},Element$2=class{constructor(e,a,c,d=none){this.type=e,this.from=a,this.to=c,this.children=d}writeTo(e,a){let c=e.content.length;e.writeElements(this.children,a),e.content.push(this.type,this.from+a,this.to+a,e.content.length+4-c)}toTree(e){return new Buffer$1(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class TreeElement{constructor(e,a){this.tree=e,this.from=a}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return none}writeTo(e,a){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+a,this.to+a,-1)}toTree(){return this.tree}}function elt(o,e,a,c){return new Element$2(o,e,a,c)}const EmphasisUnderscore={resolve:"Emphasis",mark:"EmphasisMark"},EmphasisAsterisk={resolve:"Emphasis",mark:"EmphasisMark"},LinkStart={},ImageStart={};class InlineDelimiter{constructor(e,a,c,d){this.type=e,this.from=a,this.to=c,this.side=d}}const Escapable="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let Punctuation=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Punctuation=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const DefaultInline={Escape(o,e,a){if(e!=92||a==o.end-1)return-1;let c=o.char(a+1);for(let d=0;d<Escapable.length;d++)if(Escapable.charCodeAt(d)==c)return o.append(elt(Type$1.Escape,a,a+2));return-1},Entity(o,e,a){if(e!=38)return-1;let c=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(o.slice(a+1,a+31));return c?o.append(elt(Type$1.Entity,a,a+1+c[0].length)):-1},InlineCode(o,e,a){if(e!=96||a&&o.char(a-1)==96)return-1;let c=a+1;for(;c<o.end&&o.char(c)==96;)c++;let d=c-a,g=0;for(;c<o.end;c++)if(o.char(c)==96){if(g++,g==d&&o.char(c+1)!=96)return o.append(elt(Type$1.InlineCode,a,c+1,[elt(Type$1.CodeMark,a,a+d),elt(Type$1.CodeMark,c+1-d,c+1)]))}else g=0;return-1},HTMLTag(o,e,a){if(e!=60||a==o.end-1)return-1;let c=o.slice(a+1,o.end),d=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(c);if(d)return o.append(elt(Type$1.Autolink,a,a+1+d[0].length,[elt(Type$1.LinkMark,a,a+1),elt(Type$1.URL,a+1,a+d[0].length),elt(Type$1.LinkMark,a+d[0].length,a+1+d[0].length)]));let g=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(c);if(g)return o.append(elt(Type$1.Comment,a,a+1+g[0].length));let b=/^\?[^]*?\?>/.exec(c);if(b)return o.append(elt(Type$1.ProcessingInstruction,a,a+1+b[0].length));let _=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(c);return _?o.append(elt(Type$1.HTMLTag,a,a+1+_[0].length)):-1},Emphasis(o,e,a){if(e!=95&&e!=42)return-1;let c=a+1;for(;o.char(c)==e;)c++;let d=o.slice(a-1,a),g=o.slice(c,c+1),b=Punctuation.test(d),_=Punctuation.test(g),_e=/\s|^$/.test(d),tt=/\s|^$/.test(g),nt=!tt&&(!_||_e||b),it=!_e&&(!b||tt||_),st=nt&&(e==42||!it||b),ot=it&&(e==42||!nt||_);return o.append(new InlineDelimiter(e==95?EmphasisUnderscore:EmphasisAsterisk,a,c,(st?1:0)|(ot?2:0)))},HardBreak(o,e,a){if(e==92&&o.char(a+1)==10)return o.append(elt(Type$1.HardBreak,a,a+2));if(e==32){let c=a+1;for(;o.char(c)==32;)c++;if(o.char(c)==10&&c>=a+2)return o.append(elt(Type$1.HardBreak,a,c+1))}return-1},Link(o,e,a){return e==91?o.append(new InlineDelimiter(LinkStart,a,a+1,1)):-1},Image(o,e,a){return e==33&&o.char(a+1)==91?o.append(new InlineDelimiter(ImageStart,a,a+2,1)):-1},LinkEnd(o,e,a){if(e!=93)return-1;for(let c=o.parts.length-1;c>=0;c--){let d=o.parts[c];if(d instanceof InlineDelimiter&&(d.type==LinkStart||d.type==ImageStart)){if(!d.side||o.skipSpace(d.to)==a&&!/[(\[]/.test(o.slice(a+1,a+2)))return o.parts[c]=null,-1;let g=o.takeContent(c),b=o.parts[c]=finishLink(o,g,d.type==LinkStart?Type$1.Link:Type$1.Image,d.from,a+1);if(d.type==LinkStart)for(let _=0;_<c;_++){let _e=o.parts[_];_e instanceof InlineDelimiter&&_e.type==LinkStart&&(_e.side=0)}return b.to}}return-1}};function finishLink(o,e,a,c,d){let{text:g}=o,b=o.char(d),_=d;if(e.unshift(elt(Type$1.LinkMark,c,c+(a==Type$1.Image?2:1))),e.push(elt(Type$1.LinkMark,d-1,d)),b==40){let _e=o.skipSpace(d+1),tt=parseURL(g,_e-o.offset,o.offset),nt;tt&&(_e=o.skipSpace(tt.to),_e!=tt.to&&(nt=parseLinkTitle(g,_e-o.offset,o.offset),nt&&(_e=o.skipSpace(nt.to)))),o.char(_e)==41&&(e.push(elt(Type$1.LinkMark,d,d+1)),_=_e+1,tt&&e.push(tt),nt&&e.push(nt),e.push(elt(Type$1.LinkMark,_e,_)))}else if(b==91){let _e=parseLinkLabel(g,d-o.offset,o.offset,!1);_e&&(e.push(_e),_=_e.to)}return elt(a,c,_,e)}function parseURL(o,e,a){if(o.charCodeAt(e)==60){for(let d=e+1;d<o.length;d++){let g=o.charCodeAt(d);if(g==62)return elt(Type$1.URL,e+a,d+1+a);if(g==60||g==10)return!1}return null}else{let d=0,g=e;for(let b=!1;g<o.length;g++){let _=o.charCodeAt(g);if(space$3(_))break;if(b)b=!1;else if(_==40)d++;else if(_==41){if(!d)break;d--}else _==92&&(b=!0)}return g>e?elt(Type$1.URL,e+a,g+a):g==o.length?null:!1}}function parseLinkTitle(o,e,a){let c=o.charCodeAt(e);if(c!=39&&c!=34&&c!=40)return!1;let d=c==40?41:c;for(let g=e+1,b=!1;g<o.length;g++){let _=o.charCodeAt(g);if(b)b=!1;else{if(_==d)return elt(Type$1.LinkTitle,e+a,g+1+a);_==92&&(b=!0)}}return null}function parseLinkLabel(o,e,a,c){for(let d=!1,g=e+1,b=Math.min(o.length,g+999);g<b;g++){let _=o.charCodeAt(g);if(d)d=!1;else{if(_==93)return c?!1:elt(Type$1.LinkLabel,e+a,g+1+a);if(c&&!space$3(_)&&(c=!1),_==91)return!1;_==92&&(d=!0)}}return null}class InlineContext{constructor(e,a,c){this.parser=e,this.text=a,this.offset=c,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,a){return this.text.slice(e-this.offset,a-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,a,c,d,g){return this.append(new InlineDelimiter(e,a,c,(d?1:0)|(g?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let a=this.parts[e];if(a instanceof InlineDelimiter&&(a.type==LinkStart||a.type==ImageStart))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let c=e;c<this.parts.length;c++){let d=this.parts[c];if(!(d instanceof InlineDelimiter&&d.type.resolve&&d.side&2))continue;let g=d.type==EmphasisUnderscore||d.type==EmphasisAsterisk,b=d.to-d.from,_,_e=c-1;for(;_e>=e;_e--){let dt=this.parts[_e];if(dt instanceof InlineDelimiter&&dt.side&1&&dt.type==d.type&&!(g&&(d.side&1||dt.side&2)&&(dt.to-dt.from+b)%3==0&&((dt.to-dt.from)%3||b%3))){_=dt;break}}if(!_)continue;let tt=d.type.resolve,nt=[],it=_.from,st=d.to;if(g){let dt=Math.min(2,_.to-_.from,b);it=_.to-dt,st=d.from+dt,tt=dt==1?"Emphasis":"StrongEmphasis"}_.type.mark&&nt.push(this.elt(_.type.mark,it,_.to));for(let dt=_e+1;dt<c;dt++)this.parts[dt]instanceof Element$2&&nt.push(this.parts[dt]),this.parts[dt]=null;d.type.mark&&nt.push(this.elt(d.type.mark,d.from,st));let ot=this.elt(tt,it,st,nt);this.parts[_e]=g&&_.from!=it?new InlineDelimiter(_.type,_.from,it,_.side):null,(this.parts[c]=g&&d.to!=st?new InlineDelimiter(d.type,st,d.to,d.side):null)?this.parts.splice(c,0,ot):this.parts[c]=ot}let a=[];for(let c=e;c<this.parts.length;c++){let d=this.parts[c];d instanceof Element$2&&a.push(d)}return a}findOpeningDelimiter(e){for(let a=this.parts.length-1;a>=0;a--){let c=this.parts[a];if(c instanceof InlineDelimiter&&c.type==e)return a}return null}takeContent(e){let a=this.resolveMarkers(e);return this.parts.length=e,a}skipSpace(e){return skipSpace(this.text,e-this.offset)+this.offset}elt(e,a,c,d){return typeof e=="string"?elt(this.parser.getNodeType(e),a,c,d):new TreeElement(e,a)}}function injectMarks(o,e){if(!e.length)return o;if(!o.length)return e;let a=o.slice(),c=0;for(let d of e){for(;c<a.length&&a[c].to<d.to;)c++;if(c<a.length&&a[c].from<d.from){let g=a[c];g instanceof Element$2&&(a[c]=new Element$2(g.type,g.from,g.to,injectMarks(g.children,[d])))}else a.splice(c++,0,d)}return a}const NotLast=[Type$1.CodeBlock,Type$1.ListItem,Type$1.OrderedList,Type$1.BulletList];let FragmentCursor$1=class{constructor(e,a){this.fragments=e,this.input=a,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,a){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let g=this.fragment.to;for(;g>0&&this.input.read(g-1,g)!=`
`;)g--;this.fragmentEnd=g?g-1:0}let c=this.cursor;c||(c=this.cursor=this.fragment.tree.cursor(),c.firstChild());let d=e+this.fragment.offset;for(;c.to<=d;)if(!c.parent())return!1;for(;;){if(c.from>=d)return this.fragment.from<=a;if(!c.childAfter(d))return!1}}matches(e){let a=this.cursor.tree;return a&&a.prop(NodeProp.contextHash)==e}takeNodes(e){let a=this.cursor,c=this.fragment.offset,d=this.fragmentEnd-(this.fragment.openEnd?1:0),g=e.absoluteLineStart,b=g,_=e.block.children.length,_e=b,tt=_;for(;;){if(a.to-c>d){if(a.type.isAnonymous&&a.firstChild())continue;break}let nt=toRelative(a.from-c,e.ranges);if(a.to-c<=e.ranges[e.rangeI].to)e.addNode(a.tree,nt);else{let it=new Tree(e.parser.nodeSet.types[Type$1.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(it,a.tree),e.addNode(it,nt)}if(a.type.is("Block")&&(NotLast.indexOf(a.type.id)<0?(b=a.to-c,_=e.block.children.length):(b=_e,_=tt,_e=a.to-c,tt=e.block.children.length)),!a.nextSibling())break}for(;e.block.children.length>_;)e.block.children.pop(),e.block.positions.pop();return b-g}};function toRelative(o,e){let a=o;for(let c=1;c<e.length;c++){let d=e[c-1].to,g=e[c].from;d<o&&(a-=g-d)}return a}const markdownHighlighting=styleTags({"Blockquote/...":tags$1.quote,HorizontalRule:tags$1.contentSeparator,"ATXHeading1/... SetextHeading1/...":tags$1.heading1,"ATXHeading2/... SetextHeading2/...":tags$1.heading2,"ATXHeading3/...":tags$1.heading3,"ATXHeading4/...":tags$1.heading4,"ATXHeading5/...":tags$1.heading5,"ATXHeading6/...":tags$1.heading6,"Comment CommentBlock":tags$1.comment,Escape:tags$1.escape,Entity:tags$1.character,"Emphasis/...":tags$1.emphasis,"StrongEmphasis/...":tags$1.strong,"Link/... Image/...":tags$1.link,"OrderedList/... BulletList/...":tags$1.list,"BlockQuote/...":tags$1.quote,"InlineCode CodeText":tags$1.monospace,"URL Autolink":tags$1.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":tags$1.processingInstruction,"CodeInfo LinkLabel":tags$1.labelName,LinkTitle:tags$1.string,Paragraph:tags$1.content}),parser$3=new MarkdownParser(new NodeSet(nodeTypes).extend(markdownHighlighting),Object.keys(DefaultBlockParsers).map(o=>DefaultBlockParsers[o]),Object.keys(DefaultBlockParsers).map(o=>DefaultLeafBlocks[o]),Object.keys(DefaultBlockParsers),DefaultEndLeaf,DefaultSkipMarkup,Object.keys(DefaultInline).map(o=>DefaultInline[o]),Object.keys(DefaultInline),[]);function leftOverSpace(o,e,a){let c=[];for(let d=o.firstChild,g=e;;d=d.nextSibling){let b=d?d.from:a;if(b>g&&c.push({from:g,to:b}),!d)break;g=d.to}return c}function parseCode(o){let{codeParser:e,htmlParser:a}=o;return{wrap:parseMixed((d,g)=>{let b=d.type.id;if(e&&(b==Type$1.CodeBlock||b==Type$1.FencedCode)){let _="";if(b==Type$1.FencedCode){let tt=d.node.getChild(Type$1.CodeInfo);tt&&(_=g.read(tt.from,tt.to))}let _e=e(_);if(_e)return{parser:_e,overlay:tt=>tt.type.id==Type$1.CodeText}}else if(a&&(b==Type$1.HTMLBlock||b==Type$1.HTMLTag))return{parser:a,overlay:leftOverSpace(d.node,d.from,d.to)};return null})}}const StrikethroughDelim={resolve:"Strikethrough",mark:"StrikethroughMark"},Strikethrough={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":tags$1.strikethrough}},{name:"StrikethroughMark",style:tags$1.processingInstruction}],parseInline:[{name:"Strikethrough",parse(o,e,a){if(e!=126||o.char(a+1)!=126||o.char(a+2)==126)return-1;let c=o.slice(a-1,a),d=o.slice(a+2,a+3),g=/\s|^$/.test(c),b=/\s|^$/.test(d),_=Punctuation.test(c),_e=Punctuation.test(d);return o.addDelimiter(StrikethroughDelim,a,a+2,!b&&(!_e||g||_),!g&&(!_||b||_e))},after:"Emphasis"}]};function parseRow(o,e,a=0,c,d=0){let g=0,b=!0,_=-1,_e=-1,tt=!1,nt=()=>{c.push(o.elt("TableCell",d+_,d+_e,o.parser.parseInline(e.slice(_,_e),d+_)))};for(let it=a;it<e.length;it++){let st=e.charCodeAt(it);st==124&&!tt?((!b||_>-1)&&g++,b=!1,c&&(_>-1&&nt(),c.push(o.elt("TableDelimiter",it+d,it+d+1))),_=_e=-1):(tt||st!=32&&st!=9)&&(_<0&&(_=it),_e=it+1),tt=!tt&&st==92}return _>-1&&(g++,c&&nt()),g}function hasPipe(o,e){for(let a=e;a<o.length;a++){let c=o.charCodeAt(a);if(c==124)return!0;c==92&&a++}return!1}const delimiterLine=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class TableParser{constructor(){this.rows=null}nextLine(e,a,c){if(this.rows==null){this.rows=!1;let d;if((a.next==45||a.next==58||a.next==124)&&delimiterLine.test(d=a.text.slice(a.pos))){let g=[];parseRow(e,c.content,0,g,c.start)==parseRow(e,d,a.pos)&&(this.rows=[e.elt("TableHeader",c.start,c.start+c.content.length,g),e.elt("TableDelimiter",e.lineStart+a.pos,e.lineStart+a.text.length)])}}else if(this.rows){let d=[];parseRow(e,a.text,a.pos,d,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+a.pos,e.lineStart+a.text.length,d))}return!1}finish(e,a){return this.rows?(e.addLeafElement(a,e.elt("Table",a.start,a.start+a.content.length,this.rows)),!0):!1}}const Table={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":tags$1.heading}},"TableRow",{name:"TableCell",style:tags$1.content},{name:"TableDelimiter",style:tags$1.processingInstruction}],parseBlock:[{name:"Table",leaf(o,e){return hasPipe(e.content,0)?new TableParser:null},endLeaf(o,e,a){if(a.parsers.some(d=>d instanceof TableParser)||!hasPipe(e.text,e.basePos))return!1;let c=o.scanLine(o.absoluteLineEnd+1).text;return delimiterLine.test(c)&&parseRow(o,e.text,e.basePos)==parseRow(o,c,e.basePos)},before:"SetextHeading"}]};class TaskParser{nextLine(){return!1}finish(e,a){return e.addLeafElement(a,e.elt("Task",a.start,a.start+a.content.length,[e.elt("TaskMarker",a.start,a.start+3),...e.parser.parseInline(a.content.slice(3),a.start+3)])),!0}}const TaskList={defineNodes:[{name:"Task",block:!0,style:tags$1.list},{name:"TaskMarker",style:tags$1.atom}],parseBlock:[{name:"TaskList",leaf(o,e){return/^\[[ xX]\][ \t]/.test(e.content)&&o.parentType().name=="ListItem"?new TaskParser:null},after:"SetextHeading"}]},autolinkRE=/(www\.)|(https?:\/\/)|([\w.+-]+@)|(mailto:|xmpp:)/gy,urlRE=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,lastTwoDomainWords=/[\w-]+\.[\w-]+($|\/)/,emailRE=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,xmppResourceRE=/\/[a-zA-Z\d@.]+/gy;function count$2(o,e,a,c){let d=0;for(let g=e;g<a;g++)o[g]==c&&d++;return d}function autolinkURLEnd(o,e){urlRE.lastIndex=e;let a=urlRE.exec(o);if(!a||lastTwoDomainWords.exec(a[0])[0].indexOf("_")>-1)return-1;let c=e+a[0].length;for(;;){let d=o[c-1],g;if(/[?!.,:*_~]/.test(d)||d==")"&&count$2(o,e,c,")")>count$2(o,e,c,"("))c--;else if(d==";"&&(g=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(o.slice(e,c))))c=e+g.index;else break}return c}function autolinkEmailEnd(o,e){emailRE.lastIndex=e;let a=emailRE.exec(o);if(!a)return-1;let c=a[0][a[0].length-1];return c=="_"||c=="-"?-1:e+a[0].length-(c=="."?1:0)}const Autolink={parseInline:[{name:"Autolink",parse(o,e,a){let c=a-o.offset;autolinkRE.lastIndex=c;let d=autolinkRE.exec(o.text),g=-1;if(!d)return-1;if(d[1]||d[2]){if(g=autolinkURLEnd(o.text,c+d[0].length),g>-1&&o.hasOpenLink){let b=/([^\[\]]|\[[^\]]*\])*/.exec(o.text.slice(c,g));g=c+b[0].length}}else d[3]?g=autolinkEmailEnd(o.text,c):(g=autolinkEmailEnd(o.text,c+d[0].length),g>-1&&d[0]=="xmpp:"&&(xmppResourceRE.lastIndex=g,d=xmppResourceRE.exec(o.text),d&&(g=d.index+d[0].length)));return g<0?-1:(o.addElement(o.elt("URL",a,g+o.offset)),g+o.offset)}}]},GFM=[Table,TaskList,Strikethrough,Autolink];function parseSubSuper(o,e,a){return(c,d,g)=>{if(d!=o||c.char(g+1)==o)return-1;let b=[c.elt(a,g,g+1)];for(let _=g+1;_<c.end;_++){let _e=c.char(_);if(_e==o)return c.addElement(c.elt(e,g,_+1,b.concat(c.elt(a,_,_+1))));if(_e==92&&b.push(c.elt("Escape",_,_+++2)),space$3(_e))break}return-1}}const Superscript={defineNodes:[{name:"Superscript",style:tags$1.special(tags$1.content)},{name:"SuperscriptMark",style:tags$1.processingInstruction}],parseInline:[{name:"Superscript",parse:parseSubSuper(94,"Superscript","SuperscriptMark")}]},Subscript={defineNodes:[{name:"Subscript",style:tags$1.special(tags$1.content)},{name:"SubscriptMark",style:tags$1.processingInstruction}],parseInline:[{name:"Subscript",parse:parseSubSuper(126,"Subscript","SubscriptMark")}]},Emoji={defineNodes:[{name:"Emoji",style:tags$1.character}],parseInline:[{name:"Emoji",parse(o,e,a){let c;return e!=58||!(c=/^[a-zA-Z_0-9]+:/.exec(o.slice(a+1,o.end)))?-1:o.addElement(o.elt("Emoji",a,a+1+c[0].length))}}]};var define_process_env_default={};class Stack{constructor(e,a,c,d,g,b,_,_e,tt,nt=0,it){this.p=e,this.stack=a,this.state=c,this.reducePos=d,this.pos=g,this.score=b,this.buffer=_,this.bufferBase=_e,this.curContext=tt,this.lookAhead=nt,this.parent=it}toString(){return`[${this.stack.filter((e,a)=>a%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,a,c=0){let d=e.parser.context;return new Stack(e,[],a,c,c,0,[],0,d?new StackContext(d,d.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,a){this.stack.push(this.state,a,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var a;let c=e>>19,d=e&65535,{parser:g}=this.p,b=this.reducePos<this.pos-25;b&&this.setLookAhead(this.pos);let _=g.dynamicPrecedence(d);if(_&&(this.score+=_),c==0){this.pushState(g.getGoto(this.state,d,!0),this.reducePos),d<g.minRepeatTerm&&this.storeNode(d,this.reducePos,this.reducePos,b?8:4,!0),this.reduceContext(d,this.reducePos);return}let _e=this.stack.length-(c-1)*3-(e&262144?6:0),tt=_e?this.stack[_e-2]:this.p.ranges[0].from,nt=this.reducePos-tt;nt>=2e3&&!(!((a=this.p.parser.nodeSet.types[d])===null||a===void 0)&&a.isAnonymous)&&(tt==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=nt):this.p.lastBigReductionSize<nt&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=tt,this.p.lastBigReductionSize=nt));let it=_e?this.stack[_e-1]:0,st=this.bufferBase+this.buffer.length-it;if(d<g.minRepeatTerm||e&131072){let ot=g.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(d,tt,ot,st+4,!0)}if(e&262144)this.state=this.stack[_e];else{let ot=this.stack[_e-3];this.state=g.getGoto(ot,d,!0)}for(;this.stack.length>_e;)this.stack.pop();this.reduceContext(d,tt)}storeNode(e,a,c,d=4,g=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let b=this,_=this.buffer.length;if(_==0&&b.parent&&(_=b.bufferBase-b.parent.bufferBase,b=b.parent),_>0&&b.buffer[_-4]==0&&b.buffer[_-1]>-1){if(a==c)return;if(b.buffer[_-2]>=a){b.buffer[_-2]=c;return}}}if(!g||this.pos==c)this.buffer.push(e,a,c,d);else{let b=this.buffer.length;if(b>0&&this.buffer[b-4]!=0){let _=!1;for(let _e=b;_e>0&&this.buffer[_e-2]>c;_e-=4)if(this.buffer[_e-1]>=0){_=!0;break}if(_)for(;b>0&&this.buffer[b-2]>c;)this.buffer[b]=this.buffer[b-4],this.buffer[b+1]=this.buffer[b-3],this.buffer[b+2]=this.buffer[b-2],this.buffer[b+3]=this.buffer[b-1],b-=4,d>4&&(d-=4)}this.buffer[b]=e,this.buffer[b+1]=a,this.buffer[b+2]=c,this.buffer[b+3]=d}}shift(e,a,c,d){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=d,this.shiftContext(a,c),a<=this.p.parser.maxNode&&this.buffer.push(a,c,d,4);else{let g=e,{parser:b}=this.p;(d>this.pos||a<=b.maxNode)&&(this.pos=d,b.stateFlag(g,1)||(this.reducePos=d)),this.pushState(g,c),this.shiftContext(a,c),a<=b.maxNode&&this.buffer.push(a,c,d,4)}}apply(e,a,c,d){e&65536?this.reduce(e):this.shift(e,a,c,d)}useNode(e,a){let c=this.p.reused.length-1;(c<0||this.p.reused[c]!=e)&&(this.p.reused.push(e),c++);let d=this.pos;this.reducePos=this.pos=d+e.length,this.pushState(a,d),this.buffer.push(c,d,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,a=e.buffer.length;for(;a>0&&e.buffer[a-2]>e.reducePos;)a-=4;let c=e.buffer.slice(a),d=e.bufferBase+a;for(;e&&d==e.bufferBase;)e=e.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,c,d,this.curContext,this.lookAhead,e)}recoverByDelete(e,a){let c=e<=this.p.parser.maxNode;c&&this.storeNode(e,this.pos,a,4),this.storeNode(0,this.pos,a,c?8:4),this.pos=this.reducePos=a,this.score-=190}canShift(e){for(let a=new SimulatedStack(this);;){let c=this.p.parser.stateSlot(a.state,4)||this.p.parser.hasAction(a.state,e);if(c==0)return!1;if(!(c&65536))return!0;a.reduce(c)}}recoverByInsert(e){if(this.stack.length>=300)return[];let a=this.p.parser.nextStates(this.state);if(a.length>8||this.stack.length>=120){let d=[];for(let g=0,b;g<a.length;g+=2)(b=a[g+1])!=this.state&&this.p.parser.hasAction(b,e)&&d.push(a[g],b);if(this.stack.length<120)for(let g=0;d.length<8&&g<a.length;g+=2){let b=a[g+1];d.some((_,_e)=>_e&1&&_==b)||d.push(a[g],b)}a=d}let c=[];for(let d=0;d<a.length&&c.length<4;d+=2){let g=a[d+1];if(g==this.state)continue;let b=this.split();b.pushState(g,this.pos),b.storeNode(0,b.pos,b.pos,4,!0),b.shiftContext(a[d],this.pos),b.reducePos=this.pos,b.score-=200,c.push(b)}return c}forceReduce(){let{parser:e}=this.p,a=e.stateSlot(this.state,5);if(!(a&65536))return!1;if(!e.validAction(this.state,a)){let c=a>>19,d=a&65535,g=this.stack.length-c*3;if(g<0||e.getGoto(this.stack[g],d,!1)<0){let b=this.findForcedReduction();if(b==null)return!1;a=b}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(a),!0}findForcedReduction(){let{parser:e}=this.p,a=[],c=(d,g)=>{if(!a.includes(d))return a.push(d),e.allActions(d,b=>{if(!(b&393216))if(b&65536){let _=(b>>19)-g;if(_>1){let _e=b&65535,tt=this.stack.length-_*3;if(tt>=0&&e.getGoto(this.stack[tt],_e,!1)>=0)return _<<19|65536|_e}}else{let _=c(b,g+1);if(_!=null)return _}})};return c(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let a=0;a<this.stack.length;a+=3)if(this.stack[a]!=e.stack[a])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,a){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(a)))}reduceContext(e,a){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(a)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let a=new StackContext(this.curContext.tracker,e);a.hash!=this.curContext.hash&&this.emitContext(),this.curContext=a}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(e,a){this.tracker=e,this.context=a,this.hash=e.strict?e.hash(a):0}}class SimulatedStack{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let a=e&65535,c=e>>19;c==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(c-1)*3;let d=this.start.p.parser.getGoto(this.stack[this.base-3],a,!0);this.state=d}}class StackBufferCursor{constructor(e,a,c){this.stack=e,this.pos=a,this.index=c,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,a=e.bufferBase+e.buffer.length){return new StackBufferCursor(e,a,a-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(o,e=Uint16Array){if(typeof o!="string")return o;let a=null;for(let c=0,d=0;c<o.length;){let g=0;for(;;){let b=o.charCodeAt(c++),_=!1;if(b==126){g=65535;break}b>=92&&b--,b>=34&&b--;let _e=b-32;if(_e>=46&&(_e-=46,_=!0),g+=_e,_)break;g*=46}a?a[d++]=g:a=new e(g)}return a}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(e,a){this.input=e,this.ranges=a,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=a[0].from,this.range=a[0],this.end=a[a.length-1].to,this.readNext()}resolveOffset(e,a){let c=this.range,d=this.rangeIndex,g=this.pos+e;for(;g<c.from;){if(!d)return null;let b=this.ranges[--d];g-=c.from-b.to,c=b}for(;a<0?g>c.to:g>=c.to;){if(d==this.ranges.length-1)return null;let b=this.ranges[++d];g+=b.from-c.to,c=b}return g}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let a of this.ranges)if(a.to>e)return Math.max(e,a.from);return this.end}peek(e){let a=this.chunkOff+e,c,d;if(a>=0&&a<this.chunk.length)c=this.pos+e,d=this.chunk.charCodeAt(a);else{let g=this.resolveOffset(e,1);if(g==null)return-1;if(c=g,c>=this.chunk2Pos&&c<this.chunk2Pos+this.chunk2.length)d=this.chunk2.charCodeAt(c-this.chunk2Pos);else{let b=this.rangeIndex,_=this.range;for(;_.to<=c;)_=this.ranges[++b];this.chunk2=this.input.chunk(this.chunk2Pos=c),c+this.chunk2.length>_.to&&(this.chunk2=this.chunk2.slice(0,_.to-c)),d=this.chunk2.charCodeAt(0)}}return c>=this.token.lookAhead&&(this.token.lookAhead=c+1),d}acceptToken(e,a=0){let c=a?this.resolveOffset(a,-1):this.pos;if(c==null||c<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=c}acceptTokenTo(e,a){this.token.value=e,this.token.end=a}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:a}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=a,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),a=this.pos+e.length;this.chunk=a>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,a){if(a?(this.token=a,a.start=e,a.lookAhead=e+1,a.value=a.extended=-1):this.token=nullToken,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,a){if(e>=this.chunkPos&&a<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,a-this.chunkPos);if(e>=this.chunk2Pos&&a<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,a-this.chunk2Pos);if(e>=this.range.from&&a<=this.range.to)return this.input.read(e,a);let c="";for(let d of this.ranges){if(d.from>=a)break;d.to>e&&(c+=this.input.read(Math.max(d.from,e),Math.min(d.to,a)))}return c}}class TokenGroup{constructor(e,a){this.data=e,this.id=a}token(e,a){let{parser:c}=a.p;readToken(this.data,e,a,this.id,c.data,c.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(e,a,c){this.precTable=a,this.elseToken=c,this.data=typeof e=="string"?decodeArray(e):e}token(e,a){let c=e.pos,d=0;for(;;){let g=e.next<0,b=e.resolveOffset(1,1);if(readToken(this.data,e,a,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(g||d++,b==null)break;e.reset(b,e.token)}d&&(e.reset(c,e.token),e.acceptToken(this.elseToken,d))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(e,a={}){this.token=e,this.contextual=!!a.contextual,this.fallback=!!a.fallback,this.extend=!!a.extend}}function readToken(o,e,a,c,d,g){let b=0,_=1<<c,{dialect:_e}=a.p.parser;e:for(;_&o[b];){let tt=o[b+1];for(let ot=b+3;ot<tt;ot+=2)if((o[ot+1]&_)>0){let ht=o[ot];if(_e.allows(ht)&&(e.token.value==-1||e.token.value==ht||overrides(ht,e.token.value,d,g))){e.acceptToken(ht);break}}let nt=e.next,it=0,st=o[b+2];if(e.next<0&&st>it&&o[tt+st*3-3]==65535){b=o[tt+st*3-1];continue e}for(;it<st;){let ot=it+st>>1,ht=tt+ot+(ot<<1),dt=o[ht],Et=o[ht+1]||65536;if(nt<dt)st=ot;else if(nt>=Et)it=ot+1;else{b=o[ht+2],e.advance();continue e}}break}}function findOffset(o,e,a){for(let c=e,d;(d=o[c])!=65535;c++)if(d==a)return c-e;return-1}function overrides(o,e,a,c){let d=findOffset(a,c,e);return d<0||findOffset(a,c,o)<d}const verbose=typeof process<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(o,e,a){let c=o.cursor(IterMode.IncludeAnonymous);for(c.moveTo(e);;)if(!(a<0?c.childBefore(e):c.childAfter(e)))for(;;){if((a<0?c.to<e:c.from>e)&&!c.type.isError)return a<0?Math.max(0,Math.min(c.to-1,e-25)):Math.min(o.length,Math.max(c.from+1,e+25));if(a<0?c.prevSibling():c.nextSibling())break;if(!c.parent())return a<0?0:o.length}}class FragmentCursor{constructor(e,a){this.fragments=e,this.nodeSet=a,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?cutAt(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?cutAt(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let a=this.trees.length-1;if(a<0)return this.nextFragment(),null;let c=this.trees[a],d=this.index[a];if(d==c.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let g=c.children[d],b=this.start[a]+c.positions[d];if(b>e)return this.nextStart=b,null;if(g instanceof Tree){if(b==e){if(b<this.safeFrom)return null;let _=b+g.length;if(_<=this.safeTo){let _e=g.prop(NodeProp.lookAhead);if(!_e||_+_e<this.fragment.to)return g}}this.index[a]++,b+g.length>=Math.max(this.safeFrom,e)&&(this.trees.push(g),this.start.push(b),this.index.push(0))}else this.index[a]++,this.nextStart=b+g.length}}}class TokenCache{constructor(e,a){this.stream=a,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(c=>new CachedToken)}getActions(e){let a=0,c=null,{parser:d}=e.p,{tokenizers:g}=d,b=d.stateSlot(e.state,3),_=e.curContext?e.curContext.hash:0,_e=0;for(let tt=0;tt<g.length;tt++){if(!(1<<tt&b))continue;let nt=g[tt],it=this.tokens[tt];if(!(c&&!nt.fallback)&&((nt.contextual||it.start!=e.pos||it.mask!=b||it.context!=_)&&(this.updateCachedToken(it,nt,e),it.mask=b,it.context=_),it.lookAhead>it.end+25&&(_e=Math.max(it.lookAhead,_e)),it.value!=0)){let st=a;if(it.extended>-1&&(a=this.addActions(e,it.extended,it.end,a)),a=this.addActions(e,it.value,it.end,a),!nt.extend&&(c=it,a>st))break}}for(;this.actions.length>a;)this.actions.pop();return _e&&e.setLookAhead(_e),!c&&e.pos==this.stream.end&&(c=new CachedToken,c.value=e.p.parser.eofTerm,c.start=c.end=e.pos,a=this.addActions(e,c.value,c.end,a)),this.mainToken=c,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let a=new CachedToken,{pos:c,p:d}=e;return a.start=c,a.end=Math.min(c+1,d.stream.end),a.value=c==d.stream.end?d.parser.eofTerm:0,a}updateCachedToken(e,a,c){let d=this.stream.clipPos(c.pos);if(a.token(this.stream.reset(d,e),c),e.value>-1){let{parser:g}=c.p;for(let b=0;b<g.specialized.length;b++)if(g.specialized[b]==e.value){let _=g.specializers[b](this.stream.read(e.start,e.end),c);if(_>=0&&c.p.parser.dialect.allows(_>>1)){_&1?e.extended=_>>1:e.value=_>>1;break}}}else e.value=0,e.end=this.stream.clipPos(d+1)}putAction(e,a,c,d){for(let g=0;g<d;g+=3)if(this.actions[g]==e)return d;return this.actions[d++]=e,this.actions[d++]=a,this.actions[d++]=c,d}addActions(e,a,c,d){let{state:g}=e,{parser:b}=e.p,{data:_}=b;for(let _e=0;_e<2;_e++)for(let tt=b.stateSlot(g,_e?2:1);;tt+=3){if(_[tt]==65535)if(_[tt+1]==1)tt=pair(_,tt+2);else{d==0&&_[tt+1]==2&&(d=this.putAction(pair(_,tt+2),a,c,d));break}_[tt]==a&&(d=this.putAction(pair(_,tt+1),a,c,d))}return d}}class Parse{constructor(e,a,c,d){this.parser=e,this.input=a,this.ranges=d,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(a,d),this.tokens=new TokenCache(e,this.stream),this.topTerm=e.top[1];let{from:g}=d[0];this.stacks=[Stack.start(this,e.top[0],g)],this.fragments=c.length&&this.stream.end-g>e.bufferLength*4?new FragmentCursor(c,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,a=this.minStackPos,c=this.stacks=[],d,g;if(this.bigReductionCount>300&&e.length==1){let[b]=e;for(;b.forceReduce()&&b.stack.length&&b.stack[b.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let b=0;b<e.length;b++){let _=e[b];for(;;){if(this.tokens.mainToken=null,_.pos>a)c.push(_);else{if(this.advanceStack(_,c,e))continue;{d||(d=[],g=[]),d.push(_);let _e=this.tokens.getMainToken(_);g.push(_e.value,_e.end)}}break}}if(!c.length){let b=d&&findFinished(d);if(b)return verbose&&console.log("Finish with "+this.stackID(b)),this.stackToTree(b);if(this.parser.strict)throw verbose&&d&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+a);this.recovering||(this.recovering=5)}if(this.recovering&&d){let b=this.stoppedAt!=null&&d[0].pos>this.stoppedAt?d[0]:this.runRecovery(d,g,c);if(b)return verbose&&console.log("Force-finish "+this.stackID(b)),this.stackToTree(b.forceAll())}if(this.recovering){let b=this.recovering==1?1:this.recovering*3;if(c.length>b)for(c.sort((_,_e)=>_e.score-_.score);c.length>b;)c.pop();c.some(_=>_.reducePos>a)&&this.recovering--}else if(c.length>1){e:for(let b=0;b<c.length-1;b++){let _=c[b];for(let _e=b+1;_e<c.length;_e++){let tt=c[_e];if(_.sameState(tt)||_.buffer.length>500&&tt.buffer.length>500)if((_.score-tt.score||_.buffer.length-tt.buffer.length)>0)c.splice(_e--,1);else{c.splice(b--,1);continue e}}}c.length>12&&c.splice(12,c.length-12)}this.minStackPos=c[0].pos;for(let b=1;b<c.length;b++)c[b].pos<this.minStackPos&&(this.minStackPos=c[b].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,a,c){let d=e.pos,{parser:g}=this,b=verbose?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&d>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let tt=e.curContext&&e.curContext.tracker.strict,nt=tt?e.curContext.hash:0;for(let it=this.fragments.nodeAt(d);it;){let st=this.parser.nodeSet.types[it.type.id]==it.type?g.getGoto(e.state,it.type.id):-1;if(st>-1&&it.length&&(!tt||(it.prop(NodeProp.contextHash)||0)==nt))return e.useNode(it,st),verbose&&console.log(b+this.stackID(e)+` (via reuse of ${g.getName(it.type.id)})`),!0;if(!(it instanceof Tree)||it.children.length==0||it.positions[0]>0)break;let ot=it.children[0];if(ot instanceof Tree&&it.positions[0]==0)it=ot;else break}}let _=g.stateSlot(e.state,4);if(_>0)return e.reduce(_),verbose&&console.log(b+this.stackID(e)+` (via always-reduce ${g.getName(_&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let _e=this.tokens.getActions(e);for(let tt=0;tt<_e.length;){let nt=_e[tt++],it=_e[tt++],st=_e[tt++],ot=tt==_e.length||!c,ht=ot?e:e.split(),dt=this.tokens.mainToken;if(ht.apply(nt,it,dt?dt.start:ht.pos,st),verbose&&console.log(b+this.stackID(ht)+` (via ${nt&65536?`reduce of ${g.getName(nt&65535)}`:"shift"} for ${g.getName(it)} @ ${d}${ht==e?"":", split"})`),ot)return!0;ht.pos>d?a.push(ht):c.push(ht)}return!1}advanceFully(e,a){let c=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>c)return pushStackDedup(e,a),!0}}runRecovery(e,a,c){let d=null,g=!1;for(let b=0;b<e.length;b++){let _=e[b],_e=a[b<<1],tt=a[(b<<1)+1],nt=verbose?this.stackID(_)+" -> ":"";if(_.deadEnd&&(g||(g=!0,_.restart(),verbose&&console.log(nt+this.stackID(_)+" (restarted)"),this.advanceFully(_,c))))continue;let it=_.split(),st=nt;for(let ot=0;it.forceReduce()&&ot<10&&(verbose&&console.log(st+this.stackID(it)+" (via force-reduce)"),!this.advanceFully(it,c));ot++)verbose&&(st=this.stackID(it)+" -> ");for(let ot of _.recoverByInsert(_e))verbose&&console.log(nt+this.stackID(ot)+" (via recover-insert)"),this.advanceFully(ot,c);this.stream.end>_.pos?(tt==_.pos&&(tt++,_e=0),_.recoverByDelete(_e,tt),verbose&&console.log(nt+this.stackID(_)+` (via recover-delete ${this.parser.getName(_e)})`),pushStackDedup(_,c)):(!d||d.score<_.score)&&(d=_)}return d}stackToTree(e){return e.close(),Tree.build({buffer:StackBufferCursor.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let a=(stackIDs||(stackIDs=new WeakMap)).get(e);return a||stackIDs.set(e,a=String.fromCodePoint(this.nextStackID++)),a+e}}function pushStackDedup(o,e){for(let a=0;a<e.length;a++){let c=e[a];if(c.pos==o.pos&&c.sameState(o)){e[a].score<o.score&&(e[a]=o);return}}e.push(o)}class Dialect{constructor(e,a,c){this.source=e,this.flags=a,this.disabled=c}allows(e){return!this.disabled||this.disabled[e]==0}}const id=o=>o;class ContextTracker{constructor(e){this.start=e.start,this.shift=e.shift||id,this.reduce=e.reduce||id,this.reuse=e.reuse||id,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class LRParser extends Parser$1{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let a=e.nodeNames.split(" ");this.minRepeatTerm=a.length;for(let _=0;_<e.repeatNodeCount;_++)a.push("");let c=Object.keys(e.topRules).map(_=>e.topRules[_][1]),d=[];for(let _=0;_<a.length;_++)d.push([]);function g(_,_e,tt){d[_].push([_e,_e.deserialize(String(tt))])}if(e.nodeProps)for(let _ of e.nodeProps){let _e=_[0];typeof _e=="string"&&(_e=NodeProp[_e]);for(let tt=1;tt<_.length;){let nt=_[tt++];if(nt>=0)g(nt,_e,_[tt++]);else{let it=_[tt+-nt];for(let st=-nt;st>0;st--)g(_[tt++],_e,it);tt++}}}this.nodeSet=new NodeSet(a.map((_,_e)=>NodeType.define({name:_e>=this.minRepeatTerm?void 0:_,id:_e,props:d[_e],top:c.indexOf(_e)>-1,error:_e==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(_e)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let b=decodeArray(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let _=0;_<this.specializerSpecs.length;_++)this.specialized[_]=this.specializerSpecs[_].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(e.states,Uint32Array),this.data=decodeArray(e.stateData),this.goto=decodeArray(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(_=>typeof _=="number"?new TokenGroup(b,_):_),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,a,c){let d=new Parse(this,e,a,c);for(let g of this.wrappers)d=g(d,e,a,c);return d}getGoto(e,a,c=!1){let d=this.goto;if(a>=d[0])return-1;for(let g=d[a+1];;){let b=d[g++],_=b&1,_e=d[g++];if(_&&c)return _e;for(let tt=g+(b>>1);g<tt;g++)if(d[g]==e)return _e;if(_)return-1}}hasAction(e,a){let c=this.data;for(let d=0;d<2;d++)for(let g=this.stateSlot(e,d?2:1),b;;g+=3){if((b=c[g])==65535)if(c[g+1]==1)b=c[g=pair(c,g+2)];else{if(c[g+1]==2)return pair(c,g+2);break}if(b==a||b==0)return pair(c,g+1)}return 0}stateSlot(e,a){return this.states[e*6+a]}stateFlag(e,a){return(this.stateSlot(e,0)&a)>0}validAction(e,a){return!!this.allActions(e,c=>c==a?!0:null)}allActions(e,a){let c=this.stateSlot(e,4),d=c?a(c):void 0;for(let g=this.stateSlot(e,1);d==null;g+=3){if(this.data[g]==65535)if(this.data[g+1]==1)g=pair(this.data,g+2);else break;d=a(pair(this.data,g+1))}return d}nextStates(e){let a=[];for(let c=this.stateSlot(e,1);;c+=3){if(this.data[c]==65535)if(this.data[c+1]==1)c=pair(this.data,c+2);else break;if(!(this.data[c+2]&1)){let d=this.data[c+1];a.some((g,b)=>b&1&&g==d)||a.push(this.data[c],d)}}return a}configure(e){let a=Object.assign(Object.create(LRParser.prototype),this);if(e.props&&(a.nodeSet=this.nodeSet.extend(...e.props)),e.top){let c=this.topRules[e.top];if(!c)throw new RangeError(`Invalid top rule name ${e.top}`);a.top=c}return e.tokenizers&&(a.tokenizers=this.tokenizers.map(c=>{let d=e.tokenizers.find(g=>g.from==c);return d?d.to:c})),e.specializers&&(a.specializers=this.specializers.slice(),a.specializerSpecs=this.specializerSpecs.map((c,d)=>{let g=e.specializers.find(_=>_.from==c.external);if(!g)return c;let b=Object.assign(Object.assign({},c),{external:g.to});return a.specializers[d]=getSpecializer(b),b})),e.contextTracker&&(a.context=e.contextTracker),e.dialect&&(a.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(a.strict=e.strict),e.wrap&&(a.wrappers=a.wrappers.concat(e.wrap)),e.bufferLength!=null&&(a.bufferLength=e.bufferLength),a}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let a=this.dynamicPrecedences;return a==null?0:a[e]||0}parseDialect(e){let a=Object.keys(this.dialects),c=a.map(()=>!1);if(e)for(let g of e.split(" ")){let b=a.indexOf(g);b>=0&&(c[b]=!0)}let d=null;for(let g=0;g<a.length;g++)if(!c[g])for(let b=this.dialects[a[g]],_;(_=this.data[b++])!=65535;)(d||(d=new Uint8Array(this.maxTerm+1)))[_]=1;return new Dialect(e,c,d)}static deserialize(e){return new LRParser(e)}}function pair(o,e){return o[e]|o[e+1]<<16}function findFinished(o){let e=null;for(let a of o){let c=a.p.stoppedAt;(a.pos==a.p.stream.end||c!=null&&a.pos>c)&&a.p.parser.stateFlag(a.state,2)&&(!e||e.score<a.score)&&(e=a)}return e}function getSpecializer(o){if(o.external){let e=o.extend?1:0;return(a,c)=>o.external(a,c)<<1|e}return o.get}const scriptText=54,StartCloseScriptTag=1,styleText=55,StartCloseStyleTag=2,textareaText=56,StartCloseTextareaTag=3,EndTag=4,SelfClosingEndTag=5,StartTag=6,StartScriptTag=7,StartStyleTag=8,StartTextareaTag=9,StartSelfClosingTag=10,StartCloseTag=11,NoMatchStartCloseTag=12,MismatchedStartCloseTag=13,missingCloseTag=57,IncompleteCloseTag=14,commentContent$1=58,Element$1=20,TagName=22,Attribute=23,AttributeName=24,AttributeValue=26,UnquotedAttributeValue=27,ScriptText=28,StyleText=31,TextareaText=34,OpenTag=36,CloseTag=37,Dialect_noMatch=0,Dialect_selfClosing=1,selfClosers$1={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},closeOnOpen={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function nameChar(o){return o==45||o==46||o==58||o>=65&&o<=90||o==95||o>=97&&o<=122||o>=161}function isSpace(o){return o==9||o==10||o==13||o==32}let cachedName=null,cachedInput=null,cachedPos=0;function tagNameAfter(o,e){let a=o.pos+e;if(cachedPos==a&&cachedInput==o)return cachedName;let c=o.peek(e);for(;isSpace(c);)c=o.peek(++e);let d="";for(;nameChar(c);)d+=String.fromCharCode(c),c=o.peek(++e);return cachedInput=o,cachedPos=a,cachedName=d?d.toLowerCase():c==question$1||c==bang?void 0:null}const lessThan=60,greaterThan=62,slash$1=47,question$1=63,bang=33,dash$2=45;function ElementContext(o,e){this.name=o,this.parent=e}const startTagTerms=[StartTag,StartSelfClosingTag,StartScriptTag,StartStyleTag,StartTextareaTag],elementContext=new ContextTracker({start:null,shift(o,e,a,c){return startTagTerms.indexOf(e)>-1?new ElementContext(tagNameAfter(c,1)||"",o):o},reduce(o,e){return e==Element$1&&o?o.parent:o},reuse(o,e,a,c){let d=e.type.id;return d==StartTag||d==OpenTag?new ElementContext(tagNameAfter(c,1)||"",o):o},strict:!1}),tagStart=new ExternalTokenizer((o,e)=>{if(o.next!=lessThan){o.next<0&&e.context&&o.acceptToken(missingCloseTag);return}o.advance();let a=o.next==slash$1;a&&o.advance();let c=tagNameAfter(o,0);if(c===void 0)return;if(!c)return o.acceptToken(a?IncompleteCloseTag:StartTag);let d=e.context?e.context.name:null;if(a){if(c==d)return o.acceptToken(StartCloseTag);if(d&&implicitlyClosed[d])return o.acceptToken(missingCloseTag,-2);if(e.dialectEnabled(Dialect_noMatch))return o.acceptToken(NoMatchStartCloseTag);for(let g=e.context;g;g=g.parent)if(g.name==c)return;o.acceptToken(MismatchedStartCloseTag)}else{if(c=="script")return o.acceptToken(StartScriptTag);if(c=="style")return o.acceptToken(StartStyleTag);if(c=="textarea")return o.acceptToken(StartTextareaTag);if(selfClosers$1.hasOwnProperty(c))return o.acceptToken(StartSelfClosingTag);d&&closeOnOpen[d]&&closeOnOpen[d][c]?o.acceptToken(missingCloseTag,-1):o.acceptToken(StartTag)}},{contextual:!0}),commentContent=new ExternalTokenizer(o=>{for(let e=0,a=0;;a++){if(o.next<0){a&&o.acceptToken(commentContent$1);break}if(o.next==dash$2)e++;else if(o.next==greaterThan&&e>=2){a>=3&&o.acceptToken(commentContent$1,-2);break}else e=0;o.advance()}});function inForeignElement(o){for(;o;o=o.parent)if(o.name=="svg"||o.name=="math")return!0;return!1}const endTag$1=new ExternalTokenizer((o,e)=>{if(o.next==slash$1&&o.peek(1)==greaterThan){let a=e.dialectEnabled(Dialect_selfClosing)||inForeignElement(e.context);o.acceptToken(a?SelfClosingEndTag:EndTag,2)}else o.next==greaterThan&&o.acceptToken(EndTag,1)});function contentTokenizer(o,e,a){let c=2+o.length;return new ExternalTokenizer(d=>{for(let g=0,b=0,_=0;;_++){if(d.next<0){_&&d.acceptToken(e);break}if(g==0&&d.next==lessThan||g==1&&d.next==slash$1||g>=2&&g<c&&d.next==o.charCodeAt(g-2))g++,b++;else if((g==2||g==c)&&isSpace(d.next))b++;else if(g==c&&d.next==greaterThan){_>b?d.acceptToken(e,-b):d.acceptToken(a,-(b-2));break}else if((d.next==10||d.next==13)&&_){d.acceptToken(e,1);break}else g=b=0;d.advance()}})}const scriptTokens=contentTokenizer("script",scriptText,StartCloseScriptTag),styleTokens=contentTokenizer("style",styleText,StartCloseStyleTag),textareaTokens=contentTokenizer("textarea",textareaText,StartCloseTextareaTag),htmlHighlighting=styleTags({"Text RawText":tags$1.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":tags$1.angleBracket,TagName:tags$1.tagName,"MismatchedCloseTag/TagName":[tags$1.tagName,tags$1.invalid],AttributeName:tags$1.attributeName,"AttributeValue UnquotedAttributeValue":tags$1.attributeValue,Is:tags$1.definitionOperator,"EntityReference CharacterReference":tags$1.character,Comment:tags$1.blockComment,ProcessingInst:tags$1.processingInstruction,DoctypeDecl:tags$1.documentMeta}),parser$2=LRParser.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:elementContext,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[htmlHighlighting],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[scriptTokens,styleTokens,textareaTokens,endTag$1,tagStart,commentContent,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function getAttrs(o,e){let a=Object.create(null);for(let c of o.getChildren(Attribute)){let d=c.getChild(AttributeName),g=c.getChild(AttributeValue)||c.getChild(UnquotedAttributeValue);d&&(a[e.read(d.from,d.to)]=g?g.type.id==AttributeValue?e.read(g.from+1,g.to-1):e.read(g.from,g.to):"")}return a}function findTagName(o,e){let a=o.getChild(TagName);return a?e.read(a.from,a.to):" "}function maybeNest(o,e,a){let c;for(let d of a)if(!d.attrs||d.attrs(c||(c=getAttrs(o.node.parent.firstChild,e))))return{parser:d.parser};return null}function configureNesting(o=[],e=[]){let a=[],c=[],d=[],g=[];for(let _ of o)(_.tag=="script"?a:_.tag=="style"?c:_.tag=="textarea"?d:g).push(_);let b=e.length?Object.create(null):null;for(let _ of e)(b[_.name]||(b[_.name]=[])).push(_);return parseMixed((_,_e)=>{let tt=_.type.id;if(tt==ScriptText)return maybeNest(_,_e,a);if(tt==StyleText)return maybeNest(_,_e,c);if(tt==TextareaText)return maybeNest(_,_e,d);if(tt==Element$1&&g.length){let nt=_.node,it=nt.firstChild,st=it&&findTagName(it,_e),ot;if(st){for(let ht of g)if(ht.tag==st&&(!ht.attrs||ht.attrs(ot||(ot=getAttrs(it,_e))))){let dt=nt.lastChild,Et=dt.type.id==CloseTag?dt.from:nt.to;if(Et>it.to)return{parser:ht.parser,overlay:[{from:it.to,to:Et}]}}}}if(b&&tt==Attribute){let nt=_.node,it;if(it=nt.firstChild){let st=b[_e.read(it.from,it.to)];if(st)for(let ot of st){if(ot.tagName&&ot.tagName!=findTagName(nt.parent,_e))continue;let ht=nt.lastChild;if(ht.type.id==AttributeValue){let dt=ht.from+1,Et=ht.lastChild,pt=ht.to-(Et&&Et.isError?0:1);if(pt>dt)return{parser:ot.parser,overlay:[{from:dt,to:pt}]}}else if(ht.type.id==UnquotedAttributeValue)return{parser:ot.parser,overlay:[{from:ht.from,to:ht.to}]}}}}return null})}const descendantOp=99,Unit=1,callee=100,identifier$2=101,VariableName=2,space$2=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],colon=58,parenL=40,underscore=95,bracketL=91,dash$1=45,period=46,hash=35,percent=37,ampersand=38,backslash=92,newline$1=10;function isAlpha(o){return o>=65&&o<=90||o>=97&&o<=122||o>=161}function isDigit(o){return o>=48&&o<=57}const identifiers=new ExternalTokenizer((o,e)=>{for(let a=!1,c=0,d=0;;d++){let{next:g}=o;if(isAlpha(g)||g==dash$1||g==underscore||a&&isDigit(g))!a&&(g!=dash$1||d>0)&&(a=!0),c===d&&g==dash$1&&c++,o.advance();else if(g==backslash&&o.peek(1)!=newline$1)o.advance(),o.next>-1&&o.advance(),a=!0;else{a&&o.acceptToken(g==parenL?callee:c==2&&e.canShift(VariableName)?VariableName:identifier$2);break}}}),descendant=new ExternalTokenizer(o=>{if(space$2.includes(o.peek(-1))){let{next:e}=o;(isAlpha(e)||e==underscore||e==hash||e==period||e==bracketL||e==colon&&isAlpha(o.peek(1))||e==dash$1||e==ampersand)&&o.acceptToken(descendantOp)}}),unitToken=new ExternalTokenizer(o=>{if(!space$2.includes(o.peek(-1))){let{next:e}=o;if(e==percent&&(o.advance(),o.acceptToken(Unit)),isAlpha(e)){do o.advance();while(isAlpha(o.next)||isDigit(o.next));o.acceptToken(Unit)}}}),cssHighlighting=styleTags({"AtKeyword import charset namespace keyframes media supports":tags$1.definitionKeyword,"from to selector":tags$1.keyword,NamespaceName:tags$1.namespace,KeyframeName:tags$1.labelName,KeyframeRangeName:tags$1.operatorKeyword,TagName:tags$1.tagName,ClassName:tags$1.className,PseudoClassName:tags$1.constant(tags$1.className),IdName:tags$1.labelName,"FeatureName PropertyName":tags$1.propertyName,AttributeName:tags$1.attributeName,NumberLiteral:tags$1.number,KeywordQuery:tags$1.keyword,UnaryQueryOp:tags$1.operatorKeyword,"CallTag ValueName":tags$1.atom,VariableName:tags$1.variableName,Callee:tags$1.operatorKeyword,Unit:tags$1.unit,"UniversalSelector NestingSelector":tags$1.definitionOperator,MatchOp:tags$1.compareOperator,"ChildOp SiblingOp, LogicOp":tags$1.logicOperator,BinOp:tags$1.arithmeticOperator,Important:tags$1.modifier,Comment:tags$1.blockComment,ColorLiteral:tags$1.color,"ParenthesizedContent StringLiteral":tags$1.string,":":tags$1.punctuation,"PseudoOp #":tags$1.derefOperator,"; ,":tags$1.separator,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace}),spec_callee={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},spec_AtKeyword={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},spec_identifier$1={__proto__:null,not:132,only:132},parser$1=LRParser.deserialize({version:14,states:":jQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO-kQdO,59}O-{Q[O'#E^O.YQWO,5;_O.YQWO,5;_POOO'#EV'#EVP.eO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO/[QXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/iQ`O1G/^O0SQXO1G/aO0jQXO1G/cO1QQXO1G/dO1hQWO,59|O1mQ[O'#DSO1tQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1{QpO,59]OOQS,59_,59_O${QdO,59aO2TQWO1G/mOOQS,59c,59cO2YQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2eQ[O,59jOOQS,59j,59jO2mQWO'#DjO2xQWO,5:VO2}QWO,5:]O&`Q[O,5:XO&`Q[O'#E_O3VQWO,5;`O3bQWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3sQWO1G0OO3xQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO4TQtO1G/iOOQO1G/i1G/iOOQO,5:x,5:xO4kQ[O,5:xOOQO-E8[-E8[O4xQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO5TQXO'#ErO5[QWO,59nO5aQtO'#EXO6XQdO'#EoO6cQWO,59ZO6hQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XOOQS1G/P1G/PO6pQWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6uQWO,5:yOOQO-E8]-E8]O7TQXO1G/xOOQS7+%j7+%jO7[QYO'#CsOOQO'#EQ'#EQO7gQ`O'#EPOOQO'#EP'#EPO7rQWO'#E`O7zQdO,5:jOOQS,5:j,5:jO8VQtO'#E]O${QdO'#E]O9WQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9kQpO<<HdO9sQWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9{QWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO:TQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3{QdO'#EaO7rQWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO:[QtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO;]QdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";o~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!X#rO!Y!Va#U!Va!S!Va~P${O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#xO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.pOp#zO|#{O~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/qOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/qOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/qO!S#|O~Oa#fP~P(aOa#cP~P${Oa$TOj#XO~O!Y$VO~Oa$WOh$XOo$XO~Op$ZO#X#]O~O]!`Xa!^X!b!^X~O]$[O~Oa$]O!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$bO~O!S$iO#X$dO#e$cO~Oj#XOt$kO!X$mO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$qO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$sOa#cX~P${Oa$uO~Oj#XOp$vO~Oa$wO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$yO~P.pOP#WOtgX!TgX~O#e$cOt!sX!T!sX~Ot${O!TwO~O!S%PO#X$dO#e$cO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$kO!X%SO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%TO~OtoOa#fa~Ot$sOa#ca~Oa%WO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#tkYOPdhotuvw!n#R#h#tkSOPdhotuvw!n#R#h#tQmTR!tnQ{VR!xqQ!x}Q#Z!XR#y!zq![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UU$f#m$h${R$z$eq!XZ]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#y!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ$}$gR%Z$|SgPwQ!phQ#s!nR$n#tZfPhw!n#ta!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$g#m$hR%X${V$e#m$h${Q!rjR#w!rQdOShPwU!ldh#tR#t!nQ$Q#SU$r$Q$x%UQ$x$[R%U$sQ#_!ZR$Y#_Q$t$QR%V$tQpUS!vp$pR$p#}Q$l#qR%R$lQ!ogS#u!o#vR#v!pQ#f!_R$`#fQ$h#mR%O$hQ$|$gR%Y$|_cOPdhw!n#t^UOPdhw!n#tQ!uoQ!}tQ#OuQ#PvQ#}#RR$a#hR$R#SQ!VZQ!d]Q#V!TQ#q!m[$P#S$Q$[$s$x%UQ$S#UQ$U#XS$j#q$lQ$o#{R%Q$kR$O#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$^#dR$_#e",nodeNames:" Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[cssHighlighting],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[descendant,unitToken,identifiers,1,2,3,4,new LocalTokenGroup("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:o=>spec_callee[o]||-1},{term:58,get:o=>spec_AtKeyword[o]||-1},{term:101,get:o=>spec_identifier$1[o]||-1}],tokenPrec:1219});let _properties=null;function properties(){if(!_properties&&typeof document=="object"&&document.body){let{style:o}=document.body,e=[],a=new Set;for(let c in o)c!="cssText"&&c!="cssFloat"&&typeof o[c]=="string"&&(/[A-Z]/.test(c)&&(c=c.replace(/[A-Z]/g,d=>"-"+d.toLowerCase())),a.has(c)||(e.push(c),a.add(c)));_properties=e.sort().map(c=>({type:"property",label:c}))}return _properties||[]}const pseudoClasses=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(o=>({type:"class",label:o})),values=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(o=>({type:"keyword",label:o})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(o=>({type:"constant",label:o}))),tags=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(o=>({type:"type",label:o})),atRules=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(o=>({type:"keyword",label:o})),identifier$1=/^(\w[\w-]*|-\w[\w-]*|)$/,variable=/^-(-[\w-]*)?$/;function isVarArg(o,e){var a;if((o.name=="("||o.type.isError)&&(o=o.parent||o),o.name!="ArgList")return!1;let c=(a=o.parent)===null||a===void 0?void 0:a.firstChild;return(c==null?void 0:c.name)!="Callee"?!1:e.sliceString(c.from,c.to)=="var"}const VariablesByNode=new NodeWeakMap,declSelector=["Declaration"];function astTop(o){for(let e=o;;){if(e.type.isTop)return e;if(!(e=e.parent))return o}}function variableNames(o,e,a){if(e.to-e.from>4096){let c=VariablesByNode.get(e);if(c)return c;let d=[],g=new Set,b=e.cursor(IterMode.IncludeAnonymous);if(b.firstChild())do for(let _ of variableNames(o,b.node,a))g.has(_.label)||(g.add(_.label),d.push(_));while(b.nextSibling());return VariablesByNode.set(e,d),d}else{let c=[],d=new Set;return e.cursor().iterate(g=>{var b;if(a(g)&&g.matchContext(declSelector)&&((b=g.node.nextSibling)===null||b===void 0?void 0:b.name)==":"){let _=o.sliceString(g.from,g.to);d.has(_)||(d.add(_),c.push({label:_,type:"variable"}))}}),c}}const defineCSSCompletionSource=o=>e=>{let{state:a,pos:c}=e,d=syntaxTree(a).resolveInner(c,-1),g=d.type.isError&&d.from==d.to-1&&a.doc.sliceString(d.from,d.to)=="-";if(d.name=="PropertyName"||(g||d.name=="TagName")&&/^(Block|Styles)$/.test(d.resolve(d.to).name))return{from:d.from,options:properties(),validFor:identifier$1};if(d.name=="ValueName")return{from:d.from,options:values,validFor:identifier$1};if(d.name=="PseudoClassName")return{from:d.from,options:pseudoClasses,validFor:identifier$1};if(o(d)||(e.explicit||g)&&isVarArg(d,a.doc))return{from:o(d)||g?d.from:c,options:variableNames(a.doc,astTop(d),o),validFor:variable};if(d.name=="TagName"){for(let{parent:_e}=d;_e;_e=_e.parent)if(_e.name=="Block")return{from:d.from,options:properties(),validFor:identifier$1};return{from:d.from,options:tags,validFor:identifier$1}}if(d.name=="AtKeyword")return{from:d.from,options:atRules,validFor:identifier$1};if(!e.explicit)return null;let b=d.resolve(c),_=b.childBefore(c);return _&&_.name==":"&&b.name=="PseudoClassSelector"?{from:c,options:pseudoClasses,validFor:identifier$1}:_&&_.name==":"&&b.name=="Declaration"||b.name=="ArgList"?{from:c,options:values,validFor:identifier$1}:b.name=="Block"||b.name=="Styles"?{from:c,options:properties(),validFor:identifier$1}:null},cssCompletionSource=defineCSSCompletionSource(o=>o.name=="VariableName"),cssLanguage=LRLanguage.define({name:"css",parser:parser$1.configure({props:[indentNodeProp.add({Declaration:continuedIndent()}),foldNodeProp.add({"Block KeyframeList":foldInside})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function css(){return new LanguageSupport(cssLanguage,cssLanguage.data.of({autocomplete:cssCompletionSource}))}const index$5=Object.freeze(Object.defineProperty({__proto__:null,css,cssCompletionSource,cssLanguage,defineCSSCompletionSource},Symbol.toStringTag,{value:"Module"})),noSemi=312,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=313,spaces=315,newline=316,LineComment=5,BlockComment=6,Dialect_jsx=0,space$1=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash=47,star=42,plus=43,minus=45,lt=60,comma=44,question=63,dot=46,trackNewline=new ContextTracker({start:!1,shift(o,e){return e==LineComment||e==BlockComment||e==spaces?o:e==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((o,e)=>{let{next:a}=o;(a==braceR||a==-1||e.context)&&o.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((o,e)=>{let{next:a}=o,c;space$1.indexOf(a)>-1||a==slash&&((c=o.peek(1))==slash||c==star)||a!=braceR&&a!=semicolon&&a!=-1&&!e.context&&o.acceptToken(noSemi)},{contextual:!0}),operatorToken=new ExternalTokenizer((o,e)=>{let{next:a}=o;if(a==plus||a==minus){if(o.advance(),a==o.next){o.advance();let c=!e.context&&e.canShift(incdec);o.acceptToken(c?incdec:incdecPrefix)}}else a==question&&o.peek(1)==dot&&(o.advance(),o.advance(),(o.next<48||o.next>57)&&o.acceptToken(questionDot))},{contextual:!0});function identifierChar(o,e){return o>=65&&o<=90||o>=97&&o<=122||o==95||o>=192||!e&&o>=48&&o<=57}const jsx=new ExternalTokenizer((o,e)=>{if(o.next!=lt||!e.dialectEnabled(Dialect_jsx)||(o.advance(),o.next==slash))return;let a=0;for(;space$1.indexOf(o.next)>-1;)o.advance(),a++;if(identifierChar(o.next,!0)){for(o.advance(),a++;identifierChar(o.next,!1);)o.advance(),a++;for(;space$1.indexOf(o.next)>-1;)o.advance(),a++;if(o.next==comma)return;for(let c=0;;c++){if(c==7){if(!identifierChar(o.next,!0))return;break}if(o.next!="extends".charCodeAt(c))break;o.advance(),a++}}o.acceptToken(JSXStartTag,-a)}),jsHighlight=styleTags({"get set async static":tags$1.modifier,"for while do if else switch try catch finally return throw break continue default case":tags$1.controlKeyword,"in of await yield void typeof delete instanceof":tags$1.operatorKeyword,"let var const using function class extends":tags$1.definitionKeyword,"import export from":tags$1.moduleKeyword,"with debugger as new":tags$1.keyword,TemplateString:tags$1.special(tags$1.string),super:tags$1.atom,BooleanLiteral:tags$1.bool,this:tags$1.self,null:tags$1.null,Star:tags$1.modifier,VariableName:tags$1.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags$1.function(tags$1.variableName),VariableDefinition:tags$1.definition(tags$1.variableName),Label:tags$1.labelName,PropertyName:tags$1.propertyName,PrivatePropertyName:tags$1.special(tags$1.propertyName),"CallExpression/MemberExpression/PropertyName":tags$1.function(tags$1.propertyName),"FunctionDeclaration/VariableDefinition":tags$1.function(tags$1.definition(tags$1.variableName)),"ClassDeclaration/VariableDefinition":tags$1.definition(tags$1.className),PropertyDefinition:tags$1.definition(tags$1.propertyName),PrivatePropertyDefinition:tags$1.definition(tags$1.special(tags$1.propertyName)),UpdateOp:tags$1.updateOperator,"LineComment Hashbang":tags$1.lineComment,BlockComment:tags$1.blockComment,Number:tags$1.number,String:tags$1.string,Escape:tags$1.escape,ArithOp:tags$1.arithmeticOperator,LogicOp:tags$1.logicOperator,BitOp:tags$1.bitwiseOperator,CompareOp:tags$1.compareOperator,RegExp:tags$1.regexp,Equals:tags$1.definitionOperator,Arrow:tags$1.function(tags$1.punctuation),": Spread":tags$1.punctuation,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace,"InterpolationStart InterpolationEnd":tags$1.special(tags$1.brace),".":tags$1.derefOperator,", ;":tags$1.separator,"@":tags$1.meta,TypeName:tags$1.typeName,TypeDefinition:tags$1.definition(tags$1.typeName),"type enum interface implements namespace module declare":tags$1.definitionKeyword,"abstract global Privacy readonly override":tags$1.modifier,"is keyof unique infer":tags$1.operatorKeyword,JSXAttributeValue:tags$1.attributeValue,JSXText:tags$1.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags$1.angleBracket,"JSXIdentifier JSXNameSpacedName":tags$1.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags$1.attributeName,"JSXBuiltin/JSXIdentifier":tags$1.standard(tags$1.tagName)}),spec_identifier={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,extends:54,this:58,true:66,false:66,null:78,void:82,typeof:86,super:102,new:136,delete:148,yield:157,await:161,class:166,public:229,private:229,protected:229,readonly:231,instanceof:250,satisfies:253,in:254,const:256,import:290,keyof:345,unique:349,infer:355,is:391,abstract:411,implements:413,type:415,let:418,var:420,using:423,interface:429,enum:433,namespace:439,module:441,declare:445,global:449,for:468,of:477,while:480,with:484,do:488,if:492,else:494,switch:498,case:504,try:510,catch:514,finally:518,return:522,throw:526,break:530,continue:534,debugger:538},spec_word={__proto__:null,async:123,get:125,set:127,declare:189,public:191,private:191,protected:191,static:193,abstract:195,override:197,readonly:203,accessor:205,new:395},spec_LessThan={__proto__:null,"<":187},parser=LRParser.deserialize({version:14,states:"$BUQ%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ?NdO'#CiO+RO!bO'#CjO+aO#tO'#CjO+oO!0LbO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DwO0fQ^O'#EPOOQ?Mr'#EX'#EXO1PQWO'#EUOOQO'#Em'#EmOOQO'#Ih'#IhO1XQWO'#GpO1dQWO'#ElO1iQWO'#ElO3hQ?NdO'#JmO6[Q?NdO'#JnO6uQWO'#F[O6zQ&jO'#FsOOQ?Mr'#Fe'#FeO7VO,YO'#FeO7eQ7[O'#FzO9RQWO'#FyOOQ?Mr'#Jn'#JnOOQ?Mp'#Jm'#JmO9WQWO'#GtOOQU'#KZ'#KZO9cQWO'#IUO9hQ?MxO'#IVOOQU'#JZ'#JZOOQU'#IZ'#IZQ`Q^OOQ`Q^OOO9pQMnO'#DsO9wQ^O'#D{O:OQ^O'#D}O9^QWO'#GpO:VQ7[O'#CoO:eQWO'#EkO:pQWO'#EvO:uQ7[O'#FdO;dQWO'#GpOOQO'#K['#K[O;iQWO'#K[O;wQWO'#GxO;wQWO'#GyO;wQWO'#G{O9^QWO'#HOO<nQWO'#HRO>VQWO'#CeO>gQWO'#H_O>oQWO'#HeO>oQWO'#HgO`Q^O'#HiO>oQWO'#HkO>oQWO'#HnO>tQWO'#HtO>yQ?MyO'#HzO%[Q^O'#H|O?UQ?MyO'#IOO?aQ?MyO'#IQO9hQ?MxO'#ISO?lQ?NdO'#CiO@nQ`O'#DiQOQWOOO%[Q^O'#D}OAUQWO'#EQO:VQ7[O'#EkOAaQWO'#EkOAlQpO'#FdOOQU'#Cg'#CgOOQ?Mp'#Dn'#DnOOQ?Mp'#Jq'#JqO%[Q^O'#JqOOQO'#Jt'#JtOOQO'#Id'#IdOBlQ`O'#EdOOQ?Mp'#Ec'#EcOOQ?Mp'#Jx'#JxOChQ?NQO'#EdOCrQ`O'#ETOOQO'#Js'#JsODWQ`O'#JtOEeQ`O'#ETOCrQ`O'#EdPErO#@ItO'#CbPOOO)CDx)CDxOOOO'#I['#I[OE}O!bO,59UOOQ?Mr,59U,59UOOOO'#I]'#I]OF]O#tO,59UOFkQMnO'#D`OOOO'#I_'#I_OFrO!0LbO,59xOOQ?Mr,59x,59xOGQQ^O'#I`OGeQWO'#JoOIdQrO'#JoO+}Q^O'#JoOIkQWO,5:OOJRQWO'#EmOJ`QWO'#KOOJkQWO'#J}OJkQWO'#J}OJsQWO,5;ZOJxQWO'#J|OOQ?Mv,5:Z,5:ZOKPQ^O,5:ZOL}Q?NdO,5:cOMnQWO,5:kONXQ?MxO'#J{ON`QWO'#JzO9WQWO'#JzONtQWO'#JzON|QWO,5;YO! RQWO'#JzO!#WQrO'#JnOOQ?Mr'#Ci'#CiO%[Q^O'#EPO!#vQrO,5:pOOQQ'#Ju'#JuOOQO-E<f-E<fO9^QWO,5=[O!$^QWO,5=[O!$cQ^O,5;WO!&fQ7[O'#EhO!(PQWO,5;WO!(UQ^O'#DvO!(`Q`O,5;aO!(hQ`O,5;aO%[Q^O,5;aOOQU'#FS'#FSOOQU'#FU'#FUO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bOOQU'#FY'#FYO!(vQ^O,5;sOOQ?Mr,5;x,5;xOOQ?Mr,5;y,5;yOOQ?Mr,5;{,5;{O%[Q^O'#IlO!*yQ?MxO,5<gO%[Q^O,5;bO!&fQ7[O,5;bO!+hQ7[O,5;bO!-YQ7[O'#EZO%[Q^O,5;vOOQ?Mr,5;z,5;zO!-aQ&jO'#FiO!.^Q&jO'#KSO!-xQ&jO'#KSO!.eQ&jO'#KSOOQO'#KS'#KSO!.yQ&jO,5<ROOOS,5<_,5<_O!/[Q^O'#FuOOOS'#Ik'#IkO7VO,YO,5<PO!/cQ&jO'#FwOOQ?Mr,5<P,5<PO!0SQ!LQO'#CvOOQ?Mr'#Cz'#CzO!0gO!0LbO'#DOO!1TQ7[O,5<dO!1[QWO,5<fO!2wQ$ISO'#GVO!3UQWO'#GWO!3ZQWO'#GWO!4yQ$ISO'#G[O!5uQ`O'#G`OOQO'#Gk'#GkO!+oQ7[O'#GjOOQO'#Gm'#GmO!+oQ7[O'#GlO!6hQ!LQO'#JgOOQ?Mr'#Jg'#JgO!6rQWO'#JfO!7QQWO'#JeO!7YQWO'#CuOOQ?Mr'#Cx'#CxO!7bQWO'#CzOOQ?Mr'#DS'#DSOOQ?Mr'#DU'#DUO1SQWO'#DWO!+oQ7[O'#F}O!+oQ7[O'#GPO!7gQWO'#GRO!7lQWO'#GSO!3ZQWO'#GYO!+oQ7[O'#G_O!7qQWO'#EnO!8`QWO,5<eOOQ?Mp'#Cr'#CrO!8hQWO'#EoO!9bQ`O'#EpOOQ?Mp'#J|'#J|O!9iQ?MxO'#K]O9hQ?MxO,5=`O`Q^O,5>pOOQU'#Jc'#JcOOQU,5>q,5>qOOQU-E<X-E<XO!;hQ?NdO,5:_O!9]Q`O,5:]O!>RQ?NdO,5:gO%[Q^O,5:gO!@iQ?NdO,5:iOOQO,5@v,5@vO!AYQ7[O,5=[O!AhQ?MxO'#JdO9RQWO'#JdO!AyQ?MxO,59ZO!BUQ`O,59ZO!B^Q7[O,59ZO:VQ7[O,59ZO!BiQWO,5;WO!BqQWO'#H^O!CVQWO'#K`O%[Q^O,5;|O!9]Q`O,5<OO!C_QWO,5=wO!CdQWO,5=wO!CiQWO,5=wO9hQ?MxO,5=wO;wQWO,5=gOOQO'#Cv'#CvO!CwQ`O,5=dO!DPQ7[O,5=eO!D[QWO,5=gO!DaQpO,5=jO!DiQWO'#K[O>tQWO'#HTO9^QWO'#HVO!DnQWO'#HVO:VQ7[O'#HXO!DsQWO'#HXOOQU,5=m,5=mO!DxQWO'#HYO!EZQWO'#CoO!E`QWO,59PO!EjQWO,59PO!GoQ^O,59POOQU,59P,59PO!HPQ?MxO,59PO%[Q^O,59PO!J[Q^O'#HaOOQU'#Hb'#HbOOQU'#Hc'#HcO`Q^O,5=yO!JrQWO,5=yO`Q^O,5>PO`Q^O,5>RO!JwQWO,5>TO`Q^O,5>VO!J|QWO,5>YO!KRQ^O,5>`OOQU,5>f,5>fO%[Q^O,5>fO9hQ?MxO,5>hOOQU,5>j,5>jO# ]QWO,5>jOOQU,5>l,5>lO# ]QWO,5>lOOQU,5>n,5>nO# yQ`O'#D[O%[Q^O'#JqO#!TQ`O'#JqO#!rQ`O'#DjO##TQ`O'#DjO#%fQ^O'#DjO#%mQWO'#JpO#%uQWO,5:TO#%zQWO'#EqO#&YQWO'#KPO#&bQWO,5;[O#&gQ`O'#DjO#&tQ`O'#ESOOQ?Mr,5:l,5:lO%[Q^O,5:lO#&{QWO,5:lO>tQWO,5;VO!BUQ`O,5;VO!B^Q7[O,5;VO:VQ7[O,5;VO#'TQWO,5@]O#'YQ(CYO,5:pOOQO-E<b-E<bO#(`Q?NQO,5;OOCrQ`O,5:oO#(jQ`O,5:oOCrQ`O,5;OO!AyQ?MxO,5:oOOQ?Mp'#Eg'#EgOOQO,5;O,5;OO%[Q^O,5;OO#(wQ?MxO,5;OO#)SQ?MxO,5;OO!BUQ`O,5:oOOQO,5;U,5;UO#)bQ?MxO,5;OPOOO'#IY'#IYP#)vO#@ItO,58|POOO,58|,58|OOOO-E<Y-E<YOOQ?Mr1G.p1G.pOOOO-E<Z-E<ZOOOO,59z,59zO#*RQpO,59zOOOO-E<]-E<]OOQ?Mr1G/d1G/dO#*WQrO,5>zO+}Q^O,5>zOOQO,5?Q,5?QO#*bQ^O'#I`OOQO-E<^-E<^O#*oQWO,5@ZO#*wQrO,5@ZO#+OQWO,5@iOOQ?Mr1G/j1G/jO%[Q^O,5@jO#+WQWO'#IfOOQO-E<d-E<dO#+OQWO,5@iOOQ?Mp1G0u1G0uOOQ?Mv1G/u1G/uOOQ?Mv1G0V1G0VO%[Q^O,5@gO#+lQ?MxO,5@gO#+}Q?MxO,5@gO#,UQWO,5@fO9WQWO,5@fO#,^QWO,5@fO#,lQWO'#IiO#,UQWO,5@fOOQ?Mp1G0t1G0tO!(`Q`O,5:rO!(kQ`O,5:rOOQQ,5:t,5:tO#-^QYO,5:tO#-fQ7[O1G2vO9^QWO1G2vOOQ?Mr1G0r1G0rO#-tQ?NdO1G0rO#.yQ?NbO,5;SOOQ?Mr'#GU'#GUO#/gQ?NdO'#JgO!$cQ^O1G0rO#1oQrO'#JrO%[Q^O'#JrO#1yQWO,5:bOOQ?Mr'#D['#D[OOQ?Mr1G0{1G0{O%[Q^O1G0{OOQ?Mr1G1e1G1eO#2OQWO1G0{O#4dQ?NdO1G0|O#4kQ?NdO1G0|O#7RQ?NdO1G0|O#7YQ?NdO1G0|O#9pQ?NdO1G0|O#<WQ?NdO1G0|O#<_Q?NdO1G0|O#<fQ?NdO1G0|O#>|Q?NdO1G0|O#?TQ?NdO1G0|O#AbQ07bO'#CiO#C]Q07bO1G1_O#CdQ07bO'#JnO#CwQ?NdO,5?WOOQ?Mp-E<j-E<jO#FUQ?NdO1G0|O#GRQ?NdO1G0|OOQ?Mr1G0|1G0|O#HRQ7[O'#JwO#H]QWO,5:uO#HbQ?NdO1G1bO#IUQ&jO,5<VO#I^Q&jO,5<WO#IfQ&jO'#FnO#I}QWO'#FmOOQO'#KT'#KTOOQO'#Ij'#IjO#JSQ&jO1G1mOOQ?Mr1G1m1G1mOOOS1G1x1G1xO#JeQ07bO'#JmO#JoQWO,5<aO!(vQ^O,5<aOOOS-E<i-E<iOOQ?Mr1G1k1G1kO#JtQ`O'#KSOOQ?Mr,5<c,5<cO#J|Q`O,5<cO#KRQ7[O'#DQOOOO'#I^'#I^O#KYO!0LbO,59jOOQ?Mr,59j,59jO%[Q^O1G2OO!7lQWO'#InO#KeQ7[O,5<xOOQ?Mr,5<u,5<uO!+oQ7[O'#IqO#LTQ7[O,5=UO!+oQ7[O'#IsO#LvQ7[O,5=WO!&fQ7[O,5=YOOQO1G2Q1G2QO#MQQpO'#CrO#MeQ$ISO'#EoO#NdQ`O'#G`O$ QQpO,5<qO$ XQWO'#KWO9WQWO'#KWO$ gQWO,5<sO!+oQ7[O,5<rO$ lQWO'#GXO$ }QWO,5<rO$!SQpO'#GUO$!aQpO'#KXO$!kQWO'#KXO!&fQ7[O'#KXO$!pQWO,5<vO$!uQ`O'#GaO!5pQ`O'#GaO$#WQWO'#GcO$#]QWO'#GeO!3ZQWO'#GhO$#bQ?MxO'#IpO$#mQ`O,5<zOOQ?Mv,5<z,5<zO$#tQ`O'#GaO$$SQ`O'#GbO$$[Q`O'#GbO$$aQ7[O,5=UO$$qQ7[O,5=WOOQ?Mr,5=Z,5=ZO!+oQ7[O,5@QO!+oQ7[O,5@QO$%RQWO'#IuO$%^QWO,5@PO$%fQWO,59aOOQ?Mr,59f,59fO$&YQ!LSO,59rOOQ?Mr'#Jk'#JkO$&{Q7[O,5<iO$'nQ7[O,5<kO@fQWO,5<mOOQ?Mr,5<n,5<nO$'xQWO,5<tO$'}Q7[O,5<yO$(_QWO'#JzO!$cQ^O1G2PO$(dQWO1G2PO9WQWO'#J}O9WQWO'#EqO%[Q^O'#EqO9WQWO'#IwO$(iQ?MxO,5@wOOQU1G2z1G2zOOQU1G4[1G4[OOQ?Mr1G/y1G/yOOQ?Mr1G/w1G/wO$*kQ?NdO1G0ROOQU1G2v1G2vO!&fQ7[O1G2vO%[Q^O1G2vO#-iQWO1G2vO$,oQ7[O'#EhOOQ?Mp,5@O,5@OO$,yQ?MxO,5@OOOQU1G.u1G.uO!AyQ?MxO1G.uO!BUQ`O1G.uO!B^Q7[O1G.uO$-[QWO1G0rO$-aQWO'#CiO$-lQWO'#KaO$-tQWO,5=xO$-yQWO'#KaO$.OQWO'#KaO$.^QWO'#I}O$.lQWO,5@zO$.tQrO1G1hOOQ?Mr1G1j1G1jO9^QWO1G3cO@fQWO1G3cO$.{QWO1G3cO$/QQWO1G3cOOQU1G3c1G3cO!D[QWO1G3RO!&fQ7[O1G3OO$/VQWO1G3OOOQU1G3P1G3PO!&fQ7[O1G3PO$/[QWO1G3PO$/dQ`O'#G}OOQU1G3R1G3RO!5pQ`O'#IyO!DaQpO1G3UOOQU1G3U1G3UOOQU,5=o,5=oO$/lQ7[O,5=qO9^QWO,5=qO$#]QWO,5=sO9RQWO,5=sO!BUQ`O,5=sO!B^Q7[O,5=sO:VQ7[O,5=sO$/zQWO'#K_O$0VQWO,5=tOOQU1G.k1G.kO$0[Q?MxO1G.kO@fQWO1G.kO$0gQWO1G.kO9hQ?MxO1G.kO$2oQrO,5@|O$2|QWO,5@|O9WQWO,5@|O$3XQ^O,5={O$3`QWO,5={OOQU1G3e1G3eO`Q^O1G3eOOQU1G3k1G3kOOQU1G3m1G3mO>oQWO1G3oO$3eQ^O1G3qO$7iQ^O'#HpOOQU1G3t1G3tO$7vQWO'#HvO>tQWO'#HxOOQU1G3z1G3zO$8OQ^O1G3zO9hQ?MxO1G4QOOQU1G4S1G4SOOQ?Mp'#G]'#G]O9hQ?MxO1G4UO9hQ?MxO1G4WO$<VQWO,5@]O!(vQ^O,5;]O9WQWO,5;]O>tQWO,5:UO!(vQ^O,5:UO!BUQ`O,5:UO$<[Q07bO,5:UOOQO,5;],5;]O$<fQ`O'#IaO$<|QWO,5@[OOQ?Mr1G/o1G/oO$=UQ`O'#IgO$=`QWO,5@kOOQ?Mp1G0v1G0vO##TQ`O,5:UOOQO'#Ic'#IcO$=hQ`O,5:nOOQ?Mv,5:n,5:nO#'OQWO1G0WOOQ?Mr1G0W1G0WO%[Q^O1G0WOOQ?Mr1G0q1G0qO>tQWO1G0qO!BUQ`O1G0qO!B^Q7[O1G0qOOQ?Mp1G5w1G5wO!AyQ?MxO1G0ZOOQO1G0j1G0jO%[Q^O1G0jO$=oQ?MxO1G0jO$=zQ?MxO1G0jO!BUQ`O1G0ZOCrQ`O1G0ZO$>YQ?MxO1G0jOOQO1G0Z1G0ZO$>nQ?NdO1G0jPOOO-E<W-E<WPOOO1G.h1G.hOOOO1G/f1G/fO$>xQpO,5<gO$?QQrO1G4fOOQO1G4l1G4lO%[Q^O,5>zO$?[QWO1G5uO$?dQWO1G6TO$?lQrO1G6UO9WQWO,5?QO$?vQ?NdO1G6RO%[Q^O1G6RO$@WQ?MxO1G6RO$@iQWO1G6QO$@iQWO1G6QO9WQWO1G6QO$@qQWO,5?TO9WQWO,5?TOOQO,5?T,5?TO$AVQWO,5?TO$(_QWO,5?TOOQO-E<g-E<gOOQQ1G0^1G0^OOQQ1G0`1G0`O#-aQWO1G0`OOQU7+(b7+(bO!&fQ7[O7+(bO%[Q^O7+(bO$AeQWO7+(bO$ApQ7[O7+(bO$BOQ?NdO,5=UO$DWQ?NdO,5=WO$F`Q?NdO,5=UO$HnQ?NdO,5=WO$J|Q?NdO,59rO$MRQ?NdO,5<iO% ZQ?NdO,5<kO%#cQ?NdO,5<yOOQ?Mr7+&^7+&^O%%qQ?NdO7+&^O%&eQ^O'#IbO%&rQWO,5@^O%&zQrO,5@^OOQ?Mr1G/|1G/|O%'UQWO7+&gOOQ?Mr7+&g7+&gO%'ZQ07bO,5:cO%[Q^O7+&yO%'eQ07bO,5:_O%'rQ07bO,5:gO%'|Q07bO,5:iO%(WQ7[O'#IeO%(bQWO,5@cOOQ?Mr1G0a1G0aOOQO1G1q1G1qOOQO1G1r1G1rO%(jQtO,5<YO!(vQ^O,5<XOOQO-E<h-E<hOOQ?Mr7+'X7+'XOOOS7+'d7+'dOOOS1G1{1G1{O%(uQWO1G1{OOQ?Mr1G1}1G1}OOOO,59l,59lO%(zQpO,59lOOOO-E<[-E<[OOQ?Mr1G/U1G/UO%)RQ?NdO7+'jOOQ?Mr,5?Y,5?YO%)uQpO,5?YOOQ?Mr1G2d1G2dP!&fQ7[O'#InPOQ?Mr-E<l-E<lO%*eQ7[O,5?]OOQ?Mr-E<o-E<oO%+WQ7[O,5?_OOQ?Mr-E<q-E<qO%+bQpO1G2tO%+iQpO'#CrO%,PQ7[O'#J}O%,WQ^O'#EqOOQ?Mr1G2]1G2]O%,bQWO'#ImO%,vQWO,5@rO%,vQWO,5@rO%-OQWO,5@rO%-ZQWO,5@rOOQO1G2_1G2_O%-iQ7[O1G2^O!+oQ7[O1G2^O%-yQ$ISO'#IoO%.WQWO,5@sO!&fQ7[O,5@sO%.`QpO,5@sOOQ?Mr1G2b1G2bOOQ?Mp,5<{,5<{OOQ?Mp,5<|,5<|O$(_QWO,5<|OCcQWO,5<|O!BUQ`O,5<{OOQO'#Gd'#GdO%.jQWO,5<}OOQ?Mp,5=P,5=PO$(_QWO,5=SOOQO,5?[,5?[OOQO-E<n-E<nOOQ?Mv1G2f1G2fO!5pQ`O,5<{O%.rQWO,5<|O$#WQWO,5<}O%.}Q`O,5<|O!+oQ7[O'#IqO%/nQ7[O1G2pO!+oQ7[O'#IsO%0aQ7[O1G2rO%0kQ7[O1G5lO%0uQ7[O1G5lOOQO,5?a,5?aOOQO-E<s-E<sOOQO1G.{1G.{O!9]Q`O,59tO%[Q^O,59tOOQ?Mr,5<h,5<hO%1SQWO1G2XO!+oQ7[O1G2`O%1XQ?NdO7+'kOOQ?Mr7+'k7+'kO!$cQ^O7+'kO%1{QWO,5;]OOQ?Mp,5?c,5?cOOQ?Mp-E<u-E<uO%2QQpO'#KYO#'OQWO7+(bO4UQrO7+(bO$AhQWO7+(bO%2[Q?NbO'#CiO%2oQ?NbO,5=QO%3aQWO,5=QOOQ?Mp1G5j1G5jOOQU7+$a7+$aO!AyQ?MxO7+$aO!BUQ`O7+$aO!$cQ^O7+&^O%3fQWO'#I|O%3}QWO,5@{OOQO1G3d1G3dO9^QWO,5@{O%3}QWO,5@{O%4VQWO,5@{OOQO,5?i,5?iOOQO-E<{-E<{OOQ?Mr7+'S7+'SO%4[QWO7+(}O9hQ?MxO7+(}O9^QWO7+(}O@fQWO7+(}OOQU7+(m7+(mO%4aQ?NbO7+(jO!&fQ7[O7+(jO%4kQpO7+(kOOQU7+(k7+(kO!&fQ7[O7+(kO%4rQWO'#K^O%4}QWO,5=iOOQO,5?e,5?eOOQO-E<w-E<wOOQU7+(p7+(pO%6aQ`O'#HWOOQU1G3]1G3]O!&fQ7[O1G3]O%[Q^O1G3]O%6hQWO1G3]O%6sQ7[O1G3]O9hQ?MxO1G3_O$#]QWO1G3_O9RQWO1G3_O!BUQ`O1G3_O!B^Q7[O1G3_O%7RQWO'#I{O%7gQWO,5@yO%7oQ`O,5@yOOQ?Mp1G3`1G3`OOQU7+$V7+$VO@fQWO7+$VO9hQ?MxO7+$VO%7zQWO7+$VO%[Q^O1G6hO%[Q^O1G6iO%8PQ?MxO1G6hO%8ZQ^O1G3gO%8bQWO1G3gO%8gQ^O1G3gOOQU7+)P7+)PO9hQ?MxO7+)ZO`Q^O7+)]OOQU'#Kd'#KdOOQU'#JO'#JOO%8nQ^O,5>[OOQU,5>[,5>[O%[Q^O'#HqO%8{QWO'#HsOOQU,5>b,5>bO9WQWO,5>bOOQU,5>d,5>dOOQU7+)f7+)fOOQU7+)l7+)lOOQU7+)p7+)pOOQU7+)r7+)rO%9QQ`O1G5wO%9fQ07bO1G0wO%9pQWO1G0wOOQO1G/p1G/pO%9{Q07bO1G/pO>tQWO1G/pO!(vQ^O'#DjOOQO,5>{,5>{OOQO-E<_-E<_OOQO,5?R,5?ROOQO-E<e-E<eO!BUQ`O1G/pOOQO-E<a-E<aOOQ?Mv1G0Y1G0YOOQ?Mr7+%r7+%rO#'OQWO7+%rOOQ?Mr7+&]7+&]O>tQWO7+&]O!BUQ`O7+&]OOQO7+%u7+%uO$>nQ?NdO7+&UOOQO7+&U7+&UO%[Q^O7+&UO%:VQ?MxO7+&UO!AyQ?MxO7+%uO!BUQ`O7+%uO%:bQ?MxO7+&UO%:pQ?NdO7++mO%[Q^O7++mO%;QQWO7++lO%;QQWO7++lOOQO1G4o1G4oO9WQWO1G4oO%;YQWO1G4oOOQQ7+%z7+%zO#'OQWO<<K|O4UQrO<<K|O%;hQWO<<K|OOQU<<K|<<K|O!&fQ7[O<<K|O%[Q^O<<K|O%;pQWO<<K|O%;{Q?NdO,5?]O%>TQ?NdO,5?_O%@]Q?NdO1G2^O%BkQ?NdO1G2pO%DsQ?NdO1G2rO%F{QrO,5>|O%[Q^O,5>|OOQO-E<`-E<`O%GVQWO1G5xOOQ?Mr<<JR<<JRO%G_Q07bO1G0rO%IfQ07bO1G0|O%ImQ07bO1G0|O%KnQ07bO1G0|O%KuQ07bO1G0|O%MvQ07bO1G0|O& wQ07bO1G0|O&!OQ07bO1G0|O&!VQ07bO1G0|O&$WQ07bO1G0|O&$_Q07bO1G0|O&$fQ?NdO<<JeO&&^Q07bO1G0|O&'ZQ07bO1G0|O&(ZQ07bO'#JgO&*^Q07bO1G1bO&*kQ07bO1G0RO&*uQ7[O,5?POOQO-E<c-E<cO!(vQ^O'#FpOOQO'#KU'#KUOOQO1G1t1G1tO&+PQWO1G1sO&+UQ07bO,5?WOOOS7+'g7+'gOOOO1G/W1G/WOOQ?Mr1G4t1G4tO!+oQ7[O7+(`O&-fQrO'#CiO&-pQWO,5?XO9WQWO,5?XOOQO-E<k-E<kO&.OQWO1G6^O&.OQWO1G6^O&.WQWO1G6^O&.cQ7[O7+'xO&.sQpO,5?ZO&.}QWO,5?ZO!&fQ7[O,5?ZOOQO-E<m-E<mO&/SQpO1G6_O&/^QWO1G6_OOQ?Mp1G2h1G2hO$(_QWO1G2hOOQ?Mp1G2g1G2gO&/fQWO1G2iO!&fQ7[O1G2iOOQ?Mp1G2n1G2nO!BUQ`O1G2gOCcQWO1G2hO&/kQWO1G2iO&/sQWO1G2hO$#WQWO1G2iO&0gQ7[O,5?]OOQ?Mr-E<p-E<pO&1YQ7[O,5?_OOQ?Mr-E<r-E<rO!+oQ7[O7++WOOQ?Mr1G/`1G/`O&1dQWO1G/`OOQ?Mr7+'s7+'sO&1iQ7[O7+'zO&1yQ?NdO<<KVOOQ?Mr<<KV<<KVO&2mQWO1G0wO!&fQ7[O'#IvO&2rQWO,5@tO&4tQrO<<K|O!&fQ7[O1G2lOOQU<<G{<<G{O!AyQ?MxO<<G{O&4{Q?NdO<<IxOOQ?Mr<<Ix<<IxOOQO,5?h,5?hO&5oQWO,5?hO&5tQWO,5?hOOQO-E<z-E<zO&6SQWO1G6gO&6SQWO1G6gO9^QWO1G6gO@fQWO<<LiOOQU<<Li<<LiO&6[QWO<<LiO9hQ?MxO<<LiOOQU<<LU<<LUO%4aQ?NbO<<LUOOQU<<LV<<LVO%4kQpO<<LVO&6aQ`O'#IxO&6lQWO,5@xO!(vQ^O,5@xOOQU1G3T1G3TO%,WQ^O'#JqOOQO'#Iz'#IzO9hQ?MxO'#IzO&6tQ`O,5=rOOQU,5=r,5=rO&6{Q`O'#EdO&7aQ`O'#GcO&7fQWO7+(wO&7kQWO7+(wOOQU7+(w7+(wO!&fQ7[O7+(wO%[Q^O7+(wO&7sQWO7+(wOOQU7+(y7+(yO9hQ?MxO7+(yO$#]QWO7+(yO9RQWO7+(yO!BUQ`O7+(yO&8OQWO,5?gOOQO-E<y-E<yOOQO'#HZ'#HZO&8ZQWO1G6eO9hQ?MxO<<GqOOQU<<Gq<<GqO@fQWO<<GqO&8cQWO7+,SO&8hQWO7+,TO%[Q^O7+,SO%[Q^O7+,TOOQU7+)R7+)RO&8mQWO7+)RO&8rQ^O7+)RO&8yQWO7+)ROOQU<<Lu<<LuOOQU<<Lw<<LwOOQU-E<|-E<|OOQU1G3v1G3vO&9OQWO,5>]OOQU,5>_,5>_O&9TQWO1G3|O9WQWO7+&cO!(vQ^O7+&cOOQO7+%[7+%[O&9YQ07bO1G6UO>tQWO7+%[OOQ?Mr<<I^<<I^OOQ?Mr<<Iw<<IwO>tQWO<<IwOOQO<<Ip<<IpO$>nQ?NdO<<IpO%[Q^O<<IpOOQO<<Ia<<IaO!AyQ?MxO<<IaO&9dQ?MxO<<IpO&9oQ?NdO<= XO&:PQWO<= WOOQO7+*Z7+*ZO9WQWO7+*ZOOQUANAhANAhO&:XQrOANAhO!&fQ7[OANAhO#'OQWOANAhO4UQrOANAhO&:`QWOANAhO%[Q^OANAhO&:hQ?NdO7+'xO&<vQ?NdO,5?]O&?OQ?NdO,5?_O&AWQ?NdO7+'zO&CfQrO1G4hO&CpQ07bO7+&^O&EqQ07bO,5=UO&GuQ07bO,5=WO&HVQ07bO,5=UO&HgQ07bO,5=WO&HwQ07bO,59rO&JzQ07bO,5<iO&LzQ07bO,5<kO' ]Q07bO,5<yO'#OQ07bO7+'jO'#]Q07bO7+'kO'#jQWO,5<[OOQO7+'_7+'_O'#oQ7[O<<KzOOQO1G4s1G4sO'#vQWO1G4sO'$RQWO1G4sO'$aQWO7++xO'$aQWO7++xO!&fQ7[O1G4uO'$iQpO1G4uO'$sQWO7++yOOQ?Mp7+(S7+(SO'${QWO7+(TO'%WQpO7+(TOOQ?Mp7+(R7+(RO$(_QWO7+(SO'%bQWO7+(TO!&fQ7[O7+(TOCcQWO7+(SO'%gQWO7+(TO'%oQ7[O<<NrOOQ?Mr7+$z7+$zO'%yQpO,5?bOOQO-E<t-E<tO'&TQ?NbO7+(WOOQUAN=gAN=gO9^QWO1G5SOOQO1G5S1G5SO'&eQWO1G5SO'&jQWO7+,RO'&jQWO7+,RO9hQ?MxOANBTO@fQWOANBTOOQUANBTANBTOOQUANApANApOOQUANAqANAqO'&rQWO,5?dOOQO-E<v-E<vO'&}Q07bO1G6dOOQO,5?f,5?fOOQO-E<x-E<xOOQU1G3^1G3^O%,WQ^O,5<}O''XQWO,5<}OOQU<<Lc<<LcO!&fQ7[O<<LcO&7fQWO<<LcO''^QWO<<LcO%[Q^O<<LcOOQU<<Le<<LeO9hQ?MxO<<LeO$#]QWO<<LeO9RQWO<<LeO''fQ`O1G5RO''qQWO7+,POOQUAN=]AN=]O9hQ?MxOAN=]OOQU<= n<= nOOQU<= o<= oO''yQWO<= nO'(OQWO<= oOOQU<<Lm<<LmO'(TQWO<<LmO'(YQ^O<<LmOOQU1G3w1G3wO>tQWO7+)hO'(aQWO<<I}O'(lQ07bO<<I}OOQO<<Hv<<HvOOQ?MrAN?cAN?cOOQOAN?[AN?[O$>nQ?NdOAN?[OOQOAN>{AN>{O%[Q^OAN?[OOQO<<Mu<<MuOOQUG27SG27SO!&fQ7[OG27SO#'OQWOG27SO'(vQrOG27SO4UQrOG27SO'(}QWOG27SO')VQ07bO<<JeO')dQ07bO1G2^O'+VQ07bO,5?]O'-VQ07bO,5?_O'/VQ07bO1G2pO'1VQ07bO1G2rO'3VQ07bO<<KVO'3dQ07bO<<IxOOQO1G1v1G1vO!+oQ7[OANAfOOQO7+*_7+*_O'3qQWO7+*_O'3|QWO<= dO'4UQpO7+*aOOQ?Mp<<Ko<<KoO$(_QWO<<KoOCcQWO<<KoO'4`QWO<<KoO!&fQ7[O<<KoOOQ?Mp<<Kn<<KnO'4kQpO<<KoO$(_QWO<<KnO'4uQWO<<KoO!&fQ7[O<<KoOOQO7+*n7+*nO9^QWO7+*nO'4zQWO<= mOOQUG27oG27oO9hQ?MxOG27oO!(vQ^O1G5OO'5SQWO7+,OO&7fQWOANA}OOQUANA}ANA}O!&fQ7[OANA}O'5[QWOANA}OOQUANBPANBPO9hQ?MxOANBPO$#]QWOANBPOOQO'#H['#H[OOQO7+*m7+*mOOQUG22wG22wOOQUANEYANEYOOQUANEZANEZOOQUANBXANBXO'5dQWOANBXOOQU<<MS<<MSO!(vQ^OAN?iOOQOG24vG24vO$>nQ?NdOG24vO#'OQWOLD,nOOQULD,nLD,nO!&fQ7[OLD,nO'5iQrOLD,nO'5pQ07bO7+'xO'7cQ07bO,5?]O'9cQ07bO,5?_O';cQ07bO7+'zO'=UQ7[OG27QOOQO<<My<<MyOOQ?MpANAZANAZO$(_QWOANAZOCcQWOANAZO'=fQpOANAZO'=mQWOANAZO!&fQ7[OANAZOOQ?MpANAYANAYO'=xQpOANAZOOQO<<NY<<NYOOQULD-ZLD-ZO'>SQ07bO7+*jOOQUG27iG27iO&7fQWOG27iO!&fQ7[OG27iOOQUG27kG27kO9hQ?MxOG27kOOQUG27sG27sO'>^Q07bOG25TOOQOLD*bLD*bOOQU!$(!Y!$(!YO#'OQWO!$(!YO!&fQ7[O!$(!YO'>hQ?NdOG27QOOQ?MpG26uG26uO$(_QWOG26uO'@vQWOG26uOCcQWOG26uO'ARQpOG26uO!&fQ7[OG26uOOQULD-TLD-TO&7fQWOLD-TOOQULD-VLD-VOOQU!)9Et!)9EtO#'OQWO!)9EtOOQ?MpLD,aLD,aO$(_QWOLD,aOCcQWOLD,aO'AYQWOLD,aO'AeQpOLD,aOOQU!$(!o!$(!oOOQU!.K;`!.K;`O'AlQ07bOG27QOOQ?Mp!$( {!$( {O$(_QWO!$( {OCcQWO!$( {O'C_QWO!$( {OOQ?Mp!)9Eg!)9EgO$(_QWO!)9EgOCcQWO!)9EgOOQ?Mp!.K;R!.K;RO$(_QWO!.K;ROOQ?Mp!4/0m!4/0mO!(vQ^O'#DwO1PQWO'#EUO'CjQrO'#JmO'CqQMnO'#DsO'CxQ^O'#D{O'DPQrO'#CiO'FgQrO'#CiO!(vQ^O'#D}O'FwQ^O,5;WO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O,5;bO!(vQ^O'#IlO'HzQWO,5<gO!(vQ^O,5;bO'ISQ7[O,5;bO'JmQ7[O,5;bO!(vQ^O,5;vO!&fQ7[O'#GjO'ISQ7[O'#GjO!&fQ7[O'#GlO'ISQ7[O'#GlO1SQWO'#DWO1SQWO'#DWO!&fQ7[O'#F}O'ISQ7[O'#F}O!&fQ7[O'#GPO'ISQ7[O'#GPO!&fQ7[O'#G_O'ISQ7[O'#G_O!(vQ^O,5:gO'JtQ`O'#D[O!(vQ^O,5@jO'FwQ^O1G0rO'KOQ07bO'#CiO!(vQ^O1G2OO!&fQ7[O'#IqO'ISQ7[O'#IqO!&fQ7[O'#IsO'ISQ7[O'#IsO'KYQpO'#CrO!&fQ7[O,5<rO'ISQ7[O,5<rO'FwQ^O1G2PO!(vQ^O7+&yO!&fQ7[O1G2^O'ISQ7[O1G2^O!&fQ7[O'#IqO'ISQ7[O'#IqO!&fQ7[O'#IsO'ISQ7[O'#IsO!&fQ7[O1G2`O'ISQ7[O1G2`O'FwQ^O7+'kO'FwQ^O7+&^O!&fQ7[OANAfO'ISQ7[OANAfO'KmQWO'#ElO'KrQWO'#ElO'KzQWO'#F[O'LPQWO'#EvO'LUQWO'#KOO'LaQWO'#J|O'LlQWO,5;WO'LqQ7[O,5<dO'LxQWO'#GWO'L}QWO'#GWO'MSQWO,5<eO'M[QWO,5;WO'MdQ07bO1G1_O'MkQWO,5<rO'MpQWO,5<rO'MuQWO,5<tO'MzQWO,5<tO'NPQWO1G2PO'NUQWO1G0rO'NZQ7[O<<KzO'NbQ7[O<<KzO7eQ7[O'#FzO9RQWO'#FyOAaQWO'#EkO!(vQ^O,5;sO!3ZQWO'#GWO!3ZQWO'#GWO!3ZQWO'#GYO!3ZQWO'#GYO!+oQ7[O7+(`O!+oQ7[O7+(`O%+bQpO1G2tO%+bQpO1G2tO!&fQ7[O,5=YO!&fQ7[O,5=Y",stateData:"( f~O'wOS'xOSTOS'yRQ~OPYOQYOSfOY!VOaqOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#t!PO$V|O%e}O%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO&S!WO&Y!XO&[!YO&^!ZO&`![O&c!]O&i!^O&o!_O&q!`O&s!aO&u!bO&w!cO(OSO(QTO(TUO([VO(j[O(yiO~OWtO~P`OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa!wOp!nO!P!oO!_!yO!`!vO!a!vO!y;bO#Q!pO#R!pO#S!xO#T!pO#U!pO#X!zO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O'y!{O~OP]XR]X[]Xa]Xo]X}]X!P]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X'u]X([]X(m]X(t]X(u]X~O!d%PX~P(qO_!}O(Q#PO(R!}O(S#PO~O_#QO(S#PO(T#PO(U#QO~Ou#SO!R#TO(]#TO(^#VO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O;fO(QTO(TUO([VO(j[O(yiO~O!X#ZO!Y#WO!V(cP!V(qP~P+}O!Z#cO~P`OPYOQYOSfOd!jOe!iOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(QTO(TUO([VO(j[O(yiO~Om#mO!X#iO!y]O#f#lO#g#iO(O;gO!h(nP~P.iO!i#oO(O#nO~O!u#sO!y]O%e#tO~O#h#uO~O!d#vO#h#uO~OP$[OR#zO[$cOo$aO}#yO!P#{O!Y$_O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~Oa(aX'u(aX's(aX!h(aX!V(aX![(aX%f(aX!d(aX~P1qO#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX![(bX%f(bX~Oa(bX'u(bX's(bX!V(bX!h(bXs(bX!d(bX~P4UO#]$eO~O$[$hO$^$gO$e$mO~OSfO![$nO$h$oO$j$qO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{%[O!P${O![$|O!f%aO!i$xO#g%bO$V%_O$r%]O$t%^O$w%`O(O$sO(QTO(TUO([$uO(t$}O(u%POg(XP~O!i%cO~O!P%fO![%gO(O%eO~O!d%kO~Oa%lO'u%lO~O}%pO~P%[O(P!lO~P%[O%k%tO~P%[Oh%VO!i%cO(O%eO(P!lO~Oe%{O!i%cO(O%eO~O#s$RO~O}&QO![%}O!i&PO%g&TO(O%eO(P!lO(QTO(TUO`)SP~O!u#sO~O%p&VO!P)OX![)OX(O)OX~O(O&WO~O!r&]O#t!PO%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO~Od&bOe&aO!u&_O%e&`O%x&^O~P;|Od&eOeyO![&dO!r&]O!uxO!y]O#t!PO%e}O%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO~Ob&hO#]&kO%g&fO(P!lO~P=RO!i&lO!r&pO~O!i#oO~O![XO~Oa%lO't&xO'u%lO~Oa%lO't&{O'u%lO~Oa%lO't&}O'u%lO~O's]X!V]Xs]X!h]X&W]X![]X%f]X!d]X~P(qO!_'[O!`'TO!a'TO(P!lO(QTO(TUO~Op'RO!P'QO!X'UO(`'PO!Z(dP!Z(sP~P@YOk'_O![']O(O%eO~Oe'dO!i%cO(O%eO~O}&QO!i&PO~Op!nO!P!oO!y;bO#Q!pO#R!pO#T!pO#U!pO(P!lO(QTO(TUO(`!mO(j!sO~O!_'jO!`'iO!a'iO#S!pO#X'kO#Y'kO~PAtOa%lOh%VO!d#vO!i%cO'u%lO(m'mO~O!m'qO#]'oO~PCSOp!nO!P!oO(QTO(TUO(`!mO(j!sO~O![XOp(hX!P(hX!_(hX!`(hX!a(hX!y(hX#Q(hX#R(hX#S(hX#T(hX#U(hX#X(hX#Y(hX(P(hX(Q(hX(T(hX(`(hX(j(hX~O!`'iO!a'iO(P!lO~PCrO'z'uO'{'uO'|'wO~O_!}O(Q'yO(R!}O(S'yO~O_#QO(S'yO(T'yO(U#QO~Os'{O~P%[Ou#SO!R#TO(]#TO(^(OO~O!X(QO!V'SX!V'YX!Y'SX!Y'YX~P+}O!Y(SO!V(cX~OP$[OR#zO[$cOo$aO}#yO!P#{O!Y(SO!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~O!V(cX~PGmO!V(XO~O!V(pX!Y(pX!d(pX!h(pX(m(pX~O#](pX#h#aX!Z(pX~PIpO#](YO!V(rX!Y(rX~O!Y(ZO!V(qX~O!V(^O~O#]$eO~PIpO!Z(_O~P`OR#zO}#yO!P#{O!i#xO([VOP!ka[!kao!ka!Y!ka!m!ka#O!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#q!ka#r!ka#s!ka#u!ka#w!ka#y!ka#z!ka(m!ka(t!ka(u!ka~Oa!ka'u!ka's!ka!V!ka!h!kas!ka![!ka%f!ka!d!ka~PKWO!h(`O~O!d#vO#](aO(m'mO!Y(oXa(oX'u(oX~O!h(oX~PMsO!P%fO![%gO!y]O#f(fO#g(eO(O%eO~O!Y(gO!h(nX~O!h(iO~O!P%fO![%gO#g(eO(O%eO~OP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O!d#vO!h(bX~P! aOR(kO}(jO!i#xO#P$dO!y!xa!P!xa~O!u!xa%e!xa![!xa#f!xa#g!xa(O!xa~P!#bO!u(oO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<OO!P${O![$|O!f=`O!i$xO#g<UO$V%_O$r<QO$t<SO$w%`O(O(sO(QTO(TUO([$uO(t$}O(u%PO~O#h(uO~O!X(wO!h(fP~P%[O(`(yO(j[O~O!P({O!i#xO(`(yO(j[O~OP;aOQ;aOSfOd=[Oe!iOmkOo;aOpkOqkOwkOy;aO{;aO!PWO!TkO!UkO![!eO!f;dO!iZO!l;aO!m;aO!n;aO!p;eO!r;hO!u!hO$V!kO(O)YO(QTO(TUO([VO(j[O(y=YO~O!Y$_Oa$oa'u$oa's$oa!h$oa!V$oa![$oa%f$oa!d$oa~O#t)aO~P!&fOh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{%[O!P${O![$|O!f%aO!i$xO#g%bO$V%_O$r%]O$t%^O$w%`O(O(sO(QTO(TUO([$uO(t$}O(u%PO~Og(kP~P!+oO})fO!d)eO![$]X$Y$]X$[$]X$^$]X$e$]X~O!d)eO![(vX$Y(vX$[(vX$^(vX$e(vX~O})fO~P!-xO})fO![(vX$Y(vX$[(vX$^(vX$e(vX~O![)hO$Y)lO$[)gO$^)gO$e)mO~O!X)pO~P!(vO$[$hO$^$gO$e)tO~Ok$xX}$xX!P$xX#P$xX(t$xX(u$xX~OgjXg$xXkjX!YjX#]jX~P!/nOu)vO(])wO(^)yO~Ok*SO}){O!P)|O(t$}O(u%PO~Og)zO~P!0rOg*TO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<OO!P*VO![*WO!f=`O!i$xO#g<UO$V%_O$r<QO$t<SO$w%`O(QTO(TUO([$uO(t$}O(u%PO~O!X*ZO(O*UO!h(zP~P!1aO#h*]O~O!i*^O~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<OO!P${O![$|O!f=`O!i$xO#g<UO$V%_O$r<QO$t<SO$w%`O(O*`O(QTO(TUO([$uO(t$}O(u%PO~O!X*cO!V({P~P!3`Oo*oO!P*gO!_*mO!`*fO!a*fO!i*^O#X*nO%]*iO(P!lO(`!mO~O!Z*lO~P!5TO#P$dOk(ZX}(ZX!P(ZX(t(ZX(u(ZX!Y(ZX#](ZX~Og(ZX#}(ZX~P!5|Ok*tO#]*sOg(YX!Y(YX~O!Y*uOg(XX~O(O&WOg(XP~Op*xO~O!i*}O~O(O(sO~Om+RO!P%fO!X#iO![%gO!y]O#f#lO#g#iO(O%eO!h(nP~O!d#vO#h+SO~O!P%fO!X+UO!Y(ZO![%gO(O%eO!V(qP~Op'XO!P+WO!X+VO(QTO(TUO(`(yO~O!Z(sP~P!8|O!Y+XOa)PX'u)PX~OP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~Oa!ga!Y!ga'u!ga's!ga!V!ga!h!gas!ga![!ga%f!ga!d!ga~P!9tOR#zO}#yO!P#{O!i#xO([VOP!oa[!oao!oa!Y!oa!m!oa#O!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#q!oa#r!oa#s!oa#u!oa#w!oa#y!oa#z!oa(m!oa(t!oa(u!oa~Oa!oa'u!oa's!oa!V!oa!h!oas!oa![!oa%f!oa!d!oa~P!<[OR#zO}#yO!P#{O!i#xO([VOP!qa[!qao!qa!Y!qa!m!qa#O!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#s!qa#u!qa#w!qa#y!qa#z!qa(m!qa(t!qa(u!qa~Oa!qa'u!qa's!qa!V!qa!h!qas!qa![!qa%f!qa!d!qa~P!>rOh%VOk+bO![']O%f+aO~O!d+dOa(WX![(WX'u(WX!Y(WX~Oa%lO![XO'u%lO~Oh%VO!i%cO~Oh%VO!i%cO(O%eO~O!d#vO#h(uO~Ob+oO%g+pO(O+lO(QTO(TUO!Z)TP~O!Y+qO`)SX~O[+uO~O`+vO~O![%}O(O%eO(P!lO`)SP~Oh%VO#]+{O~Oh%VOk,OO![$|O~O![,QO~O},SO![XO~O%k%tO~O!u,XO~Oe,^O~Ob,_O(O#nO(QTO(TUO!Z)RP~Oe%{O~O%g!QO(O&WO~P=RO[,dO`,cO~OPYOQYOSfOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO!fuO!iZO!lYO!mYO!nYO!pvO!uxO!y]O%e}O(QTO(TUO([VO(j[O(yiO~O![!eO!r!gO$V!kO(O!dO~P!ErO`,cOa%lO'u%lO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa,iO!rwO#t!OO%i!OO%j!OO%k!OO~P!H[O!i&lO~O&Y,oO~O![,qO~O&k,sO&m,tOP&haQ&haS&haY&haa&had&hae&ham&hao&hap&haq&haw&hay&ha{&ha!P&ha!T&ha!U&ha![&ha!f&ha!i&ha!l&ha!m&ha!n&ha!p&ha!r&ha!u&ha!y&ha#t&ha$V&ha%e&ha%g&ha%i&ha%j&ha%k&ha%n&ha%p&ha%s&ha%t&ha%v&ha&S&ha&Y&ha&[&ha&^&ha&`&ha&c&ha&i&ha&o&ha&q&ha&s&ha&u&ha&w&ha's&ha(O&ha(Q&ha(T&ha([&ha(j&ha(y&ha!Z&ha&a&hab&ha&f&ha~O(O,yO~Oh!bX!Y!OX!Z!OX!d!OX!d!bX!i!bX#]!OX~O!Y!bX!Z!bX~P# bO!d-OO#],}Oh(eX!Y#eX!Y(eX!Z#eX!Z(eX!d(eX!i(eX~Oh%VO!d-QO!i%cO!Y!^X!Z!^X~Op!nO!P!oO(QTO(TUO(`!mO~OP;aOQ;aOSfOd=[Oe!iOmkOo;aOpkOqkOwkOy;aO{;aO!PWO!TkO!UkO![!eO!f;dO!iZO!l;aO!m;aO!n;aO!p;eO!r;hO!u!hO$V!kO(QTO(TUO([VO(j[O(y=YO~O(O<[O~P##fO!Y-UO!Z(dX~O!Z-WO~O!d-OO#],}O!Y#eX!Z#eX~O!Y-XO!Z(sX~O!Z-ZO~O!`-[O!a-[O(P!lO~P##TO!Z-_O~P'_Ok-bO![']O~O!V-gO~Op!xa!_!xa!`!xa!a!xa#Q!xa#R!xa#S!xa#T!xa#U!xa#X!xa#Y!xa(P!xa(Q!xa(T!xa(`!xa(j!xa~P!#bO!m-lO#]-jO~PCSO!`-nO!a-nO(P!lO~PCrOa%lO#]-jO'u%lO~Oa%lO!d#vO#]-jO'u%lO~Oa%lO!d#vO!m-lO#]-jO'u%lO(m'mO~O'z'uO'{'uO'|-sO~Os-tO~O!V'Sa!Y'Sa~P!9tO!X-xO!V'SX!Y'SX~P%[O!Y(SO!V(ca~O!V(ca~PGmO!Y(ZO!V(qa~O!P%fO!X-|O![%gO(O%eO!V'YX!Y'YX~O#].OO!Y(oa!h(oaa(oa'u(oa~O!d#vO~P#+lO!Y(gO!h(na~O!P%fO![%gO#g.SO(O%eO~Om.XO!P%fO!X.UO![%gO!y]O#f.WO#g.UO(O%eO!Y']X!h']X~OR.]O!i#xO~Oh%VOk.`O![']O%f._O~Oa#`i!Y#`i'u#`i's#`i!V#`i!h#`is#`i![#`i%f#`i!d#`i~P!9tOk=fO}){O!P)|O(t$}O(u%PO~O#h#[aa#[a#]#[a'u#[a!Y#[a!h#[a![#[a!V#[a~P#.hO#h(ZXP(ZXR(ZX[(ZXa(ZXo(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX'u(ZX([(ZX(m(ZX!h(ZX!V(ZX's(ZXs(ZX![(ZX%f(ZX!d(ZX~P!5|O!Y.mO!h(fX~P!9tO!h.pO~O!V.rO~OP$[OR#zO}#yO!P#{O!i#xO!m$[O([VO[#jia#jio#ji!Y#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#k#ji~P#2TO#k$OO~P#2TOP$[OR#zOo$aO}#yO!P#{O!i#xO!m$[O#k$OO#l$PO#m$PO#n$PO([VO[#jia#ji!Y#ji#O#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#o#ji~P#4rO#o$QO~P#4rOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO([VOa#ji!Y#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#u#ji~P#7aOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO([VO(u#}Oa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji(t#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w$UO~P#9wO#w#ji~P#9wO#u$SO~P#7aOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO([VO(t#|O(u#}Oa#ji!Y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#y#ji~P#<mO#y$WO~P#<mOP]XR]X[]Xo]X}]X!P]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X!Y]X!Z]X~O#}]X~P#?[OP$[OR#zO[;xOo;vO}#yO!P#{O!i#xO!m$[O#O;mO#k;jO#l;kO#m;kO#n;kO#o;lO#p;mO#q;mO#r;wO#s;mO#u;nO#w;pO#y;rO#z;sO([VO(m$YO(t#|O(u#}O~O#}.tO~P#AiO#P$dO#];yO$P;yO#}(bX!Z(bX~P! aOa'`a!Y'`a'u'`a's'`a!h'`a!V'`as'`a!['`a%f'`a!d'`a~P!9tO[#jia#jio#ji!Y#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~OP$[OR#zO}#yO!P#{O!i#xO!m$[O#k$OO#l$PO#m$PO#n$PO([VO(t#ji(u#ji~P#DkOk=fO}){O!P)|O(t$}O(u%POP#jiR#ji!i#ji!m#ji#k#ji#l#ji#m#ji#n#ji([#ji~P#DkO!Y.xOg(kX~P!0rOg.zO~Oa$Oi!Y$Oi'u$Oi's$Oi!V$Oi!h$Ois$Oi![$Oi%f$Oi!d$Oi~P!9tO$[.{O$^.{O~O$[.|O$^.|O~O!d)eO#].}O![$bX$Y$bX$[$bX$^$bX$e$bX~O!X/OO~O![)hO$Y/QO$[)gO$^)gO$e/RO~O!Y;tO!Z(aX~P#AiO!Z/SO~O!d)eO$e(vX~O$e/UO~Os/VO~P!&fOu)vO(])wO(^/YO~O!V/^O~P!&fO(t$}Ok%^a}%^a!P%^a(u%^a!Y%^a#]%^a~Og%^a#}%^a~P#KlO(u%POk%`a}%`a!P%`a(t%`a!Y%`a#]%`a~Og%`a#}%`a~P#L_O!YfX!dfX!hfX!h$xX(mfX~P!/nO!X/gO!Y(ZO(O/fO!V(qP!V({P~P!1aOo*oO!_*mO!`*fO!a*fO!i*^O#X*nO%]*iO(P!lO~Op'XO!P/hO!X+VO!Z*lO(QTO(TUO(`<XO!Z(sP~P#MxO!h/iO~P#.hO!Y/jO!d#vO(m'mO!h(zX~O!h/oO~O!P%fO!X*ZO![%gO(O%eO!h(zP~O#h/qO~O!V$xX!Y$xX!d%PX~P!/nO!Y/rO!V({X~P#.hO!d/tO~O!V/vO~Oh%VOo/zO!d#vO!i%cO(m'mO~O(O/|O~O!d+dO~Oa%lO!Y0QO'u%lO~O!Z0SO~P!5TO!`0TO!a0TO(P!lO(`!mO~O!P0VO(`!mO~O#X0WO~Og%^a!Y%^a#]%^a#}%^a~P!0rOg%`a!Y%`a#]%`a#}%`a~P!0rO(O&WOg'iX!Y'iX~O!Y*uOg(Xa~Og0aO~OR0bO}0bO!P0cO#P$dOkza(tza(uza!Yza#]za~Ogza#}za~P$%kO}){O!P)|Ok$qa(t$qa(u$qa!Y$qa#]$qa~Og$qa#}$qa~P$&dO}){O!P)|Ok$sa(t$sa(u$sa!Y$sa#]$sa~Og$sa#}$sa~P$'VO#h0fO~Og%Ra!Y%Ra#]%Ra#}%Ra~P!0rO!d#vO~O#h0iO~O!Y+XOa)Pa'u)Pa~OR#zO}#yO!P#{O!i#xO([VOP!oi[!oio!oi!Y!oi!m!oi#O!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#q!oi#r!oi#s!oi#u!oi#w!oi#y!oi#z!oi(m!oi(t!oi(u!oi~Oa!oi'u!oi's!oi!V!oi!h!ois!oi![!oi%f!oi!d!oi~P$(tOh%VOo%XOp$tOq$tOw%YOy%ZO{<OO!P${O![$|O!f=`O!i$xO#g<UO$V%_O$r<QO$t<SO$w%`O(QTO(TUO([$uO(t$}O(u%PO~Om0rO(O0qO~P$+[O!d+dOa(Wa![(Wa'u(Wa!Y(Wa~O#h0xO~O[]X!YfX!ZfX~O!Y0yO!Z)TX~O!Z0{O~O[0|O~Ob1OO(O+lO(QTO(TUO~O![%}O(O%eO`'qX!Y'qX~O!Y+qO`)Sa~O!h1RO~P!9tO[1UO~O`1VO~O#]1YO~Ok1]O![$|O~O(`(yO!Z)QP~Oh%VOk1fO![1cO%f1eO~O[1pO!Y1nO!Z)RX~O!Z1qO~O`1sOa%lO'u%lO~O(O#nO(QTO(TUO~O#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O#s1vO&W1wOa(bX~P$0rO#]$eO#s1vO&W1wO~Oa1yO~P%[Oa1{O~O&a2OOP&_iQ&_iS&_iY&_ia&_id&_ie&_im&_io&_ip&_iq&_iw&_iy&_i{&_i!P&_i!T&_i!U&_i![&_i!f&_i!i&_i!l&_i!m&_i!n&_i!p&_i!r&_i!u&_i!y&_i#t&_i$V&_i%e&_i%g&_i%i&_i%j&_i%k&_i%n&_i%p&_i%s&_i%t&_i%v&_i&S&_i&Y&_i&[&_i&^&_i&`&_i&c&_i&i&_i&o&_i&q&_i&s&_i&u&_i&w&_i's&_i(O&_i(Q&_i(T&_i([&_i(j&_i(y&_i!Z&_ib&_i&f&_i~Ob2UO!Z2SO&f2TO~P`O![XO!i2WO~O&m,tOP&hiQ&hiS&hiY&hia&hid&hie&him&hio&hip&hiq&hiw&hiy&hi{&hi!P&hi!T&hi!U&hi![&hi!f&hi!i&hi!l&hi!m&hi!n&hi!p&hi!r&hi!u&hi!y&hi#t&hi$V&hi%e&hi%g&hi%i&hi%j&hi%k&hi%n&hi%p&hi%s&hi%t&hi%v&hi&S&hi&Y&hi&[&hi&^&hi&`&hi&c&hi&i&hi&o&hi&q&hi&s&hi&u&hi&w&hi's&hi(O&hi(Q&hi(T&hi([&hi(j&hi(y&hi!Z&hi&a&hib&hi&f&hi~O!V2^O~O!Y!^a!Z!^a~P#AiOp!nO!P!oO!X2dO(`!mO!Y'TX!Z'TX~P@YO!Y-UO!Z(da~O!Y'ZX!Z'ZX~P!8|O!Y-XO!Z(sa~O!Z2kO~P'_Oa%lO#]2tO'u%lO~Oa%lO!d#vO#]2tO'u%lO~Oa%lO!d#vO!m2xO#]2tO'u%lO(m'mO~Oa%lO'u%lO~P!9tO!Y$_Os$oa~O!V'Si!Y'Si~P!9tO!Y(SO!V(ci~O!Y(ZO!V(qi~O!V(ri!Y(ri~P!9tO!Y(oi!h(oia(oi'u(oi~P!9tO#]2zO!Y(oi!h(oia(oi'u(oi~O!Y(gO!h(ni~O!P%fO![%gO!y]O#f3PO#g3OO(O%eO~O!P%fO![%gO#g3OO(O%eO~Ok3WO![']O%f3VO~Oh%VOk3WO![']O%f3VO~O#h%^aP%^aR%^a[%^aa%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^as%^a![%^a%f%^a!d%^a~P#KlO#h%`aP%`aR%`a[%`aa%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`as%`a![%`a%f%`a!d%`a~P#L_O#h%^aP%^aR%^a[%^aa%^ao%^a!Y%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^a#]%^as%^a![%^a%f%^a!d%^a~P#.hO#h%`aP%`aR%`a[%`aa%`ao%`a!Y%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`a#]%`as%`a![%`a%f%`a!d%`a~P#.hO#hzaPza[zaazaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza'uza([za(mza!hza!Vza'szasza![za%fza!dza~P$%kO#h$qaP$qaR$qa[$qaa$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa'u$qa([$qa(m$qa!h$qa!V$qa's$qas$qa![$qa%f$qa!d$qa~P$&dO#h$saP$saR$sa[$saa$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa'u$sa([$sa(m$sa!h$sa!V$sa's$sas$sa![$sa%f$sa!d$sa~P$'VO#h%RaP%RaR%Ra[%Raa%Rao%Ra!Y%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra'u%Ra([%Ra(m%Ra!h%Ra!V%Ra's%Ra#]%Ras%Ra![%Ra%f%Ra!d%Ra~P#.hOa#`q!Y#`q'u#`q's#`q!V#`q!h#`qs#`q![#`q%f#`q!d#`q~P!9tO!X3`O!Y'UX!h'UX~P%[O!Y.mO!h(fa~O!Y.mO!h(fa~P!9tO!V3cO~O#}!ka!Z!ka~PKWO#}!ga!Y!ga!Z!ga~P#AiO#}!oa!Z!oa~P!<[O#}!qa!Z!qa~P!>rOg'XX!Y'XX~P!+oO!Y.xOg(ka~OSfO![3wO$c3xO~O!Z3|O~Os3}O~P#.hOa$lq!Y$lq'u$lq's$lq!V$lq!h$lqs$lq![$lq%f$lq!d$lq~P!9tO!V4OO~P#.hO}){O!P)|O(u%POk'ea(t'ea!Y'ea#]'ea~Og'ea#}'ea~P%)|O}){O!P)|Ok'ga(t'ga(u'ga!Y'ga#]'ga~Og'ga#}'ga~P%*oO(m$YO~P#.hO!VfX!V$xX!YfX!Y$xX!d%PX#]fX~P!/nO(O<bO~P!1aOmkO(O4QO~P.iO!P%fO!X4SO![%gO(O%eO!Y'aX!h'aX~O!Y/jO!h(za~O!Y/jO!d#vO!h(za~O!Y/jO!d#vO(m'mO!h(za~Og$zi!Y$zi#]$zi#}$zi~P!0rO!X4[O!V'cX!Y'cX~P!3`O!Y/rO!V({a~O!Y/rO!V({a~P#.hO!d#vO#s4dO~Oo4gO!d#vO(m'mO~O!P4jO(`!mO~O(t$}Ok%^i}%^i!P%^i(u%^i!Y%^i#]%^i~Og%^i#}%^i~P%/VO(u%POk%`i}%`i!P%`i(t%`i!Y%`i#]%`i~Og%`i#}%`i~P%/xOg(Yi!Y(Yi~P!0rO#]4oOg(Yi!Y(Yi~P!0rO!h4rO~Oa$mq!Y$mq'u$mq's$mq!V$mq!h$mqs$mq![$mq%f$mq!d$mq~P!9tO!V4vO~O!Y4wO![(|X~P#.hOa$xX![$xX%Z]X'u$xX!Y$xX~P!/nO%Z4zOalXklX}lX!PlX![lX'ulX(tlX(ulX!YlX~O%Z4zO~Ob5QO%g5RO(O+lO(QTO(TUO!Y'pX!Z'pX~O!Y0yO!Z)Ta~O[5VO~O`5WO~Oa%lO'u%lO~P#.hO![$|O~P#.hO!Y5`O#]5bO!Z)QX~O!Z5cO~Oo5jOp!nO!P5dO!_!yO!`!vO!a!vO!y;bO#Q!pO#R!pO#S!pO#T!pO#U!pO#X5iO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O!Z5hO~P%5SOk5oO![1cO%f5nO~Oh%VOk5oO![1cO%f5nO~Ob5vO(O#nO(QTO(TUO!Y'oX!Z'oX~O!Y1nO!Z)Ra~O(QTO(TUO(`5xO~O`5|O~O#s6PO&W6QO~PMsO!h6RO~P%[Oa6TO~Oa6TO~P%[Ob2UO!Z6YO&f2TO~P`O!d6[O~O!d6^Oh(ei!Y(ei!Z(ei!d(ei!i(ei~O!Y#ei!Z#ei~P#AiO#]6_O!Y#ei!Z#ei~O!Y!^i!Z!^i~P#AiOa%lO#]6hO'u%lO~Oa%lO!d#vO#]6hO'u%lO~O!Y(oq!h(oqa(oq'u(oq~P!9tO!Y(gO!h(nq~O!P%fO![%gO#g6oO(O%eO~O![']O%f6rO~Ok6vO![']O%f6rO~O#h'eaP'eaR'ea['eaa'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea'u'ea(['ea(m'ea!h'ea!V'ea's'eas'ea!['ea%f'ea!d'ea~P%)|O#h'gaP'gaR'ga['gaa'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga'u'ga(['ga(m'ga!h'ga!V'ga's'gas'ga!['ga%f'ga!d'ga~P%*oO#h$ziP$ziR$zi[$zia$zio$zi!Y$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi'u$zi([$zi(m$zi!h$zi!V$zi's$zi#]$zis$zi![$zi%f$zi!d$zi~P#.hO#h%^iP%^iR%^i[%^ia%^io%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i'u%^i([%^i(m%^i!h%^i!V%^i's%^is%^i![%^i%f%^i!d%^i~P%/VO#h%`iP%`iR%`i[%`ia%`io%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i'u%`i([%`i(m%`i!h%`i!V%`i's%`is%`i![%`i%f%`i!d%`i~P%/xO!Y'Ua!h'Ua~P!9tO!Y.mO!h(fi~O#}#`i!Y#`i!Z#`i~P#AiOP$[OR#zO}#yO!P#{O!i#xO!m$[O([VO[#jio#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#k#ji~P%GlO#k;jO~P%GlOP$[OR#zOo;vO}#yO!P#{O!i#xO!m$[O#k;jO#l;kO#m;kO#n;kO([VO[#ji#O#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#o#ji~P%ItO#o;lO~P%ItOP$[OR#zO[;xOo;vO}#yO!P#{O!i#xO!m$[O#O;mO#k;jO#l;kO#m;kO#n;kO#o;lO#p;mO#q;mO#r;wO#s;mO([VO#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#u#ji~P%K|OP$[OR#zO[;xOo;vO}#yO!P#{O!i#xO!m$[O#O;mO#k;jO#l;kO#m;kO#n;kO#o;lO#p;mO#q;mO#r;wO#s;mO#u;nO([VO(u#}O#y#ji#z#ji#}#ji(m#ji(t#ji!Y#ji!Z#ji~O#w;pO~P%M}O#w#ji~P%M}O#u;nO~P%K|OP$[OR#zO[;xOo;vO}#yO!P#{O!i#xO!m$[O#O;mO#k;jO#l;kO#m;kO#n;kO#o;lO#p;mO#q;mO#r;wO#s;mO#u;nO#w;pO([VO(t#|O(u#}O#z#ji#}#ji(m#ji!Y#ji!Z#ji~O#y#ji~P&!^O#y;rO~P&!^Oa#{y!Y#{y'u#{y's#{y!V#{y!h#{ys#{y![#{y%f#{y!d#{y~P!9tO[#jio#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji!Y#ji!Z#ji~OP$[OR#zO}#yO!P#{O!i#xO!m$[O#k;jO#l;kO#m;kO#n;kO([VO(t#ji(u#ji~P&%YOk=gO}){O!P)|O(t$}O(u%POP#jiR#ji!i#ji!m#ji#k#ji#l#ji#m#ji#n#ji([#ji~P&%YO#P$dOP(ZXR(ZX[(ZXk(ZXo(ZX}(ZX!P(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX#}(ZX([(ZX(m(ZX(t(ZX(u(ZX!Y(ZX!Z(ZX~O#}$Oi!Y$Oi!Z$Oi~P#AiO#}!oi!Z!oi~P$(tOg'Xa!Y'Xa~P!0rO!Z7YO~O!Y'`a!Z'`a~P#AiOP]XR]X[]Xo]X}]X!P]X!V]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!d%WX#s%WX~P&+`O!d#vO(m'mO!Y'aa!h'aa~O!Y/jO!h(zi~O!Y/jO!d#vO!h(zi~Og$zq!Y$zq#]$zq#}$zq~P!0rO!V'ca!Y'ca~P#.hO!d7aO~O!Y/rO!V({i~P#.hO!Y/rO!V({i~O!V7eO~O!d#vO#s7jO~Oo7kO!d#vO(m'mO~O}){O!P)|O(u%POk'fa(t'fa!Y'fa#]'fa~Og'fa#}'fa~P&0OO}){O!P)|Ok'ha(t'ha(u'ha!Y'ha#]'ha~Og'ha#}'ha~P&0qO!V7nO~Og$|q!Y$|q#]$|q#}$|q~P!0rOa$my!Y$my'u$my's$my!V$my!h$mys$my![$my%f$my!d$my~P!9tO!d6^O~O!Y4wO![(|a~O![']OP$SaR$Sa[$Sao$Sa}$Sa!P$Sa!Y$Sa!i$Sa!m$Sa#O$Sa#k$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#u$Sa#w$Sa#y$Sa#z$Sa([$Sa(m$Sa(t$Sa(u$Sa~O%f6rO~P&2zOa#`y!Y#`y'u#`y's#`y!V#`y!h#`ys#`y![#`y%f#`y!d#`y~P!9tO[7sO~Ob7uO(O+lO(QTO(TUO~O!Y0yO!Z)Ti~O`7yO~O(`(yO!Y'lX!Z'lX~O!Y5`O!Z)Qa~O!Z8SO~P%5SOp!nO!P8TO(QTO(TUO(`!mO(j!sO~O#X8UO~O![1cO~O![1cO%f8WO~Ok8ZO![1cO%f8WO~O[8`O!Y'oa!Z'oa~O!Y1nO!Z)Ri~O!h8dO~O!h8eO~O!h8hO~O!h8hO~P%[Oa8jO~O!d8kO~O!h8lO~O!Y(ri!Z(ri~P#AiOa%lO#]8tO'u%lO~O!Y(oy!h(oya(oy'u(oy~P!9tO!Y(gO!h(ny~O%f8wO~P&2zO![']O%f8wO~O#h$zqP$zqR$zq[$zqa$zqo$zq!Y$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq'u$zq([$zq(m$zq!h$zq!V$zq's$zq#]$zqs$zq![$zq%f$zq!d$zq~P#.hO#h'faP'faR'fa['faa'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa'u'fa(['fa(m'fa!h'fa!V'fa's'fas'fa!['fa%f'fa!d'fa~P&0OO#h'haP'haR'ha['haa'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha'u'ha(['ha(m'ha!h'ha!V'ha's'has'ha!['ha%f'ha!d'ha~P&0qO#h$|qP$|qR$|q[$|qa$|qo$|q!Y$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q'u$|q([$|q(m$|q!h$|q!V$|q's$|q#]$|qs$|q![$|q%f$|q!d$|q~P#.hO!Y'Ui!h'Ui~P!9tO#}#`q!Y#`q!Z#`q~P#AiO(t$}OP%^aR%^a[%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a#}%^a([%^a(m%^a!Y%^a!Z%^a~Ok%^a}%^a!P%^a(u%^a~P&C}O(u%POP%`aR%`a[%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a#}%`a([%`a(m%`a!Y%`a!Z%`a~Ok%`a}%`a!P%`a(t%`a~P&FROk=gO}){O!P)|O(u%PO~P&C}Ok=gO}){O!P)|O(t$}O~P&FROR0bO}0bO!P0cO#P$dOPza[zakzaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza#}za([za(mza(tza(uza!Yza!Zza~O}){O!P)|OP$qaR$qa[$qak$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa#}$qa([$qa(m$qa(t$qa(u$qa!Y$qa!Z$qa~O}){O!P)|OP$saR$sa[$sak$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa#}$sa([$sa(m$sa(t$sa(u$sa!Y$sa!Z$sa~Ok=gO}){O!P)|O(t$}O(u%PO~OP%RaR%Ra[%Rao%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra#}%Ra([%Ra(m%Ra!Y%Ra!Z%Ra~P&NzO#}$lq!Y$lq!Z$lq~P#AiO#}$mq!Y$mq!Z$mq~P#AiO!Z9UO~O#}9VO~P!0rO!d#vO!Y'ai!h'ai~O!d#vO(m'mO!Y'ai!h'ai~O!Y/jO!h(zq~O!V'ci!Y'ci~P#.hO!Y/rO!V({q~Oo9^O!d#vO(m'mO~O[9`O!V9_O~P#.hO!V9_O~O!d#vO#s9eO~Og(Yy!Y(Yy~P!0rO!Y'ja!['ja~P#.hOa%Yq![%Yq'u%Yq!Y%Yq~P#.hO[9gO~O!Y0yO!Z)Tq~O#]9kO!Y'la!Z'la~O!Y5`O!Z)Qi~P#AiO!P4jO~O![1cO%f9oO~O(QTO(TUO(`9tO~O!Y1nO!Z)Rq~O!h9wO~O!h9xO~O!h9yO~O!h9yO~P%[O#]9|O!Y#ey!Z#ey~O!Y#ey!Z#ey~P#AiO%f:RO~P&2zO![']O%f:RO~O#}#{y!Y#{y!Z#{y~P#AiOP$ziR$zi[$zio$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi#}$zi([$zi(m$zi!Y$zi!Z$zi~P&NzO}){O!P)|O(u%POP'eaR'ea['eak'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea#}'ea(['ea(m'ea(t'ea!Y'ea!Z'ea~O}){O!P)|OP'gaR'ga['gak'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga#}'ga(['ga(m'ga(t'ga(u'ga!Y'ga!Z'ga~O(t$}OP%^iR%^i[%^ik%^io%^i}%^i!P%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i#}%^i([%^i(m%^i(u%^i!Y%^i!Z%^i~O(u%POP%`iR%`i[%`ik%`io%`i}%`i!P%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i#}%`i([%`i(m%`i(t%`i!Y%`i!Z%`i~O#}$my!Y$my!Z$my~P#AiO#}#`y!Y#`y!Z#`y~P#AiO!d#vO!Y'aq!h'aq~O!Y/jO!h(zy~O!V'cq!Y'cq~P#.hOo:]O!d#vO(m'mO~O[:`O!V:_O~P#.hO!V:_O~O!Y0yO!Z)Ty~O!Y5`O!Z)Qq~O![1cO%f:hO~O!h:kO~O%f:pO~P&2zOP$zqR$zq[$zqo$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq#}$zq([$zq(m$zq!Y$zq!Z$zq~P&NzO}){O!P)|O(u%POP'faR'fa['fak'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa#}'fa(['fa(m'fa(t'fa!Y'fa!Z'fa~O}){O!P)|OP'haR'ha['hak'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha#}'ha(['ha(m'ha(t'ha(u'ha!Y'ha!Z'ha~OP$|qR$|q[$|qo$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q#}$|q([$|q(m$|q!Y$|q!Z$|q~P&NzOg%b!Z!Y%b!Z#]%b!Z#}%b!Z~P!0rO!V:tO~P#.hOo:uO!d#vO(m'mO~O[:wO!V:tO~P#.hO!Y'lq!Z'lq~P#AiO!Y#e!Z!Z#e!Z~P#AiO#h%b!ZP%b!ZR%b!Z[%b!Za%b!Zo%b!Z!Y%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z'u%b!Z([%b!Z(m%b!Z!h%b!Z!V%b!Z's%b!Z#]%b!Zs%b!Z![%b!Z%f%b!Z!d%b!Z~P#.hOo;PO!d#vO(m'mO~O!V;QO~P#.hOo;XO!d#vO(m'mO~O!V;YO~P#.hOP%b!ZR%b!Z[%b!Zo%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z#}%b!Z([%b!Z(m%b!Z!Y%b!Z!Z%b!Z~P&NzOo;]O!d#vO(m'mO~Os(aX~P1qO}%pO~P!(vO(P!lO~P!(vO!VfX!YfX#]fX~P&+`OP]XR]X[]Xo]X}]X!P]X!Y]X!YfX!i]X!m]X#O]X#P]X#]]X#]fX#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!dfX!h]X!hfX(mfX~P'D^OP;aOQ;aOSfOd=[Oe!iOmkOo;aOpkOqkOwkOy;aO{;aO!PWO!TkO!UkO![XO!f;dO!iZO!l;aO!m;aO!n;aO!p;eO!r;hO!u!hO$V!kO(O)YO(QTO(TUO([VO(j[O(y=YO~O!Y;tO!Z$oa~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<PO!P${O![$|O!f=aO!i$xO#g<VO$V%_O$r<RO$t<TO$w%`O(O(sO(QTO(TUO([$uO(t$}O(u%PO~O#t)aO~P'ISOo!bX(m!bX~P# bO!Z]X!ZfX~P'D^O!VfX!V$xX!YfX!Y$xX#]fX~P!/nO#h;iO~O!d#vO#h;iO~O#];yO~O#s;mO~O#]<YO!Y(rX!Z(rX~O#];yO!Y(pX!Z(pX~O#h<ZO~Og<]O~P!0rO#h<cO~O#h<dO~O!d#vO#h<eO~O!d#vO#h<ZO~O#}<fO~P#AiO#h<gO~O#h<hO~O#h<mO~O#h<nO~O#h<oO~O#h<pO~O#}<qO~P!0rO#}<rO~P!0rO#P#Q#R#T#U#X#f#g#r(y$r$t$w%Z%e%f%g%n%p%s%t%v%x~'yT#l!U'w(P#mp#k#no}'x$['x(O$^(`~",goto:"$5g)XPPPPPP)YPP)]P)nP+O/PPPPP5{PP6cPP<Y?sP@WP@WPPP@WPB[P@WP@WP@WPB`PBePCSPG{PPPHPPPPPHPKRPPPKXLTPHPPHPPPNcHPPPPHPPHPP!!jHPP!&P!'U!'_P!(R!(V!(R!+cPPPPPPP!,S!'UPP!,d!-xP!1THPHP!1Y!4e!8{!8{!<yPPP!=RHPPPPPPPPPPPP!@aP!AnPPHP!CPPHPPHPHPHPHPHPPHP!DcP!GlP!JqP!Ju!KP!KT!KTP!GiP!KX!KXP!N^P!NbHPHP!Nh##lB`@WP@WP@W@WP#$x@W@W#'W@W#)z@W#,S@W@W#,r#/S#/S#/X#/b#/S#/nP#/SP@W#0W@W#4P@W@W5{PPP#8OPPP#8i#8iP#8iP#9P#8iPP#9VP#8|P#8|#9j#8|#:U#:[5x)]#:_)]P#:f#:f#:fP)]P)]P)]P)]PP)]P#:l#:oP#:o)]P#:sP#:vP)]P)]P)]P)]P)]P)])]PP#:|#;S#;_#;e#;k#;q#;w#<V#<]#<g#<m#<w#<}#=_#=e#>V#>i#>o#>u#?T#?j#A]#Ak#Ar#C[#Cj#EY#Eh#En#Et#Ez#FU#F[#Fb#Fl#GO#GUPPPPPPPPPP#G[PPPPPPP#HP#KW#Lg#Ln#LvPPP$$YP$$c$'Z$-s$-v$-y$.f$.i$.p$.xP$/O$/RP$/o$/s$0k$1y$2O$2fPP$2k$2q$2uP$2x$2|$3Q$3v$4_$4v$4z$4}$5Q$5W$5Z$5_$5cR!|RoqOXst!Z#d%k&o&q&r&t,l,q2O2RY!vQ']-^1c5gQ%rvQ%zyQ&R|Q&g!VS'T!e-UQ'c!iS'i!r!yU*f$|*W*kQ+j%{Q+w&TQ,]&aQ-['[Q-f'dQ-n'jQ0T*mQ1m,^R<W;e%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z+S+W,i,l,q-b-j-x.O.m.t/h0c0i0x1f1v1w1y1{2O2R2T2t2z3`5d5o6P6Q6T6h8T8Z8j8tS#q];b!r)[$Z$n'U)p,}-Q/O2d3w5b6_9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]U*z%[<O<PQ+o%}Q,_&dQ,f&lQ0o+bQ0s+dQ1O+pQ1u,dQ3S.`Q5Q0yQ5v1nQ6t3WQ7u5RR8z6v'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]t!nQ!r!v!y!z'T'[']'i'j'k-U-[-^-n1c5g5i%S$ti#v$b$c$d$x${%O%Q%]%^%b)v)|*O*Q*S*V*]*c*s*t+a+d+{,O._.x/_/g/q/r/t0X0Z0f1Y1]1e3V4P4[4d4o4w4z5n6r7a7j8W8w9V9`9e9o:R:`:h:p:w;w;x;z;{;|;}<Q<R<S<T<U<V<^<_<`<a<c<d<g<h<i<j<k<l<m<n<q<r=Y=b=c=f=gQ&U|Q'R!eU'X%g*W-XQ+o%}Q,_&dQ0e*}Q1O+pQ1T+vQ1t,cQ1u,dQ5Q0yQ5Z1VQ5v1nQ5y1pQ5z1sQ7u5RQ7x5WQ8c5|Q9j7yR9u8`rnOXst!V!Z#d%k&f&o&q&r&t,l,q2O2RR,a&h&x^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=[=][#]WZ#W#Z'U(Q!b%hm#h#i#l$x%c%f(Z(e(f(g*V*Z*^+U+V+X,h-O-|.S.T.U.W/g/j2W3O3P4S6^6oQ%uxQ%yyS&O|&TQ&[!TQ'`!hQ'b!iQ(n#sS+i%z%{Q+m%}Q,W&_Q,[&aS-e'c'dQ.b(oQ0w+jQ0}+pQ1P+qQ1S+uQ1h,XS1l,],^Q2p-fQ5P0yQ5T0|Q5Y1UQ5u1mQ7t5RQ7w5VQ9f7sR:c9g!O$zi$d%O%Q%]%^%b*O*Q*]*s*t.x/q0X0Z0f4P4o9V=Y=b=c!S%wy!i!u%y%z%{'S'b'c'd'h'r*e+i+j-R-e-f-m/{0w2i2p2w4fQ+c%uQ+|&XQ,P&YQ,Z&aQ.a(nQ1g,WU1k,[,],^Q3X.bQ5p1hS5t1l1mQ8_5u#d=^#v$b$c$x${)v)|*S*V*c+a+d+{,O._/_/g/r/t1Y1]1e3V4[4d4w4z5n6r7a7j8W8w9`9e9o:R:`:h:p:w;z;|<Q<S<U<^<`<c<g<i<k<m<q=f=go=_;w;x;{;}<R<T<V<_<a<d<h<j<l<n<rW%Ti%V*u=YS&X!Q&fQ&Y!RQ&Z!SR+z&V%T%Si#v$b$c$d$x${%O%Q%]%^%b)v)|*O*Q*S*V*]*c*s*t+a+d+{,O._.x/_/g/q/r/t0X0Z0f1Y1]1e3V4P4[4d4o4w4z5n6r7a7j8W8w9V9`9e9o:R:`:h:p:w;w;x;z;{;|;}<Q<R<S<T<U<V<^<_<`<a<c<d<g<h<i<j<k<l<m<n<q<r=Y=b=c=f=gT)w$u)xV*z%[<O<PW'X!e%g*W-XS(z#y#zQ+^%pQ+t&QS.Z(j(kQ1^,QQ4p0bR7}5`'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]$i$^c#Y#e%o%q%s(P(V(q(v)O)P)Q)R)S)T)U)V)W)X)Z)])_)d)n+_+s-S-q-v-{-}.l.o.s.u.v.w/Z0g2_2b2r2y3_3d3e3f3g3h3i3j3k3l3m3n3o3p3s3t3{4t4}6a6g6l6{6|7V7W8P8n8r8|9S9T:O:e:l;c=PT#TV#U'PkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]Q'V!eR2e-Uv!nQ!e!r!v!y!z'T'[']'i'j'k-U-[-^-n1c5g5iU*e$|*W*kS/{*f*mQ0U*nQ1`,SQ4f0TR4i0WnqOXst!Z#d%k&o&q&r&t,l,q2O2RQ&v!^Q's!xS(p#u;iQ+g%xQ,U&[Q,V&^Q-c'aQ-p'lS.k(u<ZS0h+S<eQ0u+hQ1b,TQ2V,sQ2X,tQ2a-PQ2n-dQ2q-hS4u0i<oQ4{0vS5O0x<pQ6`2cQ6d2oQ6i2vQ7r4|Q8o6bQ8p6eQ8s6jR9{8l$d$]c#Y#e%q%s(P(V(q(v)O)P)Q)R)S)T)U)V)W)X)Z)])_)d)n+_+s-S-q-v-{-}.l.o.s.v.w/Z0g2_2b2r2y3_3d3e3f3g3h3i3j3k3l3m3n3o3p3s3t3{4t4}6a6g6l6{6|7V7W8P8n8r8|9S9T:O:e:l;c=PS(l#p'fQ(|#zS+]%o.uS.[(k(mR3Q.]'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]S#q];bQ&q!XQ&r!YQ&t![Q&u!]R1},oQ'^!hQ+`%uQ-a'`S.^(n+cQ2l-`W3U.a.b0n0pQ6c2mW6p3R3T3X4yU8v6q6s6uU:Q8x8y8{S:n:P:SQ:{:oR;T:|U!wQ']-^T5e1c5g!Q_OXZ`st!V!Z#d#h%c%k&f&h&o&q&r&t(g,l,q.T2O2R]!pQ!r']-^1c5gT#q];b%[{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z+S+W+b,i,l,q-b-j-x.O.`.m.t/h0c0i0x1f1v1w1y1{2O2R2T2t2z3W3`5d5o6P6Q6T6h6v8T8Z8j8tS(z#y#zS.Z(j(k!s<v$Z$n'U)p,}-Q/O2d3w5b6_9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]U$fd)[,fS(m#p'fU*r%R(t3rU0d*y.g7RQ4y0oQ6q3SQ8y6tR:S8zm!tQ!r!v!y!z']'i'j'k-^-n1c5g5iQ'q!uS(c#g1xS-l'h'tQ/m*YQ/y*eQ2x-oQ4W/nS4a/z0UQ7]4RS7h4g4iQ9X7^Q9]7eQ9c7kS:[9^9_S:s:]:_S;O:t:uS;W;P;QS;[;X;YR;_;]Q#wbQ'p!uS(b#g1xS(d#m+RQ+T%dQ+e%vQ+k%|U-k'h'q'tQ.P(cQ/l*YQ/x*eQ0O*hQ0t+fQ1i,YS2u-l-oQ2}.XS4V/m/nS4`/y0UQ4c/}Q4e0PQ5r1jQ6k2xQ7[4RQ7`4WS7d4a4iQ7i4hQ8]5sS9W7]7^Q9[7eQ9a7hQ9d7lQ9r8^Q:Y9XS:Z9]9_Q:a9cQ:j9sS:r:[:_S:}:s:tS;V;O;QS;Z;W;YQ;^;[Q;`;_Q<y<tQ=U<}R=V=OV!wQ']-^%[aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z+S+W+b,i,l,q-b-j-x.O.`.m.t/h0c0i0x1f1v1w1y1{2O2R2T2t2z3W3`5d5o6P6Q6T6h6v8T8Z8j8tS#wz!j!r<s$Z$n'U)p,}-Q/O2d3w5b6_9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]R<y=[%[bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z+S+W+b,i,l,q-b-j-x.O.`.m.t/h0c0i0x1f1v1w1y1{2O2R2T2t2z3W3`5d5o6P6Q6T6h6v8T8Z8j8tQ%dj!S%vy!i!u%y%z%{'S'b'c'd'h'r*e+i+j-R-e-f-m/{0w2i2p2w4fS%|z!jQ+f%wQ,Y&aW1j,Z,[,],^U5s1k1l1mS8^5t5uQ9s8_!r<t$Z$n'U)p,}-Q/O2d3w5b6_9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]Q<}=ZR=O=[%OeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(S(Y(a(u(w({)z+S+W+b,i,l,q-b-j-x.O.`.m.t/h0c0i0x1f1v1w1y1{2O2R2T2t2z3W3`5d5o6P6Q6T6h6v8T8Z8j8tY#bWZ#W#Z(Q!b%hm#h#i#l$x%c%f(Z(e(f(g*V*Z*^+U+V+X,h-O-|.S.T.U.W/g/j2W3O3P4S6^6oQ,g&l!p<u$Z$n)p,}-Q/O2d3w5b6_9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]R<x'UU'Y!e%g*WR2g-X%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z+S+W,i,l,q-b-j-x.O.m.t/h0c0i0x1f1v1w1y1{2O2R2T2t2z3`5d5o6P6Q6T6h8T8Z8j8t!r)[$Z$n'U)p,}-Q/O2d3w5b6_9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]Q,f&lQ0o+bQ3S.`Q6t3WR8z6v!b$Tc#Y%o(P(V(q(v)W)X)])d+s-q-v-{-}.l.o/Z0g2r2y3_3o4t4}6g6l6{8r:O;c!P;o)Z)n-S.u2_2b3d3m3n3s3{6a6|7V7W8P8n8|9S9T:e:l=P!f$Vc#Y%o(P(V(q(v)T)U)W)X)])d+s-q-v-{-}.l.o/Z0g2r2y3_3o4t4}6g6l6{8r:O;c!T;q)Z)n-S.u2_2b3d3j3k3m3n3s3{6a6|7V7W8P8n8|9S9T:e:l=P!^$Zc#Y%o(P(V(q(v)])d+s-q-v-{-}.l.o/Z0g2r2y3_3o4t4}6g6l6{8r:O;cQ4P/ez=])Z)n-S.u2_2b3d3s3{6a6|7V7W8P8n8|9S9T:e:l=PQ=b=dR=c=e'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]S$oh$pR3x.}'VgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t.}/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]T$kf$qQ$ifS)g$l)kR)s$qT$jf$qT)i$l)k'VhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t.}/O/h0c0i0x1f1v1w1y1{2O2R2T2d2t2z3W3`3w5b5d5o6P6Q6T6_6h6v8T8Z8j8t9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]T$oh$pQ$rhR)r$p%[jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z+S+W+b,i,l,q-b-j-x.O.`.m.t/h0c0i0x1f1v1w1y1{2O2R2T2t2z3W3`5d5o6P6Q6T6h6v8T8Z8j8t!s=Z$Z$n'U)p,}-Q/O2d3w5b6_9k9|;a;d;e;h;i;j;k;l;m;n;o;p;q;r;s;t;v;y<W<Y<Z<]<e<f<o<p=]#elOPXZst!Z!`!o#S#d#o#{$n%k&h&k&l&o&q&r&t&x'Q'_({)p+W+b,i,l,q-b.`/O/h0c1f1v1w1y1{2O2R2T3W3w5d5o6P6Q6T6v8T8Z8j!O%Ri$d%O%Q%]%^%b*O*Q*]*s*t.x/q0X0Z0f4P4o9V=Y=b=c#d(t#v$b$c$x${)v)|*S*V*c+a+d+{,O._/_/g/r/t1Y1]1e3V4[4d4w4z5n6r7a7j8W8w9`9e9o:R:`:h:p:w;z;|<Q<S<U<^<`<c<g<i<k<m<q=f=gQ+O%`Q/[){o3r;w;x;{;}<R<T<V<_<a<d<h<j<l<n<r!O$yi$d%O%Q%]%^%b*O*Q*]*s*t.x/q0X0Z0f4P4o9V=Y=b=cQ*_$zU*h$|*W*kQ+P%aQ0P*i#d<{#v$b$c$x${)v)|*S*V*c+a+d+{,O._/_/g/r/t1Y1]1e3V4[4d4w4z5n6r7a7j8W8w9`9e9o:R:`:h:p:w;z;|<Q<S<U<^<`<c<g<i<k<m<q=f=gn<|;w;x;{;}<R<T<V<_<a<d<h<j<l<n<rQ=Q=^Q=R=_Q=S=`R=T=a!O%Ri$d%O%Q%]%^%b*O*Q*]*s*t.x/q0X0Z0f4P4o9V=Y=b=c#d(t#v$b$c$x${)v)|*S*V*c+a+d+{,O._/_/g/r/t1Y1]1e3V4[4d4w4z5n6r7a7j8W8w9`9e9o:R:`:h:p:w;z;|<Q<S<U<^<`<c<g<i<k<m<q=f=go3r;w;x;{;}<R<T<V<_<a<d<h<j<l<n<rnoOXst!Z#d%k&o&q&r&t,l,q2O2RS*b${*VQ,z&{Q,{&}R4Z/r%S%Si#v$b$c$d$x${%O%Q%]%^%b)v)|*O*Q*S*V*]*c*s*t+a+d+{,O._.x/_/g/q/r/t0X0Z0f1Y1]1e3V4P4[4d4o4w4z5n6r7a7j8W8w9V9`9e9o:R:`:h:p:w;w;x;z;{;|;}<Q<R<S<T<U<V<^<_<`<a<c<d<g<h<i<j<k<l<m<n<q<r=Y=b=c=f=gQ+}&YQ1[,PQ5^1ZR7|5_V*j$|*W*kU*j$|*W*kT5f1c5gU/}*g/h5dS4h0V8TR7l4jQ+e%vQ0O*hQ0t+fQ1i,YQ5r1jQ8]5sQ9r8^R:j9s!O%Oi$d%O%Q%]%^%b*O*Q*]*s*t.x/q0X0Z0f4P4o9V=Y=b=cr*O$v)b*P*q+Q/p0]0^3u4X4s7Z7m:X<z=W=XS0X*p0Y#d;z#v$b$c$x${)v)|*S*V*c+a+d+{,O._/_/g/r/t1Y1]1e3V4[4d4w4z5n6r7a7j8W8w9`9e9o:R:`:h:p:w;z;|<Q<S<U<^<`<c<g<i<k<m<q=f=gn;{;w;x;{;}<R<T<V<_<a<d<h<j<l<n<r!f<^(r)`*X*a.c.f.j/W/]/e/u0m1X1Z3[4Y4^5]5_6w6z7b7f7o7q9Z9b:^:b:q:v;R=d=e`<_3q6}7Q7U8}:T:W;US<i.e3]T<j7P9Q!O%Qi$d%O%Q%]%^%b*O*Q*]*s*t.x/q0X0Z0f4P4o9V=Y=b=cv*Q$v)b*R*p+Q/a/p0]0^3u4X4k4s7Z7m:X<z=W=XS0Z*q0[#d;|#v$b$c$x${)v)|*S*V*c+a+d+{,O._/_/g/r/t1Y1]1e3V4[4d4w4z5n6r7a7j8W8w9`9e9o:R:`:h:p:w;z;|<Q<S<U<^<`<c<g<i<k<m<q=f=gn;};w;x;{;}<R<T<V<_<a<d<h<j<l<n<r!j<`(r)`*X*a.d.e.j/W/]/e/u0m1X1Z3Y3[4Y4^5]5_6w6x6z7b7f7o7q9Z9b:^:b:q:v;R=d=ed<a3q7O7P7U8}9O:T:U:W;US<k.f3^T<l7Q9RrnOXst!V!Z#d%k&f&o&q&r&t,l,q2O2RQ&c!UR,i&lrnOXst!V!Z#d%k&f&o&q&r&t,l,q2O2RR&c!UQ,R&ZR1W+zsnOXst!V!Z#d%k&f&o&q&r&t,l,q2O2RQ1d,WS5m1g1hU8V5k5l5pS9n8X8YS:f9m9pQ:x:gR;S:yQ&j!VR,b&fR5y1pS&O|&TR1P+qQ&o!WR,l&pR,r&uT2P,q2RR,v&vQ,u&vR2Y,vQ'v!{R-r'vSsOtQ#dXT%ns#dQ#OTR'x#OQ#RUR'z#RQ)x$uR/X)xQ#UVR'}#UQ#XWU(T#X(U-yQ(U#YR-y(VQ-V'VR2f-VQ.n(vS3a.n3bR3b.oQ-^']R2j-^Y!rQ']-^1c5gR'g!rQ.y)bR3v.yU#_W%f*VU([#_(]-zQ(]#`R-z(WQ-Y'YR2h-Yt`OXst!V!Z#d%k&f&h&o&q&r&t,l,q2O2RS#hZ%cU#r`#h.TR.T(gQ(h#jQ.Q(dW.Y(h.Q2{6mQ2{.RR6m2|Q)k$lR/P)kQ$phR)q$pQ$`cU)^$`-u;uQ-u;cR;u)nQ/k*YW4T/k4U7_9YU4U/l/m/nS7_4V4WR9Y7`$a)}$v(r)`)b*X*a*p*q*{*|+Q.e.f.h.i.j/W/]/a/c/e/p/u0]0^0m1X1Z3Y3Z3[3q3u4X4Y4^4k4m4s5]5_6w6x6y6z7P7Q7S7T7U7Z7b7f7m7o7q8}9O9P9Z9b:T:U:V:W:X:^:b:q:v;R;U<z=W=X=d=eQ/s*aU4]/s4_7cQ4_/uR7c4^S*k$|*WR0R*kr*P$v)b*p*q+Q/p0]0^3u4X4s7Z7m:X<z=W=X!f.c(r)`*X*a.e.f.j/W/]/e/u0m1X1Z3[4Y4^5]5_6w6z7b7f7o7q9Z9b:^:b:q:v;R=d=eU/b*P.c6}a6}3q7P7Q7U8}:T:W;UQ0Y*pQ3].eU4l0Y3]9QR9Q7Pv*R$v)b*p*q+Q/a/p0]0^3u4X4k4s7Z7m:X<z=W=X!j.d(r)`*X*a.e.f.j/W/]/e/u0m1X1Z3Y3[4Y4^5]5_6w6x6z7b7f7o7q9Z9b:^:b:q:v;R=d=eU/d*R.d7Oe7O3q7P7Q7U8}9O:T:U:W;UQ0[*qQ3^.fU4n0[3^9RR9R7QQ*v%UR0`*vQ4x0mR7p4xQ+Y%iR0l+YQ5a1^S8O5a9lR9l8PQ,T&[R1a,TQ5g1cR8R5gQ1o,_S5w1o8aR8a5yQ0z+mW5S0z5U7v9hQ5U0}Q7v5TR9h7wQ+r&OR1Q+rQ2R,qR6X2RYrOXst#dQ&s!ZQ+[%kQ,k&oQ,m&qQ,n&rQ,p&tQ1|,lS2P,q2RR6W2OQ%mpQ&w!_Q&z!aQ&|!bQ'O!cQ'n!uQ+Z%jQ+g%xQ+y&UQ,a&jQ,x&yW-i'h'p'q'tQ-p'lQ0Q*jQ0u+hS1r,b,eQ2Z,wQ2[,zQ2],{Q2q-hW2s-k-l-o-qQ4{0vQ5X1TQ5[1XQ5q1iQ5{1tQ6V1}U6f2r2u2xQ6i2vQ7r4|Q7z5ZQ7{5]Q8Q5fQ8[5rQ8b5zS8q6g6kQ8s6jQ9i7xQ9q8]Q9v8cQ9}8rQ:d9jQ:i9rQ:m:OR:z:jQ%xyQ'a!iQ'l!uU+h%y%z%{Q-P'SU-d'b'c'dS-h'h'rQ/w*eS0v+i+jQ2c-RS2o-e-fQ2v-mQ4b/{Q4|0wQ6b2iQ6e2pQ6j2wR7g4fS$wi=YR*w%VU%Ui%V=YR0_*uQ$viS(r#v+dS)`$b$cQ)b$dQ*X$xS*a${*VQ*p%OQ*q%QQ*{%]Q*|%^Q+Q%bQ.e;zQ.f;|Q.h<QQ.i<SQ.j<UQ/W)vS/])|/_Q/a*OQ/c*QQ/e*SQ/p*]S/u*c/gQ0]*sQ0^*th0m+a._1e3V5n6r8W8w9o:R:h:pQ1X+{Q1Z,OQ3Y<^Q3Z<`Q3[<cS3q;w;xQ3u.xQ4X/qQ4Y/rQ4^/tQ4k0XQ4m0ZQ4s0fQ5]1YQ5_1]Q6w<gQ6x<iQ6y<kQ6z<mQ7P;{Q7Q;}Q7S<RQ7T<TQ7U<VQ7Z4PQ7b4[Q7f4dQ7m4oQ7o4wQ7q4zQ8}<dQ9O<_Q9P<aQ9Z7aQ9b7jQ:T<hQ:U<jQ:V<lQ:W<nQ:X9VQ:^9`Q:b9eQ:q<qQ:v:`Q;R:wQ;U<rQ<z=YQ=W=bQ=X=cQ=d=fR=e=gQ*y%[Q.g<OR7R<PnpOXst!Z#d%k&o&q&r&t,l,q2O2RQ!fPS#fZ#oQ&y!`U'e!o5d8TQ'|#SQ(}#{Q)o$nS,e&h&kQ,j&lQ,w&xQ,|'QQ-`'_Q.q({Q/T)pS0j+W/hQ0p+bQ1z,iQ2m-bQ3T.`Q3z/OQ4q0cQ5l1fQ5}1vQ6O1wQ6S1yQ6U1{Q6Z2TQ6u3WQ7X3wQ8Y5oQ8f6PQ8g6QQ8i6TQ8{6vQ9p8ZR9z8j#YcOPXZst!Z!`!o#d#o#{%k&h&k&l&o&q&r&t&x'Q'_({+W+b,i,l,q-b.`/h0c1f1v1w1y1{2O2R2T3W5d5o6P6Q6T6v8T8Z8jQ#YWQ#eYQ%ouQ%qvS%sw!gS(P#W(SQ(V#ZQ(q#uQ(v#xQ)O$OQ)P$PQ)Q$QQ)R$RQ)S$SQ)T$TQ)U$UQ)V$VQ)W$WQ)X$XQ)Z$ZQ)]$_Q)_$aQ)d$eW)n$n)p/O3wQ+_%rQ+s&PS-S'U2dQ-q'oS-v(Q-xQ-{(YQ-}(aQ.l(uQ.o(wQ.s;aQ.u;dQ.v;eQ.w;hQ/Z)zQ0g+SQ2_,}Q2b-QQ2r-jQ2y.OQ3_.mQ3d;iQ3e;jQ3f;kQ3g;lQ3h;mQ3i;nQ3j;oQ3k;pQ3l;qQ3m;rQ3n;sQ3o.tQ3p;vQ3s;yQ3t<WQ3{;tQ4t0iQ4}0xQ6a<YQ6g2tQ6l2zQ6{3`Q6|<ZQ7V<]Q7W<eQ8P5bQ8n6_Q8r6hQ8|<fQ9S<oQ9T<pQ:O8tQ:e9kQ:l9|Q;c#SR=P=]R#[WR'W!el!tQ!r!v!y!z']'i'j'k-^-n1c5g5iS'S!e-US-R'T'[R2i-[R(x#xQ!fQT-]']-^]!qQ!r']-^1c5gQ#p]R'f;bR)c$dY!uQ']-^1c5gQ'h!rS'r!v!yS't!z5iS-m'i'jQ-o'kR2w-nT#kZ%cS#jZ%cS%im,hU(d#h#i#lS.R(e(fQ.V(gQ0k+XQ2|.SU2}.T.U.WS6n3O3PR8u6od#^W#W#Z%f(Q(Z*V+U-|/gr#gZm#h#i#l%c(e(f(g+X.S.T.U.W3O3P6oS*Y$x*^Q/n*ZQ1x,hQ2`-OQ4R/jQ6]2WQ7^4SQ8m6^T<w'U+VV#aW%f*VU#`W%f*VS(R#W(ZU(W#Z+U/gS-T'U+VT-w(Q-|V'Z!e%g*WQ$lfR)u$qT)j$l)kR3y.}T*[$x*^T*d${*VQ0n+aQ3R._Q5k1eQ6s3VQ8X5nQ8x6rQ9m8WQ:P8wQ:g9oQ:o:RQ:y:hR:|:pnqOXst!Z#d%k&o&q&r&t,l,q2O2RQ&i!VR,a&ftmOXst!U!V!Z#d%k&f&o&q&r&t,l,q2O2RR,h&lT%jm,hR1_,QR,`&dQ&S|R+x&TR+n%}T&m!W&pT&n!W&pT2Q,q2R",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:376,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,34,36,48,50,52,""],["group",-26,9,17,19,65,204,208,212,213,215,218,221,231,233,239,241,243,245,248,254,260,262,264,266,268,270,271,"Statement",-34,13,14,29,32,33,39,48,51,52,54,59,67,69,73,77,79,81,82,107,108,117,118,135,138,140,141,142,143,144,146,147,166,167,169,"Expression",-23,28,30,34,38,40,42,171,173,175,176,178,179,180,182,183,184,186,187,188,198,200,202,203,"Type",-3,85,100,106,"ClassItem"],["openedBy",23,"<",35,"InterpolationStart",53,"[",57,"{",70,"(",159,"JSXStartCloseTag"],["closedBy",24,">",37,"InterpolationEnd",47,"]",58,"}",71,")",164,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,274],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Rp(U!b'w0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(S#S$h&j'x0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Rp(U!b'x0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!m),Q(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(Q':f$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(U!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Rp(U!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Rp(U!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(U!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(U!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(RpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(RpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Rp(U!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(j%1l(Rp(U!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Rp(U!b$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Rp(U!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Rp(U!b#m(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(u+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(T';W$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(RpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!i/.^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!h!Lf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Rp(U!b(P%&f#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Rp(U!b#k(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Rp(U!bo+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Y+Jf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Rp(U!b}.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!X!L^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Rp(U!b#l(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(U!b!U7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!U7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!U7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!U7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!U7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(U!b!U7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(U!b!U7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(U!b!U7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(U!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(U!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Rp!U7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Rp!U7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Rp!U7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Rp!U7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(RpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(RpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Rp(U!b!U7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Rp(U!b!U7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Rp(U!b!U7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Rp(U!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Rp(U!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Rp(U!b'y0/l!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Rp(U!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(U!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(U!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(RpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(RpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Rp(U!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!d$b$h&j#})Lv(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#O-<U(Rp(U!b(y7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#o(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#p(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#]*!Y$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#h(Cl$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#p(Ch$e#|$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#p(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(m(Ct$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!y$Ip$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!P0,v$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!V#)l$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Rp(U!b([+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Rp(U!b(O,2j$^#t(`$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Rp(U!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X![#Hb(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(t+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!Z(CdsBr$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!n7`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Rp(U!b'w0/l$[#t(O,2j(`$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Rp(U!b'x0/l$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOu~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(^~~",141,335),new LocalTokenGroup("j~RQYZXz{^~^O'{~~aP!P!Qd~iO'|~~",25,318)],topRules:{Script:[0,7],SingleExpression:[1,272],SingleClassItem:[2,273]},dialects:{jsx:0,ts:14791},dynamicPrecedences:{77:1,79:1,91:1,167:1,196:1},specialized:[{term:322,get:o=>spec_identifier[o]||-1},{term:338,get:o=>spec_word[o]||-1},{term:92,get:o=>spec_LessThan[o]||-1}],tokenPrec:14815}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(o){return(e,a)=>{let c=e.node.getChild("VariableDefinition");return c&&a(c,o),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(o,e){o.matchContext(functionContext)||e(o,"variable")},TypeDefinition(o,e){e(o,"type")},__proto__:null};function getScope(o,e){let a=cache.get(e);if(a)return a;let c=[],d=!0;function g(b,_){let _e=o.sliceString(b.from,b.to);c.push({label:_e,type:_})}return e.cursor(IterMode.IncludeAnonymous).iterate(b=>{if(d)d=!1;else if(b.name){let _=gatherCompletions[b.name];if(_&&_(b,g)||ScopeNodes.has(b.name))return!1}else if(b.to-b.from>8192){for(let _ of getScope(o,b.node))c.push(_);return!1}}),cache.set(e,c),c}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function localCompletionSource(o){let e=syntaxTree(o.state).resolveInner(o.pos,-1);if(dontComplete.indexOf(e.name)>-1)return null;let a=e.name=="VariableName"||e.to-e.from<20&&Identifier.test(o.state.sliceDoc(e.from,e.to));if(!a&&!o.explicit)return null;let c=[];for(let d=e;d;d=d.parent)ScopeNodes.has(d.name)&&(c=c.concat(getScope(o.state.doc,d)));return{options:c,from:a?e.from:o.pos,validFor:Identifier}}function pathFor(o,e,a){var c;let d=[];for(;;){let g=e.firstChild,b;if((g==null?void 0:g.name)=="VariableName")return d.push(o(g)),{path:d.reverse(),name:a};if((g==null?void 0:g.name)=="MemberExpression"&&((c=b=g.lastChild)===null||c===void 0?void 0:c.name)=="PropertyName")d.push(o(b)),e=g;else return null}}function completionPath(o){let e=c=>o.state.doc.sliceString(c.from,c.to),a=syntaxTree(o.state).resolveInner(o.pos,-1);return a.name=="PropertyName"?pathFor(e,a.parent,e(a)):(a.name=="."||a.name=="?.")&&a.parent.name=="MemberExpression"?pathFor(e,a.parent,""):dontComplete.indexOf(a.name)>-1?null:a.name=="VariableName"||a.to-a.from<20&&Identifier.test(e(a))?{path:[],name:e(a)}:a.name=="MemberExpression"?pathFor(e,a,""):o.explicit?{path:[],name:""}:null}function enumeratePropertyCompletions(o,e){let a=[],c=new Set;for(let d=0;;d++){for(let b of(Object.getOwnPropertyNames||Object.keys)(o)){if(!/^[a-zA-Z_$\xaa-\uffdc][\w$\xaa-\uffdc]*$/.test(b)||c.has(b))continue;c.add(b);let _;try{_=o[b]}catch{continue}a.push({label:b,type:typeof _=="function"?/^[A-Z]/.test(b)?"class":e?"function":"method":e?"variable":"property",boost:-d})}let g=Object.getPrototypeOf(o);if(!g)return a;o=g}}function scopeCompletionSource(o){let e=new Map;return a=>{let c=completionPath(a);if(!c)return null;let d=o;for(let b of c.path)if(d=d[b],!d)return null;let g=e.get(d);return g||e.set(d,g=enumeratePropertyCompletions(d,!c.path.length)),{from:a.pos-c.name.length,options:g,validFor:Identifier}}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:o=>{let e=o.textAfter,a=/^\s*\}/.test(e),c=/^\s*(case|default)\b/.test(e);return o.baseIndent+(a?0:c?1:2)*o.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:o=>o.baseIndent+o.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(o){let e=/^\s*<\//.test(o.textAfter);return o.lineIndent(o.node.from)+(e?0:o.unit)},JSXEscape(o){let e=/\s*\}/.test(o.textAfter);return o.lineIndent(o.node.from)+(e?0:o.unit)},"JSXOpenTag JSXSelfClosingTag"(o){return o.column(o.node.from)+o.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(o){return{from:o.from+2,to:o.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:o=>/^JSX/.test(o.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(o=>o.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(o=>o.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=o=>({label:o,type:"keyword"});const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(o={}){let e=o.jsx?o.typescript?tsxLanguage:jsxLanguage:o.typescript?typescriptLanguage:javascriptLanguage,a=o.typescript?typescriptSnippets.concat(typescriptKeywords):snippets.concat(keywords);return new LanguageSupport(e,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(a))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),o.jsx?autoCloseTags$1:[]])}function findOpenTag(o){for(;;){if(o.name=="JSXOpenTag"||o.name=="JSXSelfClosingTag"||o.name=="JSXFragmentTag")return o;if(o.name=="JSXEscape"||!o.parent)return null;o=o.parent}}function elementName$1(o,e,a=o.length){for(let c=e==null?void 0:e.firstChild;c;c=c.nextSibling)if(c.name=="JSXIdentifier"||c.name=="JSXBuiltin"||c.name=="JSXNamespacedName"||c.name=="JSXMemberExpression")return o.sliceString(c.from,Math.min(c.to,a));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags$1=EditorView.inputHandler.of((o,e,a,c,d)=>{if((android?o.composing:o.compositionStarted)||o.state.readOnly||e!=a||c!=">"&&c!="/"||!javascriptLanguage.isActiveAt(o.state,e,-1))return!1;let g=d(),{state:b}=g,_=b.changeByRange(_e=>{var tt;let{head:nt}=_e,it=syntaxTree(b).resolveInner(nt-1,-1),st;if(it.name=="JSXStartTag"&&(it=it.parent),!(b.doc.sliceString(nt-1,nt)!=c||it.name=="JSXAttributeValue"&&it.to>nt)){if(c==">"&&it.name=="JSXFragmentTag")return{range:_e,changes:{from:nt,insert:"</>"}};if(c=="/"&&it.name=="JSXStartCloseTag"){let ot=it.parent,ht=ot.parent;if(ht&&ot.from==nt-2&&((st=elementName$1(b.doc,ht.firstChild,nt))||((tt=ht.firstChild)===null||tt===void 0?void 0:tt.name)=="JSXFragmentTag")){let dt=`${st}>`;return{range:EditorSelection.cursor(nt+dt.length,-1),changes:{from:nt,insert:dt}}}}else if(c==">"){let ot=findOpenTag(it);if(ot&&ot.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(b.doc.sliceString(nt,nt+2))&&(st=elementName$1(b.doc,ot,nt)))return{range:_e,changes:{from:nt,insert:`</${st}>`}}}}return{range:_e}});return _.changes.empty?!1:(o.dispatch([g,b.update(_,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});function esLint(o,e){return e||(e={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:!0,node:!0,es6:!0,es2015:!0,es2017:!0,es2020:!0},rules:{}},o.getRules().forEach((a,c)=>{a.meta.docs.recommended&&(e.rules[c]=2)})),a=>{let{state:c}=a,d=[];for(let{from:g,to:b}of javascriptLanguage.findRegions(c)){let _=c.doc.lineAt(g),_e={line:_.number-1,col:g-_.from,pos:g};for(let tt of o.verify(c.sliceDoc(g,b),e))d.push(translateDiagnostic(tt,c.doc,_e))}return d}}function mapPos(o,e,a,c){return a.line(o+c.line).from+e+(o==1?c.col-1:-1)}function translateDiagnostic(o,e,a){let c=mapPos(o.line,o.column,e,a),d={from:c,to:o.endLine!=null&&o.endColumn!=1?mapPos(o.endLine,o.endColumn,e,a):c,message:o.message,source:o.ruleId?"eslint:"+o.ruleId:"eslint",severity:o.severity==1?"warning":"error"};if(o.fix){let{range:g,text:b}=o.fix,_=g[0]+a.pos-c,_e=g[1]+a.pos-c;d.actions=[{name:"fix",apply(tt,nt){tt.dispatch({changes:{from:nt+_,to:nt+_e,insert:b},scrollIntoView:!0})}}]}return d}const index$4=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags:autoCloseTags$1,completionPath,esLint,javascript,javascriptLanguage,jsxLanguage,localCompletionSource,scopeCompletionSource,snippets,tsxLanguage,typescriptLanguage,typescriptSnippets},Symbol.toStringTag,{value:"Module"})),Targets=["_blank","_self","_top","_parent"],Charsets=["ascii","utf-8","utf-16","latin1","latin1"],Methods=["get","post","put","delete"],Encs=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Bool=["true","false"],S={},Tags={a:{attrs:{href:null,ping:null,type:null,media:null,target:Targets,hreflang:null}},abbr:S,address:S,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:S,aside:S,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:S,base:{attrs:{href:null,target:Targets}},bdi:S,bdo:S,blockquote:{attrs:{cite:null}},body:S,br:S,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Encs,formmethod:Methods,formnovalidate:["novalidate"],formtarget:Targets,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:S,center:S,cite:S,code:S,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:S,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:S,div:S,dl:S,dt:S,em:S,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:S,figure:S,footer:S,form:{attrs:{action:null,name:null,"accept-charset":Charsets,autocomplete:["on","off"],enctype:Encs,method:Methods,novalidate:["novalidate"],target:Targets}},h1:S,h2:S,h3:S,h4:S,h5:S,h6:S,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:S,hgroup:S,hr:S,html:{attrs:{manifest:null}},i:S,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Encs,formmethod:Methods,formnovalidate:["novalidate"],formtarget:Targets,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:S,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:S,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:S,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Charsets,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:S,noscript:S,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:S,param:{attrs:{name:null,value:null}},pre:S,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:S,rt:S,ruby:S,samp:S,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Charsets}},section:S,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:S,source:{attrs:{src:null,type:null,media:null}},span:S,strong:S,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:S,summary:S,sup:S,table:S,tbody:S,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:S,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:S,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:S,time:{attrs:{datetime:null}},title:S,tr:S,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:S,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:S},GlobalAttrs={accesskey:null,class:null,contenteditable:Bool,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Bool,autocorrect:Bool,autocapitalize:Bool,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Bool,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Bool,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Bool,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Bool,"aria-hidden":Bool,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Bool,"aria-multiselectable":Bool,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Bool,"aria-relevant":null,"aria-required":Bool,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},eventAttributes="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(o=>"on"+o);for(let o of eventAttributes)GlobalAttrs[o]=null;let Schema$1=class{constructor(e,a){this.tags=Object.assign(Object.assign({},Tags),e),this.globalAttrs=Object.assign(Object.assign({},GlobalAttrs),a),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}};Schema$1.default=new Schema$1;function elementName(o,e,a=o.length){if(!e)return"";let c=e.firstChild,d=c&&c.getChild("TagName");return d?o.sliceString(d.from,Math.min(d.to,a)):""}function findParentElement(o,e=!1){for(;o;o=o.parent)if(o.name=="Element")if(e)e=!1;else return o;return null}function allowedChildren(o,e,a){let c=a.tags[elementName(o,findParentElement(e))];return(c==null?void 0:c.children)||a.allTags}function openTags(o,e){let a=[];for(let c=findParentElement(e);c&&!c.type.isTop;c=findParentElement(c.parent)){let d=elementName(o,c);if(d&&c.lastChild.name=="CloseTag")break;d&&a.indexOf(d)<0&&(e.name=="EndTag"||e.from>=c.firstChild.to)&&a.push(d)}return a}const identifier=/^[:\-\.\w\u00b7-\uffff]*$/;function completeTag(o,e,a,c,d){let g=/\s*>/.test(o.sliceDoc(d,d+5))?"":">",b=findParentElement(a,!0);return{from:c,to:d,options:allowedChildren(o.doc,b,e).map(_=>({label:_,type:"type"})).concat(openTags(o.doc,a).map((_,_e)=>({label:"/"+_,apply:"/"+_+g,type:"type",boost:99-_e}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function completeCloseTag(o,e,a,c){let d=/\s*>/.test(o.sliceDoc(c,c+5))?"":">";return{from:a,to:c,options:openTags(o.doc,e).map((g,b)=>({label:g,apply:g+d,type:"type",boost:99-b})),validFor:identifier}}function completeStartTag(o,e,a,c){let d=[],g=0;for(let b of allowedChildren(o.doc,a,e))d.push({label:"<"+b,type:"type"});for(let b of openTags(o.doc,a))d.push({label:"</"+b+">",type:"type",boost:99-g++});return{from:c,to:c,options:d,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function completeAttrName(o,e,a,c,d){let g=findParentElement(a),b=g?e.tags[elementName(o.doc,g)]:null,_=b&&b.attrs?Object.keys(b.attrs):[],_e=b&&b.globalAttrs===!1?_:_.length?_.concat(e.globalAttrNames):e.globalAttrNames;return{from:c,to:d,options:_e.map(tt=>({label:tt,type:"property"})),validFor:identifier}}function completeAttrValue(o,e,a,c,d){var g;let b=(g=a.parent)===null||g===void 0?void 0:g.getChild("AttributeName"),_=[],_e;if(b){let tt=o.sliceDoc(b.from,b.to),nt=e.globalAttrs[tt];if(!nt){let it=findParentElement(a),st=it?e.tags[elementName(o.doc,it)]:null;nt=(st==null?void 0:st.attrs)&&st.attrs[tt]}if(nt){let it=o.sliceDoc(c,d).toLowerCase(),st='"',ot='"';/^['"]/.test(it)?(_e=it[0]=='"'?/^[^"]*$/:/^[^']*$/,st="",ot=o.sliceDoc(d,d+1)==it[0]?"":it[0],it=it.slice(1),c++):_e=/^[^\s<>='"]*$/;for(let ht of nt)_.push({label:ht,apply:st+ht+ot,type:"constant"})}}return{from:c,to:d,options:_,validFor:_e}}function htmlCompletionFor(o,e){let{state:a,pos:c}=e,d=syntaxTree(a).resolveInner(c,-1),g=d.resolve(c);for(let b=c,_;g==d&&(_=d.childBefore(b));){let _e=_.lastChild;if(!_e||!_e.type.isError||_e.from<_e.to)break;g=d=_,b=_e.from}return d.name=="TagName"?d.parent&&/CloseTag$/.test(d.parent.name)?completeCloseTag(a,d,d.from,c):completeTag(a,o,d,d.from,c):d.name=="StartTag"?completeTag(a,o,d,c,c):d.name=="StartCloseTag"||d.name=="IncompleteCloseTag"?completeCloseTag(a,d,c,c):d.name=="OpenTag"||d.name=="SelfClosingTag"||d.name=="AttributeName"?completeAttrName(a,o,d,d.name=="AttributeName"?d.from:c,c):d.name=="Is"||d.name=="AttributeValue"||d.name=="UnquotedAttributeValue"?completeAttrValue(a,o,d,d.name=="Is"?c:d.from,c):e.explicit&&(g.name=="Element"||g.name=="Text"||g.name=="Document")?completeStartTag(a,o,d,c):null}function htmlCompletionSource(o){return htmlCompletionFor(Schema$1.default,o)}function htmlCompletionSourceWith(o){let{extraTags:e,extraGlobalAttributes:a}=o,c=a||e?new Schema$1(e,a):Schema$1.default;return d=>htmlCompletionFor(c,d)}const jsonParser=javascriptLanguage.parser.configure({top:"SingleExpression"}),defaultNesting=[{tag:"script",attrs:o=>o.type=="text/typescript"||o.lang=="ts",parser:typescriptLanguage.parser},{tag:"script",attrs:o=>o.type=="text/babel"||o.type=="text/jsx",parser:jsxLanguage.parser},{tag:"script",attrs:o=>o.type=="text/typescript-jsx",parser:tsxLanguage.parser},{tag:"script",attrs(o){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(o.type)},parser:jsonParser},{tag:"script",attrs(o){return!o.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(o.type)},parser:javascriptLanguage.parser},{tag:"style",attrs(o){return(!o.lang||o.lang=="css")&&(!o.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(o.type))},parser:cssLanguage.parser}],defaultAttrs=[{name:"style",parser:cssLanguage.parser.configure({top:"Styles"})}].concat(eventAttributes.map(o=>({name:o,parser:javascriptLanguage.parser}))),htmlPlain=LRLanguage.define({name:"html",parser:parser$2.configure({props:[indentNodeProp.add({Element(o){let e=/^(\s*)(<\/)?/.exec(o.textAfter);return o.node.to<=o.pos+e[0].length?o.continue():o.lineIndent(o.node.from)+(e[2]?0:o.unit)},"OpenTag CloseTag SelfClosingTag"(o){return o.column(o.node.from)+o.unit},Document(o){if(o.pos+/\s*/.exec(o.textAfter)[0].length<o.node.to)return o.continue();let e=null,a;for(let c=o.node;;){let d=c.lastChild;if(!d||d.name!="Element"||d.to!=c.to)break;e=c=d}return e&&!((a=e.lastChild)&&(a.name=="CloseTag"||a.name=="SelfClosingTag"))?o.lineIndent(e.from)+o.unit:null}}),foldNodeProp.add({Element(o){let e=o.firstChild,a=o.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:a.name=="CloseTag"?a.from:o.to}}}),bracketMatchingHandle.add({"OpenTag CloseTag":o=>o.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),htmlLanguage=htmlPlain.configure({wrap:configureNesting(defaultNesting,defaultAttrs)});function html$3(o={}){let e="",a;o.matchClosingTags===!1&&(e="noMatch"),o.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(o.nestedLanguages&&o.nestedLanguages.length||o.nestedAttributes&&o.nestedAttributes.length)&&(a=configureNesting((o.nestedLanguages||[]).concat(defaultNesting),(o.nestedAttributes||[]).concat(defaultAttrs)));let c=a?htmlPlain.configure({wrap:a,dialect:e}):e?htmlLanguage.configure({dialect:e}):htmlLanguage;return new LanguageSupport(c,[htmlLanguage.data.of({autocomplete:htmlCompletionSourceWith(o)}),o.autoCloseTags!==!1?autoCloseTags:[],javascript().support,css().support])}const selfClosers=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),autoCloseTags=EditorView.inputHandler.of((o,e,a,c,d)=>{if(o.composing||o.state.readOnly||e!=a||c!=">"&&c!="/"||!htmlLanguage.isActiveAt(o.state,e,-1))return!1;let g=d(),{state:b}=g,_=b.changeByRange(_e=>{var tt,nt,it;let st=b.doc.sliceString(_e.from-1,_e.to)==c,{head:ot}=_e,ht=syntaxTree(b).resolveInner(ot,-1),dt;if(st&&c==">"&&ht.name=="EndTag"){let Et=ht.parent;if(((nt=(tt=Et.parent)===null||tt===void 0?void 0:tt.lastChild)===null||nt===void 0?void 0:nt.name)!="CloseTag"&&(dt=elementName(b.doc,Et.parent,ot))&&!selfClosers.has(dt)){let pt=ot+(b.doc.sliceString(ot,ot+1)===">"?1:0),gt=`</${dt}>`;return{range:_e,changes:{from:ot,to:pt,insert:gt}}}}else if(st&&c=="/"&&ht.name=="IncompleteCloseTag"){let Et=ht.parent;if(ht.from==ot-2&&((it=Et.lastChild)===null||it===void 0?void 0:it.name)!="CloseTag"&&(dt=elementName(b.doc,Et,ot))&&!selfClosers.has(dt)){let pt=ot+(b.doc.sliceString(ot,ot+1)===">"?1:0),gt=`${dt}>`;return{range:EditorSelection.cursor(ot+gt.length,-1),changes:{from:ot,to:pt,insert:gt}}}}return{range:_e}});return _.changes.empty?!1:(o.dispatch([g,b.update(_,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),index$3=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags,html:html$3,htmlCompletionSource,htmlCompletionSourceWith,htmlLanguage,htmlPlain},Symbol.toStringTag,{value:"Module"})),data=defineLanguageFacet({commentTokens:{block:{open:"<!--",close:"-->"}}}),headingProp=new NodeProp,commonmark=parser$3.configure({props:[foldNodeProp.add(o=>!o.is("Block")||o.is("Document")||isHeading(o)!=null||isList(o)?void 0:(e,a)=>({from:a.doc.lineAt(e.from).to,to:e.to})),headingProp.add(isHeading),indentNodeProp.add({Document:()=>null}),languageDataProp.add({Document:data})]});function isHeading(o){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(o.name);return e?+e[1]:void 0}function isList(o){return o.name=="OrderedList"||o.name=="BulletList"}function findSectionEnd(o,e){let a=o;for(;;){let c=a.nextSibling,d;if(!c||(d=isHeading(c.type))!=null&&d<=e)break;a=c}return a.to}const headerIndent=foldService.of((o,e,a)=>{for(let c=syntaxTree(o).resolveInner(a,-1);c&&!(c.from<e);c=c.parent){let d=c.type.prop(headingProp);if(d==null)continue;let g=findSectionEnd(c,d);if(g>a)return{from:a,to:g}}return null});function mkLang(o){return new Language(data,o,[headerIndent],"markdown")}const commonmarkLanguage=mkLang(commonmark),extended=commonmark.configure([GFM,Subscript,Superscript,Emoji,{props:[foldNodeProp.add({Table:(o,e)=>({from:e.doc.lineAt(o.from).to,to:o.to})})]}]),markdownLanguage=mkLang(extended);function getCodeParser(o,e){return a=>{if(a&&o){let c=null;if(a=/\S*/.exec(a)[0],typeof o=="function"?c=o(a):c=LanguageDescription.matchLanguageName(o,a,!0),c instanceof LanguageDescription)return c.support?c.support.language.parser:ParseContext.getSkippingParser(c.load());if(c)return c.parser}return e?e.parser:null}}class Context{constructor(e,a,c,d,g,b,_){this.node=e,this.from=a,this.to=c,this.spaceBefore=d,this.spaceAfter=g,this.type=b,this.item=_}blank(e,a=!0){let c=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;c.length<e;)c+=" ";return c}else{for(let d=this.to-this.from-c.length-this.spaceAfter.length;d>0;d--)c+=" ";return c+(a?this.spaceAfter:"")}}marker(e,a){let c=this.node.name=="OrderedList"?String(+itemNumber(this.item,e)[2]+a):"";return this.spaceBefore+c+this.type+this.spaceAfter}}function getContext(o,e){let a=[];for(let d=o;d&&d.name!="Document";d=d.parent)(d.name=="ListItem"||d.name=="Blockquote"||d.name=="FencedCode")&&a.push(d);let c=[];for(let d=a.length-1;d>=0;d--){let g=a[d],b,_=e.lineAt(g.from),_e=g.from-_.from;if(g.name=="FencedCode")c.push(new Context(g,_e,_e,"","","",null));else if(g.name=="Blockquote"&&(b=/^ *>( ?)/.exec(_.text.slice(_e))))c.push(new Context(g,_e,_e+b[0].length,"",b[1],">",null));else if(g.name=="ListItem"&&g.parent.name=="OrderedList"&&(b=/^( *)\d+([.)])( *)/.exec(_.text.slice(_e)))){let tt=b[3],nt=b[0].length;tt.length>=4&&(tt=tt.slice(0,tt.length-4),nt-=4),c.push(new Context(g.parent,_e,_e+nt,b[1],tt,b[2],g))}else if(g.name=="ListItem"&&g.parent.name=="BulletList"&&(b=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(_.text.slice(_e)))){let tt=b[4],nt=b[0].length;tt.length>4&&(tt=tt.slice(0,tt.length-4),nt-=4);let it=b[2];b[3]&&(it+=b[3].replace(/[xX]/," ")),c.push(new Context(g.parent,_e,_e+nt,b[1],tt,it,g))}}return c}function itemNumber(o,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(o.from,o.from+10))}function renumberList(o,e,a,c=0){for(let d=-1,g=o;;){if(g.name=="ListItem"){let _=itemNumber(g,e),_e=+_[2];if(d>=0){if(_e!=d+1)return;a.push({from:g.from+_[1].length,to:g.from+_[0].length,insert:String(d+2+c)})}d=_e}let b=g.nextSibling;if(!b)break;g=b}}function normalizeIndent(o,e){let a=/^[ \t]*/.exec(o)[0].length;if(!a||e.facet(indentUnit)!="	")return o;let c=countColumn(o,4,a),d="";for(let g=c;g>0;)g>=4?(d+="	",g-=4):(d+=" ",g--);return d+o.slice(a)}const insertNewlineContinueMarkup=({state:o,dispatch:e})=>{let a=syntaxTree(o),{doc:c}=o,d=null,g=o.changeByRange(b=>{if(!b.empty||!markdownLanguage.isActiveAt(o,b.from))return d={range:b};let _=b.from,_e=c.lineAt(_),tt=getContext(a.resolveInner(_,-1),c);for(;tt.length&&tt[tt.length-1].from>_-_e.from;)tt.pop();if(!tt.length)return d={range:b};let nt=tt[tt.length-1];if(nt.to-nt.spaceAfter.length>_-_e.from)return d={range:b};let it=_>=nt.to-nt.spaceAfter.length&&!/\S/.test(_e.text.slice(nt.to));if(nt.item&&it){let Et=nt.node.firstChild,pt=nt.node.getChild("ListItem","ListItem");if(Et.to>=_||pt&&pt.to<_||_e.from>0&&!/[^\s>]/.test(c.lineAt(_e.from-1).text)){let gt=tt.length>1?tt[tt.length-2]:null,St,Tt="";gt&&gt.item?(St=_e.from+gt.from,Tt=gt.marker(c,1)):St=_e.from+(gt?gt.to:0);let bt=[{from:St,to:_,insert:Tt}];return nt.node.name=="OrderedList"&&renumberList(nt.item,c,bt,-2),gt&&gt.node.name=="OrderedList"&&renumberList(gt.item,c,bt),{range:EditorSelection.cursor(St+Tt.length),changes:bt}}else{let gt=blankLine$1(tt,o,_e);return{range:EditorSelection.cursor(_+gt.length+1),changes:{from:_e.from,insert:gt+o.lineBreak}}}}if(nt.node.name=="Blockquote"&&it&&_e.from){let Et=c.lineAt(_e.from-1),pt=/>\s*$/.exec(Et.text);if(pt&&pt.index==nt.from){let gt=o.changes([{from:Et.from+pt.index,to:Et.to},{from:_e.from+nt.from,to:_e.to}]);return{range:b.map(gt),changes:gt}}}let st=[];nt.node.name=="OrderedList"&&renumberList(nt.item,c,st);let ot=nt.item&&nt.item.from<_e.from,ht="";if(!ot||/^[\s\d.)\-+*>]*/.exec(_e.text)[0].length>=nt.to)for(let Et=0,pt=tt.length-1;Et<=pt;Et++)ht+=Et==pt&&!ot?tt[Et].marker(c,1):tt[Et].blank(Et<pt?countColumn(_e.text,4,tt[Et+1].from)-ht.length:null);let dt=_;for(;dt>_e.from&&/\s/.test(_e.text.charAt(dt-_e.from-1));)dt--;return ht=normalizeIndent(ht,o),nonTightList(nt.node,o.doc)&&(ht=blankLine$1(tt,o,_e)+o.lineBreak+ht),st.push({from:dt,to:_,insert:o.lineBreak+ht}),{range:EditorSelection.cursor(dt+ht.length+1),changes:st}});return d?!1:(e(o.update(g,{scrollIntoView:!0,userEvent:"input"})),!0)};function isMark(o){return o.name=="QuoteMark"||o.name=="ListMark"}function nonTightList(o,e){if(o.name!="OrderedList"&&o.name!="BulletList")return!1;let a=o.firstChild,c=o.getChild("ListItem","ListItem");if(!c)return!1;let d=e.lineAt(a.to),g=e.lineAt(c.from),b=/^[\s>]*$/.test(d.text);return d.number+(b?0:1)<g.number}function blankLine$1(o,e,a){let c="";for(let d=0,g=o.length-2;d<=g;d++)c+=o[d].blank(d<g?countColumn(a.text,4,o[d+1].from)-c.length:null,d<g);return normalizeIndent(c,e)}function contextNodeForDelete(o,e){let a=o.resolveInner(e,-1),c=e;isMark(a)&&(c=a.from,a=a.parent);for(let d;d=a.childBefore(c);)if(isMark(d))c=d.from;else if(d.name=="OrderedList"||d.name=="BulletList")a=d.lastChild,c=a.to;else break;return a}const deleteMarkupBackward=({state:o,dispatch:e})=>{let a=syntaxTree(o),c=null,d=o.changeByRange(g=>{let b=g.from,{doc:_}=o;if(g.empty&&markdownLanguage.isActiveAt(o,g.from)){let _e=_.lineAt(b),tt=getContext(contextNodeForDelete(a,b),_);if(tt.length){let nt=tt[tt.length-1],it=nt.to-nt.spaceAfter.length+(nt.spaceAfter?1:0);if(b-_e.from>it&&!/\S/.test(_e.text.slice(it,b-_e.from)))return{range:EditorSelection.cursor(_e.from+it),changes:{from:_e.from+it,to:b}};if(b-_e.from==it&&(!nt.item||_e.from<=nt.item.from||!/\S/.test(_e.text.slice(0,nt.to)))){let st=_e.from+nt.from;if(nt.item&&nt.node.from<nt.item.from&&/\S/.test(_e.text.slice(nt.from,nt.to))){let ot=nt.blank(countColumn(_e.text,4,nt.to)-countColumn(_e.text,4,nt.from));return st==_e.from&&(ot=normalizeIndent(ot,o)),{range:EditorSelection.cursor(st+ot.length),changes:{from:st,to:_e.from+nt.to,insert:ot}}}if(st<b)return{range:EditorSelection.cursor(st),changes:{from:st,to:b}}}}}return c={range:g}});return c?!1:(e(o.update(d,{scrollIntoView:!0,userEvent:"delete"})),!0)},markdownKeymap=[{key:"Enter",run:insertNewlineContinueMarkup},{key:"Backspace",run:deleteMarkupBackward}],htmlNoMatch=html$3({matchClosingTags:!1});function markdown(o={}){let{codeLanguages:e,defaultCodeLanguage:a,addKeymap:c=!0,base:{parser:d}=commonmarkLanguage,completeHTMLTags:g=!0}=o;if(!(d instanceof MarkdownParser))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let b=o.extensions?[o.extensions]:[],_=[htmlNoMatch.support],_e;a instanceof LanguageSupport?(_.push(a.support),_e=a.language):a&&(_e=a);let tt=e||_e?getCodeParser(e,_e):void 0;b.push(parseCode({codeParser:tt,htmlParser:htmlNoMatch.language.parser})),c&&_.push(Prec.high(keymap.of(markdownKeymap)));let nt=mkLang(d.configure(b));return g&&_.push(nt.data.of({autocomplete:htmlTagCompletion})),new LanguageSupport(nt,_)}function htmlTagCompletion(o){let{state:e,pos:a}=o,c=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(a-25,a));if(!c)return null;let d=syntaxTree(e).resolveInner(a,-1);for(;d&&!d.type.isTop;){if(d.name=="CodeBlock"||d.name=="FencedCode"||d.name=="ProcessingInstructionBlock"||d.name=="CommentBlock"||d.name=="Link"||d.name=="Image")return null;d=d.parent}return{from:a-c[0].length,to:a,options:htmlTagCompletions(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let _tagCompletions=null;function htmlTagCompletions(){if(_tagCompletions)return _tagCompletions;let o=htmlCompletionSource(new CompletionContext(EditorState.create({extensions:htmlNoMatch}),0,!0));return _tagCompletions=o?o.options:[]}const index$2=Object.freeze(Object.defineProperty({__proto__:null,commonmarkLanguage,deleteMarkupBackward,insertNewlineContinueMarkup,markdown,markdownKeymap,markdownLanguage},Symbol.toStringTag,{value:"Module"}));function legacy(o){return new LanguageSupport(StreamLanguage.define(o))}function sql(o){return __vitePreload(()=>import("./index-CijMKR3l.js"),[]).then(e=>e.sql({dialect:e[o]}))}const languages=[LanguageDescription.of({name:"C",extensions:["c","h","ino"],load(){return __vitePreload(()=>import("./index-D0qrAAqJ.js"),[]).then(o=>o.cpp())}}),LanguageDescription.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return __vitePreload(()=>import("./index-D0qrAAqJ.js"),[]).then(o=>o.cpp())}}),LanguageDescription.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return sql("Cassandra")}}),LanguageDescription.of({name:"CSS",extensions:["css"],load(){return __vitePreload(()=>Promise.resolve().then(()=>index$5),void 0).then(o=>o.css())}}),LanguageDescription.of({name:"Go",extensions:["go"],load(){return __vitePreload(()=>import("./index-CX3QF6Sa.js"),[]).then(o=>o.go())}}),LanguageDescription.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return __vitePreload(()=>Promise.resolve().then(()=>index$3),void 0).then(o=>o.html())}}),LanguageDescription.of({name:"Java",extensions:["java"],load(){return __vitePreload(()=>import("./index-Cxvz2gOt.js"),[]).then(o=>o.java())}}),LanguageDescription.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return __vitePreload(()=>Promise.resolve().then(()=>index$4),void 0).then(o=>o.javascript())}}),LanguageDescription.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return __vitePreload(()=>import("./index-B0QFUxuy.js"),[]).then(o=>o.json())}}),LanguageDescription.of({name:"JSX",extensions:["jsx"],load(){return __vitePreload(()=>Promise.resolve().then(()=>index$4),void 0).then(o=>o.javascript({jsx:!0}))}}),LanguageDescription.of({name:"LESS",extensions:["less"],load(){return __vitePreload(()=>import("./index-BzZ8nMEf.js"),[]).then(o=>o.less())}}),LanguageDescription.of({name:"Liquid",extensions:["liquid"],load(){return __vitePreload(()=>import("./index-D7VTM0Z4.js"),[]).then(o=>o.liquid())}}),LanguageDescription.of({name:"MariaDB SQL",load(){return sql("MariaSQL")}}),LanguageDescription.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return __vitePreload(()=>Promise.resolve().then(()=>index$2),void 0).then(o=>o.markdown())}}),LanguageDescription.of({name:"MS SQL",load(){return sql("MSSQL")}}),LanguageDescription.of({name:"MySQL",load(){return sql("MySQL")}}),LanguageDescription.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return __vitePreload(()=>import("./index-Djn4cNMp.js"),[]).then(o=>o.php())}}),LanguageDescription.of({name:"PLSQL",extensions:["pls"],load(){return sql("PLSQL")}}),LanguageDescription.of({name:"PostgreSQL",load(){return sql("PostgreSQL")}}),LanguageDescription.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return __vitePreload(()=>import("./index-Bsajm-1V.js"),[]).then(o=>o.python())}}),LanguageDescription.of({name:"Rust",extensions:["rs"],load(){return __vitePreload(()=>import("./index-DV-_WQpC.js"),[]).then(o=>o.rust())}}),LanguageDescription.of({name:"Sass",extensions:["sass"],load(){return __vitePreload(()=>import("./index-Cs36ao4k.js"),[]).then(o=>o.sass({indented:!0}))}}),LanguageDescription.of({name:"SCSS",extensions:["scss"],load(){return __vitePreload(()=>import("./index-Cs36ao4k.js"),[]).then(o=>o.sass())}}),LanguageDescription.of({name:"SQL",extensions:["sql"],load(){return sql("StandardSQL")}}),LanguageDescription.of({name:"SQLite",load(){return sql("SQLite")}}),LanguageDescription.of({name:"TSX",extensions:["tsx"],load(){return __vitePreload(()=>Promise.resolve().then(()=>index$4),void 0).then(o=>o.javascript({jsx:!0,typescript:!0}))}}),LanguageDescription.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return __vitePreload(()=>Promise.resolve().then(()=>index$4),void 0).then(o=>o.javascript({typescript:!0}))}}),LanguageDescription.of({name:"WebAssembly",extensions:["wat","wast"],load(){return __vitePreload(()=>import("./index-CftZzBlt.js"),[]).then(o=>o.wast())}}),LanguageDescription.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return __vitePreload(()=>import("./index-WiXbjKn8.js"),[]).then(o=>o.xml())}}),LanguageDescription.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return __vitePreload(()=>import("./index-fhel0AsV.js"),[]).then(o=>o.yaml())}}),LanguageDescription.of({name:"APL",extensions:["dyalog","apl"],load(){return __vitePreload(()=>import("./apl-B4CMkyY2.js"),[]).then(o=>legacy(o.apl))}}),LanguageDescription.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return __vitePreload(()=>import("./asciiarmor-Df11BRmG.js"),[]).then(o=>legacy(o.asciiArmor))}}),LanguageDescription.of({name:"ASN.1",extensions:["asn","asn1"],load(){return __vitePreload(()=>import("./asn1-CGOzndHr.js"),[]).then(o=>legacy(o.asn1({})))}}),LanguageDescription.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return __vitePreload(()=>import("./asterisk-B-8jnY81.js"),[]).then(o=>legacy(o.asterisk))}}),LanguageDescription.of({name:"Brainfuck",extensions:["b","bf"],load(){return __vitePreload(()=>import("./brainfuck-C4LP7Hcl.js"),[]).then(o=>legacy(o.brainfuck))}}),LanguageDescription.of({name:"Cobol",extensions:["cob","cpy"],load(){return __vitePreload(()=>import("./cobol-XrqhtCFE.js"),[]).then(o=>legacy(o.cobol))}}),LanguageDescription.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return __vitePreload(()=>import("./clike-DWq2Y8ae.js"),[]).then(o=>legacy(o.csharp))}}),LanguageDescription.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return __vitePreload(()=>import("./clojure-BMjYHr_A.js"),[]).then(o=>legacy(o.clojure))}}),LanguageDescription.of({name:"ClojureScript",extensions:["cljs"],load(){return __vitePreload(()=>import("./clojure-BMjYHr_A.js"),[]).then(o=>legacy(o.clojure))}}),LanguageDescription.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return __vitePreload(()=>import("./css-BnMrqG3P.js"),[]).then(o=>legacy(o.gss))}}),LanguageDescription.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return __vitePreload(()=>import("./cmake-BQqOBYOt.js"),[]).then(o=>legacy(o.cmake))}}),LanguageDescription.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return __vitePreload(()=>import("./coffeescript-S37ZYGWr.js"),[]).then(o=>legacy(o.coffeeScript))}}),LanguageDescription.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return __vitePreload(()=>import("./commonlisp-DBKNyK5s.js"),[]).then(o=>legacy(o.commonLisp))}}),LanguageDescription.of({name:"Cypher",extensions:["cyp","cypher"],load(){return __vitePreload(()=>import("./cypher-C_CwsFkJ.js"),[]).then(o=>legacy(o.cypher))}}),LanguageDescription.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return __vitePreload(()=>import("./python-BuPzkPfP.js"),[]).then(o=>legacy(o.cython))}}),LanguageDescription.of({name:"Crystal",extensions:["cr"],load(){return __vitePreload(()=>import("./crystal-SjHAIU92.js"),[]).then(o=>legacy(o.crystal))}}),LanguageDescription.of({name:"D",extensions:["d"],load(){return __vitePreload(()=>import("./d-pRatUO7H.js"),[]).then(o=>legacy(o.d))}}),LanguageDescription.of({name:"Dart",extensions:["dart"],load(){return __vitePreload(()=>import("./clike-DWq2Y8ae.js"),[]).then(o=>legacy(o.dart))}}),LanguageDescription.of({name:"diff",extensions:["diff","patch"],load(){return __vitePreload(()=>import("./diff-DbItnlRl.js"),[]).then(o=>legacy(o.diff))}}),LanguageDescription.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return __vitePreload(()=>import("./dockerfile-BuNIbK2j.js"),__vite__mapDeps([0,1])).then(o=>legacy(o.dockerFile))}}),LanguageDescription.of({name:"DTD",extensions:["dtd"],load(){return __vitePreload(()=>import("./dtd-DF_7sFjM.js"),[]).then(o=>legacy(o.dtd))}}),LanguageDescription.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return __vitePreload(()=>import("./dylan-DwRh75JA.js"),[]).then(o=>legacy(o.dylan))}}),LanguageDescription.of({name:"EBNF",load(){return __vitePreload(()=>import("./ebnf-CDyGwa7X.js"),[]).then(o=>legacy(o.ebnf))}}),LanguageDescription.of({name:"ECL",extensions:["ecl"],load(){return __vitePreload(()=>import("./ecl-Cabwm37j.js"),[]).then(o=>legacy(o.ecl))}}),LanguageDescription.of({name:"edn",extensions:["edn"],load(){return __vitePreload(()=>import("./clojure-BMjYHr_A.js"),[]).then(o=>legacy(o.clojure))}}),LanguageDescription.of({name:"Eiffel",extensions:["e"],load(){return __vitePreload(()=>import("./eiffel-CnydiIhH.js"),[]).then(o=>legacy(o.eiffel))}}),LanguageDescription.of({name:"Elm",extensions:["elm"],load(){return __vitePreload(()=>import("./elm-vLlmbW-K.js"),[]).then(o=>legacy(o.elm))}}),LanguageDescription.of({name:"Erlang",extensions:["erl"],load(){return __vitePreload(()=>import("./erlang-BNw1qcRV.js"),[]).then(o=>legacy(o.erlang))}}),LanguageDescription.of({name:"Esper",load(){return __vitePreload(()=>import("./sql-C4g8LzGK.js"),[]).then(o=>legacy(o.esper))}}),LanguageDescription.of({name:"Factor",extensions:["factor"],load(){return __vitePreload(()=>import("./factor-D8pE9siL.js"),__vite__mapDeps([2,1])).then(o=>legacy(o.factor))}}),LanguageDescription.of({name:"FCL",load(){return __vitePreload(()=>import("./fcl-Kvtd6kyn.js"),[]).then(o=>legacy(o.fcl))}}),LanguageDescription.of({name:"Forth",extensions:["forth","fth","4th"],load(){return __vitePreload(()=>import("./forth-Ffai-XNe.js"),[]).then(o=>legacy(o.forth))}}),LanguageDescription.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return __vitePreload(()=>import("./fortran-DYz_wnZ1.js"),[]).then(o=>legacy(o.fortran))}}),LanguageDescription.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return __vitePreload(()=>import("./mllike-C_8OmSiT.js"),[]).then(o=>legacy(o.fSharp))}}),LanguageDescription.of({name:"Gas",extensions:["s"],load(){return __vitePreload(()=>import("./gas-Bneqetm1.js"),[]).then(o=>legacy(o.gas))}}),LanguageDescription.of({name:"Gherkin",extensions:["feature"],load(){return __vitePreload(()=>import("./gherkin-heZmZLOM.js"),[]).then(o=>legacy(o.gherkin))}}),LanguageDescription.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return __vitePreload(()=>import("./groovy-DKLxxR9y.js"),[]).then(o=>legacy(o.groovy))}}),LanguageDescription.of({name:"Haskell",extensions:["hs"],load(){return __vitePreload(()=>import("./haskell-BWDZoCOh.js"),[]).then(o=>legacy(o.haskell))}}),LanguageDescription.of({name:"Haxe",extensions:["hx"],load(){return __vitePreload(()=>import("./haxe-pv4rovob.js"),[]).then(o=>legacy(o.haxe))}}),LanguageDescription.of({name:"HXML",extensions:["hxml"],load(){return __vitePreload(()=>import("./haxe-pv4rovob.js"),[]).then(o=>legacy(o.hxml))}}),LanguageDescription.of({name:"HTTP",load(){return __vitePreload(()=>import("./http-DBlCnlav.js"),[]).then(o=>legacy(o.http))}}),LanguageDescription.of({name:"IDL",extensions:["pro"],load(){return __vitePreload(()=>import("./idl-BEugSyMb.js"),[]).then(o=>legacy(o.idl))}}),LanguageDescription.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return __vitePreload(()=>import("./javascript-iSgyE4tI.js"),[]).then(o=>legacy(o.jsonld))}}),LanguageDescription.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return __vitePreload(()=>import("./jinja2-C4DGRd-O.js"),[]).then(o=>legacy(o.jinja2))}}),LanguageDescription.of({name:"Julia",extensions:["jl"],load(){return __vitePreload(()=>import("./julia-DuME0IfC.js"),[]).then(o=>legacy(o.julia))}}),LanguageDescription.of({name:"Kotlin",extensions:["kt","kts"],load(){return __vitePreload(()=>import("./clike-DWq2Y8ae.js"),[]).then(o=>legacy(o.kotlin))}}),LanguageDescription.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return __vitePreload(()=>import("./livescript-k3uCVVjK.js"),[]).then(o=>legacy(o.liveScript))}}),LanguageDescription.of({name:"Lua",extensions:["lua"],load(){return __vitePreload(()=>import("./lua-BgMRiT3U.js"),[]).then(o=>legacy(o.lua))}}),LanguageDescription.of({name:"mIRC",extensions:["mrc"],load(){return __vitePreload(()=>import("./mirc-CjQqDB4T.js"),[]).then(o=>legacy(o.mirc))}}),LanguageDescription.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return __vitePreload(()=>import("./mathematica-DTrFuWx2.js"),[]).then(o=>legacy(o.mathematica))}}),LanguageDescription.of({name:"Modelica",extensions:["mo"],load(){return __vitePreload(()=>import("./modelica-Dc1JOy9r.js"),[]).then(o=>legacy(o.modelica))}}),LanguageDescription.of({name:"MUMPS",extensions:["mps"],load(){return __vitePreload(()=>import("./mumps-BT43cFF4.js"),[]).then(o=>legacy(o.mumps))}}),LanguageDescription.of({name:"Mbox",extensions:["mbox"],load(){return __vitePreload(()=>import("./mbox-CNhZ1qSd.js"),[]).then(o=>legacy(o.mbox))}}),LanguageDescription.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return __vitePreload(()=>import("./nginx-DdIZxoE0.js"),[]).then(o=>legacy(o.nginx))}}),LanguageDescription.of({name:"NSIS",extensions:["nsh","nsi"],load(){return __vitePreload(()=>import("./nsis-CEAdamBV.js"),__vite__mapDeps([3,1])).then(o=>legacy(o.nsis))}}),LanguageDescription.of({name:"NTriples",extensions:["nt","nq"],load(){return __vitePreload(()=>import("./ntriples-BfvgReVJ.js"),[]).then(o=>legacy(o.ntriples))}}),LanguageDescription.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return __vitePreload(()=>import("./clike-DWq2Y8ae.js"),[]).then(o=>legacy(o.objectiveC))}}),LanguageDescription.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return __vitePreload(()=>import("./clike-DWq2Y8ae.js"),[]).then(o=>legacy(o.objectiveCpp))}}),LanguageDescription.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return __vitePreload(()=>import("./mllike-C_8OmSiT.js"),[]).then(o=>legacy(o.oCaml))}}),LanguageDescription.of({name:"Octave",extensions:["m"],load(){return __vitePreload(()=>import("./octave-Ck1zUtKM.js"),[]).then(o=>legacy(o.octave))}}),LanguageDescription.of({name:"Oz",extensions:["oz"],load(){return __vitePreload(()=>import("./oz-BzwKVEFT.js"),[]).then(o=>legacy(o.oz))}}),LanguageDescription.of({name:"Pascal",extensions:["p","pas"],load(){return __vitePreload(()=>import("./pascal-B1wCu0_E.js"),[]).then(o=>legacy(o.pascal))}}),LanguageDescription.of({name:"Perl",extensions:["pl","pm"],load(){return __vitePreload(()=>import("./perl-CdXCOZ3F.js"),[]).then(o=>legacy(o.perl))}}),LanguageDescription.of({name:"Pig",extensions:["pig"],load(){return __vitePreload(()=>import("./pig-CevX1Tat.js"),[]).then(o=>legacy(o.pig))}}),LanguageDescription.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return __vitePreload(()=>import("./powershell-CFHJl5sT.js"),[]).then(o=>legacy(o.powerShell))}}),LanguageDescription.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return __vitePreload(()=>import("./properties-C78fOPTZ.js"),[]).then(o=>legacy(o.properties))}}),LanguageDescription.of({name:"ProtoBuf",extensions:["proto"],load(){return __vitePreload(()=>import("./protobuf-ChK-085T.js"),[]).then(o=>legacy(o.protobuf))}}),LanguageDescription.of({name:"Pug",alias:["jade"],extensions:["pug","jade"],load(){return __vitePreload(()=>import("./pug-BmUsPMDj.js"),__vite__mapDeps([4,5])).then(o=>legacy(o.pug))}}),LanguageDescription.of({name:"Puppet",extensions:["pp"],load(){return __vitePreload(()=>import("./puppet-DMA9R1ak.js"),[]).then(o=>legacy(o.puppet))}}),LanguageDescription.of({name:"Q",extensions:["q"],load(){return __vitePreload(()=>import("./q-ZnEupP5q.js"),[]).then(o=>legacy(o.q))}}),LanguageDescription.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return __vitePreload(()=>import("./r-DUYO_cvP.js"),[]).then(o=>legacy(o.r))}}),LanguageDescription.of({name:"RPM Changes",load(){return __vitePreload(()=>import("./rpm-CTu-6PCP.js"),[]).then(o=>legacy(o.rpmChanges))}}),LanguageDescription.of({name:"RPM Spec",extensions:["spec"],load(){return __vitePreload(()=>import("./rpm-CTu-6PCP.js"),[]).then(o=>legacy(o.rpmSpec))}}),LanguageDescription.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return __vitePreload(()=>import("./ruby-B2Rjki9n.js"),[]).then(o=>legacy(o.ruby))}}),LanguageDescription.of({name:"SAS",extensions:["sas"],load(){return __vitePreload(()=>import("./sas-B4kiWyti.js"),[]).then(o=>legacy(o.sas))}}),LanguageDescription.of({name:"Scala",extensions:["scala"],load(){return __vitePreload(()=>import("./clike-DWq2Y8ae.js"),[]).then(o=>legacy(o.scala))}}),LanguageDescription.of({name:"Scheme",extensions:["scm","ss"],load(){return __vitePreload(()=>import("./scheme-C41bIUwD.js"),[]).then(o=>legacy(o.scheme))}}),LanguageDescription.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return __vitePreload(()=>import("./shell-CjFT_Tl9.js"),[]).then(o=>legacy(o.shell))}}),LanguageDescription.of({name:"Sieve",extensions:["siv","sieve"],load(){return __vitePreload(()=>import("./sieve-C3Gn_uJK.js"),[]).then(o=>legacy(o.sieve))}}),LanguageDescription.of({name:"Smalltalk",extensions:["st"],load(){return __vitePreload(()=>import("./smalltalk-CnHTOXQT.js"),[]).then(o=>legacy(o.smalltalk))}}),LanguageDescription.of({name:"Solr",load(){return __vitePreload(()=>import("./solr-DehyRSwq.js"),[]).then(o=>legacy(o.solr))}}),LanguageDescription.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return __vitePreload(()=>import("./mllike-C_8OmSiT.js"),[]).then(o=>legacy(o.sml))}}),LanguageDescription.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return __vitePreload(()=>import("./sparql-DkYu6x3z.js"),[]).then(o=>legacy(o.sparql))}}),LanguageDescription.of({name:"Spreadsheet",alias:["excel","formula"],load(){return __vitePreload(()=>import("./spreadsheet-BCZA_wO0.js"),[]).then(o=>legacy(o.spreadsheet))}}),LanguageDescription.of({name:"Squirrel",extensions:["nut"],load(){return __vitePreload(()=>import("./clike-DWq2Y8ae.js"),[]).then(o=>legacy(o.squirrel))}}),LanguageDescription.of({name:"Stylus",extensions:["styl"],load(){return __vitePreload(()=>import("./stylus-BdAi1jBa.js"),[]).then(o=>legacy(o.stylus))}}),LanguageDescription.of({name:"Swift",extensions:["swift"],load(){return __vitePreload(()=>import("./swift-BzpIVaGY.js"),[]).then(o=>legacy(o.swift))}}),LanguageDescription.of({name:"sTeX",load(){return __vitePreload(()=>import("./stex-C3f8Ysf7.js"),[]).then(o=>legacy(o.stex))}}),LanguageDescription.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return __vitePreload(()=>import("./stex-C3f8Ysf7.js"),[]).then(o=>legacy(o.stex))}}),LanguageDescription.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return __vitePreload(()=>import("./verilog-C6RDOZhf.js"),[]).then(o=>legacy(o.verilog))}}),LanguageDescription.of({name:"Tcl",extensions:["tcl"],load(){return __vitePreload(()=>import("./tcl-DVfN8rqt.js"),[]).then(o=>legacy(o.tcl))}}),LanguageDescription.of({name:"Textile",extensions:["textile"],load(){return __vitePreload(()=>import("./textile-CnDTJFAw.js"),[]).then(o=>legacy(o.textile))}}),LanguageDescription.of({name:"TiddlyWiki",load(){return __vitePreload(()=>import("./tiddlywiki-DO-Gjzrf.js"),[]).then(o=>legacy(o.tiddlyWiki))}}),LanguageDescription.of({name:"Tiki wiki",load(){return __vitePreload(()=>import("./tiki-DGYXhP31.js"),[]).then(o=>legacy(o.tiki))}}),LanguageDescription.of({name:"TOML",extensions:["toml"],load(){return __vitePreload(()=>import("./toml-BXUEaScT.js"),[]).then(o=>legacy(o.toml))}}),LanguageDescription.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return __vitePreload(()=>import("./troff-wAsdV37c.js"),[]).then(o=>legacy(o.troff))}}),LanguageDescription.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return __vitePreload(()=>import("./ttcn-CiGrtVSZ.js"),[]).then(o=>legacy(o.ttcn))}}),LanguageDescription.of({name:"TTCN_CFG",extensions:["cfg"],load(){return __vitePreload(()=>import("./ttcn-cfg-BIkV9KBc.js"),[]).then(o=>legacy(o.ttcnCfg))}}),LanguageDescription.of({name:"Turtle",extensions:["ttl"],load(){return __vitePreload(()=>import("./turtle-B1tBg_DP.js"),[]).then(o=>legacy(o.turtle))}}),LanguageDescription.of({name:"Web IDL",extensions:["webidl"],load(){return __vitePreload(()=>import("./webidl-ZXfAyPTL.js"),[]).then(o=>legacy(o.webIDL))}}),LanguageDescription.of({name:"VB.NET",extensions:["vb"],load(){return __vitePreload(()=>import("./vb-CmGdzxic.js"),[]).then(o=>legacy(o.vb))}}),LanguageDescription.of({name:"VBScript",extensions:["vbs"],load(){return __vitePreload(()=>import("./vbscript-BuJXcnF6.js"),[]).then(o=>legacy(o.vbScript))}}),LanguageDescription.of({name:"Velocity",extensions:["vtl"],load(){return __vitePreload(()=>import("./velocity-D8B20fx6.js"),[]).then(o=>legacy(o.velocity))}}),LanguageDescription.of({name:"Verilog",extensions:["v"],load(){return __vitePreload(()=>import("./verilog-C6RDOZhf.js"),[]).then(o=>legacy(o.verilog))}}),LanguageDescription.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return __vitePreload(()=>import("./vhdl-lSbBsy5d.js"),[]).then(o=>legacy(o.vhdl))}}),LanguageDescription.of({name:"XQuery",extensions:["xy","xquery"],load(){return __vitePreload(()=>import("./xquery-WRlm2TX8.js"),[]).then(o=>legacy(o.xQuery))}}),LanguageDescription.of({name:"Yacas",extensions:["ys"],load(){return __vitePreload(()=>import("./yacas-BJ4BC0dw.js"),[]).then(o=>legacy(o.yacas))}}),LanguageDescription.of({name:"Z80",extensions:["z80"],load(){return __vitePreload(()=>import("./z80-Hz9HOZM7.js"),[]).then(o=>legacy(o.z80))}}),LanguageDescription.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return __vitePreload(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(o=>legacy(o.mscgen))}}),LanguageDescription.of({name:"X",extensions:["xu"],load(){return __vitePreload(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(o=>legacy(o.xu))}}),LanguageDescription.of({name:"MsGenny",extensions:["msgenny"],load(){return __vitePreload(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(o=>legacy(o.msgenny))}}),LanguageDescription.of({name:"Vue",extensions:["vue"],load(){return __vitePreload(()=>import("./index-SjxL60ru.js"),[]).then(o=>o.vue())}}),LanguageDescription.of({name:"Angular Template",load(){return __vitePreload(()=>import("./index-B18uUMwm.js"),[]).then(o=>o.angular())}})];function ok$1(){}function unreachable(){}function parse$3(o){const e=[],a=String(o||"");let c=a.indexOf(","),d=0,g=!1;for(;!g;){c===-1&&(c=a.length,g=!0);const b=a.slice(d,c).trim();(b||!g)&&e.push(b),d=c+1,c=a.indexOf(",",d)}return e}function stringify$1(o,e){const a={};return(o[o.length-1]===""?[...o,""]:o).join((a.padRight?" ":"")+","+(a.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$3={};function name(o,e){return(emptyOptions$3.jsx?nameReJsx:nameRe).test(o)}const re=/[ \t\n\f\r]/g;function whitespace(o){return typeof o=="object"?o.type==="text"?empty$1(o.value):!1:empty$1(o)}function empty$1(o){return o.replace(re,"")===""}class Schema{constructor(e,a,c){this.property=e,this.normal=a,c&&(this.space=c)}}Schema.prototype.property={};Schema.prototype.normal={};Schema.prototype.space=null;function merge(o,e){const a={},c={};let d=-1;for(;++d<o.length;)Object.assign(a,o[d].property),Object.assign(c,o[d].normal);return new Schema(a,c,e)}function normalize$1(o){return o.toLowerCase()}class Info{constructor(e,a){this.property=e,this.attribute=a}}Info.prototype.space=null;Info.prototype.boolean=!1;Info.prototype.booleanish=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.number=!1;Info.prototype.commaSeparated=!1;Info.prototype.spaceSeparated=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.mustUseProperty=!1;Info.prototype.defined=!1;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(e,a,c,d){let g=-1;if(super(e,a),mark(this,"space",d),typeof c=="number")for(;++g<checks.length;){const b=checks[g];mark(this,checks[g],(c&types[b])===types[b])}}}DefinedInfo.prototype.defined=!0;function mark(o,e,a){a&&(o[e]=a)}const own$8={}.hasOwnProperty;function create(o){const e={},a={};let c;for(c in o.properties)if(own$8.call(o.properties,c)){const d=o.properties[c],g=new DefinedInfo(c,o.transform(o.attributes||{},c),d,o.space);o.mustUseProperty&&o.mustUseProperty.includes(c)&&(g.mustUseProperty=!0),e[c]=g,a[normalize$1(c)]=c,a[normalize$1(g.attribute)]=c}return new Schema(e,a,o.space)}const xlink=create({space:"xlink",transform(o,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),xml=create({space:"xml",transform(o,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(o,e){return e in o?o[e]:e}function caseInsensitiveTransform(o,e){return caseSensitiveTransform(o,e.toLowerCase())}const xmlns=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),aria=create({transform(o,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null}}),html$2=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:boolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null}}),svg$1=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),valid=/^data[-\w.:]+$/i,dash=/-[a-z]/g,cap$1=/[A-Z]/g;function find(o,e){const a=normalize$1(e);let c=e,d=Info;if(a in o.normal)return o.property[o.normal[a]];if(a.length>4&&a.slice(0,4)==="data"&&valid.test(e)){if(e.charAt(4)==="-"){const g=e.slice(5).replace(dash,camelcase);c="data"+g.charAt(0).toUpperCase()+g.slice(1)}else{const g=e.slice(4);if(!dash.test(g)){let b=g.replace(cap$1,kebab);b.charAt(0)!=="-"&&(b="-"+b),e="data"+b}}d=DefinedInfo}return new d(c,e)}function kebab(o){return"-"+o.toLowerCase()}function camelcase(o){return o.charAt(1).toUpperCase()}const hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},html$1=merge([xml,xlink,xmlns,aria,html$2],"html"),svg=merge([xml,xlink,xmlns,aria,svg$1],"svg");function parse$2(o){const e=String(o||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function stringify(o){return o.join(" ").trim()}var cjs={},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE=`
`,FORWARD_SLASH="/",ASTERISK="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration",inlineStyleParser=function(o,e){if(typeof o!="string")throw new TypeError("First argument must be a string");if(!o)return[];e=e||{};var a=1,c=1;function d(ht){var dt=ht.match(NEWLINE_REGEX);dt&&(a+=dt.length);var Et=ht.lastIndexOf(NEWLINE);c=~Et?ht.length-Et:c+ht.length}function g(){var ht={line:a,column:c};return function(dt){return dt.position=new b(ht),tt(),dt}}function b(ht){this.start=ht,this.end={line:a,column:c},this.source=e.source}b.prototype.content=o;function _(ht){var dt=new Error(e.source+":"+a+":"+c+": "+ht);if(dt.reason=ht,dt.filename=e.source,dt.line=a,dt.column=c,dt.source=o,!e.silent)throw dt}function _e(ht){var dt=ht.exec(o);if(dt){var Et=dt[0];return d(Et),o=o.slice(Et.length),dt}}function tt(){_e(WHITESPACE_REGEX)}function nt(ht){var dt;for(ht=ht||[];dt=it();)dt!==!1&&ht.push(dt);return ht}function it(){var ht=g();if(!(FORWARD_SLASH!=o.charAt(0)||ASTERISK!=o.charAt(1))){for(var dt=2;EMPTY_STRING!=o.charAt(dt)&&(ASTERISK!=o.charAt(dt)||FORWARD_SLASH!=o.charAt(dt+1));)++dt;if(dt+=2,EMPTY_STRING===o.charAt(dt-1))return _("End of comment missing");var Et=o.slice(2,dt-2);return c+=2,d(Et),o=o.slice(dt),c+=2,ht({type:TYPE_COMMENT,comment:Et})}}function st(){var ht=g(),dt=_e(PROPERTY_REGEX);if(dt){if(it(),!_e(COLON_REGEX))return _("property missing ':'");var Et=_e(VALUE_REGEX),pt=ht({type:TYPE_DECLARATION,property:trim(dt[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:Et?trim(Et[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return _e(SEMICOLON_REGEX),pt}}function ot(){var ht=[];nt(ht);for(var dt;dt=st();)dt!==!1&&(ht.push(dt),nt(ht));return ht}return tt(),ot()};function trim(o){return o?o.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(cjs,"__esModule",{value:!0});var _default=cjs.default=StyleToObject,inline_style_parser_1=__importDefault(inlineStyleParser);function StyleToObject(o,e){var a=null;if(!o||typeof o!="string")return a;var c=(0,inline_style_parser_1.default)(o),d=typeof e=="function";return c.forEach(function(g){if(g.type==="declaration"){var b=g.property,_=g.value;d?e(b,_,g):_&&(a=a||{},a[b]=_)}}),a}const styleToObject=_default.default||_default,pointEnd=point$3("end"),pointStart=point$3("start");function point$3(o){return e;function e(a){const c=a&&a.position&&a.position[o]||{};if(typeof c.line=="number"&&c.line>0&&typeof c.column=="number"&&c.column>0)return{line:c.line,column:c.column,offset:typeof c.offset=="number"&&c.offset>-1?c.offset:void 0}}}function position$2(o){const e=pointStart(o),a=pointEnd(o);if(e&&a)return{start:e,end:a}}function stringifyPosition(o){return!o||typeof o!="object"?"":"position"in o||"type"in o?position$1(o.position):"start"in o||"end"in o?position$1(o):"line"in o||"column"in o?point$2(o):""}function point$2(o){return index$1(o&&o.line)+":"+index$1(o&&o.column)}function position$1(o){return point$2(o&&o.start)+"-"+point$2(o&&o.end)}function index$1(o){return o&&typeof o=="number"?o:1}class VFileMessage extends Error{constructor(e,a,c){super(),typeof a=="string"&&(c=a,a=void 0);let d="",g={},b=!1;if(a&&("line"in a&&"column"in a?g={place:a}:"start"in a&&"end"in a?g={place:a}:"type"in a?g={ancestors:[a],place:a.position}:g={...a}),typeof e=="string"?d=e:!g.cause&&e&&(b=!0,d=e.message,g.cause=e),!g.ruleId&&!g.source&&typeof c=="string"){const _e=c.indexOf(":");_e===-1?g.ruleId=c:(g.source=c.slice(0,_e),g.ruleId=c.slice(_e+1))}if(!g.place&&g.ancestors&&g.ancestors){const _e=g.ancestors[g.ancestors.length-1];_e&&(g.place=_e.position)}const _=g.place&&"start"in g.place?g.place.start:g.place;this.ancestors=g.ancestors||void 0,this.cause=g.cause||void 0,this.column=_?_.column:void 0,this.fatal=void 0,this.file,this.message=d,this.line=_?_.line:void 0,this.name=stringifyPosition(g.place)||"1:1",this.place=g.place||void 0,this.reason=this.message,this.ruleId=g.ruleId||void 0,this.source=g.source||void 0,this.stack=b&&g.cause&&typeof g.cause.stack=="string"?g.cause.stack:"",this.actual,this.expected,this.note,this.url}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$7={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,dashSomething=/-([a-z])/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(o,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const a=e.filePath||void 0;let c;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");c=developmentCreate(a,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");c=productionCreate(a,e.jsx,e.jsxs)}const d={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:c,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:a,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?svg:html$1,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},g=one$3(d,o,void 0);return g&&typeof g!="string"?g:d.create(o,d.Fragment,{children:g||void 0},void 0)}function one$3(o,e,a){if(e.type==="element")return element$4(o,e,a);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return mdxExpression(o,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return mdxJsxElement(o,e,a);if(e.type==="mdxjsEsm")return mdxEsm(o,e);if(e.type==="root")return root$3(o,e,a);if(e.type==="text")return text$5(o,e)}function element$4(o,e,a){const c=o.schema;let d=c;e.tagName.toLowerCase()==="svg"&&c.space==="html"&&(d=svg,o.schema=d),o.ancestors.push(e);const g=findComponentFromName(o,e.tagName,!1),b=createElementProps(o,e);let _=createChildren(o,e);return tableElements.has(e.tagName)&&(_=_.filter(function(_e){return typeof _e=="string"?!whitespace(_e):!0})),addNode(o,b,g,e),addChildren(b,_),o.ancestors.pop(),o.schema=c,o.create(e,g,b,a)}function mdxExpression(o,e){if(e.data&&e.data.estree&&o.evaluater){const c=e.data.estree.body[0];return c.type,o.evaluater.evaluateExpression(c.expression)}crashEstree(o,e.position)}function mdxEsm(o,e){if(e.data&&e.data.estree&&o.evaluater)return o.evaluater.evaluateProgram(e.data.estree);crashEstree(o,e.position)}function mdxJsxElement(o,e,a){const c=o.schema;let d=c;e.name==="svg"&&c.space==="html"&&(d=svg,o.schema=d),o.ancestors.push(e);const g=e.name===null?o.Fragment:findComponentFromName(o,e.name,!0),b=createJsxElementProps(o,e),_=createChildren(o,e);return addNode(o,b,g,e),addChildren(b,_),o.ancestors.pop(),o.schema=c,o.create(e,g,b,a)}function root$3(o,e,a){const c={};return addChildren(c,createChildren(o,e)),o.create(e,o.Fragment,c,a)}function text$5(o,e){return e.value}function addNode(o,e,a,c){typeof a!="string"&&a!==o.Fragment&&o.passNode&&(e.node=c)}function addChildren(o,e){if(e.length>0){const a=e.length>1?e:e[0];a&&(o.children=a)}}function productionCreate(o,e,a){return c;function c(d,g,b,_){const tt=Array.isArray(b.children)?a:e;return _?tt(g,b,_):tt(g,b)}}function developmentCreate(o,e){return a;function a(c,d,g,b){const _=Array.isArray(g.children),_e=pointStart(c);return e(d,g,b,_,{columnNumber:_e?_e.column-1:void 0,fileName:o,lineNumber:_e?_e.line:void 0},void 0)}}function createElementProps(o,e){const a={};let c,d;for(d in e.properties)if(d!=="children"&&own$7.call(e.properties,d)){const g=createProperty$1(o,d,e.properties[d]);if(g){const[b,_]=g;o.tableCellAlignToStyle&&b==="align"&&typeof _=="string"&&tableCellElement.has(e.tagName)?c=_:a[b]=_}}if(c){const g=a.style||(a.style={});g[o.stylePropertyNameCase==="css"?"text-align":"textAlign"]=c}return a}function createJsxElementProps(o,e){const a={};for(const c of e.attributes)if(c.type==="mdxJsxExpressionAttribute")if(c.data&&c.data.estree&&o.evaluater){const g=c.data.estree.body[0];g.type;const b=g.expression;b.type;const _=b.properties[0];_.type,Object.assign(a,o.evaluater.evaluateExpression(_.argument))}else crashEstree(o,e.position);else{const d=c.name;let g;if(c.value&&typeof c.value=="object")if(c.value.data&&c.value.data.estree&&o.evaluater){const _=c.value.data.estree.body[0];_.type,g=o.evaluater.evaluateExpression(_.expression)}else crashEstree(o,e.position);else g=c.value===null?!0:c.value;a[d]=g}return a}function createChildren(o,e){const a=[];let c=-1;const d=o.passKeys?new Map:emptyMap;for(;++c<e.children.length;){const g=e.children[c];let b;if(o.passKeys){const _e=g.type==="element"?g.tagName:g.type==="mdxJsxFlowElement"||g.type==="mdxJsxTextElement"?g.name:void 0;if(_e){const tt=d.get(_e)||0;b=_e+"-"+tt,d.set(_e,tt+1)}}const _=one$3(o,g,b);_!==void 0&&a.push(_)}return a}function createProperty$1(o,e,a){const c=find(o.schema,e);if(!(a==null||typeof a=="number"&&Number.isNaN(a))){if(Array.isArray(a)&&(a=c.commaSeparated?stringify$1(a):stringify(a)),c.property==="style"){let d=typeof a=="object"?a:parseStyle(o,String(a));return o.stylePropertyNameCase==="css"&&(d=transformStylesToCssCasing(d)),["style",d]}return[o.elementAttributeNameCase==="react"&&c.space?hastToReact[c.property]||c.property:c.attribute,a]}}function parseStyle(o,e){const a={};try{styleToObject(e,c)}catch(d){if(!o.ignoreInvalidStyle){const g=d,b=new VFileMessage("Cannot parse `style` attribute",{ancestors:o.ancestors,cause:g,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw b.file=o.filePath||void 0,b.url=docs+"#cannot-parse-style-attribute",b}}return a;function c(d,g){let b=d;b.slice(0,2)!=="--"&&(b.slice(0,4)==="-ms-"&&(b="ms-"+b.slice(4)),b=b.replace(dashSomething,toCamel)),a[b]=g}}function findComponentFromName(o,e,a){let c;if(!a)c={type:"Literal",value:e};else if(e.includes(".")){const d=e.split(".");let g=-1,b;for(;++g<d.length;){const _=name(d[g])?{type:"Identifier",name:d[g]}:{type:"Literal",value:d[g]};b=b?{type:"MemberExpression",object:b,property:_,computed:!!(g&&_.type==="Literal"),optional:!1}:_}c=b}else c=name(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(c.type==="Literal"){const d=c.value;return own$7.call(o.components,d)?o.components[d]:d}if(o.evaluater)return o.evaluater.evaluateExpression(c);crashEstree(o)}function crashEstree(o,e){const a=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:o.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw a.file=o.filePath||void 0,a.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",a}function transformStylesToCssCasing(o){const e={};let a;for(a in o)own$7.call(o,a)&&(e[transformStyleToCssCasing(a)]=o[a]);return e}function transformStyleToCssCasing(o){let e=o.replace(cap,toDash);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function toCamel(o,e){return e.toUpperCase()}function toDash(o){return"-"+o.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$2={};function toString$1(o,e){const a=emptyOptions$2,c=typeof a.includeImageAlt=="boolean"?a.includeImageAlt:!0,d=typeof a.includeHtml=="boolean"?a.includeHtml:!0;return one$2(o,c,d)}function one$2(o,e,a){if(node(o)){if("value"in o)return o.type==="html"&&!a?"":o.value;if(e&&"alt"in o&&o.alt)return o.alt;if("children"in o)return all$3(o.children,e,a)}return Array.isArray(o)?all$3(o,e,a):""}function all$3(o,e,a){const c=[];let d=-1;for(;++d<o.length;)c[d]=one$2(o[d],e,a);return c.join("")}function node(o){return!!(o&&typeof o=="object")}const element$3=document.createElement("i");function decodeNamedCharacterReference(o){const e="&"+o+";";element$3.innerHTML=e;const a=element$3.textContent;return a.charCodeAt(a.length-1)===59&&o!=="semi"||a===e?!1:a}function splice(o,e,a,c){const d=o.length;let g=0,b;if(e<0?e=-e>d?0:d+e:e=e>d?d:e,a=a>0?a:0,c.length<1e4)b=Array.from(c),b.unshift(e,a),o.splice(...b);else for(a&&o.splice(e,a);g<c.length;)b=c.slice(g,g+1e4),b.unshift(e,0),o.splice(...b),g+=1e4,e+=1e4}function push(o,e){return o.length>0?(splice(o,o.length,0,e),o):e}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(o){const e={};let a=-1;for(;++a<o.length;)syntaxExtension(e,o[a]);return e}function syntaxExtension(o,e){let a;for(a in e){const d=(hasOwnProperty.call(o,a)?o[a]:void 0)||(o[a]={}),g=e[a];let b;if(g)for(b in g){hasOwnProperty.call(d,b)||(d[b]=[]);const _=g[b];constructs(d[b],Array.isArray(_)?_:_?[_]:[])}}}function constructs(o,e){let a=-1;const c=[];for(;++a<e.length;)(e[a].add==="after"?o:c).push(e[a]);splice(o,0,0,c)}function decodeNumericCharacterReference(o,e){const a=Number.parseInt(o,e);return a<9||a===11||a>13&&a<32||a>126&&a<160||a>55295&&a<57344||a>64975&&a<65008||(a&65535)===65535||(a&65535)===65534||a>1114111?"":String.fromCodePoint(a)}function normalizeIdentifier(o){return o.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(o){return o!==null&&(o<32||o===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(o){return o!==null&&o<-2}function markdownLineEndingOrSpace(o){return o!==null&&(o<0||o===32)}function markdownSpace(o){return o===-2||o===-1||o===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(o){return e;function e(a){return a!==null&&a>-1&&o.test(String.fromCharCode(a))}}function normalizeUri(o){const e=[];let a=-1,c=0,d=0;for(;++a<o.length;){const g=o.charCodeAt(a);let b="";if(g===37&&asciiAlphanumeric(o.charCodeAt(a+1))&&asciiAlphanumeric(o.charCodeAt(a+2)))d=2;else if(g<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(g))||(b=String.fromCharCode(g));else if(g>55295&&g<57344){const _=o.charCodeAt(a+1);g<56320&&_>56319&&_<57344?(b=String.fromCharCode(g,_),d=1):b=""}else b=String.fromCharCode(g);b&&(e.push(o.slice(c,a),encodeURIComponent(b)),c=a+d+1,b=""),d&&(a+=d,d=0)}return e.join("")+o.slice(c)}function factorySpace(o,e,a,c){const d=c?c-1:Number.POSITIVE_INFINITY;let g=0;return b;function b(_e){return markdownSpace(_e)?(o.enter(a),_(_e)):e(_e)}function _(_e){return markdownSpace(_e)&&g++<d?(o.consume(_e),_):(o.exit(a),e(_e))}}const content$1={tokenize:initializeContent};function initializeContent(o){const e=o.attempt(this.parser.constructs.contentInitial,c,d);let a;return e;function c(_){if(_===null){o.consume(_);return}return o.enter("lineEnding"),o.consume(_),o.exit("lineEnding"),factorySpace(o,e,"linePrefix")}function d(_){return o.enter("paragraph"),g(_)}function g(_){const _e=o.enter("chunkText",{contentType:"text",previous:a});return a&&(a.next=_e),a=_e,b(_)}function b(_){if(_===null){o.exit("chunkText"),o.exit("paragraph"),o.consume(_);return}return markdownLineEnding(_)?(o.consume(_),o.exit("chunkText"),g):(o.consume(_),b)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(o){const e=this,a=[];let c=0,d,g,b;return _;function _(St){if(c<a.length){const Tt=a[c];return e.containerState=Tt[1],o.attempt(Tt[0].continuation,_e,tt)(St)}return tt(St)}function _e(St){if(c++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,d&&gt();const Tt=e.events.length;let bt=Tt,vt;for(;bt--;)if(e.events[bt][0]==="exit"&&e.events[bt][1].type==="chunkFlow"){vt=e.events[bt][1].end;break}pt(c);let kt=Tt;for(;kt<e.events.length;)e.events[kt][1].end=Object.assign({},vt),kt++;return splice(e.events,bt+1,0,e.events.slice(Tt)),e.events.length=kt,tt(St)}return _(St)}function tt(St){if(c===a.length){if(!d)return st(St);if(d.currentConstruct&&d.currentConstruct.concrete)return ht(St);e.interrupt=!!(d.currentConstruct&&!d._gfmTableDynamicInterruptHack)}return e.containerState={},o.check(containerConstruct,nt,it)(St)}function nt(St){return d&&gt(),pt(c),st(St)}function it(St){return e.parser.lazy[e.now().line]=c!==a.length,b=e.now().offset,ht(St)}function st(St){return e.containerState={},o.attempt(containerConstruct,ot,ht)(St)}function ot(St){return c++,a.push([e.currentConstruct,e.containerState]),st(St)}function ht(St){if(St===null){d&&gt(),pt(0),o.consume(St);return}return d=d||e.parser.flow(e.now()),o.enter("chunkFlow",{contentType:"flow",previous:g,_tokenizer:d}),dt(St)}function dt(St){if(St===null){Et(o.exit("chunkFlow"),!0),pt(0),o.consume(St);return}return markdownLineEnding(St)?(o.consume(St),Et(o.exit("chunkFlow")),c=0,e.interrupt=void 0,_):(o.consume(St),dt)}function Et(St,Tt){const bt=e.sliceStream(St);if(Tt&&bt.push(null),St.previous=g,g&&(g.next=St),g=St,d.defineSkip(St.start),d.write(bt),e.parser.lazy[St.start.line]){let vt=d.events.length;for(;vt--;)if(d.events[vt][1].start.offset<b&&(!d.events[vt][1].end||d.events[vt][1].end.offset>b))return;const kt=e.events.length;let Nt=kt,en,jt;for(;Nt--;)if(e.events[Nt][0]==="exit"&&e.events[Nt][1].type==="chunkFlow"){if(en){jt=e.events[Nt][1].end;break}en=!0}for(pt(c),vt=kt;vt<e.events.length;)e.events[vt][1].end=Object.assign({},jt),vt++;splice(e.events,Nt+1,0,e.events.slice(kt)),e.events.length=vt}}function pt(St){let Tt=a.length;for(;Tt-- >St;){const bt=a[Tt];e.containerState=bt[1],bt[0].exit.call(e,o)}a.length=St}function gt(){d.write([null]),g=void 0,d=void 0,e.containerState._closeFlow=void 0}}function tokenizeContainer(o,e,a){return factorySpace(o,o.attempt(this.parser.constructs.document,e,a),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(o){if(o===null||markdownLineEndingOrSpace(o)||unicodeWhitespace(o))return 1;if(unicodePunctuation(o))return 2}function resolveAll(o,e,a){const c=[];let d=-1;for(;++d<o.length;){const g=o[d].resolveAll;g&&!c.includes(g)&&(e=g(e,a),c.push(g))}return e}const attention={name:"attention",tokenize:tokenizeAttention,resolveAll:resolveAllAttention};function resolveAllAttention(o,e){let a=-1,c,d,g,b,_,_e,tt,nt;for(;++a<o.length;)if(o[a][0]==="enter"&&o[a][1].type==="attentionSequence"&&o[a][1]._close){for(c=a;c--;)if(o[c][0]==="exit"&&o[c][1].type==="attentionSequence"&&o[c][1]._open&&e.sliceSerialize(o[c][1]).charCodeAt(0)===e.sliceSerialize(o[a][1]).charCodeAt(0)){if((o[c][1]._close||o[a][1]._open)&&(o[a][1].end.offset-o[a][1].start.offset)%3&&!((o[c][1].end.offset-o[c][1].start.offset+o[a][1].end.offset-o[a][1].start.offset)%3))continue;_e=o[c][1].end.offset-o[c][1].start.offset>1&&o[a][1].end.offset-o[a][1].start.offset>1?2:1;const it=Object.assign({},o[c][1].end),st=Object.assign({},o[a][1].start);movePoint(it,-_e),movePoint(st,_e),b={type:_e>1?"strongSequence":"emphasisSequence",start:it,end:Object.assign({},o[c][1].end)},_={type:_e>1?"strongSequence":"emphasisSequence",start:Object.assign({},o[a][1].start),end:st},g={type:_e>1?"strongText":"emphasisText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[a][1].start)},d={type:_e>1?"strong":"emphasis",start:Object.assign({},b.start),end:Object.assign({},_.end)},o[c][1].end=Object.assign({},b.start),o[a][1].start=Object.assign({},_.end),tt=[],o[c][1].end.offset-o[c][1].start.offset&&(tt=push(tt,[["enter",o[c][1],e],["exit",o[c][1],e]])),tt=push(tt,[["enter",d,e],["enter",b,e],["exit",b,e],["enter",g,e]]),tt=push(tt,resolveAll(e.parser.constructs.insideSpan.null,o.slice(c+1,a),e)),tt=push(tt,[["exit",g,e],["enter",_,e],["exit",_,e],["exit",d,e]]),o[a][1].end.offset-o[a][1].start.offset?(nt=2,tt=push(tt,[["enter",o[a][1],e],["exit",o[a][1],e]])):nt=0,splice(o,c-1,a-c+3,tt),a=c+tt.length-nt-2;break}}for(a=-1;++a<o.length;)o[a][1].type==="attentionSequence"&&(o[a][1].type="data");return o}function tokenizeAttention(o,e){const a=this.parser.constructs.attentionMarkers.null,c=this.previous,d=classifyCharacter(c);let g;return b;function b(_e){return g=_e,o.enter("attentionSequence"),_(_e)}function _(_e){if(_e===g)return o.consume(_e),_;const tt=o.exit("attentionSequence"),nt=classifyCharacter(_e),it=!nt||nt===2&&d||a.includes(_e),st=!d||d===2&&nt||a.includes(c);return tt._open=!!(g===42?it:it&&(d||!st)),tt._close=!!(g===42?st:st&&(nt||!it)),e(_e)}}function movePoint(o,e){o.column+=e,o.offset+=e,o._bufferIndex+=e}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(o,e,a){let c=0;return d;function d(ot){return o.enter("autolink"),o.enter("autolinkMarker"),o.consume(ot),o.exit("autolinkMarker"),o.enter("autolinkProtocol"),g}function g(ot){return asciiAlpha(ot)?(o.consume(ot),b):ot===64?a(ot):tt(ot)}function b(ot){return ot===43||ot===45||ot===46||asciiAlphanumeric(ot)?(c=1,_(ot)):tt(ot)}function _(ot){return ot===58?(o.consume(ot),c=0,_e):(ot===43||ot===45||ot===46||asciiAlphanumeric(ot))&&c++<32?(o.consume(ot),_):(c=0,tt(ot))}function _e(ot){return ot===62?(o.exit("autolinkProtocol"),o.enter("autolinkMarker"),o.consume(ot),o.exit("autolinkMarker"),o.exit("autolink"),e):ot===null||ot===32||ot===60||asciiControl(ot)?a(ot):(o.consume(ot),_e)}function tt(ot){return ot===64?(o.consume(ot),nt):asciiAtext(ot)?(o.consume(ot),tt):a(ot)}function nt(ot){return asciiAlphanumeric(ot)?it(ot):a(ot)}function it(ot){return ot===46?(o.consume(ot),c=0,nt):ot===62?(o.exit("autolinkProtocol").type="autolinkEmail",o.enter("autolinkMarker"),o.consume(ot),o.exit("autolinkMarker"),o.exit("autolink"),e):st(ot)}function st(ot){if((ot===45||asciiAlphanumeric(ot))&&c++<63){const ht=ot===45?st:it;return o.consume(ot),ht}return a(ot)}}const blankLine={tokenize:tokenizeBlankLine,partial:!0};function tokenizeBlankLine(o,e,a){return c;function c(g){return markdownSpace(g)?factorySpace(o,d,"linePrefix")(g):d(g)}function d(g){return g===null||markdownLineEnding(g)?e(g):a(g)}}const blockQuote={name:"blockQuote",tokenize:tokenizeBlockQuoteStart,continuation:{tokenize:tokenizeBlockQuoteContinuation},exit};function tokenizeBlockQuoteStart(o,e,a){const c=this;return d;function d(b){if(b===62){const _=c.containerState;return _.open||(o.enter("blockQuote",{_container:!0}),_.open=!0),o.enter("blockQuotePrefix"),o.enter("blockQuoteMarker"),o.consume(b),o.exit("blockQuoteMarker"),g}return a(b)}function g(b){return markdownSpace(b)?(o.enter("blockQuotePrefixWhitespace"),o.consume(b),o.exit("blockQuotePrefixWhitespace"),o.exit("blockQuotePrefix"),e):(o.exit("blockQuotePrefix"),e(b))}}function tokenizeBlockQuoteContinuation(o,e,a){const c=this;return d;function d(b){return markdownSpace(b)?factorySpace(o,g,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):g(b)}function g(b){return o.attempt(blockQuote,e,a)(b)}}function exit(o){o.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(o,e,a){return c;function c(g){return o.enter("characterEscape"),o.enter("escapeMarker"),o.consume(g),o.exit("escapeMarker"),d}function d(g){return asciiPunctuation(g)?(o.enter("characterEscapeValue"),o.consume(g),o.exit("characterEscapeValue"),o.exit("characterEscape"),e):a(g)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(o,e,a){const c=this;let d=0,g,b;return _;function _(it){return o.enter("characterReference"),o.enter("characterReferenceMarker"),o.consume(it),o.exit("characterReferenceMarker"),_e}function _e(it){return it===35?(o.enter("characterReferenceMarkerNumeric"),o.consume(it),o.exit("characterReferenceMarkerNumeric"),tt):(o.enter("characterReferenceValue"),g=31,b=asciiAlphanumeric,nt(it))}function tt(it){return it===88||it===120?(o.enter("characterReferenceMarkerHexadecimal"),o.consume(it),o.exit("characterReferenceMarkerHexadecimal"),o.enter("characterReferenceValue"),g=6,b=asciiHexDigit,nt):(o.enter("characterReferenceValue"),g=7,b=asciiDigit,nt(it))}function nt(it){if(it===59&&d){const st=o.exit("characterReferenceValue");return b===asciiAlphanumeric&&!decodeNamedCharacterReference(c.sliceSerialize(st))?a(it):(o.enter("characterReferenceMarker"),o.consume(it),o.exit("characterReferenceMarker"),o.exit("characterReference"),e)}return b(it)&&d++<g?(o.consume(it),nt):a(it)}}const nonLazyContinuation={tokenize:tokenizeNonLazyContinuation,partial:!0},codeFenced={name:"codeFenced",tokenize:tokenizeCodeFenced,concrete:!0};function tokenizeCodeFenced(o,e,a){const c=this,d={tokenize:bt,partial:!0};let g=0,b=0,_;return _e;function _e(vt){return tt(vt)}function tt(vt){const kt=c.events[c.events.length-1];return g=kt&&kt[1].type==="linePrefix"?kt[2].sliceSerialize(kt[1],!0).length:0,_=vt,o.enter("codeFenced"),o.enter("codeFencedFence"),o.enter("codeFencedFenceSequence"),nt(vt)}function nt(vt){return vt===_?(b++,o.consume(vt),nt):b<3?a(vt):(o.exit("codeFencedFenceSequence"),markdownSpace(vt)?factorySpace(o,it,"whitespace")(vt):it(vt))}function it(vt){return vt===null||markdownLineEnding(vt)?(o.exit("codeFencedFence"),c.interrupt?e(vt):o.check(nonLazyContinuation,dt,Tt)(vt)):(o.enter("codeFencedFenceInfo"),o.enter("chunkString",{contentType:"string"}),st(vt))}function st(vt){return vt===null||markdownLineEnding(vt)?(o.exit("chunkString"),o.exit("codeFencedFenceInfo"),it(vt)):markdownSpace(vt)?(o.exit("chunkString"),o.exit("codeFencedFenceInfo"),factorySpace(o,ot,"whitespace")(vt)):vt===96&&vt===_?a(vt):(o.consume(vt),st)}function ot(vt){return vt===null||markdownLineEnding(vt)?it(vt):(o.enter("codeFencedFenceMeta"),o.enter("chunkString",{contentType:"string"}),ht(vt))}function ht(vt){return vt===null||markdownLineEnding(vt)?(o.exit("chunkString"),o.exit("codeFencedFenceMeta"),it(vt)):vt===96&&vt===_?a(vt):(o.consume(vt),ht)}function dt(vt){return o.attempt(d,Tt,Et)(vt)}function Et(vt){return o.enter("lineEnding"),o.consume(vt),o.exit("lineEnding"),pt}function pt(vt){return g>0&&markdownSpace(vt)?factorySpace(o,gt,"linePrefix",g+1)(vt):gt(vt)}function gt(vt){return vt===null||markdownLineEnding(vt)?o.check(nonLazyContinuation,dt,Tt)(vt):(o.enter("codeFlowValue"),St(vt))}function St(vt){return vt===null||markdownLineEnding(vt)?(o.exit("codeFlowValue"),gt(vt)):(o.consume(vt),St)}function Tt(vt){return o.exit("codeFenced"),e(vt)}function bt(vt,kt,Nt){let en=0;return jt;function jt(dn){return vt.enter("lineEnding"),vt.consume(dn),vt.exit("lineEnding"),tn}function tn(dn){return vt.enter("codeFencedFence"),markdownSpace(dn)?factorySpace(vt,Yt,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(dn):Yt(dn)}function Yt(dn){return dn===_?(vt.enter("codeFencedFenceSequence"),pn(dn)):Nt(dn)}function pn(dn){return dn===_?(en++,vt.consume(dn),pn):en>=b?(vt.exit("codeFencedFenceSequence"),markdownSpace(dn)?factorySpace(vt,mn,"whitespace")(dn):mn(dn)):Nt(dn)}function mn(dn){return dn===null||markdownLineEnding(dn)?(vt.exit("codeFencedFence"),kt(dn)):Nt(dn)}}}function tokenizeNonLazyContinuation(o,e,a){const c=this;return d;function d(b){return b===null?a(b):(o.enter("lineEnding"),o.consume(b),o.exit("lineEnding"),g)}function g(b){return c.parser.lazy[c.now().line]?a(b):e(b)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={tokenize:tokenizeFurtherStart,partial:!0};function tokenizeCodeIndented(o,e,a){const c=this;return d;function d(tt){return o.enter("codeIndented"),factorySpace(o,g,"linePrefix",5)(tt)}function g(tt){const nt=c.events[c.events.length-1];return nt&&nt[1].type==="linePrefix"&&nt[2].sliceSerialize(nt[1],!0).length>=4?b(tt):a(tt)}function b(tt){return tt===null?_e(tt):markdownLineEnding(tt)?o.attempt(furtherStart,b,_e)(tt):(o.enter("codeFlowValue"),_(tt))}function _(tt){return tt===null||markdownLineEnding(tt)?(o.exit("codeFlowValue"),b(tt)):(o.consume(tt),_)}function _e(tt){return o.exit("codeIndented"),e(tt)}}function tokenizeFurtherStart(o,e,a){const c=this;return d;function d(b){return c.parser.lazy[c.now().line]?a(b):markdownLineEnding(b)?(o.enter("lineEnding"),o.consume(b),o.exit("lineEnding"),d):factorySpace(o,g,"linePrefix",5)(b)}function g(b){const _=c.events[c.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?e(b):markdownLineEnding(b)?d(b):a(b)}}const codeText={name:"codeText",tokenize:tokenizeCodeText,resolve:resolveCodeText,previous};function resolveCodeText(o){let e=o.length-4,a=3,c,d;if((o[a][1].type==="lineEnding"||o[a][1].type==="space")&&(o[e][1].type==="lineEnding"||o[e][1].type==="space")){for(c=a;++c<e;)if(o[c][1].type==="codeTextData"){o[a][1].type="codeTextPadding",o[e][1].type="codeTextPadding",a+=2,e-=2;break}}for(c=a-1,e++;++c<=e;)d===void 0?c!==e&&o[c][1].type!=="lineEnding"&&(d=c):(c===e||o[c][1].type==="lineEnding")&&(o[d][1].type="codeTextData",c!==d+2&&(o[d][1].end=o[c-1][1].end,o.splice(d+2,c-d-2),e-=c-d-2,c=d+2),d=void 0);return o}function previous(o){return o!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(o,e,a){let c=0,d,g;return b;function b(it){return o.enter("codeText"),o.enter("codeTextSequence"),_(it)}function _(it){return it===96?(o.consume(it),c++,_):(o.exit("codeTextSequence"),_e(it))}function _e(it){return it===null?a(it):it===32?(o.enter("space"),o.consume(it),o.exit("space"),_e):it===96?(g=o.enter("codeTextSequence"),d=0,nt(it)):markdownLineEnding(it)?(o.enter("lineEnding"),o.consume(it),o.exit("lineEnding"),_e):(o.enter("codeTextData"),tt(it))}function tt(it){return it===null||it===32||it===96||markdownLineEnding(it)?(o.exit("codeTextData"),_e(it)):(o.consume(it),tt)}function nt(it){return it===96?(o.consume(it),d++,nt):d===c?(o.exit("codeTextSequence"),o.exit("codeText"),e(it)):(g.type="codeTextData",tt(it))}}class SpliceBuffer{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,a){const c=a??Number.POSITIVE_INFINITY;return c<this.left.length?this.left.slice(e,c):e>this.left.length?this.right.slice(this.right.length-c+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-c+this.left.length).reverse())}splice(e,a,c){const d=a||0;this.setCursor(Math.trunc(e));const g=this.right.splice(this.right.length-d,Number.POSITIVE_INFINITY);return c&&chunkedPush(this.left,c),g.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),chunkedPush(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const a=this.left.splice(e,Number.POSITIVE_INFINITY);chunkedPush(this.right,a.reverse())}else{const a=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);chunkedPush(this.left,a.reverse())}}}function chunkedPush(o,e){let a=0;if(e.length<1e4)o.push(...e);else for(;a<e.length;)o.push(...e.slice(a,a+1e4)),a+=1e4}function subtokenize(o){const e={};let a=-1,c,d,g,b,_,_e,tt;const nt=new SpliceBuffer(o);for(;++a<nt.length;){for(;a in e;)a=e[a];if(c=nt.get(a),a&&c[1].type==="chunkFlow"&&nt.get(a-1)[1].type==="listItemPrefix"&&(_e=c[1]._tokenizer.events,g=0,g<_e.length&&_e[g][1].type==="lineEndingBlank"&&(g+=2),g<_e.length&&_e[g][1].type==="content"))for(;++g<_e.length&&_e[g][1].type!=="content";)_e[g][1].type==="chunkText"&&(_e[g][1]._isInFirstContentOfListItem=!0,g++);if(c[0]==="enter")c[1].contentType&&(Object.assign(e,subcontent(nt,a)),a=e[a],tt=!0);else if(c[1]._container){for(g=a,d=void 0;g--&&(b=nt.get(g),b[1].type==="lineEnding"||b[1].type==="lineEndingBlank");)b[0]==="enter"&&(d&&(nt.get(d)[1].type="lineEndingBlank"),b[1].type="lineEnding",d=g);d&&(c[1].end=Object.assign({},nt.get(d)[1].start),_=nt.slice(d,a),_.unshift(c),nt.splice(d,a-d+1,_))}}return splice(o,0,Number.POSITIVE_INFINITY,nt.slice(0)),!tt}function subcontent(o,e){const a=o.get(e)[1],c=o.get(e)[2];let d=e-1;const g=[],b=a._tokenizer||c.parser[a.contentType](a.start),_=b.events,_e=[],tt={};let nt,it,st=-1,ot=a,ht=0,dt=0;const Et=[dt];for(;ot;){for(;o.get(++d)[1]!==ot;);g.push(d),ot._tokenizer||(nt=c.sliceStream(ot),ot.next||nt.push(null),it&&b.defineSkip(ot.start),ot._isInFirstContentOfListItem&&(b._gfmTasklistFirstContentOfListItem=!0),b.write(nt),ot._isInFirstContentOfListItem&&(b._gfmTasklistFirstContentOfListItem=void 0)),it=ot,ot=ot.next}for(ot=a;++st<_.length;)_[st][0]==="exit"&&_[st-1][0]==="enter"&&_[st][1].type===_[st-1][1].type&&_[st][1].start.line!==_[st][1].end.line&&(dt=st+1,Et.push(dt),ot._tokenizer=void 0,ot.previous=void 0,ot=ot.next);for(b.events=[],ot?(ot._tokenizer=void 0,ot.previous=void 0):Et.pop(),st=Et.length;st--;){const pt=_.slice(Et[st],Et[st+1]),gt=g.pop();_e.push([gt,gt+pt.length-1]),o.splice(gt,2,pt)}for(_e.reverse(),st=-1;++st<_e.length;)tt[ht+_e[st][0]]=ht+_e[st][1],ht+=_e[st][1]-_e[st][0]-1;return tt}const content={tokenize:tokenizeContent,resolve:resolveContent},continuationConstruct={tokenize:tokenizeContinuation,partial:!0};function resolveContent(o){return subtokenize(o),o}function tokenizeContent(o,e){let a;return c;function c(_){return o.enter("content"),a=o.enter("chunkContent",{contentType:"content"}),d(_)}function d(_){return _===null?g(_):markdownLineEnding(_)?o.check(continuationConstruct,b,g)(_):(o.consume(_),d)}function g(_){return o.exit("chunkContent"),o.exit("content"),e(_)}function b(_){return o.consume(_),o.exit("chunkContent"),a.next=o.enter("chunkContent",{contentType:"content",previous:a}),a=a.next,d}}function tokenizeContinuation(o,e,a){const c=this;return d;function d(b){return o.exit("chunkContent"),o.enter("lineEnding"),o.consume(b),o.exit("lineEnding"),factorySpace(o,g,"linePrefix")}function g(b){if(b===null||markdownLineEnding(b))return a(b);const _=c.events[c.events.length-1];return!c.parser.constructs.disable.null.includes("codeIndented")&&_&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?e(b):o.interrupt(c.parser.constructs.flow,a,e)(b)}}function factoryDestination(o,e,a,c,d,g,b,_,_e){const tt=_e||Number.POSITIVE_INFINITY;let nt=0;return it;function it(pt){return pt===60?(o.enter(c),o.enter(d),o.enter(g),o.consume(pt),o.exit(g),st):pt===null||pt===32||pt===41||asciiControl(pt)?a(pt):(o.enter(c),o.enter(b),o.enter(_),o.enter("chunkString",{contentType:"string"}),dt(pt))}function st(pt){return pt===62?(o.enter(g),o.consume(pt),o.exit(g),o.exit(d),o.exit(c),e):(o.enter(_),o.enter("chunkString",{contentType:"string"}),ot(pt))}function ot(pt){return pt===62?(o.exit("chunkString"),o.exit(_),st(pt)):pt===null||pt===60||markdownLineEnding(pt)?a(pt):(o.consume(pt),pt===92?ht:ot)}function ht(pt){return pt===60||pt===62||pt===92?(o.consume(pt),ot):ot(pt)}function dt(pt){return!nt&&(pt===null||pt===41||markdownLineEndingOrSpace(pt))?(o.exit("chunkString"),o.exit(_),o.exit(b),o.exit(c),e(pt)):nt<tt&&pt===40?(o.consume(pt),nt++,dt):pt===41?(o.consume(pt),nt--,dt):pt===null||pt===32||pt===40||asciiControl(pt)?a(pt):(o.consume(pt),pt===92?Et:dt)}function Et(pt){return pt===40||pt===41||pt===92?(o.consume(pt),dt):dt(pt)}}function factoryLabel(o,e,a,c,d,g){const b=this;let _=0,_e;return tt;function tt(ot){return o.enter(c),o.enter(d),o.consume(ot),o.exit(d),o.enter(g),nt}function nt(ot){return _>999||ot===null||ot===91||ot===93&&!_e||ot===94&&!_&&"_hiddenFootnoteSupport"in b.parser.constructs?a(ot):ot===93?(o.exit(g),o.enter(d),o.consume(ot),o.exit(d),o.exit(c),e):markdownLineEnding(ot)?(o.enter("lineEnding"),o.consume(ot),o.exit("lineEnding"),nt):(o.enter("chunkString",{contentType:"string"}),it(ot))}function it(ot){return ot===null||ot===91||ot===93||markdownLineEnding(ot)||_++>999?(o.exit("chunkString"),nt(ot)):(o.consume(ot),_e||(_e=!markdownSpace(ot)),ot===92?st:it)}function st(ot){return ot===91||ot===92||ot===93?(o.consume(ot),_++,it):it(ot)}}function factoryTitle(o,e,a,c,d,g){let b;return _;function _(st){return st===34||st===39||st===40?(o.enter(c),o.enter(d),o.consume(st),o.exit(d),b=st===40?41:st,_e):a(st)}function _e(st){return st===b?(o.enter(d),o.consume(st),o.exit(d),o.exit(c),e):(o.enter(g),tt(st))}function tt(st){return st===b?(o.exit(g),_e(b)):st===null?a(st):markdownLineEnding(st)?(o.enter("lineEnding"),o.consume(st),o.exit("lineEnding"),factorySpace(o,tt,"linePrefix")):(o.enter("chunkString",{contentType:"string"}),nt(st))}function nt(st){return st===b||st===null||markdownLineEnding(st)?(o.exit("chunkString"),tt(st)):(o.consume(st),st===92?it:nt)}function it(st){return st===b||st===92?(o.consume(st),nt):nt(st)}}function factoryWhitespace(o,e){let a;return c;function c(d){return markdownLineEnding(d)?(o.enter("lineEnding"),o.consume(d),o.exit("lineEnding"),a=!0,c):markdownSpace(d)?factorySpace(o,c,a?"linePrefix":"lineSuffix")(d):e(d)}}const definition={name:"definition",tokenize:tokenizeDefinition},titleBefore={tokenize:tokenizeTitleBefore,partial:!0};function tokenizeDefinition(o,e,a){const c=this;let d;return g;function g(ot){return o.enter("definition"),b(ot)}function b(ot){return factoryLabel.call(c,o,_,a,"definitionLabel","definitionLabelMarker","definitionLabelString")(ot)}function _(ot){return d=normalizeIdentifier(c.sliceSerialize(c.events[c.events.length-1][1]).slice(1,-1)),ot===58?(o.enter("definitionMarker"),o.consume(ot),o.exit("definitionMarker"),_e):a(ot)}function _e(ot){return markdownLineEndingOrSpace(ot)?factoryWhitespace(o,tt)(ot):tt(ot)}function tt(ot){return factoryDestination(o,nt,a,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(ot)}function nt(ot){return o.attempt(titleBefore,it,it)(ot)}function it(ot){return markdownSpace(ot)?factorySpace(o,st,"whitespace")(ot):st(ot)}function st(ot){return ot===null||markdownLineEnding(ot)?(o.exit("definition"),c.parser.defined.push(d),e(ot)):a(ot)}}function tokenizeTitleBefore(o,e,a){return c;function c(_){return markdownLineEndingOrSpace(_)?factoryWhitespace(o,d)(_):a(_)}function d(_){return factoryTitle(o,g,a,"definitionTitle","definitionTitleMarker","definitionTitleString")(_)}function g(_){return markdownSpace(_)?factorySpace(o,b,"whitespace")(_):b(_)}function b(_){return _===null||markdownLineEnding(_)?e(_):a(_)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(o,e,a){return c;function c(g){return o.enter("hardBreakEscape"),o.consume(g),d}function d(g){return markdownLineEnding(g)?(o.exit("hardBreakEscape"),e(g)):a(g)}}const headingAtx={name:"headingAtx",tokenize:tokenizeHeadingAtx,resolve:resolveHeadingAtx};function resolveHeadingAtx(o,e){let a=o.length-2,c=3,d,g;return o[c][1].type==="whitespace"&&(c+=2),a-2>c&&o[a][1].type==="whitespace"&&(a-=2),o[a][1].type==="atxHeadingSequence"&&(c===a-1||a-4>c&&o[a-2][1].type==="whitespace")&&(a-=c+1===a?2:4),a>c&&(d={type:"atxHeadingText",start:o[c][1].start,end:o[a][1].end},g={type:"chunkText",start:o[c][1].start,end:o[a][1].end,contentType:"text"},splice(o,c,a-c+1,[["enter",d,e],["enter",g,e],["exit",g,e],["exit",d,e]])),o}function tokenizeHeadingAtx(o,e,a){let c=0;return d;function d(nt){return o.enter("atxHeading"),g(nt)}function g(nt){return o.enter("atxHeadingSequence"),b(nt)}function b(nt){return nt===35&&c++<6?(o.consume(nt),b):nt===null||markdownLineEndingOrSpace(nt)?(o.exit("atxHeadingSequence"),_(nt)):a(nt)}function _(nt){return nt===35?(o.enter("atxHeadingSequence"),_e(nt)):nt===null||markdownLineEnding(nt)?(o.exit("atxHeading"),e(nt)):markdownSpace(nt)?factorySpace(o,_,"whitespace")(nt):(o.enter("atxHeadingText"),tt(nt))}function _e(nt){return nt===35?(o.consume(nt),_e):(o.exit("atxHeadingSequence"),_(nt))}function tt(nt){return nt===null||nt===35||markdownLineEndingOrSpace(nt)?(o.exit("atxHeadingText"),_(nt)):(o.consume(nt),tt)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={name:"htmlFlow",tokenize:tokenizeHtmlFlow,resolveTo:resolveToHtmlFlow,concrete:!0},blankLineBefore={tokenize:tokenizeBlankLineBefore,partial:!0},nonLazyContinuationStart={tokenize:tokenizeNonLazyContinuationStart,partial:!0};function resolveToHtmlFlow(o){let e=o.length;for(;e--&&!(o[e][0]==="enter"&&o[e][1].type==="htmlFlow"););return e>1&&o[e-2][1].type==="linePrefix"&&(o[e][1].start=o[e-2][1].start,o[e+1][1].start=o[e-2][1].start,o.splice(e-2,2)),o}function tokenizeHtmlFlow(o,e,a){const c=this;let d,g,b,_,_e;return tt;function tt(Pt){return nt(Pt)}function nt(Pt){return o.enter("htmlFlow"),o.enter("htmlFlowData"),o.consume(Pt),it}function it(Pt){return Pt===33?(o.consume(Pt),st):Pt===47?(o.consume(Pt),g=!0,dt):Pt===63?(o.consume(Pt),d=3,c.interrupt?e:wt):asciiAlpha(Pt)?(o.consume(Pt),b=String.fromCharCode(Pt),Et):a(Pt)}function st(Pt){return Pt===45?(o.consume(Pt),d=2,ot):Pt===91?(o.consume(Pt),d=5,_=0,ht):asciiAlpha(Pt)?(o.consume(Pt),d=4,c.interrupt?e:wt):a(Pt)}function ot(Pt){return Pt===45?(o.consume(Pt),c.interrupt?e:wt):a(Pt)}function ht(Pt){const wn="CDATA[";return Pt===wn.charCodeAt(_++)?(o.consume(Pt),_===wn.length?c.interrupt?e:Yt:ht):a(Pt)}function dt(Pt){return asciiAlpha(Pt)?(o.consume(Pt),b=String.fromCharCode(Pt),Et):a(Pt)}function Et(Pt){if(Pt===null||Pt===47||Pt===62||markdownLineEndingOrSpace(Pt)){const wn=Pt===47,In=b.toLowerCase();return!wn&&!g&&htmlRawNames.includes(In)?(d=1,c.interrupt?e(Pt):Yt(Pt)):htmlBlockNames.includes(b.toLowerCase())?(d=6,wn?(o.consume(Pt),pt):c.interrupt?e(Pt):Yt(Pt)):(d=7,c.interrupt&&!c.parser.lazy[c.now().line]?a(Pt):g?gt(Pt):St(Pt))}return Pt===45||asciiAlphanumeric(Pt)?(o.consume(Pt),b+=String.fromCharCode(Pt),Et):a(Pt)}function pt(Pt){return Pt===62?(o.consume(Pt),c.interrupt?e:Yt):a(Pt)}function gt(Pt){return markdownSpace(Pt)?(o.consume(Pt),gt):jt(Pt)}function St(Pt){return Pt===47?(o.consume(Pt),jt):Pt===58||Pt===95||asciiAlpha(Pt)?(o.consume(Pt),Tt):markdownSpace(Pt)?(o.consume(Pt),St):jt(Pt)}function Tt(Pt){return Pt===45||Pt===46||Pt===58||Pt===95||asciiAlphanumeric(Pt)?(o.consume(Pt),Tt):bt(Pt)}function bt(Pt){return Pt===61?(o.consume(Pt),vt):markdownSpace(Pt)?(o.consume(Pt),bt):St(Pt)}function vt(Pt){return Pt===null||Pt===60||Pt===61||Pt===62||Pt===96?a(Pt):Pt===34||Pt===39?(o.consume(Pt),_e=Pt,kt):markdownSpace(Pt)?(o.consume(Pt),vt):Nt(Pt)}function kt(Pt){return Pt===_e?(o.consume(Pt),_e=null,en):Pt===null||markdownLineEnding(Pt)?a(Pt):(o.consume(Pt),kt)}function Nt(Pt){return Pt===null||Pt===34||Pt===39||Pt===47||Pt===60||Pt===61||Pt===62||Pt===96||markdownLineEndingOrSpace(Pt)?bt(Pt):(o.consume(Pt),Nt)}function en(Pt){return Pt===47||Pt===62||markdownSpace(Pt)?St(Pt):a(Pt)}function jt(Pt){return Pt===62?(o.consume(Pt),tn):a(Pt)}function tn(Pt){return Pt===null||markdownLineEnding(Pt)?Yt(Pt):markdownSpace(Pt)?(o.consume(Pt),tn):a(Pt)}function Yt(Pt){return Pt===45&&d===2?(o.consume(Pt),On):Pt===60&&d===1?(o.consume(Pt),hn):Pt===62&&d===4?(o.consume(Pt),fn):Pt===63&&d===3?(o.consume(Pt),wt):Pt===93&&d===5?(o.consume(Pt),nn):markdownLineEnding(Pt)&&(d===6||d===7)?(o.exit("htmlFlowData"),o.check(blankLineBefore,Sn,pn)(Pt)):Pt===null||markdownLineEnding(Pt)?(o.exit("htmlFlowData"),pn(Pt)):(o.consume(Pt),Yt)}function pn(Pt){return o.check(nonLazyContinuationStart,mn,Sn)(Pt)}function mn(Pt){return o.enter("lineEnding"),o.consume(Pt),o.exit("lineEnding"),dn}function dn(Pt){return Pt===null||markdownLineEnding(Pt)?pn(Pt):(o.enter("htmlFlowData"),Yt(Pt))}function On(Pt){return Pt===45?(o.consume(Pt),wt):Yt(Pt)}function hn(Pt){return Pt===47?(o.consume(Pt),b="",zt):Yt(Pt)}function zt(Pt){if(Pt===62){const wn=b.toLowerCase();return htmlRawNames.includes(wn)?(o.consume(Pt),fn):Yt(Pt)}return asciiAlpha(Pt)&&b.length<8?(o.consume(Pt),b+=String.fromCharCode(Pt),zt):Yt(Pt)}function nn(Pt){return Pt===93?(o.consume(Pt),wt):Yt(Pt)}function wt(Pt){return Pt===62?(o.consume(Pt),fn):Pt===45&&d===2?(o.consume(Pt),wt):Yt(Pt)}function fn(Pt){return Pt===null||markdownLineEnding(Pt)?(o.exit("htmlFlowData"),Sn(Pt)):(o.consume(Pt),fn)}function Sn(Pt){return o.exit("htmlFlow"),e(Pt)}}function tokenizeNonLazyContinuationStart(o,e,a){const c=this;return d;function d(b){return markdownLineEnding(b)?(o.enter("lineEnding"),o.consume(b),o.exit("lineEnding"),g):a(b)}function g(b){return c.parser.lazy[c.now().line]?a(b):e(b)}}function tokenizeBlankLineBefore(o,e,a){return c;function c(d){return o.enter("lineEnding"),o.consume(d),o.exit("lineEnding"),o.attempt(blankLine,e,a)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(o,e,a){const c=this;let d,g,b;return _;function _(wt){return o.enter("htmlText"),o.enter("htmlTextData"),o.consume(wt),_e}function _e(wt){return wt===33?(o.consume(wt),tt):wt===47?(o.consume(wt),bt):wt===63?(o.consume(wt),St):asciiAlpha(wt)?(o.consume(wt),Nt):a(wt)}function tt(wt){return wt===45?(o.consume(wt),nt):wt===91?(o.consume(wt),g=0,ht):asciiAlpha(wt)?(o.consume(wt),gt):a(wt)}function nt(wt){return wt===45?(o.consume(wt),ot):a(wt)}function it(wt){return wt===null?a(wt):wt===45?(o.consume(wt),st):markdownLineEnding(wt)?(b=it,hn(wt)):(o.consume(wt),it)}function st(wt){return wt===45?(o.consume(wt),ot):it(wt)}function ot(wt){return wt===62?On(wt):wt===45?st(wt):it(wt)}function ht(wt){const fn="CDATA[";return wt===fn.charCodeAt(g++)?(o.consume(wt),g===fn.length?dt:ht):a(wt)}function dt(wt){return wt===null?a(wt):wt===93?(o.consume(wt),Et):markdownLineEnding(wt)?(b=dt,hn(wt)):(o.consume(wt),dt)}function Et(wt){return wt===93?(o.consume(wt),pt):dt(wt)}function pt(wt){return wt===62?On(wt):wt===93?(o.consume(wt),pt):dt(wt)}function gt(wt){return wt===null||wt===62?On(wt):markdownLineEnding(wt)?(b=gt,hn(wt)):(o.consume(wt),gt)}function St(wt){return wt===null?a(wt):wt===63?(o.consume(wt),Tt):markdownLineEnding(wt)?(b=St,hn(wt)):(o.consume(wt),St)}function Tt(wt){return wt===62?On(wt):St(wt)}function bt(wt){return asciiAlpha(wt)?(o.consume(wt),vt):a(wt)}function vt(wt){return wt===45||asciiAlphanumeric(wt)?(o.consume(wt),vt):kt(wt)}function kt(wt){return markdownLineEnding(wt)?(b=kt,hn(wt)):markdownSpace(wt)?(o.consume(wt),kt):On(wt)}function Nt(wt){return wt===45||asciiAlphanumeric(wt)?(o.consume(wt),Nt):wt===47||wt===62||markdownLineEndingOrSpace(wt)?en(wt):a(wt)}function en(wt){return wt===47?(o.consume(wt),On):wt===58||wt===95||asciiAlpha(wt)?(o.consume(wt),jt):markdownLineEnding(wt)?(b=en,hn(wt)):markdownSpace(wt)?(o.consume(wt),en):On(wt)}function jt(wt){return wt===45||wt===46||wt===58||wt===95||asciiAlphanumeric(wt)?(o.consume(wt),jt):tn(wt)}function tn(wt){return wt===61?(o.consume(wt),Yt):markdownLineEnding(wt)?(b=tn,hn(wt)):markdownSpace(wt)?(o.consume(wt),tn):en(wt)}function Yt(wt){return wt===null||wt===60||wt===61||wt===62||wt===96?a(wt):wt===34||wt===39?(o.consume(wt),d=wt,pn):markdownLineEnding(wt)?(b=Yt,hn(wt)):markdownSpace(wt)?(o.consume(wt),Yt):(o.consume(wt),mn)}function pn(wt){return wt===d?(o.consume(wt),d=void 0,dn):wt===null?a(wt):markdownLineEnding(wt)?(b=pn,hn(wt)):(o.consume(wt),pn)}function mn(wt){return wt===null||wt===34||wt===39||wt===60||wt===61||wt===96?a(wt):wt===47||wt===62||markdownLineEndingOrSpace(wt)?en(wt):(o.consume(wt),mn)}function dn(wt){return wt===47||wt===62||markdownLineEndingOrSpace(wt)?en(wt):a(wt)}function On(wt){return wt===62?(o.consume(wt),o.exit("htmlTextData"),o.exit("htmlText"),e):a(wt)}function hn(wt){return o.exit("htmlTextData"),o.enter("lineEnding"),o.consume(wt),o.exit("lineEnding"),zt}function zt(wt){return markdownSpace(wt)?factorySpace(o,nn,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(wt):nn(wt)}function nn(wt){return o.enter("htmlTextData"),b(wt)}}const labelEnd={name:"labelEnd",tokenize:tokenizeLabelEnd,resolveTo:resolveToLabelEnd,resolveAll:resolveAllLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(o){let e=-1;for(;++e<o.length;){const a=o[e][1];(a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd")&&(o.splice(e+1,a.type==="labelImage"?4:2),a.type="data",e++)}return o}function resolveToLabelEnd(o,e){let a=o.length,c=0,d,g,b,_;for(;a--;)if(d=o[a][1],g){if(d.type==="link"||d.type==="labelLink"&&d._inactive)break;o[a][0]==="enter"&&d.type==="labelLink"&&(d._inactive=!0)}else if(b){if(o[a][0]==="enter"&&(d.type==="labelImage"||d.type==="labelLink")&&!d._balanced&&(g=a,d.type!=="labelLink")){c=2;break}}else d.type==="labelEnd"&&(b=a);const _e={type:o[g][1].type==="labelLink"?"link":"image",start:Object.assign({},o[g][1].start),end:Object.assign({},o[o.length-1][1].end)},tt={type:"label",start:Object.assign({},o[g][1].start),end:Object.assign({},o[b][1].end)},nt={type:"labelText",start:Object.assign({},o[g+c+2][1].end),end:Object.assign({},o[b-2][1].start)};return _=[["enter",_e,e],["enter",tt,e]],_=push(_,o.slice(g+1,g+c+3)),_=push(_,[["enter",nt,e]]),_=push(_,resolveAll(e.parser.constructs.insideSpan.null,o.slice(g+c+4,b-3),e)),_=push(_,[["exit",nt,e],o[b-2],o[b-1],["exit",tt,e]]),_=push(_,o.slice(b+1)),_=push(_,[["exit",_e,e]]),splice(o,g,o.length,_),o}function tokenizeLabelEnd(o,e,a){const c=this;let d=c.events.length,g,b;for(;d--;)if((c.events[d][1].type==="labelImage"||c.events[d][1].type==="labelLink")&&!c.events[d][1]._balanced){g=c.events[d][1];break}return _;function _(st){return g?g._inactive?it(st):(b=c.parser.defined.includes(normalizeIdentifier(c.sliceSerialize({start:g.end,end:c.now()}))),o.enter("labelEnd"),o.enter("labelMarker"),o.consume(st),o.exit("labelMarker"),o.exit("labelEnd"),_e):a(st)}function _e(st){return st===40?o.attempt(resourceConstruct,nt,b?nt:it)(st):st===91?o.attempt(referenceFullConstruct,nt,b?tt:it)(st):b?nt(st):it(st)}function tt(st){return o.attempt(referenceCollapsedConstruct,nt,it)(st)}function nt(st){return e(st)}function it(st){return g._balanced=!0,a(st)}}function tokenizeResource(o,e,a){return c;function c(it){return o.enter("resource"),o.enter("resourceMarker"),o.consume(it),o.exit("resourceMarker"),d}function d(it){return markdownLineEndingOrSpace(it)?factoryWhitespace(o,g)(it):g(it)}function g(it){return it===41?nt(it):factoryDestination(o,b,_,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(it)}function b(it){return markdownLineEndingOrSpace(it)?factoryWhitespace(o,_e)(it):nt(it)}function _(it){return a(it)}function _e(it){return it===34||it===39||it===40?factoryTitle(o,tt,a,"resourceTitle","resourceTitleMarker","resourceTitleString")(it):nt(it)}function tt(it){return markdownLineEndingOrSpace(it)?factoryWhitespace(o,nt)(it):nt(it)}function nt(it){return it===41?(o.enter("resourceMarker"),o.consume(it),o.exit("resourceMarker"),o.exit("resource"),e):a(it)}}function tokenizeReferenceFull(o,e,a){const c=this;return d;function d(_){return factoryLabel.call(c,o,g,b,"reference","referenceMarker","referenceString")(_)}function g(_){return c.parser.defined.includes(normalizeIdentifier(c.sliceSerialize(c.events[c.events.length-1][1]).slice(1,-1)))?e(_):a(_)}function b(_){return a(_)}}function tokenizeReferenceCollapsed(o,e,a){return c;function c(g){return o.enter("reference"),o.enter("referenceMarker"),o.consume(g),o.exit("referenceMarker"),d}function d(g){return g===93?(o.enter("referenceMarker"),o.consume(g),o.exit("referenceMarker"),o.exit("reference"),e):a(g)}}const labelStartImage={name:"labelStartImage",tokenize:tokenizeLabelStartImage,resolveAll:labelEnd.resolveAll};function tokenizeLabelStartImage(o,e,a){const c=this;return d;function d(_){return o.enter("labelImage"),o.enter("labelImageMarker"),o.consume(_),o.exit("labelImageMarker"),g}function g(_){return _===91?(o.enter("labelMarker"),o.consume(_),o.exit("labelMarker"),o.exit("labelImage"),b):a(_)}function b(_){return _===94&&"_hiddenFootnoteSupport"in c.parser.constructs?a(_):e(_)}}const labelStartLink={name:"labelStartLink",tokenize:tokenizeLabelStartLink,resolveAll:labelEnd.resolveAll};function tokenizeLabelStartLink(o,e,a){const c=this;return d;function d(b){return o.enter("labelLink"),o.enter("labelMarker"),o.consume(b),o.exit("labelMarker"),o.exit("labelLink"),g}function g(b){return b===94&&"_hiddenFootnoteSupport"in c.parser.constructs?a(b):e(b)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(o,e){return a;function a(c){return o.enter("lineEnding"),o.consume(c),o.exit("lineEnding"),factorySpace(o,e,"linePrefix")}}const thematicBreak$1={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(o,e,a){let c=0,d;return g;function g(tt){return o.enter("thematicBreak"),b(tt)}function b(tt){return d=tt,_(tt)}function _(tt){return tt===d?(o.enter("thematicBreakSequence"),_e(tt)):c>=3&&(tt===null||markdownLineEnding(tt))?(o.exit("thematicBreak"),e(tt)):a(tt)}function _e(tt){return tt===d?(o.consume(tt),c++,_e):(o.exit("thematicBreakSequence"),markdownSpace(tt)?factorySpace(o,_,"whitespace")(tt):_(tt))}}const list$1={name:"list",tokenize:tokenizeListStart,continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd},listItemPrefixWhitespaceConstruct={tokenize:tokenizeListItemPrefixWhitespace,partial:!0},indentConstruct={tokenize:tokenizeIndent,partial:!0};function tokenizeListStart(o,e,a){const c=this,d=c.events[c.events.length-1];let g=d&&d[1].type==="linePrefix"?d[2].sliceSerialize(d[1],!0).length:0,b=0;return _;function _(ot){const ht=c.containerState.type||(ot===42||ot===43||ot===45?"listUnordered":"listOrdered");if(ht==="listUnordered"?!c.containerState.marker||ot===c.containerState.marker:asciiDigit(ot)){if(c.containerState.type||(c.containerState.type=ht,o.enter(ht,{_container:!0})),ht==="listUnordered")return o.enter("listItemPrefix"),ot===42||ot===45?o.check(thematicBreak$1,a,tt)(ot):tt(ot);if(!c.interrupt||ot===49)return o.enter("listItemPrefix"),o.enter("listItemValue"),_e(ot)}return a(ot)}function _e(ot){return asciiDigit(ot)&&++b<10?(o.consume(ot),_e):(!c.interrupt||b<2)&&(c.containerState.marker?ot===c.containerState.marker:ot===41||ot===46)?(o.exit("listItemValue"),tt(ot)):a(ot)}function tt(ot){return o.enter("listItemMarker"),o.consume(ot),o.exit("listItemMarker"),c.containerState.marker=c.containerState.marker||ot,o.check(blankLine,c.interrupt?a:nt,o.attempt(listItemPrefixWhitespaceConstruct,st,it))}function nt(ot){return c.containerState.initialBlankLine=!0,g++,st(ot)}function it(ot){return markdownSpace(ot)?(o.enter("listItemPrefixWhitespace"),o.consume(ot),o.exit("listItemPrefixWhitespace"),st):a(ot)}function st(ot){return c.containerState.size=g+c.sliceSerialize(o.exit("listItemPrefix"),!0).length,e(ot)}}function tokenizeListContinuation(o,e,a){const c=this;return c.containerState._closeFlow=void 0,o.check(blankLine,d,g);function d(_){return c.containerState.furtherBlankLines=c.containerState.furtherBlankLines||c.containerState.initialBlankLine,factorySpace(o,e,"listItemIndent",c.containerState.size+1)(_)}function g(_){return c.containerState.furtherBlankLines||!markdownSpace(_)?(c.containerState.furtherBlankLines=void 0,c.containerState.initialBlankLine=void 0,b(_)):(c.containerState.furtherBlankLines=void 0,c.containerState.initialBlankLine=void 0,o.attempt(indentConstruct,e,b)(_))}function b(_){return c.containerState._closeFlow=!0,c.interrupt=void 0,factorySpace(o,o.attempt(list$1,e,a),"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_)}}function tokenizeIndent(o,e,a){const c=this;return factorySpace(o,d,"listItemIndent",c.containerState.size+1);function d(g){const b=c.events[c.events.length-1];return b&&b[1].type==="listItemIndent"&&b[2].sliceSerialize(b[1],!0).length===c.containerState.size?e(g):a(g)}}function tokenizeListEnd(o){o.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(o,e,a){const c=this;return factorySpace(o,d,"listItemPrefixWhitespace",c.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function d(g){const b=c.events[c.events.length-1];return!markdownSpace(g)&&b&&b[1].type==="listItemPrefixWhitespace"?e(g):a(g)}}const setextUnderline={name:"setextUnderline",tokenize:tokenizeSetextUnderline,resolveTo:resolveToSetextUnderline};function resolveToSetextUnderline(o,e){let a=o.length,c,d,g;for(;a--;)if(o[a][0]==="enter"){if(o[a][1].type==="content"){c=a;break}o[a][1].type==="paragraph"&&(d=a)}else o[a][1].type==="content"&&o.splice(a,1),!g&&o[a][1].type==="definition"&&(g=a);const b={type:"setextHeading",start:Object.assign({},o[d][1].start),end:Object.assign({},o[o.length-1][1].end)};return o[d][1].type="setextHeadingText",g?(o.splice(d,0,["enter",b,e]),o.splice(g+1,0,["exit",o[c][1],e]),o[c][1].end=Object.assign({},o[g][1].end)):o[c][1]=b,o.push(["exit",b,e]),o}function tokenizeSetextUnderline(o,e,a){const c=this;let d;return g;function g(tt){let nt=c.events.length,it;for(;nt--;)if(c.events[nt][1].type!=="lineEnding"&&c.events[nt][1].type!=="linePrefix"&&c.events[nt][1].type!=="content"){it=c.events[nt][1].type==="paragraph";break}return!c.parser.lazy[c.now().line]&&(c.interrupt||it)?(o.enter("setextHeadingLine"),d=tt,b(tt)):a(tt)}function b(tt){return o.enter("setextHeadingLineSequence"),_(tt)}function _(tt){return tt===d?(o.consume(tt),_):(o.exit("setextHeadingLineSequence"),markdownSpace(tt)?factorySpace(o,_e,"lineSuffix")(tt):_e(tt))}function _e(tt){return tt===null||markdownLineEnding(tt)?(o.exit("setextHeadingLine"),e(tt)):a(tt)}}const flow$1={tokenize:initializeFlow};function initializeFlow(o){const e=this,a=o.attempt(blankLine,c,o.attempt(this.parser.constructs.flowInitial,d,factorySpace(o,o.attempt(this.parser.constructs.flow,d,o.attempt(content,d)),"linePrefix")));return a;function c(g){if(g===null){o.consume(g);return}return o.enter("lineEndingBlank"),o.consume(g),o.exit("lineEndingBlank"),e.currentConstruct=void 0,a}function d(g){if(g===null){o.consume(g);return}return o.enter("lineEnding"),o.consume(g),o.exit("lineEnding"),e.currentConstruct=void 0,a}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$4=initializeFactory("text");function initializeFactory(o){return{tokenize:e,resolveAll:createResolver(o==="text"?resolveAllLineSuffixes:void 0)};function e(a){const c=this,d=this.parser.constructs[o],g=a.attempt(d,b,_);return b;function b(nt){return tt(nt)?g(nt):_(nt)}function _(nt){if(nt===null){a.consume(nt);return}return a.enter("data"),a.consume(nt),_e}function _e(nt){return tt(nt)?(a.exit("data"),g(nt)):(a.consume(nt),_e)}function tt(nt){if(nt===null)return!0;const it=d[nt];let st=-1;if(it)for(;++st<it.length;){const ot=it[st];if(!ot.previous||ot.previous.call(c,c.previous))return!0}return!1}}}function createResolver(o){return e;function e(a,c){let d=-1,g;for(;++d<=a.length;)g===void 0?a[d]&&a[d][1].type==="data"&&(g=d,d++):(!a[d]||a[d][1].type!=="data")&&(d!==g+2&&(a[g][1].end=a[d-1][1].end,a.splice(g+2,d-g-2),d=g+2),g=void 0);return o?o(a,c):a}}function resolveAllLineSuffixes(o,e){let a=0;for(;++a<=o.length;)if((a===o.length||o[a][1].type==="lineEnding")&&o[a-1][1].type==="data"){const c=o[a-1][1],d=e.sliceStream(c);let g=d.length,b=-1,_=0,_e;for(;g--;){const tt=d[g];if(typeof tt=="string"){for(b=tt.length;tt.charCodeAt(b-1)===32;)_++,b--;if(b)break;b=-1}else if(tt===-2)_e=!0,_++;else if(tt!==-1){g++;break}}if(_){const tt={type:a===o.length||_e||_<2?"lineSuffix":"hardBreakTrailing",start:{line:c.end.line,column:c.end.column-_,offset:c.end.offset-_,_index:c.start._index+g,_bufferIndex:g?b:c.start._bufferIndex+b},end:Object.assign({},c.end)};c.end=Object.assign({},tt.start),c.start.offset===c.end.offset?Object.assign(c,tt):(o.splice(a,0,["enter",tt,e],["exit",tt,e]),a+=2)}a++}return o}function createTokenizer(o,e,a){let c=Object.assign(a?Object.assign({},a):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const d={},g=[];let b=[],_=[];const _e={consume:gt,enter:St,exit:Tt,attempt:kt(bt),check:kt(vt),interrupt:kt(vt,{interrupt:!0})},tt={previous:null,code:null,containerState:{},events:[],parser:o,sliceStream:ot,sliceSerialize:st,now:ht,defineSkip:dt,write:it};let nt=e.tokenize.call(tt,_e);return e.resolveAll&&g.push(e),tt;function it(tn){return b=push(b,tn),Et(),b[b.length-1]!==null?[]:(Nt(e,0),tt.events=resolveAll(g,tt.events,tt),tt.events)}function st(tn,Yt){return serializeChunks(ot(tn),Yt)}function ot(tn){return sliceChunks(b,tn)}function ht(){const{line:tn,column:Yt,offset:pn,_index:mn,_bufferIndex:dn}=c;return{line:tn,column:Yt,offset:pn,_index:mn,_bufferIndex:dn}}function dt(tn){d[tn.line]=tn.column,jt()}function Et(){let tn;for(;c._index<b.length;){const Yt=b[c._index];if(typeof Yt=="string")for(tn=c._index,c._bufferIndex<0&&(c._bufferIndex=0);c._index===tn&&c._bufferIndex<Yt.length;)pt(Yt.charCodeAt(c._bufferIndex));else pt(Yt)}}function pt(tn){nt=nt(tn)}function gt(tn){markdownLineEnding(tn)?(c.line++,c.column=1,c.offset+=tn===-3?2:1,jt()):tn!==-1&&(c.column++,c.offset++),c._bufferIndex<0?c._index++:(c._bufferIndex++,c._bufferIndex===b[c._index].length&&(c._bufferIndex=-1,c._index++)),tt.previous=tn}function St(tn,Yt){const pn=Yt||{};return pn.type=tn,pn.start=ht(),tt.events.push(["enter",pn,tt]),_.push(pn),pn}function Tt(tn){const Yt=_.pop();return Yt.end=ht(),tt.events.push(["exit",Yt,tt]),Yt}function bt(tn,Yt){Nt(tn,Yt.from)}function vt(tn,Yt){Yt.restore()}function kt(tn,Yt){return pn;function pn(mn,dn,On){let hn,zt,nn,wt;return Array.isArray(mn)?Sn(mn):"tokenize"in mn?Sn([mn]):fn(mn);function fn(xn){return Wn;function Wn(Gn){const Fn=Gn!==null&&xn[Gn],ir=Gn!==null&&xn.null,pr=[...Array.isArray(Fn)?Fn:Fn?[Fn]:[],...Array.isArray(ir)?ir:ir?[ir]:[]];return Sn(pr)(Gn)}}function Sn(xn){return hn=xn,zt=0,xn.length===0?On:Pt(xn[zt])}function Pt(xn){return Wn;function Wn(Gn){return wt=en(),nn=xn,xn.partial||(tt.currentConstruct=xn),xn.name&&tt.parser.constructs.disable.null.includes(xn.name)?In():xn.tokenize.call(Yt?Object.assign(Object.create(tt),Yt):tt,_e,wn,In)(Gn)}}function wn(xn){return tn(nn,wt),dn}function In(xn){return wt.restore(),++zt<hn.length?Pt(hn[zt]):On}}}function Nt(tn,Yt){tn.resolveAll&&!g.includes(tn)&&g.push(tn),tn.resolve&&splice(tt.events,Yt,tt.events.length-Yt,tn.resolve(tt.events.slice(Yt),tt)),tn.resolveTo&&(tt.events=tn.resolveTo(tt.events,tt))}function en(){const tn=ht(),Yt=tt.previous,pn=tt.currentConstruct,mn=tt.events.length,dn=Array.from(_);return{restore:On,from:mn};function On(){c=tn,tt.previous=Yt,tt.currentConstruct=pn,tt.events.length=mn,_=dn,jt()}}function jt(){c.line in d&&c.column<2&&(c.column=d[c.line],c.offset+=d[c.line]-1)}}function sliceChunks(o,e){const a=e.start._index,c=e.start._bufferIndex,d=e.end._index,g=e.end._bufferIndex;let b;if(a===d)b=[o[a].slice(c,g)];else{if(b=o.slice(a,d),c>-1){const _=b[0];typeof _=="string"?b[0]=_.slice(c):b.shift()}g>0&&b.push(o[d].slice(0,g))}return b}function serializeChunks(o,e){let a=-1;const c=[];let d;for(;++a<o.length;){const g=o[a];let b;if(typeof g=="string")b=g;else switch(g){case-5:{b="\r";break}case-4:{b=`
`;break}case-3:{b=`\r
`;break}case-2:{b=e?" ":"	";break}case-1:{if(!e&&d)continue;b=" ";break}default:b=String.fromCharCode(g)}d=g===-2,c.push(b)}return c.join("")}const document$1={42:list$1,43:list$1,45:list$1,48:list$1,49:list$1,50:list$1,51:list$1,52:list$1,53:list$1,54:list$1,55:list$1,56:list$1,57:list$1,62:blockQuote},contentInitial={91:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$1,45:[setextUnderline,thematicBreak$1],60:htmlFlow,61:setextUnderline,95:thematicBreak$1,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$3={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$3},Symbol.toStringTag,{value:"Module"}));function parse$1(o){const a=combineExtensions([defaultConstructs,...(o||{}).extensions||[]]),c={defined:[],lazy:{},constructs:a,content:d(content$1),document:d(document$2),flow:d(flow$1),string:d(string$1),text:d(text$4)};return c;function d(g){return b;function b(_){return createTokenizer(c,g,_)}}}function postprocess(o){for(;!subtokenize(o););return o}const search$1=/[\0\t\n\r]/g;function preprocess(){let o=1,e="",a=!0,c;return d;function d(g,b,_){const _e=[];let tt,nt,it,st,ot;for(g=e+(typeof g=="string"?g.toString():new TextDecoder(b||void 0).decode(g)),it=0,e="",a&&(g.charCodeAt(0)===65279&&it++,a=void 0);it<g.length;){if(search$1.lastIndex=it,tt=search$1.exec(g),st=tt&&tt.index!==void 0?tt.index:g.length,ot=g.charCodeAt(st),!tt){e=g.slice(it);break}if(ot===10&&it===st&&c)_e.push(-3),c=void 0;else switch(c&&(_e.push(-5),c=void 0),it<st&&(_e.push(g.slice(it,st)),o+=st-it),ot){case 0:{_e.push(65533),o++;break}case 9:{for(nt=Math.ceil(o/4)*4,_e.push(-2);o++<nt;)_e.push(-1);break}case 10:{_e.push(-4),o=1;break}default:c=!0,o=1}it=st+1}return _&&(c&&_e.push(-5),e&&_e.push(e),_e.push(null)),_e}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(o){return o.replace(characterEscapeOrReference,decode)}function decode(o,e,a){if(e)return e;if(a.charCodeAt(0)===35){const d=a.charCodeAt(1),g=d===120||d===88;return decodeNumericCharacterReference(a.slice(g?2:1),g?16:10)}return decodeNamedCharacterReference(a)||o}const own$6={}.hasOwnProperty;function fromMarkdown(o,e,a){return typeof e!="string"&&(a=e,e=void 0),compiler(a)(postprocess(parse$1(a).document().write(preprocess()(o,e,!0))))}function compiler(o){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:g(er),autolinkProtocol:en,autolinkEmail:en,atxHeading:g(wr),blockQuote:g(ir),characterEscape:en,characterReference:en,codeFenced:g(pr),codeFencedFenceInfo:b,codeFencedFenceMeta:b,codeIndented:g(pr,b),codeText:g(mr,b),codeTextData:en,data:en,codeFlowValue:en,definition:g(Nr),definitionDestinationString:b,definitionLabelString:b,definitionTitleString:b,emphasis:g(ar),hardBreakEscape:g(Cr),hardBreakTrailing:g(Cr),htmlFlow:g(gr,b),htmlFlowData:en,htmlText:g(gr,b),htmlTextData:en,image:g(hs),label:b,link:g(er),listItem:g(Sr),listItemValue:st,listOrdered:g(Er,it),listUnordered:g(Er),paragraph:g(Xr),reference:Pt,referenceString:b,resourceDestinationString:b,resourceTitleString:b,setextHeading:g(wr),strong:g(Br),thematicBreak:g(Yr)},exit:{atxHeading:_e(),atxHeadingSequence:bt,autolink:_e(),autolinkEmail:Fn,autolinkProtocol:Gn,blockQuote:_e(),characterEscapeValue:jt,characterReferenceMarkerHexadecimal:In,characterReferenceMarkerNumeric:In,characterReferenceValue:xn,characterReference:Wn,codeFenced:_e(Et),codeFencedFence:dt,codeFencedFenceInfo:ot,codeFencedFenceMeta:ht,codeFlowValue:jt,codeIndented:_e(pt),codeText:_e(dn),codeTextData:jt,data:jt,definition:_e(),definitionDestinationString:Tt,definitionLabelString:gt,definitionTitleString:St,emphasis:_e(),hardBreakEscape:_e(Yt),hardBreakTrailing:_e(Yt),htmlFlow:_e(pn),htmlFlowData:jt,htmlText:_e(mn),htmlTextData:jt,image:_e(hn),label:nn,labelText:zt,lineEnding:tn,link:_e(On),listItem:_e(),listOrdered:_e(),listUnordered:_e(),paragraph:_e(),referenceString:wn,resourceDestinationString:wt,resourceTitleString:fn,resource:Sn,setextHeading:_e(Nt),setextHeadingLineSequence:kt,setextHeadingText:vt,strong:_e(),thematicBreak:_e()}};configure(e,(o||{}).mdastExtensions||[]);const a={};return c;function c(Lt){let sn={type:"root",children:[]};const En={stack:[sn],tokenStack:[],config:e,enter:_,exit:tt,buffer:b,resume:nt,data:a},bn=[];let Dn=-1;for(;++Dn<Lt.length;)if(Lt[Dn][1].type==="listOrdered"||Lt[Dn][1].type==="listUnordered")if(Lt[Dn][0]==="enter")bn.push(Dn);else{const tr=bn.pop();Dn=d(Lt,tr,Dn)}for(Dn=-1;++Dn<Lt.length;){const tr=e[Lt[Dn][0]];own$6.call(tr,Lt[Dn][1].type)&&tr[Lt[Dn][1].type].call(Object.assign({sliceSerialize:Lt[Dn][2].sliceSerialize},En),Lt[Dn][1])}if(En.tokenStack.length>0){const tr=En.tokenStack[En.tokenStack.length-1];(tr[1]||defaultOnError).call(En,void 0,tr[0])}for(sn.position={start:point$1(Lt.length>0?Lt[0][1].start:{line:1,column:1,offset:0}),end:point$1(Lt.length>0?Lt[Lt.length-2][1].end:{line:1,column:1,offset:0})},Dn=-1;++Dn<e.transforms.length;)sn=e.transforms[Dn](sn)||sn;return sn}function d(Lt,sn,En){let bn=sn-1,Dn=-1,tr=!1,lr,hr,yr,kr;for(;++bn<=En;){const qn=Lt[bn];switch(qn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{qn[0]==="enter"?Dn++:Dn--,kr=void 0;break}case"lineEndingBlank":{qn[0]==="enter"&&(lr&&!kr&&!Dn&&!yr&&(yr=bn),kr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:kr=void 0}if(!Dn&&qn[0]==="enter"&&qn[1].type==="listItemPrefix"||Dn===-1&&qn[0]==="exit"&&(qn[1].type==="listUnordered"||qn[1].type==="listOrdered")){if(lr){let qr=bn;for(hr=void 0;qr--;){const vn=Lt[qr];if(vn[1].type==="lineEnding"||vn[1].type==="lineEndingBlank"){if(vn[0]==="exit")continue;hr&&(Lt[hr][1].type="lineEndingBlank",tr=!0),vn[1].type="lineEnding",hr=qr}else if(!(vn[1].type==="linePrefix"||vn[1].type==="blockQuotePrefix"||vn[1].type==="blockQuotePrefixWhitespace"||vn[1].type==="blockQuoteMarker"||vn[1].type==="listItemIndent"))break}yr&&(!hr||yr<hr)&&(lr._spread=!0),lr.end=Object.assign({},hr?Lt[hr][1].start:qn[1].end),Lt.splice(hr||bn,0,["exit",lr,qn[2]]),bn++,En++}if(qn[1].type==="listItemPrefix"){const qr={type:"listItem",_spread:!1,start:Object.assign({},qn[1].start),end:void 0};lr=qr,Lt.splice(bn,0,["enter",qr,qn[2]]),bn++,En++,yr=void 0,kr=!0}}}return Lt[sn][1]._spread=tr,En}function g(Lt,sn){return En;function En(bn){_.call(this,Lt(bn),bn),sn&&sn.call(this,bn)}}function b(){this.stack.push({type:"fragment",children:[]})}function _(Lt,sn,En){this.stack[this.stack.length-1].children.push(Lt),this.stack.push(Lt),this.tokenStack.push([sn,En]),Lt.position={start:point$1(sn.start),end:void 0}}function _e(Lt){return sn;function sn(En){Lt&&Lt.call(this,En),tt.call(this,En)}}function tt(Lt,sn){const En=this.stack.pop(),bn=this.tokenStack.pop();if(bn)bn[0].type!==Lt.type&&(sn?sn.call(this,Lt,bn[0]):(bn[1]||defaultOnError).call(this,Lt,bn[0]));else throw new Error("Cannot close `"+Lt.type+"` ("+stringifyPosition({start:Lt.start,end:Lt.end})+"): its not open");En.position.end=point$1(Lt.end)}function nt(){return toString$1(this.stack.pop())}function it(){this.data.expectingFirstListItemValue=!0}function st(Lt){if(this.data.expectingFirstListItemValue){const sn=this.stack[this.stack.length-2];sn.start=Number.parseInt(this.sliceSerialize(Lt),10),this.data.expectingFirstListItemValue=void 0}}function ot(){const Lt=this.resume(),sn=this.stack[this.stack.length-1];sn.lang=Lt}function ht(){const Lt=this.resume(),sn=this.stack[this.stack.length-1];sn.meta=Lt}function dt(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function Et(){const Lt=this.resume(),sn=this.stack[this.stack.length-1];sn.value=Lt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function pt(){const Lt=this.resume(),sn=this.stack[this.stack.length-1];sn.value=Lt.replace(/(\r?\n|\r)$/g,"")}function gt(Lt){const sn=this.resume(),En=this.stack[this.stack.length-1];En.label=sn,En.identifier=normalizeIdentifier(this.sliceSerialize(Lt)).toLowerCase()}function St(){const Lt=this.resume(),sn=this.stack[this.stack.length-1];sn.title=Lt}function Tt(){const Lt=this.resume(),sn=this.stack[this.stack.length-1];sn.url=Lt}function bt(Lt){const sn=this.stack[this.stack.length-1];if(!sn.depth){const En=this.sliceSerialize(Lt).length;sn.depth=En}}function vt(){this.data.setextHeadingSlurpLineEnding=!0}function kt(Lt){const sn=this.stack[this.stack.length-1];sn.depth=this.sliceSerialize(Lt).codePointAt(0)===61?1:2}function Nt(){this.data.setextHeadingSlurpLineEnding=void 0}function en(Lt){const En=this.stack[this.stack.length-1].children;let bn=En[En.length-1];(!bn||bn.type!=="text")&&(bn=Gs(),bn.position={start:point$1(Lt.start),end:void 0},En.push(bn)),this.stack.push(bn)}function jt(Lt){const sn=this.stack.pop();sn.value+=this.sliceSerialize(Lt),sn.position.end=point$1(Lt.end)}function tn(Lt){const sn=this.stack[this.stack.length-1];if(this.data.atHardBreak){const En=sn.children[sn.children.length-1];En.position.end=point$1(Lt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(sn.type)&&(en.call(this,Lt),jt.call(this,Lt))}function Yt(){this.data.atHardBreak=!0}function pn(){const Lt=this.resume(),sn=this.stack[this.stack.length-1];sn.value=Lt}function mn(){const Lt=this.resume(),sn=this.stack[this.stack.length-1];sn.value=Lt}function dn(){const Lt=this.resume(),sn=this.stack[this.stack.length-1];sn.value=Lt}function On(){const Lt=this.stack[this.stack.length-1];if(this.data.inReference){const sn=this.data.referenceType||"shortcut";Lt.type+="Reference",Lt.referenceType=sn,delete Lt.url,delete Lt.title}else delete Lt.identifier,delete Lt.label;this.data.referenceType=void 0}function hn(){const Lt=this.stack[this.stack.length-1];if(this.data.inReference){const sn=this.data.referenceType||"shortcut";Lt.type+="Reference",Lt.referenceType=sn,delete Lt.url,delete Lt.title}else delete Lt.identifier,delete Lt.label;this.data.referenceType=void 0}function zt(Lt){const sn=this.sliceSerialize(Lt),En=this.stack[this.stack.length-2];En.label=decodeString(sn),En.identifier=normalizeIdentifier(sn).toLowerCase()}function nn(){const Lt=this.stack[this.stack.length-1],sn=this.resume(),En=this.stack[this.stack.length-1];if(this.data.inReference=!0,En.type==="link"){const bn=Lt.children;En.children=bn}else En.alt=sn}function wt(){const Lt=this.resume(),sn=this.stack[this.stack.length-1];sn.url=Lt}function fn(){const Lt=this.resume(),sn=this.stack[this.stack.length-1];sn.title=Lt}function Sn(){this.data.inReference=void 0}function Pt(){this.data.referenceType="collapsed"}function wn(Lt){const sn=this.resume(),En=this.stack[this.stack.length-1];En.label=sn,En.identifier=normalizeIdentifier(this.sliceSerialize(Lt)).toLowerCase(),this.data.referenceType="full"}function In(Lt){this.data.characterReferenceType=Lt.type}function xn(Lt){const sn=this.sliceSerialize(Lt),En=this.data.characterReferenceType;let bn;En?(bn=decodeNumericCharacterReference(sn,En==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):bn=decodeNamedCharacterReference(sn);const Dn=this.stack[this.stack.length-1];Dn.value+=bn}function Wn(Lt){const sn=this.stack.pop();sn.position.end=point$1(Lt.end)}function Gn(Lt){jt.call(this,Lt);const sn=this.stack[this.stack.length-1];sn.url=this.sliceSerialize(Lt)}function Fn(Lt){jt.call(this,Lt);const sn=this.stack[this.stack.length-1];sn.url="mailto:"+this.sliceSerialize(Lt)}function ir(){return{type:"blockquote",children:[]}}function pr(){return{type:"code",lang:null,meta:null,value:""}}function mr(){return{type:"inlineCode",value:""}}function Nr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ar(){return{type:"emphasis",children:[]}}function wr(){return{type:"heading",depth:0,children:[]}}function Cr(){return{type:"break"}}function gr(){return{type:"html",value:""}}function hs(){return{type:"image",title:null,url:"",alt:null}}function er(){return{type:"link",title:null,url:"",children:[]}}function Er(Lt){return{type:"list",ordered:Lt.type==="listOrdered",start:null,spread:Lt._spread,children:[]}}function Sr(Lt){return{type:"listItem",spread:Lt._spread,checked:null,children:[]}}function Xr(){return{type:"paragraph",children:[]}}function Br(){return{type:"strong",children:[]}}function Gs(){return{type:"text",value:""}}function Yr(){return{type:"thematicBreak"}}}function point$1(o){return{line:o.line,column:o.column,offset:o.offset}}function configure(o,e){let a=-1;for(;++a<e.length;){const c=e[a];Array.isArray(c)?configure(o,c):extension(o,c)}}function extension(o,e){let a;for(a in e)if(own$6.call(e,a))switch(a){case"canContainEols":{const c=e[a];c&&o[a].push(...c);break}case"transforms":{const c=e[a];c&&o[a].push(...c);break}case"enter":case"exit":{const c=e[a];c&&Object.assign(o[a],c);break}}}function defaultOnError(o,e){throw o?new Error("Cannot close `"+o.type+"` ("+stringifyPosition({start:o.start,end:o.end})+"): a different token (`"+e.type+"`, "+stringifyPosition({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+stringifyPosition({start:e.start,end:e.end})+") is still open")}function remarkParse(o){const e=this;e.parser=a;function a(c){return fromMarkdown(c,{...e.data("settings"),...o,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function blockquote(o,e){const a={type:"element",tagName:"blockquote",properties:{},children:o.wrap(o.all(e),!0)};return o.patch(e,a),o.applyData(e,a)}function hardBreak(o,e){const a={type:"element",tagName:"br",properties:{},children:[]};return o.patch(e,a),[o.applyData(e,a),{type:"text",value:`
`}]}function code(o,e){const a=e.value?e.value+`
`:"",c={};e.lang&&(c.className=["language-"+e.lang]);let d={type:"element",tagName:"code",properties:c,children:[{type:"text",value:a}]};return e.meta&&(d.data={meta:e.meta}),o.patch(e,d),d=o.applyData(e,d),d={type:"element",tagName:"pre",properties:{},children:[d]},o.patch(e,d),d}function strikethrough(o,e){const a={type:"element",tagName:"del",properties:{},children:o.all(e)};return o.patch(e,a),o.applyData(e,a)}function emphasis(o,e){const a={type:"element",tagName:"em",properties:{},children:o.all(e)};return o.patch(e,a),o.applyData(e,a)}function footnoteReference(o,e){const a=typeof o.options.clobberPrefix=="string"?o.options.clobberPrefix:"user-content-",c=String(e.identifier).toUpperCase(),d=normalizeUri(c.toLowerCase()),g=o.footnoteOrder.indexOf(c);let b,_=o.footnoteCounts.get(c);_===void 0?(_=0,o.footnoteOrder.push(c),b=o.footnoteOrder.length):b=g+1,_+=1,o.footnoteCounts.set(c,_);const _e={type:"element",tagName:"a",properties:{href:"#"+a+"fn-"+d,id:a+"fnref-"+d+(_>1?"-"+_:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(b)}]};o.patch(e,_e);const tt={type:"element",tagName:"sup",properties:{},children:[_e]};return o.patch(e,tt),o.applyData(e,tt)}function heading(o,e){const a={type:"element",tagName:"h"+e.depth,properties:{},children:o.all(e)};return o.patch(e,a),o.applyData(e,a)}function html(o,e){if(o.options.allowDangerousHtml){const a={type:"raw",value:e.value};return o.patch(e,a),o.applyData(e,a)}}function revert(o,e){const a=e.referenceType;let c="]";if(a==="collapsed"?c+="[]":a==="full"&&(c+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+c}];const d=o.all(e),g=d[0];g&&g.type==="text"?g.value="["+g.value:d.unshift({type:"text",value:"["});const b=d[d.length-1];return b&&b.type==="text"?b.value+=c:d.push({type:"text",value:c}),d}function imageReference(o,e){const a=String(e.identifier).toUpperCase(),c=o.definitionById.get(a);if(!c)return revert(o,e);const d={src:normalizeUri(c.url||""),alt:e.alt};c.title!==null&&c.title!==void 0&&(d.title=c.title);const g={type:"element",tagName:"img",properties:d,children:[]};return o.patch(e,g),o.applyData(e,g)}function image(o,e){const a={src:normalizeUri(e.url)};e.alt!==null&&e.alt!==void 0&&(a.alt=e.alt),e.title!==null&&e.title!==void 0&&(a.title=e.title);const c={type:"element",tagName:"img",properties:a,children:[]};return o.patch(e,c),o.applyData(e,c)}function inlineCode(o,e){const a={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};o.patch(e,a);const c={type:"element",tagName:"code",properties:{},children:[a]};return o.patch(e,c),o.applyData(e,c)}function linkReference(o,e){const a=String(e.identifier).toUpperCase(),c=o.definitionById.get(a);if(!c)return revert(o,e);const d={href:normalizeUri(c.url||"")};c.title!==null&&c.title!==void 0&&(d.title=c.title);const g={type:"element",tagName:"a",properties:d,children:o.all(e)};return o.patch(e,g),o.applyData(e,g)}function link(o,e){const a={href:normalizeUri(e.url)};e.title!==null&&e.title!==void 0&&(a.title=e.title);const c={type:"element",tagName:"a",properties:a,children:o.all(e)};return o.patch(e,c),o.applyData(e,c)}function listItem(o,e,a){const c=o.all(e),d=a?listLoose(a):listItemLoose(e),g={},b=[];if(typeof e.checked=="boolean"){const nt=c[0];let it;nt&&nt.type==="element"&&nt.tagName==="p"?it=nt:(it={type:"element",tagName:"p",properties:{},children:[]},c.unshift(it)),it.children.length>0&&it.children.unshift({type:"text",value:" "}),it.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),g.className=["task-list-item"]}let _=-1;for(;++_<c.length;){const nt=c[_];(d||_!==0||nt.type!=="element"||nt.tagName!=="p")&&b.push({type:"text",value:`
`}),nt.type==="element"&&nt.tagName==="p"&&!d?b.push(...nt.children):b.push(nt)}const _e=c[c.length-1];_e&&(d||_e.type!=="element"||_e.tagName!=="p")&&b.push({type:"text",value:`
`});const tt={type:"element",tagName:"li",properties:g,children:b};return o.patch(e,tt),o.applyData(e,tt)}function listLoose(o){let e=!1;if(o.type==="list"){e=o.spread||!1;const a=o.children;let c=-1;for(;!e&&++c<a.length;)e=listItemLoose(a[c])}return e}function listItemLoose(o){const e=o.spread;return e??o.children.length>1}function list(o,e){const a={},c=o.all(e);let d=-1;for(typeof e.start=="number"&&e.start!==1&&(a.start=e.start);++d<c.length;){const b=c[d];if(b.type==="element"&&b.tagName==="li"&&b.properties&&Array.isArray(b.properties.className)&&b.properties.className.includes("task-list-item")){a.className=["contains-task-list"];break}}const g={type:"element",tagName:e.ordered?"ol":"ul",properties:a,children:o.wrap(c,!0)};return o.patch(e,g),o.applyData(e,g)}function paragraph(o,e){const a={type:"element",tagName:"p",properties:{},children:o.all(e)};return o.patch(e,a),o.applyData(e,a)}function root$2(o,e){const a={type:"root",children:o.wrap(o.all(e))};return o.patch(e,a),o.applyData(e,a)}function strong(o,e){const a={type:"element",tagName:"strong",properties:{},children:o.all(e)};return o.patch(e,a),o.applyData(e,a)}function table(o,e){const a=o.all(e),c=a.shift(),d=[];if(c){const b={type:"element",tagName:"thead",properties:{},children:o.wrap([c],!0)};o.patch(e.children[0],b),d.push(b)}if(a.length>0){const b={type:"element",tagName:"tbody",properties:{},children:o.wrap(a,!0)},_=pointStart(e.children[1]),_e=pointEnd(e.children[e.children.length-1]);_&&_e&&(b.position={start:_,end:_e}),d.push(b)}const g={type:"element",tagName:"table",properties:{},children:o.wrap(d,!0)};return o.patch(e,g),o.applyData(e,g)}function tableRow(o,e,a){const c=a?a.children:void 0,g=(c?c.indexOf(e):1)===0?"th":"td",b=a&&a.type==="table"?a.align:void 0,_=b?b.length:e.children.length;let _e=-1;const tt=[];for(;++_e<_;){const it=e.children[_e],st={},ot=b?b[_e]:void 0;ot&&(st.align=ot);let ht={type:"element",tagName:g,properties:st,children:[]};it&&(ht.children=o.all(it),o.patch(it,ht),ht=o.applyData(it,ht)),tt.push(ht)}const nt={type:"element",tagName:"tr",properties:{},children:o.wrap(tt,!0)};return o.patch(e,nt),o.applyData(e,nt)}function tableCell(o,e){const a={type:"element",tagName:"td",properties:{},children:o.all(e)};return o.patch(e,a),o.applyData(e,a)}const tab=9,space=32;function trimLines(o){const e=String(o),a=/\r?\n|\r/g;let c=a.exec(e),d=0;const g=[];for(;c;)g.push(trimLine(e.slice(d,c.index),d>0,!0),c[0]),d=c.index+c[0].length,c=a.exec(e);return g.push(trimLine(e.slice(d),d>0,!1)),g.join("")}function trimLine(o,e,a){let c=0,d=o.length;if(e){let g=o.codePointAt(c);for(;g===tab||g===space;)c++,g=o.codePointAt(c)}if(a){let g=o.codePointAt(d-1);for(;g===tab||g===space;)d--,g=o.codePointAt(d-1)}return d>c?o.slice(c,d):""}function text$2(o,e){const a={type:"text",value:trimLines(String(e.value))};return o.patch(e,a),o.applyData(e,a)}function thematicBreak(o,e){const a={type:"element",tagName:"hr",properties:{},children:[]};return o.patch(e,a),o.applyData(e,a)}const handlers={blockquote,break:hardBreak,code,delete:strikethrough,emphasis,footnoteReference,heading,html,imageReference,image,inlineCode,linkReference,link,listItem,list,paragraph,root:root$2,strong,table,tableCell,tableRow,text:text$2,thematicBreak,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(o,e)=>{const a=(d,g)=>(o.set(g,d),d),c=d=>{if(o.has(d))return o.get(d);const[g,b]=e[d];switch(g){case PRIMITIVE:case VOID:return a(b,d);case ARRAY:{const _=a([],d);for(const _e of b)_.push(c(_e));return _}case OBJECT:{const _=a({},d);for(const[_e,tt]of b)_[c(_e)]=c(tt);return _}case DATE:return a(new Date(b),d);case REGEXP:{const{source:_,flags:_e}=b;return a(new RegExp(_,_e),d)}case MAP:{const _=a(new Map,d);for(const[_e,tt]of b)_.set(c(_e),c(tt));return _}case SET:{const _=a(new Set,d);for(const _e of b)_.add(c(_e));return _}case ERROR:{const{name:_,message:_e}=b;return a(new env[_](_e),d)}case BIGINT:return a(BigInt(b),d);case"BigInt":return a(Object(BigInt(b)),d)}return a(new env[g](b),d)};return c},deserialize=o=>deserializer(new Map,o)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=o=>{const e=typeof o;if(e!=="object"||!o)return[PRIMITIVE,e];const a=toString.call(o).slice(8,-1);switch(a){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY]}return a.includes("Array")?[ARRAY,a]:a.includes("Error")?[ERROR,a]:[OBJECT,a]},shouldSkip=([o,e])=>o===PRIMITIVE&&(e==="function"||e==="symbol"),serializer=(o,e,a,c)=>{const d=(b,_)=>{const _e=c.push(b)-1;return a.set(_,_e),_e},g=b=>{if(a.has(b))return a.get(b);let[_,_e]=typeOf(b);switch(_){case PRIMITIVE:{let nt=b;switch(_e){case"bigint":_=BIGINT,nt=b.toString();break;case"function":case"symbol":if(o)throw new TypeError("unable to serialize "+_e);nt=null;break;case"undefined":return d([VOID],b)}return d([_,nt],b)}case ARRAY:{if(_e)return d([_e,[...b]],b);const nt=[],it=d([_,nt],b);for(const st of b)nt.push(g(st));return it}case OBJECT:{if(_e)switch(_e){case"BigInt":return d([_e,b.toString()],b);case"Boolean":case"Number":case"String":return d([_e,b.valueOf()],b)}if(e&&"toJSON"in b)return g(b.toJSON());const nt=[],it=d([_,nt],b);for(const st of keys(b))(o||!shouldSkip(typeOf(b[st])))&&nt.push([g(st),g(b[st])]);return it}case DATE:return d([_,b.toISOString()],b);case REGEXP:{const{source:nt,flags:it}=b;return d([_,{source:nt,flags:it}],b)}case MAP:{const nt=[],it=d([_,nt],b);for(const[st,ot]of b)(o||!(shouldSkip(typeOf(st))||shouldSkip(typeOf(ot))))&&nt.push([g(st),g(ot)]);return it}case SET:{const nt=[],it=d([_,nt],b);for(const st of b)(o||!shouldSkip(typeOf(st)))&&nt.push(g(st));return it}}const{message:tt}=b;return d([_,{name:_e,message:tt}],b)};return g},serialize=(o,{json:e,lossy:a}={})=>{const c=[];return serializer(!(e||a),!!e,new Map,c)(o),c},structuredClone$1=typeof structuredClone=="function"?(o,e)=>e&&("json"in e||"lossy"in e)?deserialize(serialize(o,e)):structuredClone(o):(o,e)=>deserialize(serialize(o,e));function defaultFootnoteBackContent(o,e){const a=[{type:"text",value:""}];return e>1&&a.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),a}function defaultFootnoteBackLabel(o,e){return"Back to reference "+(o+1)+(e>1?"-"+e:"")}function footer(o){const e=typeof o.options.clobberPrefix=="string"?o.options.clobberPrefix:"user-content-",a=o.options.footnoteBackContent||defaultFootnoteBackContent,c=o.options.footnoteBackLabel||defaultFootnoteBackLabel,d=o.options.footnoteLabel||"Footnotes",g=o.options.footnoteLabelTagName||"h2",b=o.options.footnoteLabelProperties||{className:["sr-only"]},_=[];let _e=-1;for(;++_e<o.footnoteOrder.length;){const tt=o.footnoteById.get(o.footnoteOrder[_e]);if(!tt)continue;const nt=o.all(tt),it=String(tt.identifier).toUpperCase(),st=normalizeUri(it.toLowerCase());let ot=0;const ht=[],dt=o.footnoteCounts.get(it);for(;dt!==void 0&&++ot<=dt;){ht.length>0&&ht.push({type:"text",value:" "});let gt=typeof a=="string"?a:a(_e,ot);typeof gt=="string"&&(gt={type:"text",value:gt}),ht.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+st+(ot>1?"-"+ot:""),dataFootnoteBackref:"",ariaLabel:typeof c=="string"?c:c(_e,ot),className:["data-footnote-backref"]},children:Array.isArray(gt)?gt:[gt]})}const Et=nt[nt.length-1];if(Et&&Et.type==="element"&&Et.tagName==="p"){const gt=Et.children[Et.children.length-1];gt&&gt.type==="text"?gt.value+=" ":Et.children.push({type:"text",value:" "}),Et.children.push(...ht)}else nt.push(...ht);const pt={type:"element",tagName:"li",properties:{id:e+"fn-"+st},children:o.wrap(nt,!0)};o.patch(tt,pt),_.push(pt)}if(_.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:g,properties:{...structuredClone$1(b),id:"footnote-label"},children:[{type:"text",value:d}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:o.wrap(_,!0)},{type:"text",value:`
`}]}}const convert=function(o){if(o==null)return ok;if(typeof o=="function")return castFactory(o);if(typeof o=="object")return Array.isArray(o)?anyFactory(o):propsFactory(o);if(typeof o=="string")return typeFactory(o);throw new Error("Expected function, string, or object as test")};function anyFactory(o){const e=[];let a=-1;for(;++a<o.length;)e[a]=convert(o[a]);return castFactory(c);function c(...d){let g=-1;for(;++g<e.length;)if(e[g].apply(this,d))return!0;return!1}}function propsFactory(o){const e=o;return castFactory(a);function a(c){const d=c;let g;for(g in o)if(d[g]!==e[g])return!1;return!0}}function typeFactory(o){return castFactory(e);function e(a){return a&&a.type===o}}function castFactory(o){return e;function e(a,c,d){return!!(looksLikeANode(a)&&o.call(this,a,typeof c=="number"?c:void 0,d||void 0))}}function ok(){return!0}function looksLikeANode(o){return o!==null&&typeof o=="object"&&"type"in o}function color(o){return o}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(o,e,a,c){let d;typeof e=="function"&&typeof a!="function"?(c=a,a=e):d=e;const g=convert(d),b=c?-1:1;_(o,void 0,[])();function _(_e,tt,nt){const it=_e&&typeof _e=="object"?_e:{};if(typeof it.type=="string"){const ot=typeof it.tagName=="string"?it.tagName:typeof it.name=="string"?it.name:void 0;Object.defineProperty(st,"name",{value:"node ("+(_e.type+(ot?"<"+ot+">":""))+")"})}return st;function st(){let ot=empty,ht,dt,Et;if((!e||g(_e,tt,nt[nt.length-1]||void 0))&&(ot=toResult(a(_e,nt)),ot[0]===EXIT))return ot;if("children"in _e&&_e.children){const pt=_e;if(pt.children&&ot[0]!==SKIP)for(dt=(c?pt.children.length:-1)+b,Et=nt.concat(pt);dt>-1&&dt<pt.children.length;){const gt=pt.children[dt];if(ht=_(gt,dt,Et)(),ht[0]===EXIT)return ht;dt=typeof ht[1]=="number"?ht[1]:dt+b}}return ot}}}function toResult(o){return Array.isArray(o)?o:typeof o=="number"?[CONTINUE,o]:o==null?empty:[o]}function visit(o,e,a,c){let d,g,b;typeof e=="function"&&typeof a!="function"?(g=void 0,b=e,d=a):(g=e,b=a,d=c),visitParents(o,g,_,d);function _(_e,tt){const nt=tt[tt.length-1],it=nt?nt.children.indexOf(_e):void 0;return b(_e,it,nt)}}const own$5={}.hasOwnProperty,emptyOptions$1={};function createState(o,e){const a=e||emptyOptions$1,c=new Map,d=new Map,g=new Map,b={...handlers,...a.handlers},_={all:tt,applyData,definitionById:c,footnoteById:d,footnoteCounts:g,footnoteOrder:[],handlers:b,one:_e,options:a,patch:patch$2,wrap:wrap$1};return visit(o,function(nt){if(nt.type==="definition"||nt.type==="footnoteDefinition"){const it=nt.type==="definition"?c:d,st=String(nt.identifier).toUpperCase();it.has(st)||it.set(st,nt)}}),_;function _e(nt,it){const st=nt.type,ot=_.handlers[st];if(own$5.call(_.handlers,st)&&ot)return ot(_,nt,it);if(_.options.passThrough&&_.options.passThrough.includes(st)){if("children"in nt){const{children:dt,...Et}=nt,pt=structuredClone$1(Et);return pt.children=_.all(nt),pt}return structuredClone$1(nt)}return(_.options.unknownHandler||defaultUnknownHandler)(_,nt,it)}function tt(nt){const it=[];if("children"in nt){const st=nt.children;let ot=-1;for(;++ot<st.length;){const ht=_.one(st[ot],nt);if(ht){if(ot&&st[ot-1].type==="break"&&(!Array.isArray(ht)&&ht.type==="text"&&(ht.value=trimMarkdownSpaceStart(ht.value)),!Array.isArray(ht)&&ht.type==="element")){const dt=ht.children[0];dt&&dt.type==="text"&&(dt.value=trimMarkdownSpaceStart(dt.value))}Array.isArray(ht)?it.push(...ht):it.push(ht)}}}return it}}function patch$2(o,e){o.position&&(e.position=position$2(o))}function applyData(o,e){let a=e;if(o&&o.data){const c=o.data.hName,d=o.data.hChildren,g=o.data.hProperties;if(typeof c=="string")if(a.type==="element")a.tagName=c;else{const b="children"in a?a.children:[a];a={type:"element",tagName:c,properties:{},children:b}}a.type==="element"&&g&&Object.assign(a.properties,structuredClone$1(g)),"children"in a&&a.children&&d!==null&&d!==void 0&&(a.children=d)}return a}function defaultUnknownHandler(o,e){const a=e.data||{},c="value"in e&&!(own$5.call(a,"hProperties")||own$5.call(a,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:o.all(e)};return o.patch(e,c),o.applyData(e,c)}function wrap$1(o,e){const a=[];let c=-1;for(e&&a.push({type:"text",value:`
`});++c<o.length;)c&&a.push({type:"text",value:`
`}),a.push(o[c]);return e&&o.length>0&&a.push({type:"text",value:`
`}),a}function trimMarkdownSpaceStart(o){let e=0,a=o.charCodeAt(e);for(;a===9||a===32;)e++,a=o.charCodeAt(e);return o.slice(e)}function toHast(o,e){const a=createState(o,e),c=a.one(o,void 0),d=footer(a),g=Array.isArray(c)?{type:"root",children:c}:c||{type:"root",children:[]};return d&&g.children.push({type:"text",value:`
`},d),g}function remarkRehype(o,e){return o&&"run"in o?async function(a,c){const d=toHast(a,{file:c,...e});await o.run(d,c)}:function(a,c){return toHast(a,{file:c,...o||e})}}function bail(o){if(o)throw o}var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function(e){return typeof Array.isArray=="function"?Array.isArray(e):toStr.call(e)==="[object Array]"},isPlainObject$2=function(e){if(!e||toStr.call(e)!=="[object Object]")return!1;var a=hasOwn.call(e,"constructor"),c=e.constructor&&e.constructor.prototype&&hasOwn.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!a&&!c)return!1;var d;for(d in e);return typeof d>"u"||hasOwn.call(e,d)},setProperty=function(e,a){defineProperty&&a.name==="__proto__"?defineProperty(e,a.name,{enumerable:!0,configurable:!0,value:a.newValue,writable:!0}):e[a.name]=a.newValue},getProperty=function(e,a){if(a==="__proto__")if(hasOwn.call(e,a)){if(gOPD)return gOPD(e,a).value}else return;return e[a]},extend=function o(){var e,a,c,d,g,b,_=arguments[0],_e=1,tt=arguments.length,nt=!1;for(typeof _=="boolean"&&(nt=_,_=arguments[1]||{},_e=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});_e<tt;++_e)if(e=arguments[_e],e!=null)for(a in e)c=getProperty(_,a),d=getProperty(e,a),_!==d&&(nt&&d&&(isPlainObject$2(d)||(g=isArray(d)))?(g?(g=!1,b=c&&isArray(c)?c:[]):b=c&&isPlainObject$2(c)?c:{},setProperty(_,{name:a,newValue:o(nt,b,d)})):typeof d<"u"&&setProperty(_,{name:a,newValue:d}));return _};const extend$1=getDefaultExportFromCjs(extend);function isPlainObject$1(o){if(typeof o!="object"||o===null)return!1;const e=Object.getPrototypeOf(o);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)}function trough(){const o=[],e={run:a,use:c};return e;function a(...d){let g=-1;const b=d.pop();if(typeof b!="function")throw new TypeError("Expected function as last argument, not "+b);_(null,...d);function _(_e,...tt){const nt=o[++g];let it=-1;if(_e){b(_e);return}for(;++it<d.length;)(tt[it]===null||tt[it]===void 0)&&(tt[it]=d[it]);d=tt,nt?wrap(nt,_)(...tt):b(null,...tt)}}function c(d){if(typeof d!="function")throw new TypeError("Expected `middelware` to be a function, not "+d);return o.push(d),e}}function wrap(o,e){let a;return c;function c(...b){const _=o.length>b.length;let _e;_&&b.push(d);try{_e=o.apply(this,b)}catch(tt){const nt=tt;if(_&&a)throw nt;return d(nt)}_||(_e&&_e.then&&typeof _e.then=="function"?_e.then(g,d):_e instanceof Error?d(_e):g(_e))}function d(b,..._){a||(a=!0,e(b,..._))}function g(b){d(null,b)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(o,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(o);let a=0,c=-1,d=o.length,g;if(e===void 0||e.length===0||e.length>o.length){for(;d--;)if(o.codePointAt(d)===47){if(g){a=d+1;break}}else c<0&&(g=!0,c=d+1);return c<0?"":o.slice(a,c)}if(e===o)return"";let b=-1,_=e.length-1;for(;d--;)if(o.codePointAt(d)===47){if(g){a=d+1;break}}else b<0&&(g=!0,b=d+1),_>-1&&(o.codePointAt(d)===e.codePointAt(_--)?_<0&&(c=d):(_=-1,c=b));return a===c?c=b:c<0&&(c=o.length),o.slice(a,c)}function dirname(o){if(assertPath$1(o),o.length===0)return".";let e=-1,a=o.length,c;for(;--a;)if(o.codePointAt(a)===47){if(c){e=a;break}}else c||(c=!0);return e<0?o.codePointAt(0)===47?"/":".":e===1&&o.codePointAt(0)===47?"//":o.slice(0,e)}function extname(o){assertPath$1(o);let e=o.length,a=-1,c=0,d=-1,g=0,b;for(;e--;){const _=o.codePointAt(e);if(_===47){if(b){c=e+1;break}continue}a<0&&(b=!0,a=e+1),_===46?d<0?d=e:g!==1&&(g=1):d>-1&&(g=-1)}return d<0||a<0||g===0||g===1&&d===a-1&&d===c+1?"":o.slice(d,a)}function join(...o){let e=-1,a;for(;++e<o.length;)assertPath$1(o[e]),o[e]&&(a=a===void 0?o[e]:a+"/"+o[e]);return a===void 0?".":normalize(a)}function normalize(o){assertPath$1(o);const e=o.codePointAt(0)===47;let a=normalizeString(o,!e);return a.length===0&&!e&&(a="."),a.length>0&&o.codePointAt(o.length-1)===47&&(a+="/"),e?"/"+a:a}function normalizeString(o,e){let a="",c=0,d=-1,g=0,b=-1,_,_e;for(;++b<=o.length;){if(b<o.length)_=o.codePointAt(b);else{if(_===47)break;_=47}if(_===47){if(!(d===b-1||g===1))if(d!==b-1&&g===2){if(a.length<2||c!==2||a.codePointAt(a.length-1)!==46||a.codePointAt(a.length-2)!==46){if(a.length>2){if(_e=a.lastIndexOf("/"),_e!==a.length-1){_e<0?(a="",c=0):(a=a.slice(0,_e),c=a.length-1-a.lastIndexOf("/")),d=b,g=0;continue}}else if(a.length>0){a="",c=0,d=b,g=0;continue}}e&&(a=a.length>0?a+"/..":"..",c=2)}else a.length>0?a+="/"+o.slice(d+1,b):a=o.slice(d+1,b),c=b-d-1;d=b,g=0}else _===46&&g>-1?g++:g=-1}return a}function assertPath$1(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}const minproc={cwd};function cwd(){return"/"}function isUrl(o){return!!(o!==null&&typeof o=="object"&&"href"in o&&o.href&&"protocol"in o&&o.protocol&&o.auth===void 0)}function urlToPath(o){if(typeof o=="string")o=new URL(o);else if(!isUrl(o)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+o+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(o.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return getPathFromURLPosix(o)}function getPathFromURLPosix(o){if(o.hostname!==""){const c=new TypeError('File URL host must be "localhost" or empty on darwin');throw c.code="ERR_INVALID_FILE_URL_HOST",c}const e=o.pathname;let a=-1;for(;++a<e.length;)if(e.codePointAt(a)===37&&e.codePointAt(a+1)===50){const c=e.codePointAt(a+2);if(c===70||c===102){const d=new TypeError("File URL path must not include encoded / characters");throw d.code="ERR_INVALID_FILE_URL_PATH",d}}return decodeURIComponent(e)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(e){let a;e?isUrl(e)?a={path:e}:typeof e=="string"||isUint8Array$1(e)?a={value:e}:a=e:a={},this.cwd="cwd"in a?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let c=-1;for(;++c<order.length;){const g=order[c];g in a&&a[g]!==void 0&&a[g]!==null&&(this[g]=g==="history"?[...a[g]]:a[g])}let d;for(d in a)order.includes(d)||(this[d]=a[d])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(e){assertNonEmpty(e,"basename"),assertPart(e,"basename"),this.path=minpath.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(e){assertPath(this.basename,"dirname"),this.path=minpath.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(e){if(assertPart(e,"extname"),assertPath(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){isUrl(e)&&(e=urlToPath(e)),assertNonEmpty(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(e){assertNonEmpty(e,"stem"),assertPart(e,"stem"),this.path=minpath.join(this.dirname||"",e+(this.extname||""))}fail(e,a,c){const d=this.message(e,a,c);throw d.fatal=!0,d}info(e,a,c){const d=this.message(e,a,c);return d.fatal=void 0,d}message(e,a,c){const d=new VFileMessage(e,a,c);return this.path&&(d.name=this.path+":"+d.name,d.file=this.path),d.fatal=!1,this.messages.push(d),d}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function assertPart(o,e){if(o&&o.includes(minpath.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(o,e){if(!o)throw new Error("`"+e+"` cannot be empty")}function assertPath(o,e){if(!o)throw new Error("Setting `"+e+"` requires `path` to be set too")}function isUint8Array$1(o){return!!(o&&typeof o=="object"&&"byteLength"in o&&"byteOffset"in o)}const CallableInstance=function(o){const c=this.constructor.prototype,d=c[o],g=function(){return d.apply(g,arguments)};return Object.setPrototypeOf(g,c),g},own$4={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const e=new Processor;let a=-1;for(;++a<this.attachers.length;){const c=this.attachers[a];e.use(...c)}return e.data(extend$1(!0,{},this.namespace)),e}data(e,a){return typeof e=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[e]=a,this):own$4.call(this.namespace,e)&&this.namespace[e]||void 0:e?(assertUnfrozen("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[a,...c]=this.attachers[this.freezeIndex];if(c[0]===!1)continue;c[0]===!0&&(c[0]=void 0);const d=a.call(e,...c);typeof d=="function"&&this.transformers.use(d)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const a=vfile(e),c=this.parser||this.Parser;return assertParser("parse",c),c(String(a),a)}process(e,a){const c=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),a?d(void 0,a):new Promise(d);function d(g,b){const _=vfile(e),_e=c.parse(_);c.run(_e,_,function(nt,it,st){if(nt||!it||!st)return tt(nt);const ot=it,ht=c.stringify(ot,st);looksLikeAValue(ht)?st.value=ht:st.result=ht,tt(nt,st)});function tt(nt,it){nt||!it?b(nt):g?g(it):a(void 0,it)}}}processSync(e){let a=!1,c;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(e,d),assertDone("processSync","process",a),c;function d(g,b){a=!0,bail(g),c=b}}run(e,a,c){assertNode(e),this.freeze();const d=this.transformers;return!c&&typeof a=="function"&&(c=a,a=void 0),c?g(void 0,c):new Promise(g);function g(b,_){const _e=vfile(a);d.run(e,_e,tt);function tt(nt,it,st){const ot=it||e;nt?_(nt):b?b(ot):c(void 0,ot,st)}}}runSync(e,a){let c=!1,d;return this.run(e,a,g),assertDone("runSync","run",c),d;function g(b,_){bail(b),d=_,c=!0}}stringify(e,a){this.freeze();const c=vfile(a),d=this.compiler||this.Compiler;return assertCompiler("stringify",d),assertNode(e),d(e,c)}use(e,...a){const c=this.attachers,d=this.namespace;if(assertUnfrozen("use",this.frozen),e!=null)if(typeof e=="function")_e(e,a);else if(typeof e=="object")Array.isArray(e)?_(e):b(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function g(tt){if(typeof tt=="function")_e(tt,[]);else if(typeof tt=="object")if(Array.isArray(tt)){const[nt,...it]=tt;_e(nt,it)}else b(tt);else throw new TypeError("Expected usable value, not `"+tt+"`")}function b(tt){if(!("plugins"in tt)&&!("settings"in tt))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");_(tt.plugins),tt.settings&&(d.settings=extend$1(!0,d.settings,tt.settings))}function _(tt){let nt=-1;if(tt!=null)if(Array.isArray(tt))for(;++nt<tt.length;){const it=tt[nt];g(it)}else throw new TypeError("Expected a list of plugins, not `"+tt+"`")}function _e(tt,nt){let it=-1,st=-1;for(;++it<c.length;)if(c[it][0]===tt){st=it;break}if(st===-1)c.push([tt,...nt]);else if(nt.length>0){let[ot,...ht]=nt;const dt=c[st][1];isPlainObject$1(dt)&&isPlainObject$1(ot)&&(ot=extend$1(!0,dt,ot)),c[st]=[tt,ot,...ht]}}}}const unified=new Processor().freeze();function assertParser(o,e){if(typeof e!="function")throw new TypeError("Cannot `"+o+"` without `parser`")}function assertCompiler(o,e){if(typeof e!="function")throw new TypeError("Cannot `"+o+"` without `compiler`")}function assertUnfrozen(o,e){if(e)throw new Error("Cannot call `"+o+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(o){if(!isPlainObject$1(o)||typeof o.type!="string")throw new TypeError("Expected node, got `"+o+"`")}function assertDone(o,e,a){if(!a)throw new Error("`"+o+"` finished async. Use `"+e+"` instead")}function vfile(o){return looksLikeAVFile(o)?o:new VFile(o)}function looksLikeAVFile(o){return!!(o&&typeof o=="object"&&"message"in o&&"messages"in o)}function looksLikeAValue(o){return typeof o=="string"||isUint8Array(o)}function isUint8Array(o){return!!(o&&typeof o=="object"&&"byteLength"in o&&"byteOffset"in o)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(o){const e=o.allowedElements,a=o.allowElement,c=o.children||"",d=o.className,g=o.components,b=o.disallowedElements,_=o.rehypePlugins||emptyPlugins,_e=o.remarkPlugins||emptyPlugins,tt=o.remarkRehypeOptions?{...o.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions,nt=o.skipHtml,it=o.unwrapDisallowed,st=o.urlTransform||defaultUrlTransform,ot=unified().use(remarkParse).use(_e).use(remarkRehype,tt).use(_),ht=new VFile;typeof c=="string"&&(ht.value=c);for(const gt of deprecations)Object.hasOwn(o,gt.from)&&(""+gt.from+(gt.to?"use `"+gt.to+"` instead":"remove it")+changelog+gt.id,void 0);const dt=ot.parse(ht);let Et=ot.runSync(dt,ht);return d&&(Et={type:"element",tagName:"div",properties:{className:d},children:Et.type==="root"?Et.children:[Et]}),visit(Et,pt),toJsxRuntime(Et,{Fragment:jsxRuntimeExports.Fragment,components:g,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function pt(gt,St,Tt){if(gt.type==="raw"&&Tt&&typeof St=="number")return nt?Tt.children.splice(St,1):Tt.children[St]={type:"text",value:gt.value},St;if(gt.type==="element"){let bt;for(bt in urlAttributes)if(Object.hasOwn(urlAttributes,bt)&&Object.hasOwn(gt.properties,bt)){const vt=gt.properties[bt],kt=urlAttributes[bt];(kt===null||kt.includes(gt.tagName))&&(gt.properties[bt]=st(String(vt||""),bt,gt))}}if(gt.type==="element"){let bt=e?!e.includes(gt.tagName):b?b.includes(gt.tagName):!1;if(!bt&&a&&typeof St=="number"&&(bt=!a(gt,St,Tt)),bt&&Tt&&typeof St=="number")return it&&gt.children?Tt.children.splice(St,1,...gt.children):Tt.children.splice(St,1),St}}}function defaultUrlTransform(o){const e=o.indexOf(":"),a=o.indexOf("?"),c=o.indexOf("#"),d=o.indexOf("/");return e<0||d>-1&&e>d||a>-1&&e>a||c>-1&&e>c||safeProtocol.test(o.slice(0,e))?o:""}const search=/[#.]/g;function parseSelector(o,e){const a=o||"",c={};let d=0,g,b;for(;d<a.length;){search.lastIndex=d;const _=search.exec(a),_e=a.slice(d,_?_.index:a.length);_e&&(g?g==="#"?c.id=_e:Array.isArray(c.className)?c.className.push(_e):c.className=[_e]:b=_e,d+=_e.length),_&&(g=_[0],d++)}return{type:"element",tagName:b||e||"div",properties:c,children:[]}}const buttonTypes=new Set(["button","menu","reset","submit"]),own$3={}.hasOwnProperty;function createH(o,e,a){const c=a&&createAdjustMap(a);function d(g,b,..._){let _e=-1,tt;if(g==null){tt={type:"root",children:[]};const nt=b;_.unshift(nt)}else if(tt=parseSelector(g,e),tt.tagName=tt.tagName.toLowerCase(),c&&own$3.call(c,tt.tagName)&&(tt.tagName=c[tt.tagName]),isProperties(b,tt.tagName)){let nt;for(nt in b)own$3.call(b,nt)&&addProperty(o,tt.properties,nt,b[nt])}else _.unshift(b);for(;++_e<_.length;)addChild(tt.children,_[_e]);return tt.type==="element"&&tt.tagName==="template"&&(tt.content={type:"root",children:tt.children},tt.children=[]),tt}return d}function isProperties(o,e){return o==null||typeof o!="object"||Array.isArray(o)?!1:e==="input"||!o.type||typeof o.type!="string"?!0:"children"in o&&Array.isArray(o.children)?!1:e==="button"?buttonTypes.has(o.type.toLowerCase()):!("value"in o)}function addProperty(o,e,a,c){const d=find(o,a);let g=-1,b;if(c!=null){if(typeof c=="number"){if(Number.isNaN(c))return;b=c}else typeof c=="boolean"?b=c:typeof c=="string"?d.spaceSeparated?b=parse$2(c):d.commaSeparated?b=parse$3(c):d.commaOrSpaceSeparated?b=parse$2(parse$3(c).join(" ")):b=parsePrimitive(d,d.property,c):Array.isArray(c)?b=c.concat():b=d.property==="style"?style(c):String(c);if(Array.isArray(b)){const _=[];for(;++g<b.length;){const _e=parsePrimitive(d,d.property,b[g]);_[g]=_e}b=_}if(d.property==="className"&&Array.isArray(e.className)){const _=b;b=e.className.concat(_)}e[d.property]=b}}function addChild(o,e){let a=-1;if(e!=null)if(typeof e=="string"||typeof e=="number")o.push({type:"text",value:String(e)});else if(Array.isArray(e))for(;++a<e.length;)addChild(o,e[a]);else if(typeof e=="object"&&"type"in e)e.type==="root"?addChild(o,e.children):o.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function parsePrimitive(o,e,a){if(typeof a=="string"){if(o.number&&a&&!Number.isNaN(Number(a)))return Number(a);if((o.boolean||o.overloadedBoolean)&&(a===""||normalize$1(a)===normalize$1(e)))return!0}return a}function style(o){const e=[];let a;for(a in o)own$3.call(o,a)&&e.push([a,o[a]].join(": "));return e.join("; ")}function createAdjustMap(o){const e={};let a=-1;for(;++a<o.length;)e[o[a].toLowerCase()]=o[a];return e}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h=createH(html$1,"div"),s=createH(svg,"g",svgCaseSensitiveTagNames);function location(o){const e=String(o),a=[];return{toOffset:d,toPoint:c};function c(g){if(typeof g=="number"&&g>-1&&g<=e.length){let b=0;for(;;){let _=a[b];if(_===void 0){const _e=next(e,a[b-1]);_=_e===-1?e.length+1:_e+1,a[b]=_}if(_>g)return{line:b+1,column:g-(b>0?a[b-1]:0)+1,offset:g};b++}}}function d(g){if(g&&typeof g.line=="number"&&typeof g.column=="number"&&!Number.isNaN(g.line)&&!Number.isNaN(g.column)){for(;a.length<g.line;){const _=a[a.length-1],_e=next(e,_),tt=_e===-1?e.length+1:_e+1;if(_===tt)break;a.push(tt)}const b=(g.line>1?a[g.line-2]:0)+g.column-1;if(b<a[g.line-1])return b}}}function next(o,e){const a=o.indexOf("\r",e),c=o.indexOf(`
`,e);return c===-1?a:a===-1||a+1===c?c:a<c?a:c}const webNamespaces={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},own$2={}.hasOwnProperty,proto=Object.prototype;function fromParse5(o,e){const a=e||{};return one$1({file:a.file||void 0,location:!1,schema:a.space==="svg"?svg:html$1,verbose:a.verbose||!1},o)}function one$1(o,e){let a;switch(e.nodeName){case"#comment":{const c=e;return a={type:"comment",value:c.data},patch$1(o,c,a),a}case"#document":case"#document-fragment":{const c=e,d="mode"in c?c.mode==="quirks"||c.mode==="limited-quirks":!1;if(a={type:"root",children:all$2(o,e.childNodes),data:{quirksMode:d}},o.file&&o.location){const g=String(o.file),b=location(g),_=b.toPoint(0),_e=b.toPoint(g.length);a.position={start:_,end:_e}}return a}case"#documentType":{const c=e;return a={type:"doctype"},patch$1(o,c,a),a}case"#text":{const c=e;return a={type:"text",value:c.value},patch$1(o,c,a),a}default:return a=element$2(o,e),a}}function all$2(o,e){let a=-1;const c=[];for(;++a<e.length;){const d=one$1(o,e[a]);c.push(d)}return c}function element$2(o,e){const a=o.schema;o.schema=e.namespaceURI===webNamespaces.svg?svg:html$1;let c=-1;const d={};for(;++c<e.attrs.length;){const _=e.attrs[c],_e=(_.prefix?_.prefix+":":"")+_.name;own$2.call(proto,_e)||(d[_e]=_.value)}const b=(o.schema.space==="svg"?s:h)(e.tagName,d,all$2(o,e.childNodes));if(patch$1(o,e,b),b.tagName==="template"){const _=e,_e=_.sourceCodeLocation,tt=_e&&_e.startTag&&position(_e.startTag),nt=_e&&_e.endTag&&position(_e.endTag),it=one$1(o,_.content);tt&&nt&&o.file&&(it.position={start:tt.end,end:nt.start}),b.content=it}return o.schema=a,b}function patch$1(o,e,a){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&o.file){const c=createLocation(o,a,e.sourceCodeLocation);c&&(o.location=!0,a.position=c)}}function createLocation(o,e,a){const c=position(a);if(e.type==="element"){const d=e.children[e.children.length-1];if(c&&!a.endTag&&d&&d.position&&d.position.end&&(c.end=Object.assign({},d.position.end)),o.verbose){const g={};let b;if(a.attrs)for(b in a.attrs)own$2.call(a.attrs,b)&&(g[find(o.schema,b).property]=position(a.attrs[b]));a.startTag;const _=position(a.startTag),_e=a.endTag?position(a.endTag):void 0,tt={opening:_};_e&&(tt.closing=_e),tt.properties=g,e.data={position:tt}}}return c}function position(o){const e=point({line:o.startLine,column:o.startCol,offset:o.startOffset}),a=point({line:o.endLine,column:o.endCol,offset:o.endOffset});return e||a?{start:e,end:a}:void 0}function point(o){return o.line&&o.column?o:void 0}const own$1={}.hasOwnProperty;function zwitch(o,e){const a=e||{};function c(d,...g){let b=c.invalid;const _=c.handlers;if(d&&own$1.call(d,o)){const _e=String(d[o]);b=own$1.call(_,_e)?_[_e]:c.unknown}if(b)return b.call(this,d,...g)}return c.handlers=a.handlers||{},c.invalid=a.invalid,c.unknown=a.unknown,c}const emptyOptions={},own={}.hasOwnProperty,one=zwitch("type",{handlers:{root:root$1,element:element$1,text:text$1,comment:comment$1,doctype:doctype$1}});function toParse5(o,e){const c=(e||emptyOptions).space;return one(o,c==="svg"?svg:html$1)}function root$1(o,e){const a={nodeName:"#document",mode:(o.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return a.childNodes=all$1(o.children,a,e),patch(o,a),a}function fragment(o,e){const a={nodeName:"#document-fragment",childNodes:[]};return a.childNodes=all$1(o.children,a,e),patch(o,a),a}function doctype$1(o){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return patch(o,e),e}function text$1(o){const e={nodeName:"#text",value:o.value,parentNode:null};return patch(o,e),e}function comment$1(o){const e={nodeName:"#comment",data:o.value,parentNode:null};return patch(o,e),e}function element$1(o,e){const a=e;let c=a;o.type==="element"&&o.tagName.toLowerCase()==="svg"&&a.space==="html"&&(c=svg);const d=[];let g;if(o.properties){for(g in o.properties)if(g!=="children"&&own.call(o.properties,g)){const _e=createProperty(c,g,o.properties[g]);_e&&d.push(_e)}}const b=c.space,_={nodeName:o.tagName,tagName:o.tagName,attrs:d,namespaceURI:webNamespaces[b],childNodes:[],parentNode:null};return _.childNodes=all$1(o.children,_,c),patch(o,_),o.tagName==="template"&&o.content&&(_.content=fragment(o.content,c)),_}function createProperty(o,e,a){const c=find(o,e);if(a===!1||a===null||a===void 0||typeof a=="number"&&Number.isNaN(a)||!a&&c.boolean)return;Array.isArray(a)&&(a=c.commaSeparated?stringify$1(a):stringify(a));const d={name:c.attribute,value:a===!0?"":String(a)};if(c.space&&c.space!=="html"&&c.space!=="svg"){const g=d.name.indexOf(":");g<0?d.prefix="":(d.name=d.name.slice(g+1),d.prefix=c.attribute.slice(0,g)),d.namespace=webNamespaces[c.space]}return d}function all$1(o,e,a){let c=-1;const d=[];if(o)for(;++c<o.length;){const g=one(o[c],a);g.parentNode=e,d.push(g)}return d}function patch(o,e){const a=o.position;a&&a.start&&a.end&&(a.start.offset,a.end.offset,e.sourceCodeLocation={startLine:a.start.line,startCol:a.start.column,startOffset:a.start.offset,endLine:a.end.line,endCol:a.end.column,endOffset:a.end.offset})}const htmlVoidElements=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],UNDEFINED_CODE_POINTS=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),REPLACEMENT_CHARACTER="";var CODE_POINTS;(function(o){o[o.EOF=-1]="EOF",o[o.NULL=0]="NULL",o[o.TABULATION=9]="TABULATION",o[o.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",o[o.LINE_FEED=10]="LINE_FEED",o[o.FORM_FEED=12]="FORM_FEED",o[o.SPACE=32]="SPACE",o[o.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",o[o.QUOTATION_MARK=34]="QUOTATION_MARK",o[o.NUMBER_SIGN=35]="NUMBER_SIGN",o[o.AMPERSAND=38]="AMPERSAND",o[o.APOSTROPHE=39]="APOSTROPHE",o[o.HYPHEN_MINUS=45]="HYPHEN_MINUS",o[o.SOLIDUS=47]="SOLIDUS",o[o.DIGIT_0=48]="DIGIT_0",o[o.DIGIT_9=57]="DIGIT_9",o[o.SEMICOLON=59]="SEMICOLON",o[o.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",o[o.EQUALS_SIGN=61]="EQUALS_SIGN",o[o.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",o[o.QUESTION_MARK=63]="QUESTION_MARK",o[o.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",o[o.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",o[o.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",o[o.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",o[o.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",o[o.GRAVE_ACCENT=96]="GRAVE_ACCENT",o[o.LATIN_SMALL_A=97]="LATIN_SMALL_A",o[o.LATIN_SMALL_F=102]="LATIN_SMALL_F",o[o.LATIN_SMALL_X=120]="LATIN_SMALL_X",o[o.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",o[o.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(CODE_POINTS=CODE_POINTS||(CODE_POINTS={}));const SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function isSurrogate(o){return o>=55296&&o<=57343}function isSurrogatePair(o){return o>=56320&&o<=57343}function getSurrogatePairCodePoint(o,e){return(o-55296)*1024+9216+e}function isControlCodePoint(o){return o!==32&&o!==10&&o!==13&&o!==9&&o!==12&&o>=1&&o<=31||o>=127&&o<=159}function isUndefinedCodePoint(o){return o>=64976&&o<=65007||UNDEFINED_CODE_POINTS.has(o)}var ERR;(function(o){o.controlCharacterInInputStream="control-character-in-input-stream",o.noncharacterInInputStream="noncharacter-in-input-stream",o.surrogateInInputStream="surrogate-in-input-stream",o.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",o.endTagWithAttributes="end-tag-with-attributes",o.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",o.unexpectedSolidusInTag="unexpected-solidus-in-tag",o.unexpectedNullCharacter="unexpected-null-character",o.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",o.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",o.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",o.missingEndTagName="missing-end-tag-name",o.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",o.unknownNamedCharacterReference="unknown-named-character-reference",o.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",o.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",o.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",o.eofBeforeTagName="eof-before-tag-name",o.eofInTag="eof-in-tag",o.missingAttributeValue="missing-attribute-value",o.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",o.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",o.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",o.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",o.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",o.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",o.missingDoctypePublicIdentifier="missing-doctype-public-identifier",o.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",o.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",o.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",o.cdataInHtmlContent="cdata-in-html-content",o.incorrectlyOpenedComment="incorrectly-opened-comment",o.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",o.eofInDoctype="eof-in-doctype",o.nestedComment="nested-comment",o.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",o.eofInComment="eof-in-comment",o.incorrectlyClosedComment="incorrectly-closed-comment",o.eofInCdata="eof-in-cdata",o.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",o.nullCharacterReference="null-character-reference",o.surrogateCharacterReference="surrogate-character-reference",o.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",o.controlCharacterReference="control-character-reference",o.noncharacterCharacterReference="noncharacter-character-reference",o.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",o.missingDoctypeName="missing-doctype-name",o.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",o.duplicateAttribute="duplicate-attribute",o.nonConformingDoctype="non-conforming-doctype",o.missingDoctype="missing-doctype",o.misplacedDoctype="misplaced-doctype",o.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",o.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",o.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",o.openElementsLeftAfterEof="open-elements-left-after-eof",o.abandonedHeadElementChild="abandoned-head-element-child",o.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",o.nestedNoscriptInHead="nested-noscript-in-head",o.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ERR=ERR||(ERR={}));const DEFAULT_BUFFER_WATERLINE=65536;class Preprocessor{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=DEFAULT_BUFFER_WATERLINE,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e){const{line:a,col:c,offset:d}=this;return{code:e,startLine:a,endLine:a,startCol:c,endCol:c,startOffset:d,endOffset:d}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const a=this.html.charCodeAt(this.pos+1);if(isSurrogatePair(a))return this.pos++,this._addGap(),getSurrogatePairCodePoint(e,a)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,CODE_POINTS.EOF;return this._err(ERR.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,a){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=a}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,a){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(a)return this.html.startsWith(e,this.pos);for(let c=0;c<e.length;c++)if((this.html.charCodeAt(this.pos+c)|32)!==e.charCodeAt(c))return!1;return!0}peek(e){const a=this.pos+e;if(a>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,CODE_POINTS.EOF;const c=this.html.charCodeAt(a);return c===CODE_POINTS.CARRIAGE_RETURN?CODE_POINTS.LINE_FEED:c}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,CODE_POINTS.EOF;let e=this.html.charCodeAt(this.pos);return e===CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,CODE_POINTS.LINE_FEED):e===CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,isSurrogate(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===CODE_POINTS.LINE_FEED||e===CODE_POINTS.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){isControlCodePoint(e)?this._err(ERR.controlCharacterInInputStream):isUndefinedCodePoint(e)&&this._err(ERR.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var TokenType;(function(o){o[o.CHARACTER=0]="CHARACTER",o[o.NULL_CHARACTER=1]="NULL_CHARACTER",o[o.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",o[o.START_TAG=3]="START_TAG",o[o.END_TAG=4]="END_TAG",o[o.COMMENT=5]="COMMENT",o[o.DOCTYPE=6]="DOCTYPE",o[o.EOF=7]="EOF",o[o.HIBERNATION=8]="HIBERNATION"})(TokenType=TokenType||(TokenType={}));function getTokenAttr(o,e){for(let a=o.attrs.length-1;a>=0;a--)if(o.attrs[a].name===e)return o.attrs[a].value;return null}const htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(o=>o.charCodeAt(0))),xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(o=>o.charCodeAt(0)));var _a;const decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint=(_a=String.fromCodePoint)!==null&&_a!==void 0?_a:function(o){let e="";return o>65535&&(o-=65536,e+=String.fromCharCode(o>>>10&1023|55296),o=56320|o&1023),e+=String.fromCharCode(o),e};function replaceCodePoint(o){var e;return o>=55296&&o<=57343||o>1114111?65533:(e=decodeMap.get(o))!==null&&e!==void 0?e:o}var CharCodes;(function(o){o[o.NUM=35]="NUM",o[o.SEMI=59]="SEMI",o[o.EQUALS=61]="EQUALS",o[o.ZERO=48]="ZERO",o[o.NINE=57]="NINE",o[o.LOWER_A=97]="LOWER_A",o[o.LOWER_F=102]="LOWER_F",o[o.LOWER_X=120]="LOWER_X",o[o.LOWER_Z=122]="LOWER_Z",o[o.UPPER_A=65]="UPPER_A",o[o.UPPER_F=70]="UPPER_F",o[o.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(o){o[o.VALUE_LENGTH=49152]="VALUE_LENGTH",o[o.BRANCH_LENGTH=16256]="BRANCH_LENGTH",o[o.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber$1(o){return o>=CharCodes.ZERO&&o<=CharCodes.NINE}function isHexadecimalCharacter(o){return o>=CharCodes.UPPER_A&&o<=CharCodes.UPPER_F||o>=CharCodes.LOWER_A&&o<=CharCodes.LOWER_F}function isAsciiAlphaNumeric$1(o){return o>=CharCodes.UPPER_A&&o<=CharCodes.UPPER_Z||o>=CharCodes.LOWER_A&&o<=CharCodes.LOWER_Z||isNumber$1(o)}function isEntityInAttributeInvalidEnd$1(o){return o===CharCodes.EQUALS||isAsciiAlphaNumeric$1(o)}var EntityDecoderState;(function(o){o[o.EntityStart=0]="EntityStart",o[o.NumericStart=1]="NumericStart",o[o.NumericDecimal=2]="NumericDecimal",o[o.NumericHex=3]="NumericHex",o[o.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(o){o[o.Legacy=0]="Legacy",o[o.Strict=1]="Strict",o[o.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(e,a,c){this.decodeTree=e,this.emitCodePoint=a,this.errors=c,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(e){this.decodeMode=e,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,a){switch(this.state){case EntityDecoderState.EntityStart:return e.charCodeAt(a)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(e,a+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(e,a));case EntityDecoderState.NumericStart:return this.stateNumericStart(e,a);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(e,a);case EntityDecoderState.NumericHex:return this.stateNumericHex(e,a);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(e,a)}}stateNumericStart(e,a){return a>=e.length?-1:(e.charCodeAt(a)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(e,a+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(e,a))}addToNumericResult(e,a,c,d){if(a!==c){const g=c-a;this.result=this.result*Math.pow(d,g)+parseInt(e.substr(a,g),d),this.consumed+=g}}stateNumericHex(e,a){const c=a;for(;a<e.length;){const d=e.charCodeAt(a);if(isNumber$1(d)||isHexadecimalCharacter(d))a+=1;else return this.addToNumericResult(e,c,a,16),this.emitNumericEntity(d,3)}return this.addToNumericResult(e,c,a,16),-1}stateNumericDecimal(e,a){const c=a;for(;a<e.length;){const d=e.charCodeAt(a);if(isNumber$1(d))a+=1;else return this.addToNumericResult(e,c,a,10),this.emitNumericEntity(d,2)}return this.addToNumericResult(e,c,a,10),-1}emitNumericEntity(e,a){var c;if(this.consumed<=a)return(c=this.errors)===null||c===void 0||c.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(e!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,a){const{decodeTree:c}=this;let d=c[this.treeIndex],g=(d&BinTrieFlags.VALUE_LENGTH)>>14;for(;a<e.length;a++,this.excess++){const b=e.charCodeAt(a);if(this.treeIndex=determineBranch(c,d,this.treeIndex+Math.max(1,g),b),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(g===0||isEntityInAttributeInvalidEnd$1(b))?0:this.emitNotTerminatedNamedEntity();if(d=c[this.treeIndex],g=(d&BinTrieFlags.VALUE_LENGTH)>>14,g!==0){if(b===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,g,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:a,decodeTree:c}=this,d=(c[a]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(a,d,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,a,c){const{decodeTree:d}=this;return this.emitCodePoint(a===1?d[e]&~BinTrieFlags.VALUE_LENGTH:d[e+1],c),a===3&&this.emitCodePoint(d[e+2],c),c}end(){var e;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function getDecoder(o){let e="";const a=new EntityDecoder(o,c=>e+=fromCodePoint(c));return function(d,g){let b=0,_=0;for(;(_=d.indexOf("&",_))>=0;){e+=d.slice(b,_),a.startEntity(g);const tt=a.write(d,_+1);if(tt<0){b=_+a.end();break}b=_+tt,_=tt===0?b+1:b}const _e=e+d.slice(b);return e="",_e}}function determineBranch(o,e,a,c){const d=(e&BinTrieFlags.BRANCH_LENGTH)>>7,g=e&BinTrieFlags.JUMP_TABLE;if(d===0)return g!==0&&c===g?a:-1;if(g){const _e=c-g;return _e<0||_e>=d?-1:o[a+_e]-1}let b=a,_=b+d-1;for(;b<=_;){const _e=b+_>>>1,tt=o[_e];if(tt<c)b=_e+1;else if(tt>c)_=_e-1;else return o[_e+d]}return-1}getDecoder(htmlDecodeTree);getDecoder(xmlDecodeTree);var NS;(function(o){o.HTML="http://www.w3.org/1999/xhtml",o.MATHML="http://www.w3.org/1998/Math/MathML",o.SVG="http://www.w3.org/2000/svg",o.XLINK="http://www.w3.org/1999/xlink",o.XML="http://www.w3.org/XML/1998/namespace",o.XMLNS="http://www.w3.org/2000/xmlns/"})(NS=NS||(NS={}));var ATTRS;(function(o){o.TYPE="type",o.ACTION="action",o.ENCODING="encoding",o.PROMPT="prompt",o.NAME="name",o.COLOR="color",o.FACE="face",o.SIZE="size"})(ATTRS=ATTRS||(ATTRS={}));var DOCUMENT_MODE;(function(o){o.NO_QUIRKS="no-quirks",o.QUIRKS="quirks",o.LIMITED_QUIRKS="limited-quirks"})(DOCUMENT_MODE=DOCUMENT_MODE||(DOCUMENT_MODE={}));var TAG_NAMES;(function(o){o.A="a",o.ADDRESS="address",o.ANNOTATION_XML="annotation-xml",o.APPLET="applet",o.AREA="area",o.ARTICLE="article",o.ASIDE="aside",o.B="b",o.BASE="base",o.BASEFONT="basefont",o.BGSOUND="bgsound",o.BIG="big",o.BLOCKQUOTE="blockquote",o.BODY="body",o.BR="br",o.BUTTON="button",o.CAPTION="caption",o.CENTER="center",o.CODE="code",o.COL="col",o.COLGROUP="colgroup",o.DD="dd",o.DESC="desc",o.DETAILS="details",o.DIALOG="dialog",o.DIR="dir",o.DIV="div",o.DL="dl",o.DT="dt",o.EM="em",o.EMBED="embed",o.FIELDSET="fieldset",o.FIGCAPTION="figcaption",o.FIGURE="figure",o.FONT="font",o.FOOTER="footer",o.FOREIGN_OBJECT="foreignObject",o.FORM="form",o.FRAME="frame",o.FRAMESET="frameset",o.H1="h1",o.H2="h2",o.H3="h3",o.H4="h4",o.H5="h5",o.H6="h6",o.HEAD="head",o.HEADER="header",o.HGROUP="hgroup",o.HR="hr",o.HTML="html",o.I="i",o.IMG="img",o.IMAGE="image",o.INPUT="input",o.IFRAME="iframe",o.KEYGEN="keygen",o.LABEL="label",o.LI="li",o.LINK="link",o.LISTING="listing",o.MAIN="main",o.MALIGNMARK="malignmark",o.MARQUEE="marquee",o.MATH="math",o.MENU="menu",o.META="meta",o.MGLYPH="mglyph",o.MI="mi",o.MO="mo",o.MN="mn",o.MS="ms",o.MTEXT="mtext",o.NAV="nav",o.NOBR="nobr",o.NOFRAMES="noframes",o.NOEMBED="noembed",o.NOSCRIPT="noscript",o.OBJECT="object",o.OL="ol",o.OPTGROUP="optgroup",o.OPTION="option",o.P="p",o.PARAM="param",o.PLAINTEXT="plaintext",o.PRE="pre",o.RB="rb",o.RP="rp",o.RT="rt",o.RTC="rtc",o.RUBY="ruby",o.S="s",o.SCRIPT="script",o.SECTION="section",o.SELECT="select",o.SOURCE="source",o.SMALL="small",o.SPAN="span",o.STRIKE="strike",o.STRONG="strong",o.STYLE="style",o.SUB="sub",o.SUMMARY="summary",o.SUP="sup",o.TABLE="table",o.TBODY="tbody",o.TEMPLATE="template",o.TEXTAREA="textarea",o.TFOOT="tfoot",o.TD="td",o.TH="th",o.THEAD="thead",o.TITLE="title",o.TR="tr",o.TRACK="track",o.TT="tt",o.U="u",o.UL="ul",o.SVG="svg",o.VAR="var",o.WBR="wbr",o.XMP="xmp"})(TAG_NAMES=TAG_NAMES||(TAG_NAMES={}));var TAG_ID;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.A=1]="A",o[o.ADDRESS=2]="ADDRESS",o[o.ANNOTATION_XML=3]="ANNOTATION_XML",o[o.APPLET=4]="APPLET",o[o.AREA=5]="AREA",o[o.ARTICLE=6]="ARTICLE",o[o.ASIDE=7]="ASIDE",o[o.B=8]="B",o[o.BASE=9]="BASE",o[o.BASEFONT=10]="BASEFONT",o[o.BGSOUND=11]="BGSOUND",o[o.BIG=12]="BIG",o[o.BLOCKQUOTE=13]="BLOCKQUOTE",o[o.BODY=14]="BODY",o[o.BR=15]="BR",o[o.BUTTON=16]="BUTTON",o[o.CAPTION=17]="CAPTION",o[o.CENTER=18]="CENTER",o[o.CODE=19]="CODE",o[o.COL=20]="COL",o[o.COLGROUP=21]="COLGROUP",o[o.DD=22]="DD",o[o.DESC=23]="DESC",o[o.DETAILS=24]="DETAILS",o[o.DIALOG=25]="DIALOG",o[o.DIR=26]="DIR",o[o.DIV=27]="DIV",o[o.DL=28]="DL",o[o.DT=29]="DT",o[o.EM=30]="EM",o[o.EMBED=31]="EMBED",o[o.FIELDSET=32]="FIELDSET",o[o.FIGCAPTION=33]="FIGCAPTION",o[o.FIGURE=34]="FIGURE",o[o.FONT=35]="FONT",o[o.FOOTER=36]="FOOTER",o[o.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",o[o.FORM=38]="FORM",o[o.FRAME=39]="FRAME",o[o.FRAMESET=40]="FRAMESET",o[o.H1=41]="H1",o[o.H2=42]="H2",o[o.H3=43]="H3",o[o.H4=44]="H4",o[o.H5=45]="H5",o[o.H6=46]="H6",o[o.HEAD=47]="HEAD",o[o.HEADER=48]="HEADER",o[o.HGROUP=49]="HGROUP",o[o.HR=50]="HR",o[o.HTML=51]="HTML",o[o.I=52]="I",o[o.IMG=53]="IMG",o[o.IMAGE=54]="IMAGE",o[o.INPUT=55]="INPUT",o[o.IFRAME=56]="IFRAME",o[o.KEYGEN=57]="KEYGEN",o[o.LABEL=58]="LABEL",o[o.LI=59]="LI",o[o.LINK=60]="LINK",o[o.LISTING=61]="LISTING",o[o.MAIN=62]="MAIN",o[o.MALIGNMARK=63]="MALIGNMARK",o[o.MARQUEE=64]="MARQUEE",o[o.MATH=65]="MATH",o[o.MENU=66]="MENU",o[o.META=67]="META",o[o.MGLYPH=68]="MGLYPH",o[o.MI=69]="MI",o[o.MO=70]="MO",o[o.MN=71]="MN",o[o.MS=72]="MS",o[o.MTEXT=73]="MTEXT",o[o.NAV=74]="NAV",o[o.NOBR=75]="NOBR",o[o.NOFRAMES=76]="NOFRAMES",o[o.NOEMBED=77]="NOEMBED",o[o.NOSCRIPT=78]="NOSCRIPT",o[o.OBJECT=79]="OBJECT",o[o.OL=80]="OL",o[o.OPTGROUP=81]="OPTGROUP",o[o.OPTION=82]="OPTION",o[o.P=83]="P",o[o.PARAM=84]="PARAM",o[o.PLAINTEXT=85]="PLAINTEXT",o[o.PRE=86]="PRE",o[o.RB=87]="RB",o[o.RP=88]="RP",o[o.RT=89]="RT",o[o.RTC=90]="RTC",o[o.RUBY=91]="RUBY",o[o.S=92]="S",o[o.SCRIPT=93]="SCRIPT",o[o.SECTION=94]="SECTION",o[o.SELECT=95]="SELECT",o[o.SOURCE=96]="SOURCE",o[o.SMALL=97]="SMALL",o[o.SPAN=98]="SPAN",o[o.STRIKE=99]="STRIKE",o[o.STRONG=100]="STRONG",o[o.STYLE=101]="STYLE",o[o.SUB=102]="SUB",o[o.SUMMARY=103]="SUMMARY",o[o.SUP=104]="SUP",o[o.TABLE=105]="TABLE",o[o.TBODY=106]="TBODY",o[o.TEMPLATE=107]="TEMPLATE",o[o.TEXTAREA=108]="TEXTAREA",o[o.TFOOT=109]="TFOOT",o[o.TD=110]="TD",o[o.TH=111]="TH",o[o.THEAD=112]="THEAD",o[o.TITLE=113]="TITLE",o[o.TR=114]="TR",o[o.TRACK=115]="TRACK",o[o.TT=116]="TT",o[o.U=117]="U",o[o.UL=118]="UL",o[o.SVG=119]="SVG",o[o.VAR=120]="VAR",o[o.WBR=121]="WBR",o[o.XMP=122]="XMP"})(TAG_ID=TAG_ID||(TAG_ID={}));const TAG_NAME_TO_ID=new Map([[TAG_NAMES.A,TAG_ID.A],[TAG_NAMES.ADDRESS,TAG_ID.ADDRESS],[TAG_NAMES.ANNOTATION_XML,TAG_ID.ANNOTATION_XML],[TAG_NAMES.APPLET,TAG_ID.APPLET],[TAG_NAMES.AREA,TAG_ID.AREA],[TAG_NAMES.ARTICLE,TAG_ID.ARTICLE],[TAG_NAMES.ASIDE,TAG_ID.ASIDE],[TAG_NAMES.B,TAG_ID.B],[TAG_NAMES.BASE,TAG_ID.BASE],[TAG_NAMES.BASEFONT,TAG_ID.BASEFONT],[TAG_NAMES.BGSOUND,TAG_ID.BGSOUND],[TAG_NAMES.BIG,TAG_ID.BIG],[TAG_NAMES.BLOCKQUOTE,TAG_ID.BLOCKQUOTE],[TAG_NAMES.BODY,TAG_ID.BODY],[TAG_NAMES.BR,TAG_ID.BR],[TAG_NAMES.BUTTON,TAG_ID.BUTTON],[TAG_NAMES.CAPTION,TAG_ID.CAPTION],[TAG_NAMES.CENTER,TAG_ID.CENTER],[TAG_NAMES.CODE,TAG_ID.CODE],[TAG_NAMES.COL,TAG_ID.COL],[TAG_NAMES.COLGROUP,TAG_ID.COLGROUP],[TAG_NAMES.DD,TAG_ID.DD],[TAG_NAMES.DESC,TAG_ID.DESC],[TAG_NAMES.DETAILS,TAG_ID.DETAILS],[TAG_NAMES.DIALOG,TAG_ID.DIALOG],[TAG_NAMES.DIR,TAG_ID.DIR],[TAG_NAMES.DIV,TAG_ID.DIV],[TAG_NAMES.DL,TAG_ID.DL],[TAG_NAMES.DT,TAG_ID.DT],[TAG_NAMES.EM,TAG_ID.EM],[TAG_NAMES.EMBED,TAG_ID.EMBED],[TAG_NAMES.FIELDSET,TAG_ID.FIELDSET],[TAG_NAMES.FIGCAPTION,TAG_ID.FIGCAPTION],[TAG_NAMES.FIGURE,TAG_ID.FIGURE],[TAG_NAMES.FONT,TAG_ID.FONT],[TAG_NAMES.FOOTER,TAG_ID.FOOTER],[TAG_NAMES.FOREIGN_OBJECT,TAG_ID.FOREIGN_OBJECT],[TAG_NAMES.FORM,TAG_ID.FORM],[TAG_NAMES.FRAME,TAG_ID.FRAME],[TAG_NAMES.FRAMESET,TAG_ID.FRAMESET],[TAG_NAMES.H1,TAG_ID.H1],[TAG_NAMES.H2,TAG_ID.H2],[TAG_NAMES.H3,TAG_ID.H3],[TAG_NAMES.H4,TAG_ID.H4],[TAG_NAMES.H5,TAG_ID.H5],[TAG_NAMES.H6,TAG_ID.H6],[TAG_NAMES.HEAD,TAG_ID.HEAD],[TAG_NAMES.HEADER,TAG_ID.HEADER],[TAG_NAMES.HGROUP,TAG_ID.HGROUP],[TAG_NAMES.HR,TAG_ID.HR],[TAG_NAMES.HTML,TAG_ID.HTML],[TAG_NAMES.I,TAG_ID.I],[TAG_NAMES.IMG,TAG_ID.IMG],[TAG_NAMES.IMAGE,TAG_ID.IMAGE],[TAG_NAMES.INPUT,TAG_ID.INPUT],[TAG_NAMES.IFRAME,TAG_ID.IFRAME],[TAG_NAMES.KEYGEN,TAG_ID.KEYGEN],[TAG_NAMES.LABEL,TAG_ID.LABEL],[TAG_NAMES.LI,TAG_ID.LI],[TAG_NAMES.LINK,TAG_ID.LINK],[TAG_NAMES.LISTING,TAG_ID.LISTING],[TAG_NAMES.MAIN,TAG_ID.MAIN],[TAG_NAMES.MALIGNMARK,TAG_ID.MALIGNMARK],[TAG_NAMES.MARQUEE,TAG_ID.MARQUEE],[TAG_NAMES.MATH,TAG_ID.MATH],[TAG_NAMES.MENU,TAG_ID.MENU],[TAG_NAMES.META,TAG_ID.META],[TAG_NAMES.MGLYPH,TAG_ID.MGLYPH],[TAG_NAMES.MI,TAG_ID.MI],[TAG_NAMES.MO,TAG_ID.MO],[TAG_NAMES.MN,TAG_ID.MN],[TAG_NAMES.MS,TAG_ID.MS],[TAG_NAMES.MTEXT,TAG_ID.MTEXT],[TAG_NAMES.NAV,TAG_ID.NAV],[TAG_NAMES.NOBR,TAG_ID.NOBR],[TAG_NAMES.NOFRAMES,TAG_ID.NOFRAMES],[TAG_NAMES.NOEMBED,TAG_ID.NOEMBED],[TAG_NAMES.NOSCRIPT,TAG_ID.NOSCRIPT],[TAG_NAMES.OBJECT,TAG_ID.OBJECT],[TAG_NAMES.OL,TAG_ID.OL],[TAG_NAMES.OPTGROUP,TAG_ID.OPTGROUP],[TAG_NAMES.OPTION,TAG_ID.OPTION],[TAG_NAMES.P,TAG_ID.P],[TAG_NAMES.PARAM,TAG_ID.PARAM],[TAG_NAMES.PLAINTEXT,TAG_ID.PLAINTEXT],[TAG_NAMES.PRE,TAG_ID.PRE],[TAG_NAMES.RB,TAG_ID.RB],[TAG_NAMES.RP,TAG_ID.RP],[TAG_NAMES.RT,TAG_ID.RT],[TAG_NAMES.RTC,TAG_ID.RTC],[TAG_NAMES.RUBY,TAG_ID.RUBY],[TAG_NAMES.S,TAG_ID.S],[TAG_NAMES.SCRIPT,TAG_ID.SCRIPT],[TAG_NAMES.SECTION,TAG_ID.SECTION],[TAG_NAMES.SELECT,TAG_ID.SELECT],[TAG_NAMES.SOURCE,TAG_ID.SOURCE],[TAG_NAMES.SMALL,TAG_ID.SMALL],[TAG_NAMES.SPAN,TAG_ID.SPAN],[TAG_NAMES.STRIKE,TAG_ID.STRIKE],[TAG_NAMES.STRONG,TAG_ID.STRONG],[TAG_NAMES.STYLE,TAG_ID.STYLE],[TAG_NAMES.SUB,TAG_ID.SUB],[TAG_NAMES.SUMMARY,TAG_ID.SUMMARY],[TAG_NAMES.SUP,TAG_ID.SUP],[TAG_NAMES.TABLE,TAG_ID.TABLE],[TAG_NAMES.TBODY,TAG_ID.TBODY],[TAG_NAMES.TEMPLATE,TAG_ID.TEMPLATE],[TAG_NAMES.TEXTAREA,TAG_ID.TEXTAREA],[TAG_NAMES.TFOOT,TAG_ID.TFOOT],[TAG_NAMES.TD,TAG_ID.TD],[TAG_NAMES.TH,TAG_ID.TH],[TAG_NAMES.THEAD,TAG_ID.THEAD],[TAG_NAMES.TITLE,TAG_ID.TITLE],[TAG_NAMES.TR,TAG_ID.TR],[TAG_NAMES.TRACK,TAG_ID.TRACK],[TAG_NAMES.TT,TAG_ID.TT],[TAG_NAMES.U,TAG_ID.U],[TAG_NAMES.UL,TAG_ID.UL],[TAG_NAMES.SVG,TAG_ID.SVG],[TAG_NAMES.VAR,TAG_ID.VAR],[TAG_NAMES.WBR,TAG_ID.WBR],[TAG_NAMES.XMP,TAG_ID.XMP]]);function getTagID(o){var e;return(e=TAG_NAME_TO_ID.get(o))!==null&&e!==void 0?e:TAG_ID.UNKNOWN}const $=TAG_ID,SPECIAL_ELEMENTS={[NS.HTML]:new Set([$.ADDRESS,$.APPLET,$.AREA,$.ARTICLE,$.ASIDE,$.BASE,$.BASEFONT,$.BGSOUND,$.BLOCKQUOTE,$.BODY,$.BR,$.BUTTON,$.CAPTION,$.CENTER,$.COL,$.COLGROUP,$.DD,$.DETAILS,$.DIR,$.DIV,$.DL,$.DT,$.EMBED,$.FIELDSET,$.FIGCAPTION,$.FIGURE,$.FOOTER,$.FORM,$.FRAME,$.FRAMESET,$.H1,$.H2,$.H3,$.H4,$.H5,$.H6,$.HEAD,$.HEADER,$.HGROUP,$.HR,$.HTML,$.IFRAME,$.IMG,$.INPUT,$.LI,$.LINK,$.LISTING,$.MAIN,$.MARQUEE,$.MENU,$.META,$.NAV,$.NOEMBED,$.NOFRAMES,$.NOSCRIPT,$.OBJECT,$.OL,$.P,$.PARAM,$.PLAINTEXT,$.PRE,$.SCRIPT,$.SECTION,$.SELECT,$.SOURCE,$.STYLE,$.SUMMARY,$.TABLE,$.TBODY,$.TD,$.TEMPLATE,$.TEXTAREA,$.TFOOT,$.TH,$.THEAD,$.TITLE,$.TR,$.TRACK,$.UL,$.WBR,$.XMP]),[NS.MATHML]:new Set([$.MI,$.MO,$.MN,$.MS,$.MTEXT,$.ANNOTATION_XML]),[NS.SVG]:new Set([$.TITLE,$.FOREIGN_OBJECT,$.DESC]),[NS.XLINK]:new Set,[NS.XML]:new Set,[NS.XMLNS]:new Set};function isNumberedHeader(o){return o===$.H1||o===$.H2||o===$.H3||o===$.H4||o===$.H5||o===$.H6}TAG_NAMES.STYLE,TAG_NAMES.SCRIPT,TAG_NAMES.XMP,TAG_NAMES.IFRAME,TAG_NAMES.NOEMBED,TAG_NAMES.NOFRAMES,TAG_NAMES.PLAINTEXT;const C1_CONTROLS_REFERENCE_REPLACEMENTS=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var State;(function(o){o[o.DATA=0]="DATA",o[o.RCDATA=1]="RCDATA",o[o.RAWTEXT=2]="RAWTEXT",o[o.SCRIPT_DATA=3]="SCRIPT_DATA",o[o.PLAINTEXT=4]="PLAINTEXT",o[o.TAG_OPEN=5]="TAG_OPEN",o[o.END_TAG_OPEN=6]="END_TAG_OPEN",o[o.TAG_NAME=7]="TAG_NAME",o[o.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",o[o.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",o[o.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",o[o.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",o[o.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",o[o.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",o[o.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",o[o.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",o[o.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",o[o.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",o[o.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",o[o.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",o[o.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",o[o.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",o[o.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",o[o.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",o[o.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",o[o.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",o[o.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",o[o.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",o[o.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",o[o.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",o[o.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",o[o.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",o[o.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",o[o.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",o[o.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",o[o.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",o[o.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",o[o.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",o[o.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",o[o.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",o[o.BOGUS_COMMENT=40]="BOGUS_COMMENT",o[o.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",o[o.COMMENT_START=42]="COMMENT_START",o[o.COMMENT_START_DASH=43]="COMMENT_START_DASH",o[o.COMMENT=44]="COMMENT",o[o.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",o[o.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",o[o.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",o[o.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",o[o.COMMENT_END_DASH=49]="COMMENT_END_DASH",o[o.COMMENT_END=50]="COMMENT_END",o[o.COMMENT_END_BANG=51]="COMMENT_END_BANG",o[o.DOCTYPE=52]="DOCTYPE",o[o.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",o[o.DOCTYPE_NAME=54]="DOCTYPE_NAME",o[o.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",o[o.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",o[o.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",o[o.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",o[o.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",o[o.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",o[o.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",o[o.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",o[o.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",o[o.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",o[o.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",o[o.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",o[o.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",o[o.CDATA_SECTION=68]="CDATA_SECTION",o[o.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",o[o.CDATA_SECTION_END=70]="CDATA_SECTION_END",o[o.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",o[o.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",o[o.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",o[o.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",o[o.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",o[o.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",o[o.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",o[o.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(State||(State={}));const TokenizerMode={DATA:State.DATA,RCDATA:State.RCDATA,RAWTEXT:State.RAWTEXT,SCRIPT_DATA:State.SCRIPT_DATA,PLAINTEXT:State.PLAINTEXT,CDATA_SECTION:State.CDATA_SECTION};function isAsciiDigit(o){return o>=CODE_POINTS.DIGIT_0&&o<=CODE_POINTS.DIGIT_9}function isAsciiUpper(o){return o>=CODE_POINTS.LATIN_CAPITAL_A&&o<=CODE_POINTS.LATIN_CAPITAL_Z}function isAsciiLower(o){return o>=CODE_POINTS.LATIN_SMALL_A&&o<=CODE_POINTS.LATIN_SMALL_Z}function isAsciiLetter(o){return isAsciiLower(o)||isAsciiUpper(o)}function isAsciiAlphaNumeric(o){return isAsciiLetter(o)||isAsciiDigit(o)}function isAsciiUpperHexDigit(o){return o>=CODE_POINTS.LATIN_CAPITAL_A&&o<=CODE_POINTS.LATIN_CAPITAL_F}function isAsciiLowerHexDigit(o){return o>=CODE_POINTS.LATIN_SMALL_A&&o<=CODE_POINTS.LATIN_SMALL_F}function isAsciiHexDigit(o){return isAsciiDigit(o)||isAsciiUpperHexDigit(o)||isAsciiLowerHexDigit(o)}function toAsciiLower(o){return o+32}function isWhitespace(o){return o===CODE_POINTS.SPACE||o===CODE_POINTS.LINE_FEED||o===CODE_POINTS.TABULATION||o===CODE_POINTS.FORM_FEED}function isEntityInAttributeInvalidEnd(o){return o===CODE_POINTS.EQUALS_SIGN||isAsciiAlphaNumeric(o)}function isScriptDataDoubleEscapeSequenceEnd(o){return isWhitespace(o)||o===CODE_POINTS.SOLIDUS||o===CODE_POINTS.GREATER_THAN_SIGN}class Tokenizer{constructor(e,a){this.options=e,this.handler=a,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=State.DATA,this.returnState=State.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Preprocessor(a),this.currentLocation=this.getCurrentLocation(-1)}_err(e){var a,c;(c=(a=this.handler).onParseError)===null||c===void 0||c.call(a,this.preprocessor.getError(e))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,a,c){this.active=!0,this.preprocessor.write(e,a),this._runParsingLoop(),this.paused||c==null||c()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}_reconsumeInState(e,a){this.state=e,this._callState(a)}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let a=0;a<e;a++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,a){return this.preprocessor.startsWith(e,a)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:TokenType.START_TAG,tagName:"",tagID:TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:TokenType.END_TAG,tagName:"",tagID:TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:TokenType.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:TokenType.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,a){this.currentCharacterToken={type:e,chars:a,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,a;const c=this.currentToken;if(getTokenAttr(c,this.currentAttr.name)===null){if(c.attrs.push(this.currentAttr),c.location&&this.currentLocation){const d=(e=(a=c.location).attrs)!==null&&e!==void 0?e:a.attrs=Object.create(null);d[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ERR.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=getTagID(e.tagName),e.type===TokenType.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(ERR.endTagWithAttributes),e.selfClosing&&this._err(ERR.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:TokenType.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,a){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==e)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=a;return}this._createCharacterToken(e,a)}_emitCodePoint(e){const a=isWhitespace(e)?TokenType.WHITESPACE_CHARACTER:e===CODE_POINTS.NULL?TokenType.NULL_CHARACTER:TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(a,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(TokenType.CHARACTER,e)}_matchNamedCharacterReference(e){let a=null,c=0,d=!1;for(let g=0,b=htmlDecodeTree[0];g>=0&&(g=determineBranch(htmlDecodeTree,b,g+1,e),!(g<0));e=this._consume()){c+=1,b=htmlDecodeTree[g];const _=b&BinTrieFlags.VALUE_LENGTH;if(_){const _e=(_>>14)-1;if(e!==CODE_POINTS.SEMICOLON&&this._isCharacterReferenceInAttribute()&&isEntityInAttributeInvalidEnd(this.preprocessor.peek(1))?(a=[CODE_POINTS.AMPERSAND],g+=_e):(a=_e===0?[htmlDecodeTree[g]&~BinTrieFlags.VALUE_LENGTH]:_e===1?[htmlDecodeTree[++g]]:[htmlDecodeTree[++g],htmlDecodeTree[++g]],c=0,d=e!==CODE_POINTS.SEMICOLON),_e===0){this._consume();break}}}return this._unconsume(c),d&&!this.preprocessor.endOfChunkHit&&this._err(ERR.missingSemicolonAfterCharacterReference),this._unconsume(1),a}_isCharacterReferenceInAttribute(){return this.returnState===State.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===State.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===State.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case State.DATA:{this._stateData(e);break}case State.RCDATA:{this._stateRcdata(e);break}case State.RAWTEXT:{this._stateRawtext(e);break}case State.SCRIPT_DATA:{this._stateScriptData(e);break}case State.PLAINTEXT:{this._statePlaintext(e);break}case State.TAG_OPEN:{this._stateTagOpen(e);break}case State.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case State.TAG_NAME:{this._stateTagName(e);break}case State.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case State.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case State.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case State.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case State.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case State.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case State.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case State.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case State.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case State.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case State.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case State.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case State.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case State.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case State.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case State.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case State.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case State.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case State.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case State.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case State.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case State.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case State.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case State.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case State.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case State.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case State.BOGUS_COMMENT:{this._stateBogusComment(e);break}case State.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case State.COMMENT_START:{this._stateCommentStart(e);break}case State.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case State.COMMENT:{this._stateComment(e);break}case State.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case State.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case State.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case State.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case State.COMMENT_END:{this._stateCommentEnd(e);break}case State.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case State.DOCTYPE:{this._stateDoctype(e);break}case State.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case State.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case State.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case State.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case State.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case State.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case State.CDATA_SECTION:{this._stateCdataSection(e);break}case State.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case State.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case State.CHARACTER_REFERENCE:{this._stateCharacterReference(e);break}case State.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(e);break}case State.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}case State.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(e);break}case State.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(e);break}case State.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(e);break}case State.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(e);break}case State.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.TAG_OPEN;break}case CODE_POINTS.AMPERSAND:{this.returnState=State.DATA,this.state=State.CHARACTER_REFERENCE;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitCodePoint(e);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case CODE_POINTS.AMPERSAND:{this.returnState=State.RCDATA,this.state=State.CHARACTER_REFERENCE;break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.RCDATA_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.RAWTEXT_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(isAsciiLetter(e))this._createStartTagToken(),this.state=State.TAG_NAME,this._stateTagName(e);else switch(e){case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.MARKUP_DECLARATION_OPEN;break}case CODE_POINTS.SOLIDUS:{this.state=State.END_TAG_OPEN;break}case CODE_POINTS.QUESTION_MARK:{this._err(ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=State.BOGUS_COMMENT,this._stateBogusComment(e);break}case CODE_POINTS.EOF:{this._err(ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=State.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(isAsciiLetter(e))this._createEndTagToken(),this.state=State.TAG_NAME,this._stateTagName(e);else switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingEndTagName),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=State.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const a=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.SOLIDUS:{this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),a.tagName+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:a.tagName+=String.fromCodePoint(isAsciiUpper(e)?toAsciiLower(e):e)}}_stateRcdataLessThanSign(e){e===CODE_POINTS.SOLIDUS?this.state=State.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=State.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){isAsciiLetter(e)?(this.state=State.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=State.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const a=this.currentToken;switch(a.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=State.BEFORE_ATTRIBUTE_NAME,!1;case CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=State.SELF_CLOSING_START_TAG,!1;case CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=State.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=State.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===CODE_POINTS.SOLIDUS?this.state=State.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=State.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){isAsciiLetter(e)?(this.state=State.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=State.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=State.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case CODE_POINTS.SOLIDUS:{this.state=State.SCRIPT_DATA_END_TAG_OPEN;break}case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=State.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){isAsciiLetter(e)?(this.state=State.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=State.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=State.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===CODE_POINTS.HYPHEN_MINUS?(this.state=State.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=State.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===CODE_POINTS.HYPHEN_MINUS?(this.state=State.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=State.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.SCRIPT_DATA,this._emitChars(">");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===CODE_POINTS.SOLIDUS?this.state=State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:isAsciiLetter(e)?(this._emitChars("<"),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){isAsciiLetter(e)?(this.state=State.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(SEQUENCES.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let a=0;a<SEQUENCES.SCRIPT.length;a++)this._emitCodePoint(this._consume());this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.SCRIPT_DATA,this._emitChars(">");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===CODE_POINTS.SOLIDUS?(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(SEQUENCES.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let a=0;a<SEQUENCES.SCRIPT.length;a++)this._emitCodePoint(this._consume());this.state=State.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.SOLIDUS:case CODE_POINTS.GREATER_THAN_SIGN:case CODE_POINTS.EOF:{this.state=State.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case CODE_POINTS.EQUALS_SIGN:{this._err(ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=State.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=State.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:case CODE_POINTS.SOLIDUS:case CODE_POINTS.GREATER_THAN_SIGN:case CODE_POINTS.EOF:{this._leaveAttrName(),this.state=State.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=State.BEFORE_ATTRIBUTE_VALUE;break}case CODE_POINTS.QUOTATION_MARK:case CODE_POINTS.APOSTROPHE:case CODE_POINTS.LESS_THAN_SIGN:{this._err(ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.name+=REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(isAsciiUpper(e)?toAsciiLower(e):e)}}_stateAfterAttributeName(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.SOLIDUS:{this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.EQUALS_SIGN:{this.state=State.BEFORE_ATTRIBUTE_VALUE;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=State.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{this.state=State.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this.state=State.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingAttributeValue),this.state=State.DATA,this.emitCurrentTagToken();break}default:this.state=State.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case CODE_POINTS.AMPERSAND:{this.returnState=State.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=State.CHARACTER_REFERENCE;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case CODE_POINTS.AMPERSAND:{this.returnState=State.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=State.CHARACTER_REFERENCE;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.AMPERSAND:{this.returnState=State.ATTRIBUTE_VALUE_UNQUOTED,this.state=State.CHARACTER_REFERENCE;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.QUOTATION_MARK:case CODE_POINTS.APOSTROPHE:case CODE_POINTS.LESS_THAN_SIGN:case CODE_POINTS.EQUALS_SIGN:case CODE_POINTS.GRAVE_ACCENT:{this._err(ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._err(ERR.missingWhitespaceBetweenAttributes),this.state=State.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{const a=this.currentToken;a.selfClosing=!0,this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._err(ERR.unexpectedSolidusInTag),this.state=State.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const a=this.currentToken;switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentComment(a);break}case CODE_POINTS.EOF:{this.emitCurrentComment(a),this._emitEOFToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),a.data+=REPLACEMENT_CHARACTER;break}default:a.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(SEQUENCES.DASH_DASH.length+1),this.state=State.COMMENT_START):this._consumeSequenceIfMatch(SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(SEQUENCES.DOCTYPE.length+1),this.state=State.DOCTYPE):this._consumeSequenceIfMatch(SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=State.CDATA_SECTION:(this._err(ERR.cdataInHtmlContent),this._createCommentToken(SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=State.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=State.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_START_DASH;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptClosingOfEmptyComment),this.state=State.DATA;const a=this.currentToken;this.emitCurrentComment(a);break}default:this.state=State.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const a=this.currentToken;switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptClosingOfEmptyComment),this.state=State.DATA,this.emitCurrentComment(a);break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(a),this._emitEOFToken();break}default:a.data+="-",this.state=State.COMMENT,this._stateComment(e)}}_stateComment(e){const a=this.currentToken;switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END_DASH;break}case CODE_POINTS.LESS_THAN_SIGN:{a.data+="<",this.state=State.COMMENT_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),a.data+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(a),this._emitEOFToken();break}default:a.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const a=this.currentToken;switch(e){case CODE_POINTS.EXCLAMATION_MARK:{a.data+="!",this.state=State.COMMENT_LESS_THAN_SIGN_BANG;break}case CODE_POINTS.LESS_THAN_SIGN:{a.data+="<";break}default:this.state=State.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===CODE_POINTS.HYPHEN_MINUS?this.state=State.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=State.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===CODE_POINTS.HYPHEN_MINUS?this.state=State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=State.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==CODE_POINTS.GREATER_THAN_SIGN&&e!==CODE_POINTS.EOF&&this._err(ERR.nestedComment),this.state=State.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const a=this.currentToken;switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END;break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(a),this._emitEOFToken();break}default:a.data+="-",this.state=State.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const a=this.currentToken;switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentComment(a);break}case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.COMMENT_END_BANG;break}case CODE_POINTS.HYPHEN_MINUS:{a.data+="-";break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(a),this._emitEOFToken();break}default:a.data+="--",this.state=State.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const a=this.currentToken;switch(e){case CODE_POINTS.HYPHEN_MINUS:{a.data+="--!",this.state=State.COMMENT_END_DASH;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.incorrectlyClosedComment),this.state=State.DATA,this.emitCurrentComment(a);break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(a),this._emitEOFToken();break}default:a.data+="--!",this.state=State.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),this._createDoctypeToken(null);const a=this.currentToken;a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(ERR.missingWhitespaceBeforeDoctypeName),this.state=State.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(isAsciiUpper(e))this._createDoctypeToken(String.fromCharCode(toAsciiLower(e))),this.state=State.DOCTYPE_NAME;else switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._createDoctypeToken(REPLACEMENT_CHARACTER),this.state=State.DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeName),this._createDoctypeToken(null);const a=this.currentToken;a.forceQuirks=!0,this.emitCurrentDoctype(a),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),this._createDoctypeToken(null);const a=this.currentToken;a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=State.DOCTYPE_NAME}}_stateDoctypeName(e){const a=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.AFTER_DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(a);break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),a.name+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:a.name+=String.fromCodePoint(isAsciiUpper(e)?toAsciiLower(e):e)}}_stateAfterDoctypeName(e){const a=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(a);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(SEQUENCES.PUBLIC,!1)?this.state=State.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(SEQUENCES.SYSTEM,!1)?this.state=State.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ERR.invalidCharacterSequenceAfterDoctypeName),a.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const a=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword),a.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword),a.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypePublicIdentifier),a.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(a);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier),a.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const a=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{a.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{a.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypePublicIdentifier),a.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(a);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier),a.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const a=this.currentToken;switch(e){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),a.publicId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypePublicIdentifier),a.forceQuirks=!0,this.emitCurrentDoctype(a),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:a.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const a=this.currentToken;switch(e){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),a.publicId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypePublicIdentifier),a.forceQuirks=!0,this.emitCurrentDoctype(a),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:a.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const a=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(a);break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),a.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),a.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),a.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const a=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(a),this.state=State.DATA;break}case CODE_POINTS.QUOTATION_MARK:{a.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{a.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),a.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const a=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword),a.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword),a.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeSystemIdentifier),a.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(a);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),a.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const a=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{a.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{a.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeSystemIdentifier),a.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(a);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),a.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const a=this.currentToken;switch(e){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),a.systemId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypeSystemIdentifier),a.forceQuirks=!0,this.emitCurrentDoctype(a),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:a.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const a=this.currentToken;switch(e){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),a.systemId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypeSystemIdentifier),a.forceQuirks=!0,this.emitCurrentDoctype(a),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:a.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const a=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(a),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const a=this.currentToken;switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(a),this.state=State.DATA;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter);break}case CODE_POINTS.EOF:{this.emitCurrentDoctype(a),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=State.CDATA_SECTION_BRACKET;break}case CODE_POINTS.EOF:{this._err(ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=State.CDATA_SECTION_END:(this._emitChars("]"),this.state=State.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA;break}case CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=State.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(e){e===CODE_POINTS.NUMBER_SIGN?this.state=State.NUMERIC_CHARACTER_REFERENCE:isAsciiAlphaNumeric(e)?(this.state=State.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(CODE_POINTS.AMPERSAND),this._reconsumeInState(this.returnState,e))}_stateNamedCharacterReference(e){const a=this._matchNamedCharacterReference(e);if(!this._ensureHibernation())if(a){for(let c=0;c<a.length;c++)this._flushCodePointConsumedAsCharacterReference(a[c]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(CODE_POINTS.AMPERSAND),this.state=State.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(e){isAsciiAlphaNumeric(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===CODE_POINTS.SEMICOLON&&this._err(ERR.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}_stateNumericCharacterReference(e){this.charRefCode=0,e===CODE_POINTS.LATIN_SMALL_X||e===CODE_POINTS.LATIN_CAPITAL_X?this.state=State.HEXADEMICAL_CHARACTER_REFERENCE_START:isAsciiDigit(e)?(this.state=State.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(CODE_POINTS.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}_stateHexademicalCharacterReferenceStart(e){isAsciiHexDigit(e)?(this.state=State.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e)):(this._err(ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(CODE_POINTS.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(e){isAsciiUpperHexDigit(e)?this.charRefCode=this.charRefCode*16+e-55:isAsciiLowerHexDigit(e)?this.charRefCode=this.charRefCode*16+e-87:isAsciiDigit(e)?this.charRefCode=this.charRefCode*16+e-48:e===CODE_POINTS.SEMICOLON?this.state=State.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ERR.missingSemicolonAfterCharacterReference),this.state=State.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateDecimalCharacterReference(e){isAsciiDigit(e)?this.charRefCode=this.charRefCode*10+e-48:e===CODE_POINTS.SEMICOLON?this.state=State.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ERR.missingSemicolonAfterCharacterReference),this.state=State.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateNumericCharacterReferenceEnd(e){if(this.charRefCode===CODE_POINTS.NULL)this._err(ERR.nullCharacterReference),this.charRefCode=CODE_POINTS.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(ERR.characterReferenceOutsideUnicodeRange),this.charRefCode=CODE_POINTS.REPLACEMENT_CHARACTER;else if(isSurrogate(this.charRefCode))this._err(ERR.surrogateCharacterReference),this.charRefCode=CODE_POINTS.REPLACEMENT_CHARACTER;else if(isUndefinedCodePoint(this.charRefCode))this._err(ERR.noncharacterCharacterReference);else if(isControlCodePoint(this.charRefCode)||this.charRefCode===CODE_POINTS.CARRIAGE_RETURN){this._err(ERR.controlCharacterReference);const a=C1_CONTROLS_REFERENCE_REPLACEMENTS.get(this.charRefCode);a!==void 0&&(this.charRefCode=a)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}}const IMPLICIT_END_TAG_REQUIRED=new Set([TAG_ID.DD,TAG_ID.DT,TAG_ID.LI,TAG_ID.OPTGROUP,TAG_ID.OPTION,TAG_ID.P,TAG_ID.RB,TAG_ID.RP,TAG_ID.RT,TAG_ID.RTC]),IMPLICIT_END_TAG_REQUIRED_THOROUGHLY=new Set([...IMPLICIT_END_TAG_REQUIRED,TAG_ID.CAPTION,TAG_ID.COLGROUP,TAG_ID.TBODY,TAG_ID.TD,TAG_ID.TFOOT,TAG_ID.TH,TAG_ID.THEAD,TAG_ID.TR]),SCOPING_ELEMENT_NS=new Map([[TAG_ID.APPLET,NS.HTML],[TAG_ID.CAPTION,NS.HTML],[TAG_ID.HTML,NS.HTML],[TAG_ID.MARQUEE,NS.HTML],[TAG_ID.OBJECT,NS.HTML],[TAG_ID.TABLE,NS.HTML],[TAG_ID.TD,NS.HTML],[TAG_ID.TEMPLATE,NS.HTML],[TAG_ID.TH,NS.HTML],[TAG_ID.ANNOTATION_XML,NS.MATHML],[TAG_ID.MI,NS.MATHML],[TAG_ID.MN,NS.MATHML],[TAG_ID.MO,NS.MATHML],[TAG_ID.MS,NS.MATHML],[TAG_ID.MTEXT,NS.MATHML],[TAG_ID.DESC,NS.SVG],[TAG_ID.FOREIGN_OBJECT,NS.SVG],[TAG_ID.TITLE,NS.SVG]]),NAMED_HEADERS=[TAG_ID.H1,TAG_ID.H2,TAG_ID.H3,TAG_ID.H4,TAG_ID.H5,TAG_ID.H6],TABLE_ROW_CONTEXT=[TAG_ID.TR,TAG_ID.TEMPLATE,TAG_ID.HTML],TABLE_BODY_CONTEXT=[TAG_ID.TBODY,TAG_ID.TFOOT,TAG_ID.THEAD,TAG_ID.TEMPLATE,TAG_ID.HTML],TABLE_CONTEXT=[TAG_ID.TABLE,TAG_ID.TEMPLATE,TAG_ID.HTML],TABLE_CELLS=[TAG_ID.TD,TAG_ID.TH];class OpenElementStack{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,a,c){this.treeAdapter=a,this.handler=c,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=TAG_ID.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===NS.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,a){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=a,this.currentTagId=a,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,a,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,a){const c=this._indexOf(e);this.items[c]=a,c===this.stackTop&&(this.current=a)}insertAfter(e,a,c){const d=this._indexOf(e)+1;this.items.splice(d,0,a),this.tagIDs.splice(d,0,c),this.stackTop++,d===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,d===this.stackTop)}popUntilTagNamePopped(e){let a=this.stackTop+1;do a=this.tagIDs.lastIndexOf(e,a-1);while(a>0&&this.treeAdapter.getNamespaceURI(this.items[a])!==NS.HTML);this.shortenToLength(a<0?0:a)}shortenToLength(e){for(;this.stackTop>=e;){const a=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(a,this.stackTop<e)}}popUntilElementPopped(e){const a=this._indexOf(e);this.shortenToLength(a<0?0:a)}popUntilPopped(e,a){const c=this._indexOfTagNames(e,a);this.shortenToLength(c<0?0:c)}popUntilNumberedHeaderPopped(){this.popUntilPopped(NAMED_HEADERS,NS.HTML)}popUntilTableCellPopped(){this.popUntilPopped(TABLE_CELLS,NS.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,a){for(let c=this.stackTop;c>=0;c--)if(e.includes(this.tagIDs[c])&&this.treeAdapter.getNamespaceURI(this.items[c])===a)return c;return-1}clearBackTo(e,a){const c=this._indexOfTagNames(e,a);this.shortenToLength(c+1)}clearBackToTableContext(){this.clearBackTo(TABLE_CONTEXT,NS.HTML)}clearBackToTableBodyContext(){this.clearBackTo(TABLE_BODY_CONTEXT,NS.HTML)}clearBackToTableRowContext(){this.clearBackTo(TABLE_ROW_CONTEXT,NS.HTML)}remove(e){const a=this._indexOf(e);a>=0&&(a===this.stackTop?this.pop():(this.items.splice(a,1),this.tagIDs.splice(a,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===TAG_ID.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const a=this._indexOf(e)-1;return a>=0?this.items[a]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===TAG_ID.HTML}hasInScope(e){for(let a=this.stackTop;a>=0;a--){const c=this.tagIDs[a],d=this.treeAdapter.getNamespaceURI(this.items[a]);if(c===e&&d===NS.HTML)return!0;if(SCOPING_ELEMENT_NS.get(c)===d)return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const a=this.tagIDs[e],c=this.treeAdapter.getNamespaceURI(this.items[e]);if(isNumberedHeader(a)&&c===NS.HTML)return!0;if(SCOPING_ELEMENT_NS.get(a)===c)return!1}return!0}hasInListItemScope(e){for(let a=this.stackTop;a>=0;a--){const c=this.tagIDs[a],d=this.treeAdapter.getNamespaceURI(this.items[a]);if(c===e&&d===NS.HTML)return!0;if((c===TAG_ID.UL||c===TAG_ID.OL)&&d===NS.HTML||SCOPING_ELEMENT_NS.get(c)===d)return!1}return!0}hasInButtonScope(e){for(let a=this.stackTop;a>=0;a--){const c=this.tagIDs[a],d=this.treeAdapter.getNamespaceURI(this.items[a]);if(c===e&&d===NS.HTML)return!0;if(c===TAG_ID.BUTTON&&d===NS.HTML||SCOPING_ELEMENT_NS.get(c)===d)return!1}return!0}hasInTableScope(e){for(let a=this.stackTop;a>=0;a--){const c=this.tagIDs[a];if(this.treeAdapter.getNamespaceURI(this.items[a])===NS.HTML){if(c===e)return!0;if(c===TAG_ID.TABLE||c===TAG_ID.TEMPLATE||c===TAG_ID.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const a=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===NS.HTML){if(a===TAG_ID.TBODY||a===TAG_ID.THEAD||a===TAG_ID.TFOOT)return!0;if(a===TAG_ID.TABLE||a===TAG_ID.HTML)return!1}}return!0}hasInSelectScope(e){for(let a=this.stackTop;a>=0;a--){const c=this.tagIDs[a];if(this.treeAdapter.getNamespaceURI(this.items[a])===NS.HTML){if(c===e)return!0;if(c!==TAG_ID.OPTION&&c!==TAG_ID.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;IMPLICIT_END_TAG_REQUIRED.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId);)this.pop()}}const NOAH_ARK_CAPACITY=3;var EntryType;(function(o){o[o.Marker=0]="Marker",o[o.Element=1]="Element"})(EntryType=EntryType||(EntryType={}));const MARKER={type:EntryType.Marker};class FormattingElementList{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,a){const c=[],d=a.length,g=this.treeAdapter.getTagName(e),b=this.treeAdapter.getNamespaceURI(e);for(let _=0;_<this.entries.length;_++){const _e=this.entries[_];if(_e.type===EntryType.Marker)break;const{element:tt}=_e;if(this.treeAdapter.getTagName(tt)===g&&this.treeAdapter.getNamespaceURI(tt)===b){const nt=this.treeAdapter.getAttrList(tt);nt.length===d&&c.push({idx:_,attrs:nt})}}return c}_ensureNoahArkCondition(e){if(this.entries.length<NOAH_ARK_CAPACITY)return;const a=this.treeAdapter.getAttrList(e),c=this._getNoahArkConditionCandidates(e,a);if(c.length<NOAH_ARK_CAPACITY)return;const d=new Map(a.map(b=>[b.name,b.value]));let g=0;for(let b=0;b<c.length;b++){const _=c[b];_.attrs.every(_e=>d.get(_e.name)===_e.value)&&(g+=1,g>=NOAH_ARK_CAPACITY&&this.entries.splice(_.idx,1))}}insertMarker(){this.entries.unshift(MARKER)}pushElement(e,a){this._ensureNoahArkCondition(e),this.entries.unshift({type:EntryType.Element,element:e,token:a})}insertElementAfterBookmark(e,a){const c=this.entries.indexOf(this.bookmark);this.entries.splice(c,0,{type:EntryType.Element,element:e,token:a})}removeEntry(e){const a=this.entries.indexOf(e);a>=0&&this.entries.splice(a,1)}clearToLastMarker(){const e=this.entries.indexOf(MARKER);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const a=this.entries.find(c=>c.type===EntryType.Marker||this.treeAdapter.getTagName(c.element)===e);return a&&a.type===EntryType.Element?a:null}getElementEntry(e){return this.entries.find(a=>a.type===EntryType.Element&&a.element===e)}}function createTextNode(o){return{nodeName:"#text",value:o,parentNode:null}}const defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(o,e,a){return{nodeName:o,tagName:o,attrs:a,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(o){return{nodeName:"#comment",data:o,parentNode:null}},appendChild(o,e){o.childNodes.push(e),e.parentNode=o},insertBefore(o,e,a){const c=o.childNodes.indexOf(a);o.childNodes.splice(c,0,e),e.parentNode=o},setTemplateContent(o,e){o.content=e},getTemplateContent(o){return o.content},setDocumentType(o,e,a,c){const d=o.childNodes.find(g=>g.nodeName==="#documentType");if(d)d.name=e,d.publicId=a,d.systemId=c;else{const g={nodeName:"#documentType",name:e,publicId:a,systemId:c,parentNode:null};defaultTreeAdapter.appendChild(o,g)}},setDocumentMode(o,e){o.mode=e},getDocumentMode(o){return o.mode},detachNode(o){if(o.parentNode){const e=o.parentNode.childNodes.indexOf(o);o.parentNode.childNodes.splice(e,1),o.parentNode=null}},insertText(o,e){if(o.childNodes.length>0){const a=o.childNodes[o.childNodes.length-1];if(defaultTreeAdapter.isTextNode(a)){a.value+=e;return}}defaultTreeAdapter.appendChild(o,createTextNode(e))},insertTextBefore(o,e,a){const c=o.childNodes[o.childNodes.indexOf(a)-1];c&&defaultTreeAdapter.isTextNode(c)?c.value+=e:defaultTreeAdapter.insertBefore(o,createTextNode(e),a)},adoptAttributes(o,e){const a=new Set(o.attrs.map(c=>c.name));for(let c=0;c<e.length;c++)a.has(e[c].name)||o.attrs.push(e[c])},getFirstChild(o){return o.childNodes[0]},getChildNodes(o){return o.childNodes},getParentNode(o){return o.parentNode},getAttrList(o){return o.attrs},getTagName(o){return o.tagName},getNamespaceURI(o){return o.namespaceURI},getTextNodeContent(o){return o.value},getCommentNodeContent(o){return o.data},getDocumentTypeNodeName(o){return o.name},getDocumentTypeNodePublicId(o){return o.publicId},getDocumentTypeNodeSystemId(o){return o.systemId},isTextNode(o){return o.nodeName==="#text"},isCommentNode(o){return o.nodeName==="#comment"},isDocumentTypeNode(o){return o.nodeName==="#documentType"},isElementNode(o){return Object.prototype.hasOwnProperty.call(o,"tagName")},setNodeSourceCodeLocation(o,e){o.sourceCodeLocation=e},getNodeSourceCodeLocation(o){return o.sourceCodeLocation},updateNodeSourceCodeLocation(o,e){o.sourceCodeLocation={...o.sourceCodeLocation,...e}}},VALID_DOCTYPE_NAME="html",VALID_SYSTEM_ID="about:legacy-compat",QUIRKS_MODE_SYSTEM_ID="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",QUIRKS_MODE_PUBLIC_ID_PREFIXES=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES=[...QUIRKS_MODE_PUBLIC_ID_PREFIXES,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],QUIRKS_MODE_PUBLIC_IDS=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),LIMITED_QUIRKS_PUBLIC_ID_PREFIXES=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES=[...LIMITED_QUIRKS_PUBLIC_ID_PREFIXES,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hasPrefix(o,e){return e.some(a=>o.startsWith(a))}function isConforming(o){return o.name===VALID_DOCTYPE_NAME&&o.publicId===null&&(o.systemId===null||o.systemId===VALID_SYSTEM_ID)}function getDocumentMode(o){if(o.name!==VALID_DOCTYPE_NAME)return DOCUMENT_MODE.QUIRKS;const{systemId:e}=o;if(e&&e.toLowerCase()===QUIRKS_MODE_SYSTEM_ID)return DOCUMENT_MODE.QUIRKS;let{publicId:a}=o;if(a!==null){if(a=a.toLowerCase(),QUIRKS_MODE_PUBLIC_IDS.has(a))return DOCUMENT_MODE.QUIRKS;let c=e===null?QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES:QUIRKS_MODE_PUBLIC_ID_PREFIXES;if(hasPrefix(a,c))return DOCUMENT_MODE.QUIRKS;if(c=e===null?LIMITED_QUIRKS_PUBLIC_ID_PREFIXES:LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES,hasPrefix(a,c))return DOCUMENT_MODE.LIMITED_QUIRKS}return DOCUMENT_MODE.NO_QUIRKS}const MIME_TYPES={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},DEFINITION_URL_ATTR="definitionurl",ADJUSTED_DEFINITION_URL_ATTR="definitionURL",SVG_ATTRS_ADJUSTMENT_MAP=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(o=>[o.toLowerCase(),o])),XML_ATTRS_ADJUSTMENT_MAP=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:NS.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:NS.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:NS.XMLNS}]]),SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(o=>[o.toLowerCase(),o])),EXITS_FOREIGN_CONTENT=new Set([TAG_ID.B,TAG_ID.BIG,TAG_ID.BLOCKQUOTE,TAG_ID.BODY,TAG_ID.BR,TAG_ID.CENTER,TAG_ID.CODE,TAG_ID.DD,TAG_ID.DIV,TAG_ID.DL,TAG_ID.DT,TAG_ID.EM,TAG_ID.EMBED,TAG_ID.H1,TAG_ID.H2,TAG_ID.H3,TAG_ID.H4,TAG_ID.H5,TAG_ID.H6,TAG_ID.HEAD,TAG_ID.HR,TAG_ID.I,TAG_ID.IMG,TAG_ID.LI,TAG_ID.LISTING,TAG_ID.MENU,TAG_ID.META,TAG_ID.NOBR,TAG_ID.OL,TAG_ID.P,TAG_ID.PRE,TAG_ID.RUBY,TAG_ID.S,TAG_ID.SMALL,TAG_ID.SPAN,TAG_ID.STRONG,TAG_ID.STRIKE,TAG_ID.SUB,TAG_ID.SUP,TAG_ID.TABLE,TAG_ID.TT,TAG_ID.U,TAG_ID.UL,TAG_ID.VAR]);function causesExit(o){const e=o.tagID;return e===TAG_ID.FONT&&o.attrs.some(({name:c})=>c===ATTRS.COLOR||c===ATTRS.SIZE||c===ATTRS.FACE)||EXITS_FOREIGN_CONTENT.has(e)}function adjustTokenMathMLAttrs(o){for(let e=0;e<o.attrs.length;e++)if(o.attrs[e].name===DEFINITION_URL_ATTR){o.attrs[e].name=ADJUSTED_DEFINITION_URL_ATTR;break}}function adjustTokenSVGAttrs(o){for(let e=0;e<o.attrs.length;e++){const a=SVG_ATTRS_ADJUSTMENT_MAP.get(o.attrs[e].name);a!=null&&(o.attrs[e].name=a)}}function adjustTokenXMLAttrs(o){for(let e=0;e<o.attrs.length;e++){const a=XML_ATTRS_ADJUSTMENT_MAP.get(o.attrs[e].name);a&&(o.attrs[e].prefix=a.prefix,o.attrs[e].name=a.name,o.attrs[e].namespace=a.namespace)}}function adjustTokenSVGTagName(o){const e=SVG_TAG_NAMES_ADJUSTMENT_MAP.get(o.tagName);e!=null&&(o.tagName=e,o.tagID=getTagID(o.tagName))}function isMathMLTextIntegrationPoint(o,e){return e===NS.MATHML&&(o===TAG_ID.MI||o===TAG_ID.MO||o===TAG_ID.MN||o===TAG_ID.MS||o===TAG_ID.MTEXT)}function isHtmlIntegrationPoint(o,e,a){if(e===NS.MATHML&&o===TAG_ID.ANNOTATION_XML){for(let c=0;c<a.length;c++)if(a[c].name===ATTRS.ENCODING){const d=a[c].value.toLowerCase();return d===MIME_TYPES.TEXT_HTML||d===MIME_TYPES.APPLICATION_XML}}return e===NS.SVG&&(o===TAG_ID.FOREIGN_OBJECT||o===TAG_ID.DESC||o===TAG_ID.TITLE)}function isIntegrationPoint(o,e,a,c){return(!c||c===NS.HTML)&&isHtmlIntegrationPoint(o,e,a)||(!c||c===NS.MATHML)&&isMathMLTextIntegrationPoint(o,e)}const HIDDEN_INPUT_TYPE="hidden",AA_OUTER_LOOP_ITER=8,AA_INNER_LOOP_ITER=3;var InsertionMode;(function(o){o[o.INITIAL=0]="INITIAL",o[o.BEFORE_HTML=1]="BEFORE_HTML",o[o.BEFORE_HEAD=2]="BEFORE_HEAD",o[o.IN_HEAD=3]="IN_HEAD",o[o.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",o[o.AFTER_HEAD=5]="AFTER_HEAD",o[o.IN_BODY=6]="IN_BODY",o[o.TEXT=7]="TEXT",o[o.IN_TABLE=8]="IN_TABLE",o[o.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",o[o.IN_CAPTION=10]="IN_CAPTION",o[o.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",o[o.IN_TABLE_BODY=12]="IN_TABLE_BODY",o[o.IN_ROW=13]="IN_ROW",o[o.IN_CELL=14]="IN_CELL",o[o.IN_SELECT=15]="IN_SELECT",o[o.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",o[o.IN_TEMPLATE=17]="IN_TEMPLATE",o[o.AFTER_BODY=18]="AFTER_BODY",o[o.IN_FRAMESET=19]="IN_FRAMESET",o[o.AFTER_FRAMESET=20]="AFTER_FRAMESET",o[o.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",o[o.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(InsertionMode||(InsertionMode={}));const BASE_LOC={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},TABLE_STRUCTURE_TAGS=new Set([TAG_ID.TABLE,TAG_ID.TBODY,TAG_ID.TFOOT,TAG_ID.THEAD,TAG_ID.TR]),defaultParserOptions={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:defaultTreeAdapter,onParseError:null};class Parser{constructor(e,a,c=null,d=null){this.fragmentContext=c,this.scriptHandler=d,this.currentToken=null,this.stopped=!1,this.insertionMode=InsertionMode.INITIAL,this.originalInsertionMode=InsertionMode.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...defaultParserOptions,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=a??this.treeAdapter.createDocument(),this.tokenizer=new Tokenizer(this.options,this),this.activeFormattingElements=new FormattingElementList(this.treeAdapter),this.fragmentContextID=c?getTagID(this.treeAdapter.getTagName(c)):TAG_ID.UNKNOWN,this._setContextModes(c??this.document,this.fragmentContextID),this.openElements=new OpenElementStack(this.document,this.treeAdapter,this)}static parse(e,a){const c=new this(a);return c.tokenizer.write(e,!0),c.document}static getFragmentParser(e,a){const c={...defaultParserOptions,...a};e??(e=c.treeAdapter.createElement(TAG_NAMES.TEMPLATE,NS.HTML,[]));const d=c.treeAdapter.createElement("documentmock",NS.HTML,[]),g=new this(c,d,e);return g.fragmentContextID===TAG_ID.TEMPLATE&&g.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE),g._initTokenizerForFragmentParsing(),g._insertFakeRootElement(),g._resetInsertionMode(),g._findFormInFragmentContext(),g}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),a=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,a),a}_err(e,a,c){var d;if(!this.onParseError)return;const g=(d=e.location)!==null&&d!==void 0?d:BASE_LOC,b={code:a,startLine:g.startLine,startCol:g.startCol,startOffset:g.startOffset,endLine:c?g.startLine:g.endLine,endCol:c?g.startCol:g.endCol,endOffset:c?g.startOffset:g.endOffset};this.onParseError(b)}onItemPush(e,a,c){var d,g;(g=(d=this.treeAdapter).onItemPush)===null||g===void 0||g.call(d,e),c&&this.openElements.stackTop>0&&this._setContextModes(e,a)}onItemPop(e,a){var c,d;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(d=(c=this.treeAdapter).onItemPop)===null||d===void 0||d.call(c,e,this.openElements.current),a){let g,b;this.openElements.stackTop===0&&this.fragmentContext?(g=this.fragmentContext,b=this.fragmentContextID):{current:g,currentTagId:b}=this.openElements,this._setContextModes(g,b)}}_setContextModes(e,a){const c=e===this.document||this.treeAdapter.getNamespaceURI(e)===NS.HTML;this.currentNotInHTML=!c,this.tokenizer.inForeignNode=!c&&!this._isIntegrationPoint(a,e)}_switchToTextParsing(e,a){this._insertElement(e,NS.HTML),this.tokenizer.state=a,this.originalInsertionMode=this.insertionMode,this.insertionMode=InsertionMode.TEXT}switchToPlaintextParsing(){this.insertionMode=InsertionMode.TEXT,this.originalInsertionMode=InsertionMode.IN_BODY,this.tokenizer.state=TokenizerMode.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===TAG_NAMES.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==NS.HTML))switch(this.fragmentContextID){case TAG_ID.TITLE:case TAG_ID.TEXTAREA:{this.tokenizer.state=TokenizerMode.RCDATA;break}case TAG_ID.STYLE:case TAG_ID.XMP:case TAG_ID.IFRAME:case TAG_ID.NOEMBED:case TAG_ID.NOFRAMES:case TAG_ID.NOSCRIPT:{this.tokenizer.state=TokenizerMode.RAWTEXT;break}case TAG_ID.SCRIPT:{this.tokenizer.state=TokenizerMode.SCRIPT_DATA;break}case TAG_ID.PLAINTEXT:{this.tokenizer.state=TokenizerMode.PLAINTEXT;break}}}_setDocumentType(e){const a=e.name||"",c=e.publicId||"",d=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,a,c,d),e.location){const b=this.treeAdapter.getChildNodes(this.document).find(_=>this.treeAdapter.isDocumentTypeNode(_));b&&this.treeAdapter.setNodeSourceCodeLocation(b,e.location)}}_attachElementToTree(e,a){if(this.options.sourceCodeLocationInfo){const c=a&&{...a,startTag:a};this.treeAdapter.setNodeSourceCodeLocation(e,c)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const c=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(c,e)}}_appendElement(e,a){const c=this.treeAdapter.createElement(e.tagName,a,e.attrs);this._attachElementToTree(c,e.location)}_insertElement(e,a){const c=this.treeAdapter.createElement(e.tagName,a,e.attrs);this._attachElementToTree(c,e.location),this.openElements.push(c,e.tagID)}_insertFakeElement(e,a){const c=this.treeAdapter.createElement(e,NS.HTML,[]);this._attachElementToTree(c,null),this.openElements.push(c,a)}_insertTemplate(e){const a=this.treeAdapter.createElement(e.tagName,NS.HTML,e.attrs),c=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(a,c),this._attachElementToTree(a,e.location),this.openElements.push(a,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(c,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(TAG_NAMES.HTML,NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,TAG_ID.HTML)}_appendCommentNode(e,a){const c=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(a,c),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(c,e.location)}_insertCharacters(e){let a,c;if(this._shouldFosterParentOnInsertion()?({parent:a,beforeElement:c}=this._findFosterParentingLocation(),c?this.treeAdapter.insertTextBefore(a,e.chars,c):this.treeAdapter.insertText(a,e.chars)):(a=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(a,e.chars)),!e.location)return;const d=this.treeAdapter.getChildNodes(a),g=c?d.lastIndexOf(c):d.length,b=d[g-1];if(this.treeAdapter.getNodeSourceCodeLocation(b)){const{endLine:_e,endCol:tt,endOffset:nt}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(b,{endLine:_e,endCol:tt,endOffset:nt})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(b,e.location)}_adoptNodes(e,a){for(let c=this.treeAdapter.getFirstChild(e);c;c=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(c),this.treeAdapter.appendChild(a,c)}_setEndLocation(e,a){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&a.location){const c=a.location,d=this.treeAdapter.getTagName(e),g=a.type===TokenType.END_TAG&&d===a.tagName?{endTag:{...c},endLine:c.endLine,endCol:c.endCol,endOffset:c.endOffset}:{endLine:c.startLine,endCol:c.startCol,endOffset:c.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,g)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let a,c;return this.openElements.stackTop===0&&this.fragmentContext?(a=this.fragmentContext,c=this.fragmentContextID):{current:a,currentTagId:c}=this.openElements,e.tagID===TAG_ID.SVG&&this.treeAdapter.getTagName(a)===TAG_NAMES.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(a)===NS.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===TAG_ID.MGLYPH||e.tagID===TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(c,a,NS.HTML)}_processToken(e){switch(e.type){case TokenType.CHARACTER:{this.onCharacter(e);break}case TokenType.NULL_CHARACTER:{this.onNullCharacter(e);break}case TokenType.COMMENT:{this.onComment(e);break}case TokenType.DOCTYPE:{this.onDoctype(e);break}case TokenType.START_TAG:{this._processStartTag(e);break}case TokenType.END_TAG:{this.onEndTag(e);break}case TokenType.EOF:{this.onEof(e);break}case TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,a,c){const d=this.treeAdapter.getNamespaceURI(a),g=this.treeAdapter.getAttrList(a);return isIntegrationPoint(e,d,g,c)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const a=this.activeFormattingElements.entries.findIndex(d=>d.type===EntryType.Marker||this.openElements.contains(d.element)),c=a<0?e-1:a-1;for(let d=c;d>=0;d--){const g=this.activeFormattingElements.entries[d];this._insertElement(g.token,this.treeAdapter.getNamespaceURI(g.element)),g.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=InsertionMode.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.P),this.openElements.popUntilTagNamePopped(TAG_ID.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case TAG_ID.TR:{this.insertionMode=InsertionMode.IN_ROW;return}case TAG_ID.TBODY:case TAG_ID.THEAD:case TAG_ID.TFOOT:{this.insertionMode=InsertionMode.IN_TABLE_BODY;return}case TAG_ID.CAPTION:{this.insertionMode=InsertionMode.IN_CAPTION;return}case TAG_ID.COLGROUP:{this.insertionMode=InsertionMode.IN_COLUMN_GROUP;return}case TAG_ID.TABLE:{this.insertionMode=InsertionMode.IN_TABLE;return}case TAG_ID.BODY:{this.insertionMode=InsertionMode.IN_BODY;return}case TAG_ID.FRAMESET:{this.insertionMode=InsertionMode.IN_FRAMESET;return}case TAG_ID.SELECT:{this._resetInsertionModeForSelect(e);return}case TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case TAG_ID.HTML:{this.insertionMode=this.headElement?InsertionMode.AFTER_HEAD:InsertionMode.BEFORE_HEAD;return}case TAG_ID.TD:case TAG_ID.TH:{if(e>0){this.insertionMode=InsertionMode.IN_CELL;return}break}case TAG_ID.HEAD:{if(e>0){this.insertionMode=InsertionMode.IN_HEAD;return}break}}this.insertionMode=InsertionMode.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let a=e-1;a>0;a--){const c=this.openElements.tagIDs[a];if(c===TAG_ID.TEMPLATE)break;if(c===TAG_ID.TABLE){this.insertionMode=InsertionMode.IN_SELECT_IN_TABLE;return}}this.insertionMode=InsertionMode.IN_SELECT}_isElementCausesFosterParenting(e){return TABLE_STRUCTURE_TAGS.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const a=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(a)===NS.HTML)return{parent:this.treeAdapter.getTemplateContent(a),beforeElement:null};break}case TAG_ID.TABLE:{const c=this.treeAdapter.getParentNode(a);return c?{parent:c,beforeElement:a}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const a=this._findFosterParentingLocation();a.beforeElement?this.treeAdapter.insertBefore(a.parent,e,a.beforeElement):this.treeAdapter.appendChild(a.parent,e)}_isSpecialElement(e,a){const c=this.treeAdapter.getNamespaceURI(e);return SPECIAL_ELEMENTS[c].has(a)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){characterInForeignContent(this,e);return}switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{tokenInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,e);break}case InsertionMode.IN_BODY:case InsertionMode.IN_CAPTION:case InsertionMode.IN_CELL:case InsertionMode.IN_TEMPLATE:{characterInBody(this,e);break}case InsertionMode.TEXT:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,e);break}case InsertionMode.IN_TABLE_TEXT:{characterInTableText(this,e);break}case InsertionMode.IN_COLUMN_GROUP:{tokenInColumnGroup(this,e);break}case InsertionMode.AFTER_BODY:{tokenAfterBody(this,e);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){nullCharacterInForeignContent(this,e);return}switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{tokenInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,e);break}case InsertionMode.TEXT:{this._insertCharacters(e);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,e);break}case InsertionMode.IN_COLUMN_GROUP:{tokenInColumnGroup(this,e);break}case InsertionMode.AFTER_BODY:{tokenAfterBody(this,e);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){appendComment(this,e);return}switch(this.insertionMode){case InsertionMode.INITIAL:case InsertionMode.BEFORE_HTML:case InsertionMode.BEFORE_HEAD:case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:case InsertionMode.IN_BODY:case InsertionMode.IN_TABLE:case InsertionMode.IN_CAPTION:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:case InsertionMode.IN_CELL:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:case InsertionMode.IN_TEMPLATE:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:{appendComment(this,e);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}case InsertionMode.AFTER_BODY:{appendCommentToRootHtmlElement(this,e);break}case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{appendCommentToDocument(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case InsertionMode.INITIAL:{doctypeInInitialMode(this,e);break}case InsertionMode.BEFORE_HEAD:case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:{this._err(e,ERR.misplacedDoctype);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?startTagInForeignContent(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{startTagBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{startTagBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{startTagInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{startTagInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{startTagAfterHead(this,e);break}case InsertionMode.IN_BODY:{startTagInBody(this,e);break}case InsertionMode.IN_TABLE:{startTagInTable(this,e);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}case InsertionMode.IN_CAPTION:{startTagInCaption(this,e);break}case InsertionMode.IN_COLUMN_GROUP:{startTagInColumnGroup(this,e);break}case InsertionMode.IN_TABLE_BODY:{startTagInTableBody(this,e);break}case InsertionMode.IN_ROW:{startTagInRow(this,e);break}case InsertionMode.IN_CELL:{startTagInCell(this,e);break}case InsertionMode.IN_SELECT:{startTagInSelect(this,e);break}case InsertionMode.IN_SELECT_IN_TABLE:{startTagInSelectInTable(this,e);break}case InsertionMode.IN_TEMPLATE:{startTagInTemplate(this,e);break}case InsertionMode.AFTER_BODY:{startTagAfterBody(this,e);break}case InsertionMode.IN_FRAMESET:{startTagInFrameset(this,e);break}case InsertionMode.AFTER_FRAMESET:{startTagAfterFrameset(this,e);break}case InsertionMode.AFTER_AFTER_BODY:{startTagAfterAfterBody(this,e);break}case InsertionMode.AFTER_AFTER_FRAMESET:{startTagAfterAfterFrameset(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?endTagInForeignContent(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{endTagBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{endTagBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{endTagInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{endTagInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{endTagAfterHead(this,e);break}case InsertionMode.IN_BODY:{endTagInBody(this,e);break}case InsertionMode.TEXT:{endTagInText(this,e);break}case InsertionMode.IN_TABLE:{endTagInTable(this,e);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}case InsertionMode.IN_CAPTION:{endTagInCaption(this,e);break}case InsertionMode.IN_COLUMN_GROUP:{endTagInColumnGroup(this,e);break}case InsertionMode.IN_TABLE_BODY:{endTagInTableBody(this,e);break}case InsertionMode.IN_ROW:{endTagInRow(this,e);break}case InsertionMode.IN_CELL:{endTagInCell(this,e);break}case InsertionMode.IN_SELECT:{endTagInSelect(this,e);break}case InsertionMode.IN_SELECT_IN_TABLE:{endTagInSelectInTable(this,e);break}case InsertionMode.IN_TEMPLATE:{endTagInTemplate(this,e);break}case InsertionMode.AFTER_BODY:{endTagAfterBody(this,e);break}case InsertionMode.IN_FRAMESET:{endTagInFrameset(this,e);break}case InsertionMode.AFTER_FRAMESET:{endTagAfterFrameset(this,e);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,e);break}}}onEof(e){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{tokenInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,e);break}case InsertionMode.IN_BODY:case InsertionMode.IN_TABLE:case InsertionMode.IN_CAPTION:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:case InsertionMode.IN_CELL:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:{eofInBody(this,e);break}case InsertionMode.TEXT:{eofInText(this,e);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}case InsertionMode.IN_TEMPLATE:{eofInTemplate(this,e);break}case InsertionMode.AFTER_BODY:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{stopParsing(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===CODE_POINTS.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:case InsertionMode.TEXT:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:{this._insertCharacters(e);break}case InsertionMode.IN_BODY:case InsertionMode.IN_CAPTION:case InsertionMode.IN_CELL:case InsertionMode.IN_TEMPLATE:case InsertionMode.AFTER_BODY:case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{whitespaceCharacterInBody(this,e);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,e);break}case InsertionMode.IN_TABLE_TEXT:{whitespaceCharacterInTableText(this,e);break}}}}function aaObtainFormattingElementEntry(o,e){let a=o.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return a?o.openElements.contains(a.element)?o.openElements.hasInScope(e.tagID)||(a=null):(o.activeFormattingElements.removeEntry(a),a=null):genericEndTagInBody(o,e),a}function aaObtainFurthestBlock(o,e){let a=null,c=o.openElements.stackTop;for(;c>=0;c--){const d=o.openElements.items[c];if(d===e.element)break;o._isSpecialElement(d,o.openElements.tagIDs[c])&&(a=d)}return a||(o.openElements.shortenToLength(c<0?0:c),o.activeFormattingElements.removeEntry(e)),a}function aaInnerLoop(o,e,a){let c=e,d=o.openElements.getCommonAncestor(e);for(let g=0,b=d;b!==a;g++,b=d){d=o.openElements.getCommonAncestor(b);const _=o.activeFormattingElements.getElementEntry(b),_e=_&&g>=AA_INNER_LOOP_ITER;!_||_e?(_e&&o.activeFormattingElements.removeEntry(_),o.openElements.remove(b)):(b=aaRecreateElementFromEntry(o,_),c===e&&(o.activeFormattingElements.bookmark=_),o.treeAdapter.detachNode(c),o.treeAdapter.appendChild(b,c),c=b)}return c}function aaRecreateElementFromEntry(o,e){const a=o.treeAdapter.getNamespaceURI(e.element),c=o.treeAdapter.createElement(e.token.tagName,a,e.token.attrs);return o.openElements.replace(e.element,c),e.element=c,c}function aaInsertLastNodeInCommonAncestor(o,e,a){const c=o.treeAdapter.getTagName(e),d=getTagID(c);if(o._isElementCausesFosterParenting(d))o._fosterParentElement(a);else{const g=o.treeAdapter.getNamespaceURI(e);d===TAG_ID.TEMPLATE&&g===NS.HTML&&(e=o.treeAdapter.getTemplateContent(e)),o.treeAdapter.appendChild(e,a)}}function aaReplaceFormattingElement(o,e,a){const c=o.treeAdapter.getNamespaceURI(a.element),{token:d}=a,g=o.treeAdapter.createElement(d.tagName,c,d.attrs);o._adoptNodes(e,g),o.treeAdapter.appendChild(e,g),o.activeFormattingElements.insertElementAfterBookmark(g,d),o.activeFormattingElements.removeEntry(a),o.openElements.remove(a.element),o.openElements.insertAfter(e,g,d.tagID)}function callAdoptionAgency(o,e){for(let a=0;a<AA_OUTER_LOOP_ITER;a++){const c=aaObtainFormattingElementEntry(o,e);if(!c)break;const d=aaObtainFurthestBlock(o,c);if(!d)break;o.activeFormattingElements.bookmark=c;const g=aaInnerLoop(o,d,c.element),b=o.openElements.getCommonAncestor(c.element);o.treeAdapter.detachNode(g),b&&aaInsertLastNodeInCommonAncestor(o,b,g),aaReplaceFormattingElement(o,d,c)}}function appendComment(o,e){o._appendCommentNode(e,o.openElements.currentTmplContentOrNode)}function appendCommentToRootHtmlElement(o,e){o._appendCommentNode(e,o.openElements.items[0])}function appendCommentToDocument(o,e){o._appendCommentNode(e,o.document)}function stopParsing(o,e){if(o.stopped=!0,e.location){const a=o.fragmentContext?0:2;for(let c=o.openElements.stackTop;c>=a;c--)o._setEndLocation(o.openElements.items[c],e);if(!o.fragmentContext&&o.openElements.stackTop>=0){const c=o.openElements.items[0],d=o.treeAdapter.getNodeSourceCodeLocation(c);if(d&&!d.endTag&&(o._setEndLocation(c,e),o.openElements.stackTop>=1)){const g=o.openElements.items[1],b=o.treeAdapter.getNodeSourceCodeLocation(g);b&&!b.endTag&&o._setEndLocation(g,e)}}}}function doctypeInInitialMode(o,e){o._setDocumentType(e);const a=e.forceQuirks?DOCUMENT_MODE.QUIRKS:getDocumentMode(e);isConforming(e)||o._err(e,ERR.nonConformingDoctype),o.treeAdapter.setDocumentMode(o.document,a),o.insertionMode=InsertionMode.BEFORE_HTML}function tokenInInitialMode(o,e){o._err(e,ERR.missingDoctype,!0),o.treeAdapter.setDocumentMode(o.document,DOCUMENT_MODE.QUIRKS),o.insertionMode=InsertionMode.BEFORE_HTML,o._processToken(e)}function startTagBeforeHtml(o,e){e.tagID===TAG_ID.HTML?(o._insertElement(e,NS.HTML),o.insertionMode=InsertionMode.BEFORE_HEAD):tokenBeforeHtml(o,e)}function endTagBeforeHtml(o,e){const a=e.tagID;(a===TAG_ID.HTML||a===TAG_ID.HEAD||a===TAG_ID.BODY||a===TAG_ID.BR)&&tokenBeforeHtml(o,e)}function tokenBeforeHtml(o,e){o._insertFakeRootElement(),o.insertionMode=InsertionMode.BEFORE_HEAD,o._processToken(e)}function startTagBeforeHead(o,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(o,e);break}case TAG_ID.HEAD:{o._insertElement(e,NS.HTML),o.headElement=o.openElements.current,o.insertionMode=InsertionMode.IN_HEAD;break}default:tokenBeforeHead(o,e)}}function endTagBeforeHead(o,e){const a=e.tagID;a===TAG_ID.HEAD||a===TAG_ID.BODY||a===TAG_ID.HTML||a===TAG_ID.BR?tokenBeforeHead(o,e):o._err(e,ERR.endTagWithoutMatchingOpenElement)}function tokenBeforeHead(o,e){o._insertFakeElement(TAG_NAMES.HEAD,TAG_ID.HEAD),o.headElement=o.openElements.current,o.insertionMode=InsertionMode.IN_HEAD,o._processToken(e)}function startTagInHead(o,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(o,e);break}case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:{o._appendElement(e,NS.HTML),e.ackSelfClosing=!0;break}case TAG_ID.TITLE:{o._switchToTextParsing(e,TokenizerMode.RCDATA);break}case TAG_ID.NOSCRIPT:{o.options.scriptingEnabled?o._switchToTextParsing(e,TokenizerMode.RAWTEXT):(o._insertElement(e,NS.HTML),o.insertionMode=InsertionMode.IN_HEAD_NO_SCRIPT);break}case TAG_ID.NOFRAMES:case TAG_ID.STYLE:{o._switchToTextParsing(e,TokenizerMode.RAWTEXT);break}case TAG_ID.SCRIPT:{o._switchToTextParsing(e,TokenizerMode.SCRIPT_DATA);break}case TAG_ID.TEMPLATE:{o._insertTemplate(e),o.activeFormattingElements.insertMarker(),o.framesetOk=!1,o.insertionMode=InsertionMode.IN_TEMPLATE,o.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE);break}case TAG_ID.HEAD:{o._err(e,ERR.misplacedStartTagForHeadElement);break}default:tokenInHead(o,e)}}function endTagInHead(o,e){switch(e.tagID){case TAG_ID.HEAD:{o.openElements.pop(),o.insertionMode=InsertionMode.AFTER_HEAD;break}case TAG_ID.BODY:case TAG_ID.BR:case TAG_ID.HTML:{tokenInHead(o,e);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(o,e);break}default:o._err(e,ERR.endTagWithoutMatchingOpenElement)}}function templateEndTagInHead(o,e){o.openElements.tmplCount>0?(o.openElements.generateImpliedEndTagsThoroughly(),o.openElements.currentTagId!==TAG_ID.TEMPLATE&&o._err(e,ERR.closingOfElementWithOpenChildElements),o.openElements.popUntilTagNamePopped(TAG_ID.TEMPLATE),o.activeFormattingElements.clearToLastMarker(),o.tmplInsertionModeStack.shift(),o._resetInsertionMode()):o._err(e,ERR.endTagWithoutMatchingOpenElement)}function tokenInHead(o,e){o.openElements.pop(),o.insertionMode=InsertionMode.AFTER_HEAD,o._processToken(e)}function startTagInHeadNoScript(o,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(o,e);break}case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.HEAD:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.STYLE:{startTagInHead(o,e);break}case TAG_ID.NOSCRIPT:{o._err(e,ERR.nestedNoscriptInHead);break}default:tokenInHeadNoScript(o,e)}}function endTagInHeadNoScript(o,e){switch(e.tagID){case TAG_ID.NOSCRIPT:{o.openElements.pop(),o.insertionMode=InsertionMode.IN_HEAD;break}case TAG_ID.BR:{tokenInHeadNoScript(o,e);break}default:o._err(e,ERR.endTagWithoutMatchingOpenElement)}}function tokenInHeadNoScript(o,e){const a=e.type===TokenType.EOF?ERR.openElementsLeftAfterEof:ERR.disallowedContentInNoscriptInHead;o._err(e,a),o.openElements.pop(),o.insertionMode=InsertionMode.IN_HEAD,o._processToken(e)}function startTagAfterHead(o,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(o,e);break}case TAG_ID.BODY:{o._insertElement(e,NS.HTML),o.framesetOk=!1,o.insertionMode=InsertionMode.IN_BODY;break}case TAG_ID.FRAMESET:{o._insertElement(e,NS.HTML),o.insertionMode=InsertionMode.IN_FRAMESET;break}case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.SCRIPT:case TAG_ID.STYLE:case TAG_ID.TEMPLATE:case TAG_ID.TITLE:{o._err(e,ERR.abandonedHeadElementChild),o.openElements.push(o.headElement,TAG_ID.HEAD),startTagInHead(o,e),o.openElements.remove(o.headElement);break}case TAG_ID.HEAD:{o._err(e,ERR.misplacedStartTagForHeadElement);break}default:tokenAfterHead(o,e)}}function endTagAfterHead(o,e){switch(e.tagID){case TAG_ID.BODY:case TAG_ID.HTML:case TAG_ID.BR:{tokenAfterHead(o,e);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(o,e);break}default:o._err(e,ERR.endTagWithoutMatchingOpenElement)}}function tokenAfterHead(o,e){o._insertFakeElement(TAG_NAMES.BODY,TAG_ID.BODY),o.insertionMode=InsertionMode.IN_BODY,modeInBody(o,e)}function modeInBody(o,e){switch(e.type){case TokenType.CHARACTER:{characterInBody(o,e);break}case TokenType.WHITESPACE_CHARACTER:{whitespaceCharacterInBody(o,e);break}case TokenType.COMMENT:{appendComment(o,e);break}case TokenType.START_TAG:{startTagInBody(o,e);break}case TokenType.END_TAG:{endTagInBody(o,e);break}case TokenType.EOF:{eofInBody(o,e);break}}}function whitespaceCharacterInBody(o,e){o._reconstructActiveFormattingElements(),o._insertCharacters(e)}function characterInBody(o,e){o._reconstructActiveFormattingElements(),o._insertCharacters(e),o.framesetOk=!1}function htmlStartTagInBody(o,e){o.openElements.tmplCount===0&&o.treeAdapter.adoptAttributes(o.openElements.items[0],e.attrs)}function bodyStartTagInBody(o,e){const a=o.openElements.tryPeekProperlyNestedBodyElement();a&&o.openElements.tmplCount===0&&(o.framesetOk=!1,o.treeAdapter.adoptAttributes(a,e.attrs))}function framesetStartTagInBody(o,e){const a=o.openElements.tryPeekProperlyNestedBodyElement();o.framesetOk&&a&&(o.treeAdapter.detachNode(a),o.openElements.popAllUpToHtmlElement(),o._insertElement(e,NS.HTML),o.insertionMode=InsertionMode.IN_FRAMESET)}function addressStartTagInBody(o,e){o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._insertElement(e,NS.HTML)}function numberedHeaderStartTagInBody(o,e){o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),isNumberedHeader(o.openElements.currentTagId)&&o.openElements.pop(),o._insertElement(e,NS.HTML)}function preStartTagInBody(o,e){o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._insertElement(e,NS.HTML),o.skipNextNewLine=!0,o.framesetOk=!1}function formStartTagInBody(o,e){const a=o.openElements.tmplCount>0;(!o.formElement||a)&&(o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._insertElement(e,NS.HTML),a||(o.formElement=o.openElements.current))}function listItemStartTagInBody(o,e){o.framesetOk=!1;const a=e.tagID;for(let c=o.openElements.stackTop;c>=0;c--){const d=o.openElements.tagIDs[c];if(a===TAG_ID.LI&&d===TAG_ID.LI||(a===TAG_ID.DD||a===TAG_ID.DT)&&(d===TAG_ID.DD||d===TAG_ID.DT)){o.openElements.generateImpliedEndTagsWithExclusion(d),o.openElements.popUntilTagNamePopped(d);break}if(d!==TAG_ID.ADDRESS&&d!==TAG_ID.DIV&&d!==TAG_ID.P&&o._isSpecialElement(o.openElements.items[c],d))break}o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._insertElement(e,NS.HTML)}function plaintextStartTagInBody(o,e){o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._insertElement(e,NS.HTML),o.tokenizer.state=TokenizerMode.PLAINTEXT}function buttonStartTagInBody(o,e){o.openElements.hasInScope(TAG_ID.BUTTON)&&(o.openElements.generateImpliedEndTags(),o.openElements.popUntilTagNamePopped(TAG_ID.BUTTON)),o._reconstructActiveFormattingElements(),o._insertElement(e,NS.HTML),o.framesetOk=!1}function aStartTagInBody(o,e){const a=o.activeFormattingElements.getElementEntryInScopeWithTagName(TAG_NAMES.A);a&&(callAdoptionAgency(o,e),o.openElements.remove(a.element),o.activeFormattingElements.removeEntry(a)),o._reconstructActiveFormattingElements(),o._insertElement(e,NS.HTML),o.activeFormattingElements.pushElement(o.openElements.current,e)}function bStartTagInBody(o,e){o._reconstructActiveFormattingElements(),o._insertElement(e,NS.HTML),o.activeFormattingElements.pushElement(o.openElements.current,e)}function nobrStartTagInBody(o,e){o._reconstructActiveFormattingElements(),o.openElements.hasInScope(TAG_ID.NOBR)&&(callAdoptionAgency(o,e),o._reconstructActiveFormattingElements()),o._insertElement(e,NS.HTML),o.activeFormattingElements.pushElement(o.openElements.current,e)}function appletStartTagInBody(o,e){o._reconstructActiveFormattingElements(),o._insertElement(e,NS.HTML),o.activeFormattingElements.insertMarker(),o.framesetOk=!1}function tableStartTagInBody(o,e){o.treeAdapter.getDocumentMode(o.document)!==DOCUMENT_MODE.QUIRKS&&o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._insertElement(e,NS.HTML),o.framesetOk=!1,o.insertionMode=InsertionMode.IN_TABLE}function areaStartTagInBody(o,e){o._reconstructActiveFormattingElements(),o._appendElement(e,NS.HTML),o.framesetOk=!1,e.ackSelfClosing=!0}function isHiddenInput(o){const e=getTokenAttr(o,ATTRS.TYPE);return e!=null&&e.toLowerCase()===HIDDEN_INPUT_TYPE}function inputStartTagInBody(o,e){o._reconstructActiveFormattingElements(),o._appendElement(e,NS.HTML),isHiddenInput(e)||(o.framesetOk=!1),e.ackSelfClosing=!0}function paramStartTagInBody(o,e){o._appendElement(e,NS.HTML),e.ackSelfClosing=!0}function hrStartTagInBody(o,e){o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._appendElement(e,NS.HTML),o.framesetOk=!1,e.ackSelfClosing=!0}function imageStartTagInBody(o,e){e.tagName=TAG_NAMES.IMG,e.tagID=TAG_ID.IMG,areaStartTagInBody(o,e)}function textareaStartTagInBody(o,e){o._insertElement(e,NS.HTML),o.skipNextNewLine=!0,o.tokenizer.state=TokenizerMode.RCDATA,o.originalInsertionMode=o.insertionMode,o.framesetOk=!1,o.insertionMode=InsertionMode.TEXT}function xmpStartTagInBody(o,e){o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._reconstructActiveFormattingElements(),o.framesetOk=!1,o._switchToTextParsing(e,TokenizerMode.RAWTEXT)}function iframeStartTagInBody(o,e){o.framesetOk=!1,o._switchToTextParsing(e,TokenizerMode.RAWTEXT)}function noembedStartTagInBody(o,e){o._switchToTextParsing(e,TokenizerMode.RAWTEXT)}function selectStartTagInBody(o,e){o._reconstructActiveFormattingElements(),o._insertElement(e,NS.HTML),o.framesetOk=!1,o.insertionMode=o.insertionMode===InsertionMode.IN_TABLE||o.insertionMode===InsertionMode.IN_CAPTION||o.insertionMode===InsertionMode.IN_TABLE_BODY||o.insertionMode===InsertionMode.IN_ROW||o.insertionMode===InsertionMode.IN_CELL?InsertionMode.IN_SELECT_IN_TABLE:InsertionMode.IN_SELECT}function optgroupStartTagInBody(o,e){o.openElements.currentTagId===TAG_ID.OPTION&&o.openElements.pop(),o._reconstructActiveFormattingElements(),o._insertElement(e,NS.HTML)}function rbStartTagInBody(o,e){o.openElements.hasInScope(TAG_ID.RUBY)&&o.openElements.generateImpliedEndTags(),o._insertElement(e,NS.HTML)}function rtStartTagInBody(o,e){o.openElements.hasInScope(TAG_ID.RUBY)&&o.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.RTC),o._insertElement(e,NS.HTML)}function mathStartTagInBody(o,e){o._reconstructActiveFormattingElements(),adjustTokenMathMLAttrs(e),adjustTokenXMLAttrs(e),e.selfClosing?o._appendElement(e,NS.MATHML):o._insertElement(e,NS.MATHML),e.ackSelfClosing=!0}function svgStartTagInBody(o,e){o._reconstructActiveFormattingElements(),adjustTokenSVGAttrs(e),adjustTokenXMLAttrs(e),e.selfClosing?o._appendElement(e,NS.SVG):o._insertElement(e,NS.SVG),e.ackSelfClosing=!0}function genericStartTagInBody(o,e){o._reconstructActiveFormattingElements(),o._insertElement(e,NS.HTML)}function startTagInBody(o,e){switch(e.tagID){case TAG_ID.I:case TAG_ID.S:case TAG_ID.B:case TAG_ID.U:case TAG_ID.EM:case TAG_ID.TT:case TAG_ID.BIG:case TAG_ID.CODE:case TAG_ID.FONT:case TAG_ID.SMALL:case TAG_ID.STRIKE:case TAG_ID.STRONG:{bStartTagInBody(o,e);break}case TAG_ID.A:{aStartTagInBody(o,e);break}case TAG_ID.H1:case TAG_ID.H2:case TAG_ID.H3:case TAG_ID.H4:case TAG_ID.H5:case TAG_ID.H6:{numberedHeaderStartTagInBody(o,e);break}case TAG_ID.P:case TAG_ID.DL:case TAG_ID.OL:case TAG_ID.UL:case TAG_ID.DIV:case TAG_ID.DIR:case TAG_ID.NAV:case TAG_ID.MAIN:case TAG_ID.MENU:case TAG_ID.ASIDE:case TAG_ID.CENTER:case TAG_ID.FIGURE:case TAG_ID.FOOTER:case TAG_ID.HEADER:case TAG_ID.HGROUP:case TAG_ID.DIALOG:case TAG_ID.DETAILS:case TAG_ID.ADDRESS:case TAG_ID.ARTICLE:case TAG_ID.SECTION:case TAG_ID.SUMMARY:case TAG_ID.FIELDSET:case TAG_ID.BLOCKQUOTE:case TAG_ID.FIGCAPTION:{addressStartTagInBody(o,e);break}case TAG_ID.LI:case TAG_ID.DD:case TAG_ID.DT:{listItemStartTagInBody(o,e);break}case TAG_ID.BR:case TAG_ID.IMG:case TAG_ID.WBR:case TAG_ID.AREA:case TAG_ID.EMBED:case TAG_ID.KEYGEN:{areaStartTagInBody(o,e);break}case TAG_ID.HR:{hrStartTagInBody(o,e);break}case TAG_ID.RB:case TAG_ID.RTC:{rbStartTagInBody(o,e);break}case TAG_ID.RT:case TAG_ID.RP:{rtStartTagInBody(o,e);break}case TAG_ID.PRE:case TAG_ID.LISTING:{preStartTagInBody(o,e);break}case TAG_ID.XMP:{xmpStartTagInBody(o,e);break}case TAG_ID.SVG:{svgStartTagInBody(o,e);break}case TAG_ID.HTML:{htmlStartTagInBody(o,e);break}case TAG_ID.BASE:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.STYLE:case TAG_ID.TITLE:case TAG_ID.SCRIPT:case TAG_ID.BGSOUND:case TAG_ID.BASEFONT:case TAG_ID.TEMPLATE:{startTagInHead(o,e);break}case TAG_ID.BODY:{bodyStartTagInBody(o,e);break}case TAG_ID.FORM:{formStartTagInBody(o,e);break}case TAG_ID.NOBR:{nobrStartTagInBody(o,e);break}case TAG_ID.MATH:{mathStartTagInBody(o,e);break}case TAG_ID.TABLE:{tableStartTagInBody(o,e);break}case TAG_ID.INPUT:{inputStartTagInBody(o,e);break}case TAG_ID.PARAM:case TAG_ID.TRACK:case TAG_ID.SOURCE:{paramStartTagInBody(o,e);break}case TAG_ID.IMAGE:{imageStartTagInBody(o,e);break}case TAG_ID.BUTTON:{buttonStartTagInBody(o,e);break}case TAG_ID.APPLET:case TAG_ID.OBJECT:case TAG_ID.MARQUEE:{appletStartTagInBody(o,e);break}case TAG_ID.IFRAME:{iframeStartTagInBody(o,e);break}case TAG_ID.SELECT:{selectStartTagInBody(o,e);break}case TAG_ID.OPTION:case TAG_ID.OPTGROUP:{optgroupStartTagInBody(o,e);break}case TAG_ID.NOEMBED:{noembedStartTagInBody(o,e);break}case TAG_ID.FRAMESET:{framesetStartTagInBody(o,e);break}case TAG_ID.TEXTAREA:{textareaStartTagInBody(o,e);break}case TAG_ID.NOSCRIPT:{o.options.scriptingEnabled?noembedStartTagInBody(o,e):genericStartTagInBody(o,e);break}case TAG_ID.PLAINTEXT:{plaintextStartTagInBody(o,e);break}case TAG_ID.COL:case TAG_ID.TH:case TAG_ID.TD:case TAG_ID.TR:case TAG_ID.HEAD:case TAG_ID.FRAME:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.CAPTION:case TAG_ID.COLGROUP:break;default:genericStartTagInBody(o,e)}}function bodyEndTagInBody(o,e){if(o.openElements.hasInScope(TAG_ID.BODY)&&(o.insertionMode=InsertionMode.AFTER_BODY,o.options.sourceCodeLocationInfo)){const a=o.openElements.tryPeekProperlyNestedBodyElement();a&&o._setEndLocation(a,e)}}function htmlEndTagInBody(o,e){o.openElements.hasInScope(TAG_ID.BODY)&&(o.insertionMode=InsertionMode.AFTER_BODY,endTagAfterBody(o,e))}function addressEndTagInBody(o,e){const a=e.tagID;o.openElements.hasInScope(a)&&(o.openElements.generateImpliedEndTags(),o.openElements.popUntilTagNamePopped(a))}function formEndTagInBody(o){const e=o.openElements.tmplCount>0,{formElement:a}=o;e||(o.formElement=null),(a||e)&&o.openElements.hasInScope(TAG_ID.FORM)&&(o.openElements.generateImpliedEndTags(),e?o.openElements.popUntilTagNamePopped(TAG_ID.FORM):a&&o.openElements.remove(a))}function pEndTagInBody(o){o.openElements.hasInButtonScope(TAG_ID.P)||o._insertFakeElement(TAG_NAMES.P,TAG_ID.P),o._closePElement()}function liEndTagInBody(o){o.openElements.hasInListItemScope(TAG_ID.LI)&&(o.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.LI),o.openElements.popUntilTagNamePopped(TAG_ID.LI))}function ddEndTagInBody(o,e){const a=e.tagID;o.openElements.hasInScope(a)&&(o.openElements.generateImpliedEndTagsWithExclusion(a),o.openElements.popUntilTagNamePopped(a))}function numberedHeaderEndTagInBody(o){o.openElements.hasNumberedHeaderInScope()&&(o.openElements.generateImpliedEndTags(),o.openElements.popUntilNumberedHeaderPopped())}function appletEndTagInBody(o,e){const a=e.tagID;o.openElements.hasInScope(a)&&(o.openElements.generateImpliedEndTags(),o.openElements.popUntilTagNamePopped(a),o.activeFormattingElements.clearToLastMarker())}function brEndTagInBody(o){o._reconstructActiveFormattingElements(),o._insertFakeElement(TAG_NAMES.BR,TAG_ID.BR),o.openElements.pop(),o.framesetOk=!1}function genericEndTagInBody(o,e){const a=e.tagName,c=e.tagID;for(let d=o.openElements.stackTop;d>0;d--){const g=o.openElements.items[d],b=o.openElements.tagIDs[d];if(c===b&&(c!==TAG_ID.UNKNOWN||o.treeAdapter.getTagName(g)===a)){o.openElements.generateImpliedEndTagsWithExclusion(c),o.openElements.stackTop>=d&&o.openElements.shortenToLength(d);break}if(o._isSpecialElement(g,b))break}}function endTagInBody(o,e){switch(e.tagID){case TAG_ID.A:case TAG_ID.B:case TAG_ID.I:case TAG_ID.S:case TAG_ID.U:case TAG_ID.EM:case TAG_ID.TT:case TAG_ID.BIG:case TAG_ID.CODE:case TAG_ID.FONT:case TAG_ID.NOBR:case TAG_ID.SMALL:case TAG_ID.STRIKE:case TAG_ID.STRONG:{callAdoptionAgency(o,e);break}case TAG_ID.P:{pEndTagInBody(o);break}case TAG_ID.DL:case TAG_ID.UL:case TAG_ID.OL:case TAG_ID.DIR:case TAG_ID.DIV:case TAG_ID.NAV:case TAG_ID.PRE:case TAG_ID.MAIN:case TAG_ID.MENU:case TAG_ID.ASIDE:case TAG_ID.BUTTON:case TAG_ID.CENTER:case TAG_ID.FIGURE:case TAG_ID.FOOTER:case TAG_ID.HEADER:case TAG_ID.HGROUP:case TAG_ID.DIALOG:case TAG_ID.ADDRESS:case TAG_ID.ARTICLE:case TAG_ID.DETAILS:case TAG_ID.SECTION:case TAG_ID.SUMMARY:case TAG_ID.LISTING:case TAG_ID.FIELDSET:case TAG_ID.BLOCKQUOTE:case TAG_ID.FIGCAPTION:{addressEndTagInBody(o,e);break}case TAG_ID.LI:{liEndTagInBody(o);break}case TAG_ID.DD:case TAG_ID.DT:{ddEndTagInBody(o,e);break}case TAG_ID.H1:case TAG_ID.H2:case TAG_ID.H3:case TAG_ID.H4:case TAG_ID.H5:case TAG_ID.H6:{numberedHeaderEndTagInBody(o);break}case TAG_ID.BR:{brEndTagInBody(o);break}case TAG_ID.BODY:{bodyEndTagInBody(o,e);break}case TAG_ID.HTML:{htmlEndTagInBody(o,e);break}case TAG_ID.FORM:{formEndTagInBody(o);break}case TAG_ID.APPLET:case TAG_ID.OBJECT:case TAG_ID.MARQUEE:{appletEndTagInBody(o,e);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(o,e);break}default:genericEndTagInBody(o,e)}}function eofInBody(o,e){o.tmplInsertionModeStack.length>0?eofInTemplate(o,e):stopParsing(o,e)}function endTagInText(o,e){var a;e.tagID===TAG_ID.SCRIPT&&((a=o.scriptHandler)===null||a===void 0||a.call(o,o.openElements.current)),o.openElements.pop(),o.insertionMode=o.originalInsertionMode}function eofInText(o,e){o._err(e,ERR.eofInElementThatCanContainOnlyText),o.openElements.pop(),o.insertionMode=o.originalInsertionMode,o.onEof(e)}function characterInTable(o,e){if(TABLE_STRUCTURE_TAGS.has(o.openElements.currentTagId))switch(o.pendingCharacterTokens.length=0,o.hasNonWhitespacePendingCharacterToken=!1,o.originalInsertionMode=o.insertionMode,o.insertionMode=InsertionMode.IN_TABLE_TEXT,e.type){case TokenType.CHARACTER:{characterInTableText(o,e);break}case TokenType.WHITESPACE_CHARACTER:{whitespaceCharacterInTableText(o,e);break}}else tokenInTable(o,e)}function captionStartTagInTable(o,e){o.openElements.clearBackToTableContext(),o.activeFormattingElements.insertMarker(),o._insertElement(e,NS.HTML),o.insertionMode=InsertionMode.IN_CAPTION}function colgroupStartTagInTable(o,e){o.openElements.clearBackToTableContext(),o._insertElement(e,NS.HTML),o.insertionMode=InsertionMode.IN_COLUMN_GROUP}function colStartTagInTable(o,e){o.openElements.clearBackToTableContext(),o._insertFakeElement(TAG_NAMES.COLGROUP,TAG_ID.COLGROUP),o.insertionMode=InsertionMode.IN_COLUMN_GROUP,startTagInColumnGroup(o,e)}function tbodyStartTagInTable(o,e){o.openElements.clearBackToTableContext(),o._insertElement(e,NS.HTML),o.insertionMode=InsertionMode.IN_TABLE_BODY}function tdStartTagInTable(o,e){o.openElements.clearBackToTableContext(),o._insertFakeElement(TAG_NAMES.TBODY,TAG_ID.TBODY),o.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(o,e)}function tableStartTagInTable(o,e){o.openElements.hasInTableScope(TAG_ID.TABLE)&&(o.openElements.popUntilTagNamePopped(TAG_ID.TABLE),o._resetInsertionMode(),o._processStartTag(e))}function inputStartTagInTable(o,e){isHiddenInput(e)?o._appendElement(e,NS.HTML):tokenInTable(o,e),e.ackSelfClosing=!0}function formStartTagInTable(o,e){!o.formElement&&o.openElements.tmplCount===0&&(o._insertElement(e,NS.HTML),o.formElement=o.openElements.current,o.openElements.pop())}function startTagInTable(o,e){switch(e.tagID){case TAG_ID.TD:case TAG_ID.TH:case TAG_ID.TR:{tdStartTagInTable(o,e);break}case TAG_ID.STYLE:case TAG_ID.SCRIPT:case TAG_ID.TEMPLATE:{startTagInHead(o,e);break}case TAG_ID.COL:{colStartTagInTable(o,e);break}case TAG_ID.FORM:{formStartTagInTable(o,e);break}case TAG_ID.TABLE:{tableStartTagInTable(o,e);break}case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{tbodyStartTagInTable(o,e);break}case TAG_ID.INPUT:{inputStartTagInTable(o,e);break}case TAG_ID.CAPTION:{captionStartTagInTable(o,e);break}case TAG_ID.COLGROUP:{colgroupStartTagInTable(o,e);break}default:tokenInTable(o,e)}}function endTagInTable(o,e){switch(e.tagID){case TAG_ID.TABLE:{o.openElements.hasInTableScope(TAG_ID.TABLE)&&(o.openElements.popUntilTagNamePopped(TAG_ID.TABLE),o._resetInsertionMode());break}case TAG_ID.TEMPLATE:{templateEndTagInHead(o,e);break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TBODY:case TAG_ID.TD:case TAG_ID.TFOOT:case TAG_ID.TH:case TAG_ID.THEAD:case TAG_ID.TR:break;default:tokenInTable(o,e)}}function tokenInTable(o,e){const a=o.fosterParentingEnabled;o.fosterParentingEnabled=!0,modeInBody(o,e),o.fosterParentingEnabled=a}function whitespaceCharacterInTableText(o,e){o.pendingCharacterTokens.push(e)}function characterInTableText(o,e){o.pendingCharacterTokens.push(e),o.hasNonWhitespacePendingCharacterToken=!0}function tokenInTableText(o,e){let a=0;if(o.hasNonWhitespacePendingCharacterToken)for(;a<o.pendingCharacterTokens.length;a++)tokenInTable(o,o.pendingCharacterTokens[a]);else for(;a<o.pendingCharacterTokens.length;a++)o._insertCharacters(o.pendingCharacterTokens[a]);o.insertionMode=o.originalInsertionMode,o._processToken(e)}const TABLE_VOID_ELEMENTS=new Set([TAG_ID.CAPTION,TAG_ID.COL,TAG_ID.COLGROUP,TAG_ID.TBODY,TAG_ID.TD,TAG_ID.TFOOT,TAG_ID.TH,TAG_ID.THEAD,TAG_ID.TR]);function startTagInCaption(o,e){const a=e.tagID;TABLE_VOID_ELEMENTS.has(a)?o.openElements.hasInTableScope(TAG_ID.CAPTION)&&(o.openElements.generateImpliedEndTags(),o.openElements.popUntilTagNamePopped(TAG_ID.CAPTION),o.activeFormattingElements.clearToLastMarker(),o.insertionMode=InsertionMode.IN_TABLE,startTagInTable(o,e)):startTagInBody(o,e)}function endTagInCaption(o,e){const a=e.tagID;switch(a){case TAG_ID.CAPTION:case TAG_ID.TABLE:{o.openElements.hasInTableScope(TAG_ID.CAPTION)&&(o.openElements.generateImpliedEndTags(),o.openElements.popUntilTagNamePopped(TAG_ID.CAPTION),o.activeFormattingElements.clearToLastMarker(),o.insertionMode=InsertionMode.IN_TABLE,a===TAG_ID.TABLE&&endTagInTable(o,e));break}case TAG_ID.BODY:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TBODY:case TAG_ID.TD:case TAG_ID.TFOOT:case TAG_ID.TH:case TAG_ID.THEAD:case TAG_ID.TR:break;default:endTagInBody(o,e)}}function startTagInColumnGroup(o,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(o,e);break}case TAG_ID.COL:{o._appendElement(e,NS.HTML),e.ackSelfClosing=!0;break}case TAG_ID.TEMPLATE:{startTagInHead(o,e);break}default:tokenInColumnGroup(o,e)}}function endTagInColumnGroup(o,e){switch(e.tagID){case TAG_ID.COLGROUP:{o.openElements.currentTagId===TAG_ID.COLGROUP&&(o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(o,e);break}case TAG_ID.COL:break;default:tokenInColumnGroup(o,e)}}function tokenInColumnGroup(o,e){o.openElements.currentTagId===TAG_ID.COLGROUP&&(o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE,o._processToken(e))}function startTagInTableBody(o,e){switch(e.tagID){case TAG_ID.TR:{o.openElements.clearBackToTableBodyContext(),o._insertElement(e,NS.HTML),o.insertionMode=InsertionMode.IN_ROW;break}case TAG_ID.TH:case TAG_ID.TD:{o.openElements.clearBackToTableBodyContext(),o._insertFakeElement(TAG_NAMES.TR,TAG_ID.TR),o.insertionMode=InsertionMode.IN_ROW,startTagInRow(o,e);break}case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{o.openElements.hasTableBodyContextInTableScope()&&(o.openElements.clearBackToTableBodyContext(),o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE,startTagInTable(o,e));break}default:startTagInTable(o,e)}}function endTagInTableBody(o,e){const a=e.tagID;switch(e.tagID){case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{o.openElements.hasInTableScope(a)&&(o.openElements.clearBackToTableBodyContext(),o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE);break}case TAG_ID.TABLE:{o.openElements.hasTableBodyContextInTableScope()&&(o.openElements.clearBackToTableBodyContext(),o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE,endTagInTable(o,e));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TD:case TAG_ID.TH:case TAG_ID.TR:break;default:endTagInTable(o,e)}}function startTagInRow(o,e){switch(e.tagID){case TAG_ID.TH:case TAG_ID.TD:{o.openElements.clearBackToTableRowContext(),o._insertElement(e,NS.HTML),o.insertionMode=InsertionMode.IN_CELL,o.activeFormattingElements.insertMarker();break}case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.TR:{o.openElements.hasInTableScope(TAG_ID.TR)&&(o.openElements.clearBackToTableRowContext(),o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(o,e));break}default:startTagInTable(o,e)}}function endTagInRow(o,e){switch(e.tagID){case TAG_ID.TR:{o.openElements.hasInTableScope(TAG_ID.TR)&&(o.openElements.clearBackToTableRowContext(),o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE_BODY);break}case TAG_ID.TABLE:{o.openElements.hasInTableScope(TAG_ID.TR)&&(o.openElements.clearBackToTableRowContext(),o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE_BODY,endTagInTableBody(o,e));break}case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{(o.openElements.hasInTableScope(e.tagID)||o.openElements.hasInTableScope(TAG_ID.TR))&&(o.openElements.clearBackToTableRowContext(),o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE_BODY,endTagInTableBody(o,e));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TD:case TAG_ID.TH:break;default:endTagInTable(o,e)}}function startTagInCell(o,e){const a=e.tagID;TABLE_VOID_ELEMENTS.has(a)?(o.openElements.hasInTableScope(TAG_ID.TD)||o.openElements.hasInTableScope(TAG_ID.TH))&&(o._closeTableCell(),startTagInRow(o,e)):startTagInBody(o,e)}function endTagInCell(o,e){const a=e.tagID;switch(a){case TAG_ID.TD:case TAG_ID.TH:{o.openElements.hasInTableScope(a)&&(o.openElements.generateImpliedEndTags(),o.openElements.popUntilTagNamePopped(a),o.activeFormattingElements.clearToLastMarker(),o.insertionMode=InsertionMode.IN_ROW);break}case TAG_ID.TABLE:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.TR:{o.openElements.hasInTableScope(a)&&(o._closeTableCell(),endTagInRow(o,e));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:break;default:endTagInBody(o,e)}}function startTagInSelect(o,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(o,e);break}case TAG_ID.OPTION:{o.openElements.currentTagId===TAG_ID.OPTION&&o.openElements.pop(),o._insertElement(e,NS.HTML);break}case TAG_ID.OPTGROUP:{o.openElements.currentTagId===TAG_ID.OPTION&&o.openElements.pop(),o.openElements.currentTagId===TAG_ID.OPTGROUP&&o.openElements.pop(),o._insertElement(e,NS.HTML);break}case TAG_ID.INPUT:case TAG_ID.KEYGEN:case TAG_ID.TEXTAREA:case TAG_ID.SELECT:{o.openElements.hasInSelectScope(TAG_ID.SELECT)&&(o.openElements.popUntilTagNamePopped(TAG_ID.SELECT),o._resetInsertionMode(),e.tagID!==TAG_ID.SELECT&&o._processStartTag(e));break}case TAG_ID.SCRIPT:case TAG_ID.TEMPLATE:{startTagInHead(o,e);break}}}function endTagInSelect(o,e){switch(e.tagID){case TAG_ID.OPTGROUP:{o.openElements.stackTop>0&&o.openElements.currentTagId===TAG_ID.OPTION&&o.openElements.tagIDs[o.openElements.stackTop-1]===TAG_ID.OPTGROUP&&o.openElements.pop(),o.openElements.currentTagId===TAG_ID.OPTGROUP&&o.openElements.pop();break}case TAG_ID.OPTION:{o.openElements.currentTagId===TAG_ID.OPTION&&o.openElements.pop();break}case TAG_ID.SELECT:{o.openElements.hasInSelectScope(TAG_ID.SELECT)&&(o.openElements.popUntilTagNamePopped(TAG_ID.SELECT),o._resetInsertionMode());break}case TAG_ID.TEMPLATE:{templateEndTagInHead(o,e);break}}}function startTagInSelectInTable(o,e){const a=e.tagID;a===TAG_ID.CAPTION||a===TAG_ID.TABLE||a===TAG_ID.TBODY||a===TAG_ID.TFOOT||a===TAG_ID.THEAD||a===TAG_ID.TR||a===TAG_ID.TD||a===TAG_ID.TH?(o.openElements.popUntilTagNamePopped(TAG_ID.SELECT),o._resetInsertionMode(),o._processStartTag(e)):startTagInSelect(o,e)}function endTagInSelectInTable(o,e){const a=e.tagID;a===TAG_ID.CAPTION||a===TAG_ID.TABLE||a===TAG_ID.TBODY||a===TAG_ID.TFOOT||a===TAG_ID.THEAD||a===TAG_ID.TR||a===TAG_ID.TD||a===TAG_ID.TH?o.openElements.hasInTableScope(a)&&(o.openElements.popUntilTagNamePopped(TAG_ID.SELECT),o._resetInsertionMode(),o.onEndTag(e)):endTagInSelect(o,e)}function startTagInTemplate(o,e){switch(e.tagID){case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.SCRIPT:case TAG_ID.STYLE:case TAG_ID.TEMPLATE:case TAG_ID.TITLE:{startTagInHead(o,e);break}case TAG_ID.CAPTION:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{o.tmplInsertionModeStack[0]=InsertionMode.IN_TABLE,o.insertionMode=InsertionMode.IN_TABLE,startTagInTable(o,e);break}case TAG_ID.COL:{o.tmplInsertionModeStack[0]=InsertionMode.IN_COLUMN_GROUP,o.insertionMode=InsertionMode.IN_COLUMN_GROUP,startTagInColumnGroup(o,e);break}case TAG_ID.TR:{o.tmplInsertionModeStack[0]=InsertionMode.IN_TABLE_BODY,o.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(o,e);break}case TAG_ID.TD:case TAG_ID.TH:{o.tmplInsertionModeStack[0]=InsertionMode.IN_ROW,o.insertionMode=InsertionMode.IN_ROW,startTagInRow(o,e);break}default:o.tmplInsertionModeStack[0]=InsertionMode.IN_BODY,o.insertionMode=InsertionMode.IN_BODY,startTagInBody(o,e)}}function endTagInTemplate(o,e){e.tagID===TAG_ID.TEMPLATE&&templateEndTagInHead(o,e)}function eofInTemplate(o,e){o.openElements.tmplCount>0?(o.openElements.popUntilTagNamePopped(TAG_ID.TEMPLATE),o.activeFormattingElements.clearToLastMarker(),o.tmplInsertionModeStack.shift(),o._resetInsertionMode(),o.onEof(e)):stopParsing(o,e)}function startTagAfterBody(o,e){e.tagID===TAG_ID.HTML?startTagInBody(o,e):tokenAfterBody(o,e)}function endTagAfterBody(o,e){var a;if(e.tagID===TAG_ID.HTML){if(o.fragmentContext||(o.insertionMode=InsertionMode.AFTER_AFTER_BODY),o.options.sourceCodeLocationInfo&&o.openElements.tagIDs[0]===TAG_ID.HTML){o._setEndLocation(o.openElements.items[0],e);const c=o.openElements.items[1];c&&!(!((a=o.treeAdapter.getNodeSourceCodeLocation(c))===null||a===void 0)&&a.endTag)&&o._setEndLocation(c,e)}}else tokenAfterBody(o,e)}function tokenAfterBody(o,e){o.insertionMode=InsertionMode.IN_BODY,modeInBody(o,e)}function startTagInFrameset(o,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(o,e);break}case TAG_ID.FRAMESET:{o._insertElement(e,NS.HTML);break}case TAG_ID.FRAME:{o._appendElement(e,NS.HTML),e.ackSelfClosing=!0;break}case TAG_ID.NOFRAMES:{startTagInHead(o,e);break}}}function endTagInFrameset(o,e){e.tagID===TAG_ID.FRAMESET&&!o.openElements.isRootHtmlElementCurrent()&&(o.openElements.pop(),!o.fragmentContext&&o.openElements.currentTagId!==TAG_ID.FRAMESET&&(o.insertionMode=InsertionMode.AFTER_FRAMESET))}function startTagAfterFrameset(o,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(o,e);break}case TAG_ID.NOFRAMES:{startTagInHead(o,e);break}}}function endTagAfterFrameset(o,e){e.tagID===TAG_ID.HTML&&(o.insertionMode=InsertionMode.AFTER_AFTER_FRAMESET)}function startTagAfterAfterBody(o,e){e.tagID===TAG_ID.HTML?startTagInBody(o,e):tokenAfterAfterBody(o,e)}function tokenAfterAfterBody(o,e){o.insertionMode=InsertionMode.IN_BODY,modeInBody(o,e)}function startTagAfterAfterFrameset(o,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(o,e);break}case TAG_ID.NOFRAMES:{startTagInHead(o,e);break}}}function nullCharacterInForeignContent(o,e){e.chars=REPLACEMENT_CHARACTER,o._insertCharacters(e)}function characterInForeignContent(o,e){o._insertCharacters(e),o.framesetOk=!1}function popUntilHtmlOrIntegrationPoint(o){for(;o.treeAdapter.getNamespaceURI(o.openElements.current)!==NS.HTML&&!o._isIntegrationPoint(o.openElements.currentTagId,o.openElements.current);)o.openElements.pop()}function startTagInForeignContent(o,e){if(causesExit(e))popUntilHtmlOrIntegrationPoint(o),o._startTagOutsideForeignContent(e);else{const a=o._getAdjustedCurrentElement(),c=o.treeAdapter.getNamespaceURI(a);c===NS.MATHML?adjustTokenMathMLAttrs(e):c===NS.SVG&&(adjustTokenSVGTagName(e),adjustTokenSVGAttrs(e)),adjustTokenXMLAttrs(e),e.selfClosing?o._appendElement(e,c):o._insertElement(e,c),e.ackSelfClosing=!0}}function endTagInForeignContent(o,e){if(e.tagID===TAG_ID.P||e.tagID===TAG_ID.BR){popUntilHtmlOrIntegrationPoint(o),o._endTagOutsideForeignContent(e);return}for(let a=o.openElements.stackTop;a>0;a--){const c=o.openElements.items[a];if(o.treeAdapter.getNamespaceURI(c)===NS.HTML){o._endTagOutsideForeignContent(e);break}const d=o.treeAdapter.getTagName(c);if(d.toLowerCase()===e.tagName){e.tagName=d,o.openElements.shortenToLength(a);break}}}TAG_NAMES.AREA,TAG_NAMES.BASE,TAG_NAMES.BASEFONT,TAG_NAMES.BGSOUND,TAG_NAMES.BR,TAG_NAMES.COL,TAG_NAMES.EMBED,TAG_NAMES.FRAME,TAG_NAMES.HR,TAG_NAMES.IMG,TAG_NAMES.INPUT,TAG_NAMES.KEYGEN,TAG_NAMES.LINK,TAG_NAMES.META,TAG_NAMES.PARAM,TAG_NAMES.SOURCE,TAG_NAMES.TRACK,TAG_NAMES.WBR;const knownMdxNames=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),parseOptions={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function raw(o,e){const a=documentMode(o),c=zwitch("type",{handlers:{root,element,text,comment,doctype,raw:handleRaw},unknown}),d={parser:a?new Parser(parseOptions):Parser.getFragmentParser(void 0,parseOptions),handle(_){c(_,d)},stitches:!1,options:e||{}};c(o,d),resetTokenizer(d,pointStart());const g=a?d.parser.document:d.parser.getFragment(),b=fromParse5(g,{file:d.options.file});return d.stitches&&visit(b,"comment",function(_,_e,tt){const nt=_;if(nt.value.stitch&&tt&&_e!==void 0){const it=tt.children;return it[_e]=nt.value.stitch,_e}}),b.type==="root"&&b.children.length===1&&b.children[0].type===o.type?b.children[0]:b}function all(o,e){let a=-1;if(o)for(;++a<o.length;)e.handle(o[a])}function root(o,e){all(o.children,e)}function element(o,e){startTag(o,e),all(o.children,e),endTag(o,e)}function text(o,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const a={type:TokenType.CHARACTER,chars:o.value,location:createParse5Location(o)};resetTokenizer(e,pointStart(o)),e.parser.currentToken=a,e.parser._processToken(e.parser.currentToken)}function doctype(o,e){const a={type:TokenType.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:createParse5Location(o)};resetTokenizer(e,pointStart(o)),e.parser.currentToken=a,e.parser._processToken(e.parser.currentToken)}function stitch(o,e){e.stitches=!0;const a=cloneWithoutChildren(o);if("children"in o&&"children"in a){const c=raw({type:"root",children:o.children},e.options);a.children=c.children}comment({type:"comment",value:{stitch:a}},e)}function comment(o,e){const a=o.value,c={type:TokenType.COMMENT,data:a,location:createParse5Location(o)};resetTokenizer(e,pointStart(o)),e.parser.currentToken=c,e.parser._processToken(e.parser.currentToken)}function handleRaw(o,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,setPoint(e,pointStart(o)),e.parser.tokenizer.write(o.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const a=e.parser.tokenizer._consume();e.parser.tokenizer._callState(a)}}function unknown(o,e){const a=o;if(e.options.passThrough&&e.options.passThrough.includes(a.type))stitch(a,e);else{let c="";throw knownMdxNames.has(a.type)&&(c=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+a.type+"` node"+c)}}function resetTokenizer(o,e){setPoint(o,e);const a=o.parser.tokenizer.currentCharacterToken;a&&a.location&&(a.location.endLine=o.parser.tokenizer.preprocessor.line,a.location.endCol=o.parser.tokenizer.preprocessor.col+1,a.location.endOffset=o.parser.tokenizer.preprocessor.offset+1,o.parser.currentToken=a,o.parser._processToken(o.parser.currentToken)),o.parser.tokenizer.paused=!1,o.parser.tokenizer.inLoop=!1,o.parser.tokenizer.active=!1,o.parser.tokenizer.returnState=TokenizerMode.DATA,o.parser.tokenizer.charRefCode=-1,o.parser.tokenizer.consumedAfterSnapshot=-1,o.parser.tokenizer.currentLocation=null,o.parser.tokenizer.currentCharacterToken=null,o.parser.tokenizer.currentToken=null,o.parser.tokenizer.currentAttr={name:"",value:""}}function setPoint(o,e){if(e&&e.offset!==void 0){const a={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};o.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,o.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,o.parser.tokenizer.preprocessor.line=e.line,o.parser.tokenizer.currentLocation=a}}function startTag(o,e){const a=o.tagName.toLowerCase();if(e.parser.tokenizer.state===TokenizerMode.PLAINTEXT)return;resetTokenizer(e,pointStart(o));const c=e.parser.openElements.current;let d="namespaceURI"in c?c.namespaceURI:webNamespaces.html;d===webNamespaces.html&&a==="svg"&&(d=webNamespaces.svg);const g=toParse5({...o,children:[]},{space:d===webNamespaces.svg?"svg":"html"}),b={type:TokenType.START_TAG,tagName:a,tagID:getTagID(a),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in g?g.attrs:[],location:createParse5Location(o)};e.parser.currentToken=b,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=a}function endTag(o,e){const a=o.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&htmlVoidElements.includes(a)||e.parser.tokenizer.state===TokenizerMode.PLAINTEXT)return;resetTokenizer(e,pointEnd(o));const c={type:TokenType.END_TAG,tagName:a,tagID:getTagID(a),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:createParse5Location(o)};e.parser.currentToken=c,e.parser._processToken(e.parser.currentToken),a===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===TokenizerMode.RCDATA||e.parser.tokenizer.state===TokenizerMode.RAWTEXT||e.parser.tokenizer.state===TokenizerMode.SCRIPT_DATA)&&(e.parser.tokenizer.state=TokenizerMode.DATA)}function documentMode(o){const e=o.type==="root"?o.children[0]:o;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function createParse5Location(o){const e=pointStart(o)||{line:void 0,column:void 0,offset:void 0},a=pointEnd(o)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:a.line,endCol:a.column,endOffset:a.offset}}function cloneWithoutChildren(o){return"children"in o?structuredClone$1({...o,children:[]}):structuredClone$1(o)}function rehypeRaw(o){return function(e,a){return raw(e,{...o,file:a})}}const NoteEditor=({content,renderMarkdown,darkMode,fontSize,showLineNumbers,handleChange,editorRef})=>{const aiResponseExtension=StreamLanguage.define({token(o){return o.match(/AI Response \(\d{2}\/\d{2}\/\d{4}, \d{2}:\d{2}:\d{2}\):/,!1)?(o.skipToEnd(),"ai-response"):(o.next(),null)}}),getEditorExtensions=()=>{const o=[markdown({base:markdownLanguage,codeLanguages:languages}),EditorView.lineWrapping,aiResponseExtension,EditorView.theme({".cm-line.cm-ai-response":{backgroundColor:"#e6f3ff"}})];return showLineNumbers&&o.push(lineNumbers()),o};reactExports.useEffect(()=>{editorRef.current&&EditorView.reconfigure&&editorRef.current.dispatch({effects:EditorView.reconfigure.of(getEditorExtensions())})},[showLineNumbers]);const executeScripts=content=>{const tempDiv=document.createElement("div");tempDiv.innerHTML=content;const scripts=tempDiv.getElementsByTagName("script");for(let script of scripts)if(script.src){const o=document.createElement("script");o.src=script.src,document.body.appendChild(o)}else eval(script.innerText)};return reactExports.useEffect(()=>{renderMarkdown&&executeScripts(content)},[content,renderMarkdown]),jsxRuntimeExports.jsxs("div",{className:"h-full w-full overflow-auto",children:[" ",renderMarkdown?jsxRuntimeExports.jsx("div",{className:"prose max-w-none dark:prose-invert h-full overflow-auto p-4",children:jsxRuntimeExports.jsx(Markdown,{rehypePlugins:[rehypeRaw],components:{audio:({node:o,...e})=>jsxRuntimeExports.jsx("audio",{controls:!0,...e}),iframe:({node:o,...e})=>jsxRuntimeExports.jsx("iframe",{...e}),script:({node:o,...e})=>jsxRuntimeExports.jsx("script",{...e})},children:content})}):jsxRuntimeExports.jsx(ReactCodeMirror,{value:content,height:"100%",extensions:getEditorExtensions(),onChange:handleChange,theme:darkMode?"dark":"light",onCreateEditor:o=>{editorRef.current=o},style:{fontSize:`${fontSize}px`}})]})};function createContext2(o,e){const a=reactExports.createContext(e);function c(g){const{children:b,..._}=g,_e=reactExports.useMemo(()=>_,Object.values(_));return jsxRuntimeExports.jsx(a.Provider,{value:_e,children:b})}function d(g){const b=reactExports.useContext(a);if(b)return b;if(e!==void 0)return e;throw new Error(`\`${g}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}function createContextScope(o,e=[]){let a=[];function c(g,b){const _=reactExports.createContext(b),_e=a.length;a=[...a,b];function tt(it){const{scope:st,children:ot,...ht}=it,dt=(st==null?void 0:st[o][_e])||_,Et=reactExports.useMemo(()=>ht,Object.values(ht));return jsxRuntimeExports.jsx(dt.Provider,{value:Et,children:ot})}function nt(it,st){const ot=(st==null?void 0:st[o][_e])||_,ht=reactExports.useContext(ot);if(ht)return ht;if(b!==void 0)return b;throw new Error(`\`${it}\` must be used within \`${g}\``)}return tt.displayName=g+"Provider",[tt,nt]}const d=()=>{const g=a.map(b=>reactExports.createContext(b));return function(_){const _e=(_==null?void 0:_[o])||g;return reactExports.useMemo(()=>({[`__scope${o}`]:{..._,[o]:_e}}),[_,_e])}};return d.scopeName=o,[c,composeContextScopes(d,...e)]}function composeContextScopes(...o){const e=o[0];if(o.length===1)return e;const a=()=>{const c=o.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(g){const b=c.reduce((_,{useScope:_e,scopeName:tt})=>{const it=_e(g)[`__scope${tt}`];return{..._,...it}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:b}),[b])}};return a.scopeName=e.scopeName,a}function setRef(o,e){typeof o=="function"?o(e):o!=null&&(o.current=e)}function composeRefs(...o){return e=>o.forEach(a=>setRef(a,e))}function useComposedRefs(...o){return reactExports.useCallback(composeRefs(...o),o)}var Slot=reactExports.forwardRef((o,e)=>{const{children:a,...c}=o,d=reactExports.Children.toArray(a),g=d.find(isSlottable);if(g){const b=g.props.children,_=d.map(_e=>_e===g?reactExports.Children.count(b)>1?reactExports.Children.only(null):reactExports.isValidElement(b)?b.props.children:null:_e);return jsxRuntimeExports.jsx(SlotClone,{...c,ref:e,children:reactExports.isValidElement(b)?reactExports.cloneElement(b,void 0,_):null})}return jsxRuntimeExports.jsx(SlotClone,{...c,ref:e,children:a})});Slot.displayName="Slot";var SlotClone=reactExports.forwardRef((o,e)=>{const{children:a,...c}=o;if(reactExports.isValidElement(a)){const d=getElementRef$1(a);return reactExports.cloneElement(a,{...mergeProps(c,a.props),ref:e?composeRefs(e,d):d})}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:o})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:o});function isSlottable(o){return reactExports.isValidElement(o)&&o.type===Slottable}function mergeProps(o,e){const a={...e};for(const c in e){const d=o[c],g=e[c];/^on[A-Z]/.test(c)?d&&g?a[c]=(..._)=>{g(..._),d(..._)}:d&&(a[c]=d):c==="style"?a[c]={...d,...g}:c==="className"&&(a[c]=[d,g].filter(Boolean).join(" "))}return{...o,...a}}function getElementRef$1(o){var c,d;let e=(c=Object.getOwnPropertyDescriptor(o.props,"ref"))==null?void 0:c.get,a=e&&"isReactWarning"in e&&e.isReactWarning;return a?o.ref:(e=(d=Object.getOwnPropertyDescriptor(o,"ref"))==null?void 0:d.get,a=e&&"isReactWarning"in e&&e.isReactWarning,a?o.props.ref:o.props.ref||o.ref)}function createCollection(o){const e=o+"CollectionProvider",[a,c]=createContextScope(e),[d,g]=a(e,{collectionRef:{current:null},itemMap:new Map}),b=ot=>{const{scope:ht,children:dt}=ot,Et=React.useRef(null),pt=React.useRef(new Map).current;return jsxRuntimeExports.jsx(d,{scope:ht,itemMap:pt,collectionRef:Et,children:dt})};b.displayName=e;const _=o+"CollectionSlot",_e=React.forwardRef((ot,ht)=>{const{scope:dt,children:Et}=ot,pt=g(_,dt),gt=useComposedRefs(ht,pt.collectionRef);return jsxRuntimeExports.jsx(Slot,{ref:gt,children:Et})});_e.displayName=_;const tt=o+"CollectionItemSlot",nt="data-radix-collection-item",it=React.forwardRef((ot,ht)=>{const{scope:dt,children:Et,...pt}=ot,gt=React.useRef(null),St=useComposedRefs(ht,gt),Tt=g(tt,dt);return React.useEffect(()=>(Tt.itemMap.set(gt,{ref:gt,...pt}),()=>void Tt.itemMap.delete(gt))),jsxRuntimeExports.jsx(Slot,{[nt]:"",ref:St,children:Et})});it.displayName=tt;function st(ot){const ht=g(o+"CollectionConsumer",ot);return React.useCallback(()=>{const Et=ht.collectionRef.current;if(!Et)return[];const pt=Array.from(Et.querySelectorAll(`[${nt}]`));return Array.from(ht.itemMap.values()).sort((Tt,bt)=>pt.indexOf(Tt.ref.current)-pt.indexOf(bt.ref.current))},[ht.collectionRef,ht.itemMap])}return[{Provider:b,Slot:_e,ItemSlot:it},st,c]}var DirectionContext=reactExports.createContext(void 0);function useDirection(o){const e=reactExports.useContext(DirectionContext);return o||e||"ltr"}function composeEventHandlers(o,e,{checkForDefaultPrevented:a=!0}={}){return function(d){if(o==null||o(d),a===!1||!d.defaultPrevented)return e==null?void 0:e(d)}}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useReactId=React$1.useId||(()=>{}),count$1=0;function useId(o){const[e,a]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{a(c=>c??String(count$1++))},[o]),e?`radix-${e}`:""}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce((o,e)=>{const a=reactExports.forwardRef((c,d)=>{const{asChild:g,...b}=c,_=g?Slot:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(_,{...b,ref:d})});return a.displayName=`Primitive.${e}`,{...o,[e]:a}},{});function dispatchDiscreteCustomEvent(o,e){o&&reactDomExports.flushSync(()=>o.dispatchEvent(e))}function useCallbackRef$1(o){const e=reactExports.useRef(o);return reactExports.useEffect(()=>{e.current=o}),reactExports.useMemo(()=>(...a)=>{var c;return(c=e.current)==null?void 0:c.call(e,...a)},[])}function useEscapeKeydown(o,e=globalThis==null?void 0:globalThis.document){const a=useCallbackRef$1(o);reactExports.useEffect(()=>{const c=d=>{d.key==="Escape"&&a(d)};return e.addEventListener("keydown",c,{capture:!0}),()=>e.removeEventListener("keydown",c,{capture:!0})},[a,e])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((o,e)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:g,onInteractOutside:b,onDismiss:_,..._e}=o,tt=reactExports.useContext(DismissableLayerContext),[nt,it]=reactExports.useState(null),st=(nt==null?void 0:nt.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,ot]=reactExports.useState({}),ht=useComposedRefs(e,kt=>it(kt)),dt=Array.from(tt.layers),[Et]=[...tt.layersWithOutsidePointerEventsDisabled].slice(-1),pt=dt.indexOf(Et),gt=nt?dt.indexOf(nt):-1,St=tt.layersWithOutsidePointerEventsDisabled.size>0,Tt=gt>=pt,bt=usePointerDownOutside(kt=>{const Nt=kt.target,en=[...tt.branches].some(jt=>jt.contains(Nt));!Tt||en||(d==null||d(kt),b==null||b(kt),kt.defaultPrevented||_==null||_())},st),vt=useFocusOutside(kt=>{const Nt=kt.target;[...tt.branches].some(jt=>jt.contains(Nt))||(g==null||g(kt),b==null||b(kt),kt.defaultPrevented||_==null||_())},st);return useEscapeKeydown(kt=>{gt===tt.layers.size-1&&(c==null||c(kt),!kt.defaultPrevented&&_&&(kt.preventDefault(),_()))},st),reactExports.useEffect(()=>{if(nt)return a&&(tt.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=st.body.style.pointerEvents,st.body.style.pointerEvents="none"),tt.layersWithOutsidePointerEventsDisabled.add(nt)),tt.layers.add(nt),dispatchUpdate(),()=>{a&&tt.layersWithOutsidePointerEventsDisabled.size===1&&(st.body.style.pointerEvents=originalBodyPointerEvents)}},[nt,st,a,tt]),reactExports.useEffect(()=>()=>{nt&&(tt.layers.delete(nt),tt.layersWithOutsidePointerEventsDisabled.delete(nt),dispatchUpdate())},[nt,tt]),reactExports.useEffect(()=>{const kt=()=>ot({});return document.addEventListener(CONTEXT_UPDATE,kt),()=>document.removeEventListener(CONTEXT_UPDATE,kt)},[]),jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:ht,style:{pointerEvents:St?Tt?"auto":"none":void 0,...o.style},onFocusCapture:composeEventHandlers(o.onFocusCapture,vt.onFocusCapture),onBlurCapture:composeEventHandlers(o.onBlurCapture,vt.onBlurCapture),onPointerDownCapture:composeEventHandlers(o.onPointerDownCapture,bt.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((o,e)=>{const a=reactExports.useContext(DismissableLayerContext),c=reactExports.useRef(null),d=useComposedRefs(e,c);return reactExports.useEffect(()=>{const g=c.current;if(g)return a.branches.add(g),()=>{a.branches.delete(g)}},[a.branches]),jsxRuntimeExports.jsx(Primitive.div,{...o,ref:d})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(o,e=globalThis==null?void 0:globalThis.document){const a=useCallbackRef$1(o),c=reactExports.useRef(!1),d=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const g=_=>{if(_.target&&!c.current){let _e=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,a,tt,{discrete:!0})};const tt={originalEvent:_};_.pointerType==="touch"?(e.removeEventListener("click",d.current),d.current=_e,e.addEventListener("click",d.current,{once:!0})):_e()}else e.removeEventListener("click",d.current);c.current=!1},b=window.setTimeout(()=>{e.addEventListener("pointerdown",g)},0);return()=>{window.clearTimeout(b),e.removeEventListener("pointerdown",g),e.removeEventListener("click",d.current)}},[e,a]),{onPointerDownCapture:()=>c.current=!0}}function useFocusOutside(o,e=globalThis==null?void 0:globalThis.document){const a=useCallbackRef$1(o),c=reactExports.useRef(!1);return reactExports.useEffect(()=>{const d=g=>{g.target&&!c.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,a,{originalEvent:g},{discrete:!1})};return e.addEventListener("focusin",d),()=>e.removeEventListener("focusin",d)},[e,a]),{onFocusCapture:()=>c.current=!0,onBlurCapture:()=>c.current=!1}}function dispatchUpdate(){const o=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(o)}function handleAndDispatchCustomEvent(o,e,a,{discrete:c}){const d=a.originalEvent.target,g=new CustomEvent(o,{bubbles:!1,cancelable:!0,detail:a});e&&d.addEventListener(o,e,{once:!0}),c?dispatchDiscreteCustomEvent(d,g):d.dispatchEvent(g)}var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const o=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",o[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",o[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),count--}},[])}function createFocusGuard(){const o=document.createElement("span");return o.setAttribute("data-radix-focus-guard",""),o.tabIndex=0,o.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",o}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((o,e)=>{const{loop:a=!1,trapped:c=!1,onMountAutoFocus:d,onUnmountAutoFocus:g,...b}=o,[_,_e]=reactExports.useState(null),tt=useCallbackRef$1(d),nt=useCallbackRef$1(g),it=reactExports.useRef(null),st=useComposedRefs(e,dt=>_e(dt)),ot=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(c){let dt=function(St){if(ot.paused||!_)return;const Tt=St.target;_.contains(Tt)?it.current=Tt:focus(it.current,{select:!0})},Et=function(St){if(ot.paused||!_)return;const Tt=St.relatedTarget;Tt!==null&&(_.contains(Tt)||focus(it.current,{select:!0}))},pt=function(St){if(document.activeElement===document.body)for(const bt of St)bt.removedNodes.length>0&&focus(_)};document.addEventListener("focusin",dt),document.addEventListener("focusout",Et);const gt=new MutationObserver(pt);return _&&gt.observe(_,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",dt),document.removeEventListener("focusout",Et),gt.disconnect()}}},[c,_,ot.paused]),reactExports.useEffect(()=>{if(_){focusScopesStack.add(ot);const dt=document.activeElement;if(!_.contains(dt)){const pt=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);_.addEventListener(AUTOFOCUS_ON_MOUNT,tt),_.dispatchEvent(pt),pt.defaultPrevented||(focusFirst$2(removeLinks(getTabbableCandidates(_)),{select:!0}),document.activeElement===dt&&focus(_))}return()=>{_.removeEventListener(AUTOFOCUS_ON_MOUNT,tt),setTimeout(()=>{const pt=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);_.addEventListener(AUTOFOCUS_ON_UNMOUNT,nt),_.dispatchEvent(pt),pt.defaultPrevented||focus(dt??document.body,{select:!0}),_.removeEventListener(AUTOFOCUS_ON_UNMOUNT,nt),focusScopesStack.remove(ot)},0)}}},[_,tt,nt,ot]);const ht=reactExports.useCallback(dt=>{if(!a&&!c||ot.paused)return;const Et=dt.key==="Tab"&&!dt.altKey&&!dt.ctrlKey&&!dt.metaKey,pt=document.activeElement;if(Et&&pt){const gt=dt.currentTarget,[St,Tt]=getTabbableEdges(gt);St&&Tt?!dt.shiftKey&&pt===Tt?(dt.preventDefault(),a&&focus(St,{select:!0})):dt.shiftKey&&pt===St&&(dt.preventDefault(),a&&focus(Tt,{select:!0})):pt===gt&&dt.preventDefault()}},[a,c,ot.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...b,ref:st,onKeyDown:ht})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$2(o,{select:e=!1}={}){const a=document.activeElement;for(const c of o)if(focus(c,{select:e}),document.activeElement!==a)return}function getTabbableEdges(o){const e=getTabbableCandidates(o),a=findVisible(e,o),c=findVisible(e.reverse(),o);return[a,c]}function getTabbableCandidates(o){const e=[],a=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const d=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||d?NodeFilter.FILTER_SKIP:c.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)e.push(a.currentNode);return e}function findVisible(o,e){for(const a of o)if(!isHidden(a,{upTo:e}))return a}function isHidden(o,{upTo:e}){if(getComputedStyle(o).visibility==="hidden")return!0;for(;o;){if(e!==void 0&&o===e)return!1;if(getComputedStyle(o).display==="none")return!0;o=o.parentElement}return!1}function isSelectableInput(o){return o instanceof HTMLInputElement&&"select"in o}function focus(o,{select:e=!1}={}){if(o&&o.focus){const a=document.activeElement;o.focus({preventScroll:!0}),o!==a&&isSelectableInput(o)&&e&&o.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let o=[];return{add(e){const a=o[0];e!==a&&(a==null||a.pause()),o=arrayRemove(o,e),o.unshift(e)},remove(e){var a;o=arrayRemove(o,e),(a=o[0])==null||a.resume()}}}function arrayRemove(o,e){const a=[...o],c=a.indexOf(e);return c!==-1&&a.splice(c,1),a}function removeLinks(o){return o.filter(e=>e.tagName!=="A")}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=o=>({x:o,y:o}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(o,e,a){return max(o,min(e,a))}function evaluate(o,e){return typeof o=="function"?o(e):o}function getSide(o){return o.split("-")[0]}function getAlignment(o){return o.split("-")[1]}function getOppositeAxis(o){return o==="x"?"y":"x"}function getAxisLength(o){return o==="y"?"height":"width"}function getSideAxis(o){return["top","bottom"].includes(getSide(o))?"y":"x"}function getAlignmentAxis(o){return getOppositeAxis(getSideAxis(o))}function getAlignmentSides(o,e,a){a===void 0&&(a=!1);const c=getAlignment(o),d=getAlignmentAxis(o),g=getAxisLength(d);let b=d==="x"?c===(a?"end":"start")?"right":"left":c==="start"?"bottom":"top";return e.reference[g]>e.floating[g]&&(b=getOppositePlacement(b)),[b,getOppositePlacement(b)]}function getExpandedPlacements(o){const e=getOppositePlacement(o);return[getOppositeAlignmentPlacement(o),e,getOppositeAlignmentPlacement(e)]}function getOppositeAlignmentPlacement(o){return o.replace(/start|end/g,e=>oppositeAlignmentMap[e])}function getSideList(o,e,a){const c=["left","right"],d=["right","left"],g=["top","bottom"],b=["bottom","top"];switch(o){case"top":case"bottom":return a?e?d:c:e?c:d;case"left":case"right":return e?g:b;default:return[]}}function getOppositeAxisPlacements(o,e,a,c){const d=getAlignment(o);let g=getSideList(getSide(o),a==="start",c);return d&&(g=g.map(b=>b+"-"+d),e&&(g=g.concat(g.map(getOppositeAlignmentPlacement)))),g}function getOppositePlacement(o){return o.replace(/left|right|bottom|top/g,e=>oppositeSideMap[e])}function expandPaddingObject(o){return{top:0,right:0,bottom:0,left:0,...o}}function getPaddingObject(o){return typeof o!="number"?expandPaddingObject(o):{top:o,right:o,bottom:o,left:o}}function rectToClientRect(o){const{x:e,y:a,width:c,height:d}=o;return{width:c,height:d,top:a,left:e,right:e+c,bottom:a+d,x:e,y:a}}function computeCoordsFromPlacement(o,e,a){let{reference:c,floating:d}=o;const g=getSideAxis(e),b=getAlignmentAxis(e),_=getAxisLength(b),_e=getSide(e),tt=g==="y",nt=c.x+c.width/2-d.width/2,it=c.y+c.height/2-d.height/2,st=c[_]/2-d[_]/2;let ot;switch(_e){case"top":ot={x:nt,y:c.y-d.height};break;case"bottom":ot={x:nt,y:c.y+c.height};break;case"right":ot={x:c.x+c.width,y:it};break;case"left":ot={x:c.x-d.width,y:it};break;default:ot={x:c.x,y:c.y}}switch(getAlignment(e)){case"start":ot[b]-=st*(a&&tt?-1:1);break;case"end":ot[b]+=st*(a&&tt?-1:1);break}return ot}const computePosition$1=async(o,e,a)=>{const{placement:c="bottom",strategy:d="absolute",middleware:g=[],platform:b}=a,_=g.filter(Boolean),_e=await(b.isRTL==null?void 0:b.isRTL(e));let tt=await b.getElementRects({reference:o,floating:e,strategy:d}),{x:nt,y:it}=computeCoordsFromPlacement(tt,c,_e),st=c,ot={},ht=0;for(let dt=0;dt<_.length;dt++){const{name:Et,fn:pt}=_[dt],{x:gt,y:St,data:Tt,reset:bt}=await pt({x:nt,y:it,initialPlacement:c,placement:st,strategy:d,middlewareData:ot,rects:tt,platform:b,elements:{reference:o,floating:e}});nt=gt??nt,it=St??it,ot={...ot,[Et]:{...ot[Et],...Tt}},bt&&ht<=50&&(ht++,typeof bt=="object"&&(bt.placement&&(st=bt.placement),bt.rects&&(tt=bt.rects===!0?await b.getElementRects({reference:o,floating:e,strategy:d}):bt.rects),{x:nt,y:it}=computeCoordsFromPlacement(tt,st,_e)),dt=-1)}return{x:nt,y:it,placement:st,strategy:d,middlewareData:ot}};async function detectOverflow(o,e){var a;e===void 0&&(e={});const{x:c,y:d,platform:g,rects:b,elements:_,strategy:_e}=o,{boundary:tt="clippingAncestors",rootBoundary:nt="viewport",elementContext:it="floating",altBoundary:st=!1,padding:ot=0}=evaluate(e,o),ht=getPaddingObject(ot),Et=_[st?it==="floating"?"reference":"floating":it],pt=rectToClientRect(await g.getClippingRect({element:(a=await(g.isElement==null?void 0:g.isElement(Et)))==null||a?Et:Et.contextElement||await(g.getDocumentElement==null?void 0:g.getDocumentElement(_.floating)),boundary:tt,rootBoundary:nt,strategy:_e})),gt=it==="floating"?{x:c,y:d,width:b.floating.width,height:b.floating.height}:b.reference,St=await(g.getOffsetParent==null?void 0:g.getOffsetParent(_.floating)),Tt=await(g.isElement==null?void 0:g.isElement(St))?await(g.getScale==null?void 0:g.getScale(St))||{x:1,y:1}:{x:1,y:1},bt=rectToClientRect(g.convertOffsetParentRelativeRectToViewportRelativeRect?await g.convertOffsetParentRelativeRectToViewportRelativeRect({elements:_,rect:gt,offsetParent:St,strategy:_e}):gt);return{top:(pt.top-bt.top+ht.top)/Tt.y,bottom:(bt.bottom-pt.bottom+ht.bottom)/Tt.y,left:(pt.left-bt.left+ht.left)/Tt.x,right:(bt.right-pt.right+ht.right)/Tt.x}}const arrow$3=o=>({name:"arrow",options:o,async fn(e){const{x:a,y:c,placement:d,rects:g,platform:b,elements:_,middlewareData:_e}=e,{element:tt,padding:nt=0}=evaluate(o,e)||{};if(tt==null)return{};const it=getPaddingObject(nt),st={x:a,y:c},ot=getAlignmentAxis(d),ht=getAxisLength(ot),dt=await b.getDimensions(tt),Et=ot==="y",pt=Et?"top":"left",gt=Et?"bottom":"right",St=Et?"clientHeight":"clientWidth",Tt=g.reference[ht]+g.reference[ot]-st[ot]-g.floating[ht],bt=st[ot]-g.reference[ot],vt=await(b.getOffsetParent==null?void 0:b.getOffsetParent(tt));let kt=vt?vt[St]:0;(!kt||!await(b.isElement==null?void 0:b.isElement(vt)))&&(kt=_.floating[St]||g.floating[ht]);const Nt=Tt/2-bt/2,en=kt/2-dt[ht]/2-1,jt=min(it[pt],en),tn=min(it[gt],en),Yt=jt,pn=kt-dt[ht]-tn,mn=kt/2-dt[ht]/2+Nt,dn=clamp$1(Yt,mn,pn),On=!_e.arrow&&getAlignment(d)!=null&&mn!==dn&&g.reference[ht]/2-(mn<Yt?jt:tn)-dt[ht]/2<0,hn=On?mn<Yt?mn-Yt:mn-pn:0;return{[ot]:st[ot]+hn,data:{[ot]:dn,centerOffset:mn-dn-hn,...On&&{alignmentOffset:hn}},reset:On}}}),flip$2=function(o){return o===void 0&&(o={}),{name:"flip",options:o,async fn(e){var a,c;const{placement:d,middlewareData:g,rects:b,initialPlacement:_,platform:_e,elements:tt}=e,{mainAxis:nt=!0,crossAxis:it=!0,fallbackPlacements:st,fallbackStrategy:ot="bestFit",fallbackAxisSideDirection:ht="none",flipAlignment:dt=!0,...Et}=evaluate(o,e);if((a=g.arrow)!=null&&a.alignmentOffset)return{};const pt=getSide(d),gt=getSideAxis(_),St=getSide(_)===_,Tt=await(_e.isRTL==null?void 0:_e.isRTL(tt.floating)),bt=st||(St||!dt?[getOppositePlacement(_)]:getExpandedPlacements(_)),vt=ht!=="none";!st&&vt&&bt.push(...getOppositeAxisPlacements(_,dt,ht,Tt));const kt=[_,...bt],Nt=await detectOverflow(e,Et),en=[];let jt=((c=g.flip)==null?void 0:c.overflows)||[];if(nt&&en.push(Nt[pt]),it){const mn=getAlignmentSides(d,b,Tt);en.push(Nt[mn[0]],Nt[mn[1]])}if(jt=[...jt,{placement:d,overflows:en}],!en.every(mn=>mn<=0)){var tn,Yt;const mn=(((tn=g.flip)==null?void 0:tn.index)||0)+1,dn=kt[mn];if(dn)return{data:{index:mn,overflows:jt},reset:{placement:dn}};let On=(Yt=jt.filter(hn=>hn.overflows[0]<=0).sort((hn,zt)=>hn.overflows[1]-zt.overflows[1])[0])==null?void 0:Yt.placement;if(!On)switch(ot){case"bestFit":{var pn;const hn=(pn=jt.filter(zt=>{if(vt){const nn=getSideAxis(zt.placement);return nn===gt||nn==="y"}return!0}).map(zt=>[zt.placement,zt.overflows.filter(nn=>nn>0).reduce((nn,wt)=>nn+wt,0)]).sort((zt,nn)=>zt[1]-nn[1])[0])==null?void 0:pn[0];hn&&(On=hn);break}case"initialPlacement":On=_;break}if(d!==On)return{reset:{placement:On}}}return{}}}};function getSideOffsets(o,e){return{top:o.top-e.height,right:o.right-e.width,bottom:o.bottom-e.height,left:o.left-e.width}}function isAnySideFullyClipped(o){return sides.some(e=>o[e]>=0)}const hide$2=function(o){return o===void 0&&(o={}),{name:"hide",options:o,async fn(e){const{rects:a}=e,{strategy:c="referenceHidden",...d}=evaluate(o,e);switch(c){case"referenceHidden":{const g=await detectOverflow(e,{...d,elementContext:"reference"}),b=getSideOffsets(g,a.reference);return{data:{referenceHiddenOffsets:b,referenceHidden:isAnySideFullyClipped(b)}}}case"escaped":{const g=await detectOverflow(e,{...d,altBoundary:!0}),b=getSideOffsets(g,a.floating);return{data:{escapedOffsets:b,escaped:isAnySideFullyClipped(b)}}}default:return{}}}}};async function convertValueToCoords(o,e){const{placement:a,platform:c,elements:d}=o,g=await(c.isRTL==null?void 0:c.isRTL(d.floating)),b=getSide(a),_=getAlignment(a),_e=getSideAxis(a)==="y",tt=["left","top"].includes(b)?-1:1,nt=g&&_e?-1:1,it=evaluate(e,o);let{mainAxis:st,crossAxis:ot,alignmentAxis:ht}=typeof it=="number"?{mainAxis:it,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...it};return _&&typeof ht=="number"&&(ot=_==="end"?ht*-1:ht),_e?{x:ot*nt,y:st*tt}:{x:st*tt,y:ot*nt}}const offset$2=function(o){return o===void 0&&(o=0),{name:"offset",options:o,async fn(e){var a,c;const{x:d,y:g,placement:b,middlewareData:_}=e,_e=await convertValueToCoords(e,o);return b===((a=_.offset)==null?void 0:a.placement)&&(c=_.arrow)!=null&&c.alignmentOffset?{}:{x:d+_e.x,y:g+_e.y,data:{..._e,placement:b}}}}},shift$2=function(o){return o===void 0&&(o={}),{name:"shift",options:o,async fn(e){const{x:a,y:c,placement:d}=e,{mainAxis:g=!0,crossAxis:b=!1,limiter:_={fn:Et=>{let{x:pt,y:gt}=Et;return{x:pt,y:gt}}},..._e}=evaluate(o,e),tt={x:a,y:c},nt=await detectOverflow(e,_e),it=getSideAxis(getSide(d)),st=getOppositeAxis(it);let ot=tt[st],ht=tt[it];if(g){const Et=st==="y"?"top":"left",pt=st==="y"?"bottom":"right",gt=ot+nt[Et],St=ot-nt[pt];ot=clamp$1(gt,ot,St)}if(b){const Et=it==="y"?"top":"left",pt=it==="y"?"bottom":"right",gt=ht+nt[Et],St=ht-nt[pt];ht=clamp$1(gt,ht,St)}const dt=_.fn({...e,[st]:ot,[it]:ht});return{...dt,data:{x:dt.x-a,y:dt.y-c}}}}},limitShift$2=function(o){return o===void 0&&(o={}),{options:o,fn(e){const{x:a,y:c,placement:d,rects:g,middlewareData:b}=e,{offset:_=0,mainAxis:_e=!0,crossAxis:tt=!0}=evaluate(o,e),nt={x:a,y:c},it=getSideAxis(d),st=getOppositeAxis(it);let ot=nt[st],ht=nt[it];const dt=evaluate(_,e),Et=typeof dt=="number"?{mainAxis:dt,crossAxis:0}:{mainAxis:0,crossAxis:0,...dt};if(_e){const St=st==="y"?"height":"width",Tt=g.reference[st]-g.floating[St]+Et.mainAxis,bt=g.reference[st]+g.reference[St]-Et.mainAxis;ot<Tt?ot=Tt:ot>bt&&(ot=bt)}if(tt){var pt,gt;const St=st==="y"?"width":"height",Tt=["top","left"].includes(getSide(d)),bt=g.reference[it]-g.floating[St]+(Tt&&((pt=b.offset)==null?void 0:pt[it])||0)+(Tt?0:Et.crossAxis),vt=g.reference[it]+g.reference[St]+(Tt?0:((gt=b.offset)==null?void 0:gt[it])||0)-(Tt?Et.crossAxis:0);ht<bt?ht=bt:ht>vt&&(ht=vt)}return{[st]:ot,[it]:ht}}}},size$2=function(o){return o===void 0&&(o={}),{name:"size",options:o,async fn(e){const{placement:a,rects:c,platform:d,elements:g}=e,{apply:b=()=>{},..._}=evaluate(o,e),_e=await detectOverflow(e,_),tt=getSide(a),nt=getAlignment(a),it=getSideAxis(a)==="y",{width:st,height:ot}=c.floating;let ht,dt;tt==="top"||tt==="bottom"?(ht=tt,dt=nt===(await(d.isRTL==null?void 0:d.isRTL(g.floating))?"start":"end")?"left":"right"):(dt=tt,ht=nt==="end"?"top":"bottom");const Et=ot-_e.top-_e.bottom,pt=st-_e.left-_e.right,gt=min(ot-_e[ht],Et),St=min(st-_e[dt],pt),Tt=!e.middlewareData.shift;let bt=gt,vt=St;if(it?vt=nt||Tt?min(St,pt):pt:bt=nt||Tt?min(gt,Et):Et,Tt&&!nt){const Nt=max(_e.left,0),en=max(_e.right,0),jt=max(_e.top,0),tn=max(_e.bottom,0);it?vt=st-2*(Nt!==0||en!==0?Nt+en:max(_e.left,_e.right)):bt=ot-2*(jt!==0||tn!==0?jt+tn:max(_e.top,_e.bottom))}await b({...e,availableWidth:vt,availableHeight:bt});const kt=await d.getDimensions(g.floating);return st!==kt.width||ot!==kt.height?{reset:{rects:!0}}:{}}}};function getNodeName(o){return isNode(o)?(o.nodeName||"").toLowerCase():"#document"}function getWindow(o){var e;return(o==null||(e=o.ownerDocument)==null?void 0:e.defaultView)||window}function getDocumentElement(o){var e;return(e=(isNode(o)?o.ownerDocument:o.document)||window.document)==null?void 0:e.documentElement}function isNode(o){return o instanceof Node||o instanceof getWindow(o).Node}function isElement(o){return o instanceof Element||o instanceof getWindow(o).Element}function isHTMLElement(o){return o instanceof HTMLElement||o instanceof getWindow(o).HTMLElement}function isShadowRoot(o){return typeof ShadowRoot>"u"?!1:o instanceof ShadowRoot||o instanceof getWindow(o).ShadowRoot}function isOverflowElement(o){const{overflow:e,overflowX:a,overflowY:c,display:d}=getComputedStyle$1(o);return/auto|scroll|overlay|hidden|clip/.test(e+c+a)&&!["inline","contents"].includes(d)}function isTableElement(o){return["table","td","th"].includes(getNodeName(o))}function isTopLayer(o){return[":popover-open",":modal"].some(e=>{try{return o.matches(e)}catch{return!1}})}function isContainingBlock(o){const e=isWebKit(),a=isElement(o)?getComputedStyle$1(o):o;return a.transform!=="none"||a.perspective!=="none"||(a.containerType?a.containerType!=="normal":!1)||!e&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!e&&(a.filter?a.filter!=="none":!1)||["transform","perspective","filter"].some(c=>(a.willChange||"").includes(c))||["paint","layout","strict","content"].some(c=>(a.contain||"").includes(c))}function getContainingBlock(o){let e=getParentNode(o);for(;isHTMLElement(e)&&!isLastTraversableNode(e);){if(isContainingBlock(e))return e;if(isTopLayer(e))return null;e=getParentNode(e)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(o){return["html","body","#document"].includes(getNodeName(o))}function getComputedStyle$1(o){return getWindow(o).getComputedStyle(o)}function getNodeScroll(o){return isElement(o)?{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}:{scrollLeft:o.scrollX,scrollTop:o.scrollY}}function getParentNode(o){if(getNodeName(o)==="html")return o;const e=o.assignedSlot||o.parentNode||isShadowRoot(o)&&o.host||getDocumentElement(o);return isShadowRoot(e)?e.host:e}function getNearestOverflowAncestor(o){const e=getParentNode(o);return isLastTraversableNode(e)?o.ownerDocument?o.ownerDocument.body:o.body:isHTMLElement(e)&&isOverflowElement(e)?e:getNearestOverflowAncestor(e)}function getOverflowAncestors(o,e,a){var c;e===void 0&&(e=[]),a===void 0&&(a=!0);const d=getNearestOverflowAncestor(o),g=d===((c=o.ownerDocument)==null?void 0:c.body),b=getWindow(d);return g?e.concat(b,b.visualViewport||[],isOverflowElement(d)?d:[],b.frameElement&&a?getOverflowAncestors(b.frameElement):[]):e.concat(d,getOverflowAncestors(d,[],a))}function getCssDimensions(o){const e=getComputedStyle$1(o);let a=parseFloat(e.width)||0,c=parseFloat(e.height)||0;const d=isHTMLElement(o),g=d?o.offsetWidth:a,b=d?o.offsetHeight:c,_=round(a)!==g||round(c)!==b;return _&&(a=g,c=b),{width:a,height:c,$:_}}function unwrapElement(o){return isElement(o)?o:o.contextElement}function getScale(o){const e=unwrapElement(o);if(!isHTMLElement(e))return createCoords(1);const a=e.getBoundingClientRect(),{width:c,height:d,$:g}=getCssDimensions(e);let b=(g?round(a.width):a.width)/c,_=(g?round(a.height):a.height)/d;return(!b||!Number.isFinite(b))&&(b=1),(!_||!Number.isFinite(_))&&(_=1),{x:b,y:_}}const noOffsets=createCoords(0);function getVisualOffsets(o){const e=getWindow(o);return!isWebKit()||!e.visualViewport?noOffsets:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function shouldAddVisualOffsets(o,e,a){return e===void 0&&(e=!1),!a||e&&a!==getWindow(o)?!1:e}function getBoundingClientRect(o,e,a,c){e===void 0&&(e=!1),a===void 0&&(a=!1);const d=o.getBoundingClientRect(),g=unwrapElement(o);let b=createCoords(1);e&&(c?isElement(c)&&(b=getScale(c)):b=getScale(o));const _=shouldAddVisualOffsets(g,a,c)?getVisualOffsets(g):createCoords(0);let _e=(d.left+_.x)/b.x,tt=(d.top+_.y)/b.y,nt=d.width/b.x,it=d.height/b.y;if(g){const st=getWindow(g),ot=c&&isElement(c)?getWindow(c):c;let ht=st,dt=ht.frameElement;for(;dt&&c&&ot!==ht;){const Et=getScale(dt),pt=dt.getBoundingClientRect(),gt=getComputedStyle$1(dt),St=pt.left+(dt.clientLeft+parseFloat(gt.paddingLeft))*Et.x,Tt=pt.top+(dt.clientTop+parseFloat(gt.paddingTop))*Et.y;_e*=Et.x,tt*=Et.y,nt*=Et.x,it*=Et.y,_e+=St,tt+=Tt,ht=getWindow(dt),dt=ht.frameElement}}return rectToClientRect({width:nt,height:it,x:_e,y:tt})}function convertOffsetParentRelativeRectToViewportRelativeRect(o){let{elements:e,rect:a,offsetParent:c,strategy:d}=o;const g=d==="fixed",b=getDocumentElement(c),_=e?isTopLayer(e.floating):!1;if(c===b||_&&g)return a;let _e={scrollLeft:0,scrollTop:0},tt=createCoords(1);const nt=createCoords(0),it=isHTMLElement(c);if((it||!it&&!g)&&((getNodeName(c)!=="body"||isOverflowElement(b))&&(_e=getNodeScroll(c)),isHTMLElement(c))){const st=getBoundingClientRect(c);tt=getScale(c),nt.x=st.x+c.clientLeft,nt.y=st.y+c.clientTop}return{width:a.width*tt.x,height:a.height*tt.y,x:a.x*tt.x-_e.scrollLeft*tt.x+nt.x,y:a.y*tt.y-_e.scrollTop*tt.y+nt.y}}function getClientRects(o){return Array.from(o.getClientRects())}function getWindowScrollBarX(o){return getBoundingClientRect(getDocumentElement(o)).left+getNodeScroll(o).scrollLeft}function getDocumentRect(o){const e=getDocumentElement(o),a=getNodeScroll(o),c=o.ownerDocument.body,d=max(e.scrollWidth,e.clientWidth,c.scrollWidth,c.clientWidth),g=max(e.scrollHeight,e.clientHeight,c.scrollHeight,c.clientHeight);let b=-a.scrollLeft+getWindowScrollBarX(o);const _=-a.scrollTop;return getComputedStyle$1(c).direction==="rtl"&&(b+=max(e.clientWidth,c.clientWidth)-d),{width:d,height:g,x:b,y:_}}function getViewportRect(o,e){const a=getWindow(o),c=getDocumentElement(o),d=a.visualViewport;let g=c.clientWidth,b=c.clientHeight,_=0,_e=0;if(d){g=d.width,b=d.height;const tt=isWebKit();(!tt||tt&&e==="fixed")&&(_=d.offsetLeft,_e=d.offsetTop)}return{width:g,height:b,x:_,y:_e}}function getInnerBoundingClientRect(o,e){const a=getBoundingClientRect(o,!0,e==="fixed"),c=a.top+o.clientTop,d=a.left+o.clientLeft,g=isHTMLElement(o)?getScale(o):createCoords(1),b=o.clientWidth*g.x,_=o.clientHeight*g.y,_e=d*g.x,tt=c*g.y;return{width:b,height:_,x:_e,y:tt}}function getClientRectFromClippingAncestor(o,e,a){let c;if(e==="viewport")c=getViewportRect(o,a);else if(e==="document")c=getDocumentRect(getDocumentElement(o));else if(isElement(e))c=getInnerBoundingClientRect(e,a);else{const d=getVisualOffsets(o);c={...e,x:e.x-d.x,y:e.y-d.y}}return rectToClientRect(c)}function hasFixedPositionAncestor(o,e){const a=getParentNode(o);return a===e||!isElement(a)||isLastTraversableNode(a)?!1:getComputedStyle$1(a).position==="fixed"||hasFixedPositionAncestor(a,e)}function getClippingElementAncestors(o,e){const a=e.get(o);if(a)return a;let c=getOverflowAncestors(o,[],!1).filter(_=>isElement(_)&&getNodeName(_)!=="body"),d=null;const g=getComputedStyle$1(o).position==="fixed";let b=g?getParentNode(o):o;for(;isElement(b)&&!isLastTraversableNode(b);){const _=getComputedStyle$1(b),_e=isContainingBlock(b);!_e&&_.position==="fixed"&&(d=null),(g?!_e&&!d:!_e&&_.position==="static"&&!!d&&["absolute","fixed"].includes(d.position)||isOverflowElement(b)&&!_e&&hasFixedPositionAncestor(o,b))?c=c.filter(nt=>nt!==b):d=_,b=getParentNode(b)}return e.set(o,c),c}function getClippingRect(o){let{element:e,boundary:a,rootBoundary:c,strategy:d}=o;const b=[...a==="clippingAncestors"?isTopLayer(e)?[]:getClippingElementAncestors(e,this._c):[].concat(a),c],_=b[0],_e=b.reduce((tt,nt)=>{const it=getClientRectFromClippingAncestor(e,nt,d);return tt.top=max(it.top,tt.top),tt.right=min(it.right,tt.right),tt.bottom=min(it.bottom,tt.bottom),tt.left=max(it.left,tt.left),tt},getClientRectFromClippingAncestor(e,_,d));return{width:_e.right-_e.left,height:_e.bottom-_e.top,x:_e.left,y:_e.top}}function getDimensions(o){const{width:e,height:a}=getCssDimensions(o);return{width:e,height:a}}function getRectRelativeToOffsetParent(o,e,a){const c=isHTMLElement(e),d=getDocumentElement(e),g=a==="fixed",b=getBoundingClientRect(o,!0,g,e);let _={scrollLeft:0,scrollTop:0};const _e=createCoords(0);if(c||!c&&!g)if((getNodeName(e)!=="body"||isOverflowElement(d))&&(_=getNodeScroll(e)),c){const it=getBoundingClientRect(e,!0,g,e);_e.x=it.x+e.clientLeft,_e.y=it.y+e.clientTop}else d&&(_e.x=getWindowScrollBarX(d));const tt=b.left+_.scrollLeft-_e.x,nt=b.top+_.scrollTop-_e.y;return{x:tt,y:nt,width:b.width,height:b.height}}function isStaticPositioned(o){return getComputedStyle$1(o).position==="static"}function getTrueOffsetParent(o,e){return!isHTMLElement(o)||getComputedStyle$1(o).position==="fixed"?null:e?e(o):o.offsetParent}function getOffsetParent(o,e){const a=getWindow(o);if(isTopLayer(o))return a;if(!isHTMLElement(o)){let d=getParentNode(o);for(;d&&!isLastTraversableNode(d);){if(isElement(d)&&!isStaticPositioned(d))return d;d=getParentNode(d)}return a}let c=getTrueOffsetParent(o,e);for(;c&&isTableElement(c)&&isStaticPositioned(c);)c=getTrueOffsetParent(c,e);return c&&isLastTraversableNode(c)&&isStaticPositioned(c)&&!isContainingBlock(c)?a:c||getContainingBlock(o)||a}const getElementRects=async function(o){const e=this.getOffsetParent||getOffsetParent,a=this.getDimensions,c=await a(o.floating);return{reference:getRectRelativeToOffsetParent(o.reference,await e(o.floating),o.strategy),floating:{x:0,y:0,width:c.width,height:c.height}}};function isRTL(o){return getComputedStyle$1(o).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(o,e){let a=null,c;const d=getDocumentElement(o);function g(){var _;clearTimeout(c),(_=a)==null||_.disconnect(),a=null}function b(_,_e){_===void 0&&(_=!1),_e===void 0&&(_e=1),g();const{left:tt,top:nt,width:it,height:st}=o.getBoundingClientRect();if(_||e(),!it||!st)return;const ot=floor(nt),ht=floor(d.clientWidth-(tt+it)),dt=floor(d.clientHeight-(nt+st)),Et=floor(tt),gt={rootMargin:-ot+"px "+-ht+"px "+-dt+"px "+-Et+"px",threshold:max(0,min(1,_e))||1};let St=!0;function Tt(bt){const vt=bt[0].intersectionRatio;if(vt!==_e){if(!St)return b();vt?b(!1,vt):c=setTimeout(()=>{b(!1,1e-7)},1e3)}St=!1}try{a=new IntersectionObserver(Tt,{...gt,root:d.ownerDocument})}catch{a=new IntersectionObserver(Tt,gt)}a.observe(o)}return b(!0),g}function autoUpdate(o,e,a,c){c===void 0&&(c={});const{ancestorScroll:d=!0,ancestorResize:g=!0,elementResize:b=typeof ResizeObserver=="function",layoutShift:_=typeof IntersectionObserver=="function",animationFrame:_e=!1}=c,tt=unwrapElement(o),nt=d||g?[...tt?getOverflowAncestors(tt):[],...getOverflowAncestors(e)]:[];nt.forEach(pt=>{d&&pt.addEventListener("scroll",a,{passive:!0}),g&&pt.addEventListener("resize",a)});const it=tt&&_?observeMove(tt,a):null;let st=-1,ot=null;b&&(ot=new ResizeObserver(pt=>{let[gt]=pt;gt&&gt.target===tt&&ot&&(ot.unobserve(e),cancelAnimationFrame(st),st=requestAnimationFrame(()=>{var St;(St=ot)==null||St.observe(e)})),a()}),tt&&!_e&&ot.observe(tt),ot.observe(e));let ht,dt=_e?getBoundingClientRect(o):null;_e&&Et();function Et(){const pt=getBoundingClientRect(o);dt&&(pt.x!==dt.x||pt.y!==dt.y||pt.width!==dt.width||pt.height!==dt.height)&&a(),dt=pt,ht=requestAnimationFrame(Et)}return a(),()=>{var pt;nt.forEach(gt=>{d&&gt.removeEventListener("scroll",a),g&&gt.removeEventListener("resize",a)}),it==null||it(),(pt=ot)==null||pt.disconnect(),ot=null,_e&&cancelAnimationFrame(ht)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(o,e,a)=>{const c=new Map,d={platform,...a},g={...d.platform,_c:c};return computePosition$1(o,e,{...d,platform:g})};var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(o,e){if(o===e)return!0;if(typeof o!=typeof e)return!1;if(typeof o=="function"&&o.toString()===e.toString())return!0;let a,c,d;if(o&&e&&typeof o=="object"){if(Array.isArray(o)){if(a=o.length,a!==e.length)return!1;for(c=a;c--!==0;)if(!deepEqual(o[c],e[c]))return!1;return!0}if(d=Object.keys(o),a=d.length,a!==Object.keys(e).length)return!1;for(c=a;c--!==0;)if(!{}.hasOwnProperty.call(e,d[c]))return!1;for(c=a;c--!==0;){const g=d[c];if(!(g==="_owner"&&o.$$typeof)&&!deepEqual(o[g],e[g]))return!1}return!0}return o!==o&&e!==e}function getDPR(o){return typeof window>"u"?1:(o.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(o,e){const a=getDPR(o);return Math.round(e*a)/a}function useLatestRef(o){const e=reactExports.useRef(o);return index(()=>{e.current=o}),e}function useFloating(o){o===void 0&&(o={});const{placement:e="bottom",strategy:a="absolute",middleware:c=[],platform:d,elements:{reference:g,floating:b}={},transform:_=!0,whileElementsMounted:_e,open:tt}=o,[nt,it]=reactExports.useState({x:0,y:0,strategy:a,placement:e,middlewareData:{},isPositioned:!1}),[st,ot]=reactExports.useState(c);deepEqual(st,c)||ot(c);const[ht,dt]=reactExports.useState(null),[Et,pt]=reactExports.useState(null),gt=reactExports.useCallback(hn=>{hn!==vt.current&&(vt.current=hn,dt(hn))},[]),St=reactExports.useCallback(hn=>{hn!==kt.current&&(kt.current=hn,pt(hn))},[]),Tt=g||ht,bt=b||Et,vt=reactExports.useRef(null),kt=reactExports.useRef(null),Nt=reactExports.useRef(nt),en=_e!=null,jt=useLatestRef(_e),tn=useLatestRef(d),Yt=reactExports.useCallback(()=>{if(!vt.current||!kt.current)return;const hn={placement:e,strategy:a,middleware:st};tn.current&&(hn.platform=tn.current),computePosition(vt.current,kt.current,hn).then(zt=>{const nn={...zt,isPositioned:!0};pn.current&&!deepEqual(Nt.current,nn)&&(Nt.current=nn,reactDomExports.flushSync(()=>{it(nn)}))})},[st,e,a,tn]);index(()=>{tt===!1&&Nt.current.isPositioned&&(Nt.current.isPositioned=!1,it(hn=>({...hn,isPositioned:!1})))},[tt]);const pn=reactExports.useRef(!1);index(()=>(pn.current=!0,()=>{pn.current=!1}),[]),index(()=>{if(Tt&&(vt.current=Tt),bt&&(kt.current=bt),Tt&&bt){if(jt.current)return jt.current(Tt,bt,Yt);Yt()}},[Tt,bt,Yt,jt,en]);const mn=reactExports.useMemo(()=>({reference:vt,floating:kt,setReference:gt,setFloating:St}),[gt,St]),dn=reactExports.useMemo(()=>({reference:Tt,floating:bt}),[Tt,bt]),On=reactExports.useMemo(()=>{const hn={position:a,left:0,top:0};if(!dn.floating)return hn;const zt=roundByDPR(dn.floating,nt.x),nn=roundByDPR(dn.floating,nt.y);return _?{...hn,transform:"translate("+zt+"px, "+nn+"px)",...getDPR(dn.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:zt,top:nn}},[a,_,dn.floating,nt.x,nt.y]);return reactExports.useMemo(()=>({...nt,update:Yt,refs:mn,elements:dn,floatingStyles:On}),[nt,Yt,mn,dn,On])}const arrow$1=o=>{function e(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:o,fn(a){const{element:c,padding:d}=typeof o=="function"?o(a):o;return c&&e(c)?c.current!=null?arrow$2({element:c.current,padding:d}).fn(a):{}:c?arrow$2({element:c,padding:d}).fn(a):{}}}},offset=(o,e)=>({...offset$1(o),options:[o,e]}),shift=(o,e)=>({...shift$1(o),options:[o,e]}),limitShift=(o,e)=>({...limitShift$1(o),options:[o,e]}),flip=(o,e)=>({...flip$1(o),options:[o,e]}),size=(o,e)=>({...size$1(o),options:[o,e]}),hide=(o,e)=>({...hide$1(o),options:[o,e]}),arrow=(o,e)=>({...arrow$1(o),options:[o,e]});var NAME$2="Arrow",Arrow$1=reactExports.forwardRef((o,e)=>{const{children:a,width:c=10,height:d=5,...g}=o;return jsxRuntimeExports.jsx(Primitive.svg,{...g,ref:e,width:c,height:d,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:o.asChild?a:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$2;var Root$6=Arrow$1;function useSize(o){const[e,a]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(o){a({width:o.offsetWidth,height:o.offsetHeight});const c=new ResizeObserver(d=>{if(!Array.isArray(d)||!d.length)return;const g=d[0];let b,_;if("borderBoxSize"in g){const _e=g.borderBoxSize,tt=Array.isArray(_e)?_e[0]:_e;b=tt.inlineSize,_=tt.blockSize}else b=o.offsetWidth,_=o.offsetHeight;a({width:b,height:_})});return c.observe(o,{box:"border-box"}),()=>c.unobserve(o)}else a(void 0)},[o]),e}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=o=>{const{__scopePopper:e,children:a}=o,[c,d]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:e,anchor:c,onAnchorChange:d,children:a})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$1="PopperAnchor",PopperAnchor=reactExports.forwardRef((o,e)=>{const{__scopePopper:a,virtualRef:c,...d}=o,g=usePopperContext(ANCHOR_NAME$1,a),b=reactExports.useRef(null),_=useComposedRefs(e,b);return reactExports.useEffect(()=>{g.onAnchorChange((c==null?void 0:c.current)||b.current)}),c?null:jsxRuntimeExports.jsx(Primitive.div,{...d,ref:_})});PopperAnchor.displayName=ANCHOR_NAME$1;var CONTENT_NAME$4="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$4),PopperContent=reactExports.forwardRef((o,e)=>{var Wn,Gn,Fn,ir,pr,mr;const{__scopePopper:a,side:c="bottom",sideOffset:d=0,align:g="center",alignOffset:b=0,arrowPadding:_=0,avoidCollisions:_e=!0,collisionBoundary:tt=[],collisionPadding:nt=0,sticky:it="partial",hideWhenDetached:st=!1,updatePositionStrategy:ot="optimized",onPlaced:ht,...dt}=o,Et=usePopperContext(CONTENT_NAME$4,a),[pt,gt]=reactExports.useState(null),St=useComposedRefs(e,Nr=>gt(Nr)),[Tt,bt]=reactExports.useState(null),vt=useSize(Tt),kt=(vt==null?void 0:vt.width)??0,Nt=(vt==null?void 0:vt.height)??0,en=c+(g!=="center"?"-"+g:""),jt=typeof nt=="number"?nt:{top:0,right:0,bottom:0,left:0,...nt},tn=Array.isArray(tt)?tt:[tt],Yt=tn.length>0,pn={padding:jt,boundary:tn.filter(isNotNull),altBoundary:Yt},{refs:mn,floatingStyles:dn,placement:On,isPositioned:hn,middlewareData:zt}=useFloating({strategy:"fixed",placement:en,whileElementsMounted:(...Nr)=>autoUpdate(...Nr,{animationFrame:ot==="always"}),elements:{reference:Et.anchor},middleware:[offset({mainAxis:d+Nt,alignmentAxis:b}),_e&&shift({mainAxis:!0,crossAxis:!1,limiter:it==="partial"?limitShift():void 0,...pn}),_e&&flip({...pn}),size({...pn,apply:({elements:Nr,rects:ar,availableWidth:wr,availableHeight:Cr})=>{const{width:gr,height:hs}=ar.reference,er=Nr.floating.style;er.setProperty("--radix-popper-available-width",`${wr}px`),er.setProperty("--radix-popper-available-height",`${Cr}px`),er.setProperty("--radix-popper-anchor-width",`${gr}px`),er.setProperty("--radix-popper-anchor-height",`${hs}px`)}}),Tt&&arrow({element:Tt,padding:_}),transformOrigin({arrowWidth:kt,arrowHeight:Nt}),st&&hide({strategy:"referenceHidden",...pn})]}),[nn,wt]=getSideAndAlignFromPlacement(On),fn=useCallbackRef$1(ht);useLayoutEffect2(()=>{hn&&(fn==null||fn())},[hn,fn]);const Sn=(Wn=zt.arrow)==null?void 0:Wn.x,Pt=(Gn=zt.arrow)==null?void 0:Gn.y,wn=((Fn=zt.arrow)==null?void 0:Fn.centerOffset)!==0,[In,xn]=reactExports.useState();return useLayoutEffect2(()=>{pt&&xn(window.getComputedStyle(pt).zIndex)},[pt]),jsxRuntimeExports.jsx("div",{ref:mn.setFloating,"data-radix-popper-content-wrapper":"",style:{...dn,transform:hn?dn.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:In,"--radix-popper-transform-origin":[(ir=zt.transformOrigin)==null?void 0:ir.x,(pr=zt.transformOrigin)==null?void 0:pr.y].join(" "),...((mr=zt.hide)==null?void 0:mr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:o.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:a,placedSide:nn,onArrowChange:bt,arrowX:Sn,arrowY:Pt,shouldHideArrow:wn,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":nn,"data-align":wt,...dt,ref:St,style:{...dt.style,animation:hn?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$4;var ARROW_NAME$3="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function o(e,a){const{__scopePopper:c,...d}=e,g=useContentContext(ARROW_NAME$3,c),b=OPPOSITE_SIDE[g.placedSide];return jsxRuntimeExports.jsx("span",{ref:g.onArrowChange,style:{position:"absolute",left:g.arrowX,top:g.arrowY,[b]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[g.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[g.placedSide],visibility:g.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$6,{...d,ref:a,style:{...d.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$3;function isNotNull(o){return o!==null}var transformOrigin=o=>({name:"transformOrigin",options:o,fn(e){var Et,pt,gt;const{placement:a,rects:c,middlewareData:d}=e,b=((Et=d.arrow)==null?void 0:Et.centerOffset)!==0,_=b?0:o.arrowWidth,_e=b?0:o.arrowHeight,[tt,nt]=getSideAndAlignFromPlacement(a),it={start:"0%",center:"50%",end:"100%"}[nt],st=(((pt=d.arrow)==null?void 0:pt.x)??0)+_/2,ot=(((gt=d.arrow)==null?void 0:gt.y)??0)+_e/2;let ht="",dt="";return tt==="bottom"?(ht=b?it:`${st}px`,dt=`${-_e}px`):tt==="top"?(ht=b?it:`${st}px`,dt=`${c.floating.height+_e}px`):tt==="right"?(ht=`${-_e}px`,dt=b?it:`${ot}px`):tt==="left"&&(ht=`${c.floating.width+_e}px`,dt=b?it:`${ot}px`),{data:{x:ht,y:dt}}}});function getSideAndAlignFromPlacement(o){const[e,a="center"]=o.split("-");return[e,a]}var Root2=Popper,Anchor=PopperAnchor,Content$1=PopperContent,Arrow=PopperArrow,PORTAL_NAME$4="Portal",Portal$2=reactExports.forwardRef((o,e)=>{var _;const{container:a,...c}=o,[d,g]=reactExports.useState(!1);useLayoutEffect2(()=>g(!0),[]);const b=a||d&&((_=globalThis==null?void 0:globalThis.document)==null?void 0:_.body);return b?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...c,ref:e}),b):null});Portal$2.displayName=PORTAL_NAME$4;function useStateMachine(o,e){return reactExports.useReducer((a,c)=>e[a][c]??a,o)}var Presence=o=>{const{present:e,children:a}=o,c=usePresence(e),d=typeof a=="function"?a({present:c.isPresent}):reactExports.Children.only(a),g=useComposedRefs(c.ref,getElementRef(d));return typeof a=="function"||c.isPresent?reactExports.cloneElement(d,{ref:g}):null};Presence.displayName="Presence";function usePresence(o){const[e,a]=reactExports.useState(),c=reactExports.useRef({}),d=reactExports.useRef(o),g=reactExports.useRef("none"),b=o?"mounted":"unmounted",[_,_e]=useStateMachine(b,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const tt=getAnimationName(c.current);g.current=_==="mounted"?tt:"none"},[_]),useLayoutEffect2(()=>{const tt=c.current,nt=d.current;if(nt!==o){const st=g.current,ot=getAnimationName(tt);o?_e("MOUNT"):ot==="none"||(tt==null?void 0:tt.display)==="none"?_e("UNMOUNT"):_e(nt&&st!==ot?"ANIMATION_OUT":"UNMOUNT"),d.current=o}},[o,_e]),useLayoutEffect2(()=>{if(e){const tt=it=>{const ot=getAnimationName(c.current).includes(it.animationName);it.target===e&&ot&&reactDomExports.flushSync(()=>_e("ANIMATION_END"))},nt=it=>{it.target===e&&(g.current=getAnimationName(c.current))};return e.addEventListener("animationstart",nt),e.addEventListener("animationcancel",tt),e.addEventListener("animationend",tt),()=>{e.removeEventListener("animationstart",nt),e.removeEventListener("animationcancel",tt),e.removeEventListener("animationend",tt)}}else _e("ANIMATION_END")},[e,_e]),{isPresent:["mounted","unmountSuspended"].includes(_),ref:reactExports.useCallback(tt=>{tt&&(c.current=getComputedStyle(tt)),a(tt)},[])}}function getAnimationName(o){return(o==null?void 0:o.animationName)||"none"}function getElementRef(o){var c,d;let e=(c=Object.getOwnPropertyDescriptor(o.props,"ref"))==null?void 0:c.get,a=e&&"isReactWarning"in e&&e.isReactWarning;return a?o.ref:(e=(d=Object.getOwnPropertyDescriptor(o,"ref"))==null?void 0:d.get,a=e&&"isReactWarning"in e&&e.isReactWarning,a?o.props.ref:o.props.ref||o.ref)}function useControllableState({prop:o,defaultProp:e,onChange:a=()=>{}}){const[c,d]=useUncontrolledState({defaultProp:e,onChange:a}),g=o!==void 0,b=g?o:c,_=useCallbackRef$1(a),_e=reactExports.useCallback(tt=>{if(g){const it=typeof tt=="function"?tt(o):tt;it!==o&&_(it)}else d(tt)},[g,o,d,_]);return[b,_e]}function useUncontrolledState({defaultProp:o,onChange:e}){const a=reactExports.useState(o),[c]=a,d=reactExports.useRef(c),g=useCallbackRef$1(e);return reactExports.useEffect(()=>{d.current!==c&&(g(c),d.current=c)},[c,d,g]),a}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME$2="RovingFocusGroup",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection(GROUP_NAME$2),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$2,[createCollectionScope$3]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$2),RovingFocusGroup=reactExports.forwardRef((o,e)=>jsxRuntimeExports.jsx(Collection$3.Provider,{scope:o.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:o.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...o,ref:e})})}));RovingFocusGroup.displayName=GROUP_NAME$2;var RovingFocusGroupImpl=reactExports.forwardRef((o,e)=>{const{__scopeRovingFocusGroup:a,orientation:c,loop:d=!1,dir:g,currentTabStopId:b,defaultCurrentTabStopId:_,onCurrentTabStopIdChange:_e,onEntryFocus:tt,preventScrollOnEntryFocus:nt=!1,...it}=o,st=reactExports.useRef(null),ot=useComposedRefs(e,st),ht=useDirection(g),[dt=null,Et]=useControllableState({prop:b,defaultProp:_,onChange:_e}),[pt,gt]=reactExports.useState(!1),St=useCallbackRef$1(tt),Tt=useCollection$3(a),bt=reactExports.useRef(!1),[vt,kt]=reactExports.useState(0);return reactExports.useEffect(()=>{const Nt=st.current;if(Nt)return Nt.addEventListener(ENTRY_FOCUS,St),()=>Nt.removeEventListener(ENTRY_FOCUS,St)},[St]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:a,orientation:c,dir:ht,loop:d,currentTabStopId:dt,onItemFocus:reactExports.useCallback(Nt=>Et(Nt),[Et]),onItemShiftTab:reactExports.useCallback(()=>gt(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>kt(Nt=>Nt+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>kt(Nt=>Nt-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:pt||vt===0?-1:0,"data-orientation":c,...it,ref:ot,style:{outline:"none",...o.style},onMouseDown:composeEventHandlers(o.onMouseDown,()=>{bt.current=!0}),onFocus:composeEventHandlers(o.onFocus,Nt=>{const en=!bt.current;if(Nt.target===Nt.currentTarget&&en&&!pt){const jt=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(Nt.currentTarget.dispatchEvent(jt),!jt.defaultPrevented){const tn=Tt().filter(On=>On.focusable),Yt=tn.find(On=>On.active),pn=tn.find(On=>On.id===dt),dn=[Yt,pn,...tn].filter(Boolean).map(On=>On.ref.current);focusFirst$1(dn,nt)}}bt.current=!1}),onBlur:composeEventHandlers(o.onBlur,()=>gt(!1))})})}),ITEM_NAME$2="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((o,e)=>{const{__scopeRovingFocusGroup:a,focusable:c=!0,active:d=!1,tabStopId:g,...b}=o,_=useId(),_e=g||_,tt=useRovingFocusContext(ITEM_NAME$2,a),nt=tt.currentTabStopId===_e,it=useCollection$3(a),{onFocusableItemAdd:st,onFocusableItemRemove:ot}=tt;return reactExports.useEffect(()=>{if(c)return st(),()=>ot()},[c,st,ot]),jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:a,id:_e,focusable:c,active:d,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:nt?0:-1,"data-orientation":tt.orientation,...b,ref:e,onMouseDown:composeEventHandlers(o.onMouseDown,ht=>{c?tt.onItemFocus(_e):ht.preventDefault()}),onFocus:composeEventHandlers(o.onFocus,()=>tt.onItemFocus(_e)),onKeyDown:composeEventHandlers(o.onKeyDown,ht=>{if(ht.key==="Tab"&&ht.shiftKey){tt.onItemShiftTab();return}if(ht.target!==ht.currentTarget)return;const dt=getFocusIntent(ht,tt.orientation,tt.dir);if(dt!==void 0){if(ht.metaKey||ht.ctrlKey||ht.altKey||ht.shiftKey)return;ht.preventDefault();let pt=it().filter(gt=>gt.focusable).map(gt=>gt.ref.current);if(dt==="last")pt.reverse();else if(dt==="prev"||dt==="next"){dt==="prev"&&pt.reverse();const gt=pt.indexOf(ht.currentTarget);pt=tt.loop?wrapArray$2(pt,gt+1):pt.slice(gt+1)}setTimeout(()=>focusFirst$1(pt))}})})})});RovingFocusGroupItem.displayName=ITEM_NAME$2;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(o,e){return e!=="rtl"?o:o==="ArrowLeft"?"ArrowRight":o==="ArrowRight"?"ArrowLeft":o}function getFocusIntent(o,e,a){const c=getDirectionAwareKey(o.key,a);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(c))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(c)))return MAP_KEY_TO_FOCUS_INTENT[c]}function focusFirst$1(o,e=!1){const a=document.activeElement;for(const c of o)if(c===a||(c.focus({preventScroll:e}),document.activeElement!==a))return}function wrapArray$2(o,e){return o.map((a,c)=>o[(e+c)%o.length])}var Root$5=RovingFocusGroup,Item=RovingFocusGroupItem,getDefaultParent=function(o){if(typeof document>"u")return null;var e=Array.isArray(o)?o[0]:o;return e.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(o){return o&&(o.host||unwrapHost(o.parentNode))},correctTargets=function(o,e){return e.map(function(a){if(o.contains(a))return a;var c=unwrapHost(a);return c&&o.contains(c)?c:(console.error("aria-hidden",a,"in not contained inside",o,". Doing nothing"),null)}).filter(function(a){return!!a})},applyAttributeToOthers=function(o,e,a,c){var d=correctTargets(e,Array.isArray(o)?o:[o]);markerMap[a]||(markerMap[a]=new WeakMap);var g=markerMap[a],b=[],_=new Set,_e=new Set(d),tt=function(it){!it||_.has(it)||(_.add(it),tt(it.parentNode))};d.forEach(tt);var nt=function(it){!it||_e.has(it)||Array.prototype.forEach.call(it.children,function(st){if(_.has(st))nt(st);else try{var ot=st.getAttribute(c),ht=ot!==null&&ot!=="false",dt=(counterMap.get(st)||0)+1,Et=(g.get(st)||0)+1;counterMap.set(st,dt),g.set(st,Et),b.push(st),dt===1&&ht&&uncontrolledNodes.set(st,!0),Et===1&&st.setAttribute(a,"true"),ht||st.setAttribute(c,"true")}catch(pt){console.error("aria-hidden: cannot operate on ",st,pt)}})};return nt(e),_.clear(),lockCount++,function(){b.forEach(function(it){var st=counterMap.get(it)-1,ot=g.get(it)-1;counterMap.set(it,st),g.set(it,ot),st||(uncontrolledNodes.has(it)||it.removeAttribute(c),uncontrolledNodes.delete(it)),ot||it.removeAttribute(a)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(o,e,a){a===void 0&&(a="data-aria-hidden");var c=Array.from(Array.isArray(o)?o:[o]),d=getDefaultParent(o);return d?(c.push.apply(c,Array.from(d.querySelectorAll("[aria-live]"))),applyAttributeToOthers(c,d,a,"aria-hidden")):function(){return null}},__assign=function(){return __assign=Object.assign||function(e){for(var a,c=1,d=arguments.length;c<d;c++){a=arguments[c];for(var g in a)Object.prototype.hasOwnProperty.call(a,g)&&(e[g]=a[g])}return e},__assign.apply(this,arguments)};function __rest(o,e){var a={};for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&e.indexOf(c)<0&&(a[c]=o[c]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(o);d<c.length;d++)e.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(o,c[d])&&(a[c[d]]=o[c[d]]);return a}function __spreadArray(o,e,a){if(a||arguments.length===2)for(var c=0,d=e.length,g;c<d;c++)(g||!(c in e))&&(g||(g=Array.prototype.slice.call(e,0,c)),g[c]=e[c]);return o.concat(g||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(o,e){return typeof o=="function"?o(e):o&&(o.current=e),o}function useCallbackRef(o,e){var a=reactExports.useState(function(){return{value:o,callback:e,facade:{get current(){return a.value},set current(c){var d=a.value;d!==c&&(a.value=c,a.callback(c,d))}}}})[0];return a.callback=e,a.facade}var useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(o,e){var a=useCallbackRef(null,function(c){return o.forEach(function(d){return assignRef(d,c)})});return useIsomorphicLayoutEffect(function(){var c=currentValues.get(a);if(c){var d=new Set(c),g=new Set(o),b=a.current;d.forEach(function(_){g.has(_)||assignRef(_,null)}),g.forEach(function(_){d.has(_)||assignRef(_,b)})}currentValues.set(a,o)},[o]),a}function ItoI(o){return o}function innerCreateMedium(o,e){e===void 0&&(e=ItoI);var a=[],c=!1,d={read:function(){if(c)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:o},useMedium:function(g){var b=e(g,c);return a.push(b),function(){a=a.filter(function(_){return _!==b})}},assignSyncMedium:function(g){for(c=!0;a.length;){var b=a;a=[],b.forEach(g)}a={push:function(_){return g(_)},filter:function(){return a}}},assignMedium:function(g){c=!0;var b=[];if(a.length){var _=a;a=[],_.forEach(g),b=a}var _e=function(){var nt=b;b=[],nt.forEach(g)},tt=function(){return Promise.resolve().then(_e)};tt(),a={push:function(nt){b.push(nt),tt()},filter:function(nt){return b=b.filter(nt),a}}}};return d}function createSidecarMedium(o){o===void 0&&(o={});var e=innerCreateMedium(null);return e.options=__assign({async:!0,ssr:!1},o),e}var SideCar$1=function(o){var e=o.sideCar,a=__rest(o,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var c=e.read();if(!c)throw new Error("Sidecar medium not found");return reactExports.createElement(c,__assign({},a))};SideCar$1.isSideCarExport=!0;function exportSidecar(o,e){return o.useMedium(e),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(o,e){var a=reactExports.useRef(null),c=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),d=c[0],g=c[1],b=o.forwardProps,_=o.children,_e=o.className,tt=o.removeScrollBar,nt=o.enabled,it=o.shards,st=o.sideCar,ot=o.noIsolation,ht=o.inert,dt=o.allowPinchZoom,Et=o.as,pt=Et===void 0?"div":Et,gt=o.gapMode,St=__rest(o,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),Tt=st,bt=useMergeRefs([a,e]),vt=__assign(__assign({},St),d);return reactExports.createElement(reactExports.Fragment,null,nt&&reactExports.createElement(Tt,{sideCar:effectCar,removeScrollBar:tt,shards:it,noIsolation:ot,inert:ht,setCallbacks:g,allowPinchZoom:!!dt,lockRef:a,gapMode:gt}),b?reactExports.cloneElement(reactExports.Children.only(_),__assign(__assign({},vt),{ref:bt})):reactExports.createElement(pt,__assign({},vt,{className:_e,ref:bt}),_))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var o=document.createElement("style");o.type="text/css";var e=getNonce();return e&&o.setAttribute("nonce",e),o}function injectStyles(o,e){o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}function insertStyleTag(o){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(o)}var stylesheetSingleton=function(){var o=0,e=null;return{add:function(a){o==0&&(e=makeStyleTag())&&(injectStyles(e,a),insertStyleTag(e)),o++},remove:function(){o--,!o&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},styleHookSingleton=function(){var o=stylesheetSingleton();return function(e,a){reactExports.useEffect(function(){return o.add(e),function(){o.remove()}},[e&&a])}},styleSingleton=function(){var o=styleHookSingleton(),e=function(a){var c=a.styles,d=a.dynamic;return o(c,d),null};return e},zeroGap={left:0,top:0,right:0,gap:0},parse=function(o){return parseInt(o||"",10)||0},getOffset=function(o){var e=window.getComputedStyle(document.body),a=e[o==="padding"?"paddingLeft":"marginLeft"],c=e[o==="padding"?"paddingTop":"marginTop"],d=e[o==="padding"?"paddingRight":"marginRight"];return[parse(a),parse(c),parse(d)]},getGapWidth=function(o){if(o===void 0&&(o="margin"),typeof window>"u")return zeroGap;var e=getOffset(o),a=document.documentElement.clientWidth,c=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,c-a+e[2]-e[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(o,e,a,c){var d=o.left,g=o.top,b=o.right,_=o.gap;return a===void 0&&(a="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(c,`;
   padding-right: `).concat(_,"px ").concat(c,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(c,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(c,";"),a==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(g,`px;
    padding-right: `).concat(b,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(_,"px ").concat(c,`;
    `),a==="padding"&&"padding-right: ".concat(_,"px ").concat(c,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(_,"px ").concat(c,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(_,"px ").concat(c,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(c,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(c,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(_,`px;
  }
`)},getCurrentUseCounter=function(){var o=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(o)?o:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var o=getCurrentUseCounter()-1;o<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,o.toString())}},[])},RemoveScrollBar=function(o){var e=o.noRelative,a=o.noImportant,c=o.gapMode,d=c===void 0?"margin":c;useLockAttribute();var g=reactExports.useMemo(function(){return getGapWidth(d)},[d]);return reactExports.createElement(Style,{styles:getStyles(g,!e,d,a?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(o){return o.tagName==="TEXTAREA"},elementCanBeScrolled=function(o,e){var a=window.getComputedStyle(o);return a[e]!=="hidden"&&!(a.overflowY===a.overflowX&&!alwaysContainsScroll(o)&&a[e]==="visible")},elementCouldBeVScrolled=function(o){return elementCanBeScrolled(o,"overflowY")},elementCouldBeHScrolled=function(o){return elementCanBeScrolled(o,"overflowX")},locationCouldBeScrolled=function(o,e){var a=e.ownerDocument,c=e;do{typeof ShadowRoot<"u"&&c instanceof ShadowRoot&&(c=c.host);var d=elementCouldBeScrolled(o,c);if(d){var g=getScrollVariables(o,c),b=g[1],_=g[2];if(b>_)return!0}c=c.parentNode}while(c&&c!==a.body);return!1},getVScrollVariables=function(o){var e=o.scrollTop,a=o.scrollHeight,c=o.clientHeight;return[e,a,c]},getHScrollVariables=function(o){var e=o.scrollLeft,a=o.scrollWidth,c=o.clientWidth;return[e,a,c]},elementCouldBeScrolled=function(o,e){return o==="v"?elementCouldBeVScrolled(e):elementCouldBeHScrolled(e)},getScrollVariables=function(o,e){return o==="v"?getVScrollVariables(e):getHScrollVariables(e)},getDirectionFactor=function(o,e){return o==="h"&&e==="rtl"?-1:1},handleScroll=function(o,e,a,c,d){var g=getDirectionFactor(o,window.getComputedStyle(e).direction),b=g*c,_=a.target,_e=e.contains(_),tt=!1,nt=b>0,it=0,st=0;do{var ot=getScrollVariables(o,_),ht=ot[0],dt=ot[1],Et=ot[2],pt=dt-Et-g*ht;(ht||pt)&&elementCouldBeScrolled(o,_)&&(it+=pt,st+=ht),_ instanceof ShadowRoot?_=_.host:_=_.parentNode}while(!_e&&_!==document.body||_e&&(e.contains(_)||e===_));return(nt&&(Math.abs(it)<1||!d)||!nt&&(Math.abs(st)<1||!d))&&(tt=!0),tt},getTouchXY=function(o){return"changedTouches"in o?[o.changedTouches[0].clientX,o.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(o){return[o.deltaX,o.deltaY]},extractRef=function(o){return o&&"current"in o?o.current:o},deltaCompare=function(o,e){return o[0]===e[0]&&o[1]===e[1]},generateStyle=function(o){return`
  .block-interactivity-`.concat(o,` {pointer-events: none;}
  .allow-interactivity-`).concat(o,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(o){var e=reactExports.useRef([]),a=reactExports.useRef([0,0]),c=reactExports.useRef(),d=reactExports.useState(idCounter++)[0],g=reactExports.useState(styleSingleton)[0],b=reactExports.useRef(o);reactExports.useEffect(function(){b.current=o},[o]),reactExports.useEffect(function(){if(o.inert){document.body.classList.add("block-interactivity-".concat(d));var dt=__spreadArray([o.lockRef.current],(o.shards||[]).map(extractRef),!0).filter(Boolean);return dt.forEach(function(Et){return Et.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),dt.forEach(function(Et){return Et.classList.remove("allow-interactivity-".concat(d))})}}},[o.inert,o.lockRef.current,o.shards]);var _=reactExports.useCallback(function(dt,Et){if("touches"in dt&&dt.touches.length===2)return!b.current.allowPinchZoom;var pt=getTouchXY(dt),gt=a.current,St="deltaX"in dt?dt.deltaX:gt[0]-pt[0],Tt="deltaY"in dt?dt.deltaY:gt[1]-pt[1],bt,vt=dt.target,kt=Math.abs(St)>Math.abs(Tt)?"h":"v";if("touches"in dt&&kt==="h"&&vt.type==="range")return!1;var Nt=locationCouldBeScrolled(kt,vt);if(!Nt)return!0;if(Nt?bt=kt:(bt=kt==="v"?"h":"v",Nt=locationCouldBeScrolled(kt,vt)),!Nt)return!1;if(!c.current&&"changedTouches"in dt&&(St||Tt)&&(c.current=bt),!bt)return!0;var en=c.current||bt;return handleScroll(en,Et,dt,en==="h"?St:Tt,!0)},[]),_e=reactExports.useCallback(function(dt){var Et=dt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==g)){var pt="deltaY"in Et?getDeltaXY(Et):getTouchXY(Et),gt=e.current.filter(function(bt){return bt.name===Et.type&&(bt.target===Et.target||Et.target===bt.shadowParent)&&deltaCompare(bt.delta,pt)})[0];if(gt&&gt.should){Et.cancelable&&Et.preventDefault();return}if(!gt){var St=(b.current.shards||[]).map(extractRef).filter(Boolean).filter(function(bt){return bt.contains(Et.target)}),Tt=St.length>0?_(Et,St[0]):!b.current.noIsolation;Tt&&Et.cancelable&&Et.preventDefault()}}},[]),tt=reactExports.useCallback(function(dt,Et,pt,gt){var St={name:dt,delta:Et,target:pt,should:gt,shadowParent:getOutermostShadowParent(pt)};e.current.push(St),setTimeout(function(){e.current=e.current.filter(function(Tt){return Tt!==St})},1)},[]),nt=reactExports.useCallback(function(dt){a.current=getTouchXY(dt),c.current=void 0},[]),it=reactExports.useCallback(function(dt){tt(dt.type,getDeltaXY(dt),dt.target,_(dt,o.lockRef.current))},[]),st=reactExports.useCallback(function(dt){tt(dt.type,getTouchXY(dt),dt.target,_(dt,o.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(g),o.setCallbacks({onScrollCapture:it,onWheelCapture:it,onTouchMoveCapture:st}),document.addEventListener("wheel",_e,nonPassive),document.addEventListener("touchmove",_e,nonPassive),document.addEventListener("touchstart",nt,nonPassive),function(){lockStack=lockStack.filter(function(dt){return dt!==g}),document.removeEventListener("wheel",_e,nonPassive),document.removeEventListener("touchmove",_e,nonPassive),document.removeEventListener("touchstart",nt,nonPassive)}},[]);var ot=o.removeScrollBar,ht=o.inert;return reactExports.createElement(reactExports.Fragment,null,ht?reactExports.createElement(g,{styles:generateStyle(d)}):null,ot?reactExports.createElement(RemoveScrollBar,{gapMode:o.gapMode}):null)}function getOutermostShadowParent(o){for(var e=null;o!==null;)o instanceof ShadowRoot&&(e=o.host,o=o.host),o=o.parentNode;return e}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(o,e){return reactExports.createElement(RemoveScroll,__assign({},o,{ref:e,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var SELECTION_KEYS=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS,"ArrowRight"],rtl:[...SELECTION_KEYS,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME$1="Menu",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(MENU_NAME$1),[createMenuContext,createMenuScope]=createContextScope(MENU_NAME$1,[createCollectionScope$2,createPopperScope,createRovingFocusGroupScope]),usePopperScope$1=createPopperScope(),useRovingFocusGroupScope$1=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME$1),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME$1),Menu$1=o=>{const{__scopeMenu:e,open:a=!1,children:c,dir:d,onOpenChange:g,modal:b=!0}=o,_=usePopperScope$1(e),[_e,tt]=reactExports.useState(null),nt=reactExports.useRef(!1),it=useCallbackRef$1(g),st=useDirection(d);return reactExports.useEffect(()=>{const ot=()=>{nt.current=!0,document.addEventListener("pointerdown",ht,{capture:!0,once:!0}),document.addEventListener("pointermove",ht,{capture:!0,once:!0})},ht=()=>nt.current=!1;return document.addEventListener("keydown",ot,{capture:!0}),()=>{document.removeEventListener("keydown",ot,{capture:!0}),document.removeEventListener("pointerdown",ht,{capture:!0}),document.removeEventListener("pointermove",ht,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2,{..._,children:jsxRuntimeExports.jsx(MenuProvider,{scope:e,open:a,onOpenChange:it,content:_e,onContentChange:tt,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:e,onClose:reactExports.useCallback(()=>it(!1),[it]),isUsingKeyboardRef:nt,dir:st,modal:b,children:c})})})};Menu$1.displayName=MENU_NAME$1;var ANCHOR_NAME="MenuAnchor",MenuAnchor=reactExports.forwardRef((o,e)=>{const{__scopeMenu:a,...c}=o,d=usePopperScope$1(a);return jsxRuntimeExports.jsx(Anchor,{...d,...c,ref:e})});MenuAnchor.displayName=ANCHOR_NAME;var PORTAL_NAME$3="MenuPortal",[PortalProvider$2,usePortalContext$2]=createMenuContext(PORTAL_NAME$3,{forceMount:void 0}),MenuPortal=o=>{const{__scopeMenu:e,forceMount:a,children:c,container:d}=o,g=useMenuContext(PORTAL_NAME$3,e);return jsxRuntimeExports.jsx(PortalProvider$2,{scope:e,forceMount:a,children:jsxRuntimeExports.jsx(Presence,{present:a||g.open,children:jsxRuntimeExports.jsx(Portal$2,{asChild:!0,container:d,children:c})})})};MenuPortal.displayName=PORTAL_NAME$3;var CONTENT_NAME$3="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$3),MenuContent=reactExports.forwardRef((o,e)=>{const a=usePortalContext$2(CONTENT_NAME$3,o.__scopeMenu),{forceMount:c=a.forceMount,...d}=o,g=useMenuContext(CONTENT_NAME$3,o.__scopeMenu),b=useMenuRootContext(CONTENT_NAME$3,o.__scopeMenu);return jsxRuntimeExports.jsx(Collection$2.Provider,{scope:o.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:c||g.open,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:o.__scopeMenu,children:b.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...d,ref:e}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...d,ref:e})})})})}),MenuRootContentModal=reactExports.forwardRef((o,e)=>{const a=useMenuContext(CONTENT_NAME$3,o.__scopeMenu),c=reactExports.useRef(null),d=useComposedRefs(e,c);return reactExports.useEffect(()=>{const g=c.current;if(g)return hideOthers(g)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...o,ref:d,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers(o.onFocusOutside,g=>g.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef((o,e)=>{const a=useMenuContext(CONTENT_NAME$3,o.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...o,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),MenuContentImpl=reactExports.forwardRef((o,e)=>{const{__scopeMenu:a,loop:c=!1,trapFocus:d,onOpenAutoFocus:g,onCloseAutoFocus:b,disableOutsidePointerEvents:_,onEntryFocus:_e,onEscapeKeyDown:tt,onPointerDownOutside:nt,onFocusOutside:it,onInteractOutside:st,onDismiss:ot,disableOutsideScroll:ht,...dt}=o,Et=useMenuContext(CONTENT_NAME$3,a),pt=useMenuRootContext(CONTENT_NAME$3,a),gt=usePopperScope$1(a),St=useRovingFocusGroupScope$1(a),Tt=useCollection$2(a),[bt,vt]=reactExports.useState(null),kt=reactExports.useRef(null),Nt=useComposedRefs(e,kt,Et.onContentChange),en=reactExports.useRef(0),jt=reactExports.useRef(""),tn=reactExports.useRef(0),Yt=reactExports.useRef(null),pn=reactExports.useRef("right"),mn=reactExports.useRef(0),dn=ht?ReactRemoveScroll:reactExports.Fragment,On=ht?{as:Slot,allowPinchZoom:!0}:void 0,hn=nn=>{var Wn,Gn;const wt=jt.current+nn,fn=Tt().filter(Fn=>!Fn.disabled),Sn=document.activeElement,Pt=(Wn=fn.find(Fn=>Fn.ref.current===Sn))==null?void 0:Wn.textValue,wn=fn.map(Fn=>Fn.textValue),In=getNextMatch(wn,wt,Pt),xn=(Gn=fn.find(Fn=>Fn.textValue===In))==null?void 0:Gn.ref.current;(function Fn(ir){jt.current=ir,window.clearTimeout(en.current),ir!==""&&(en.current=window.setTimeout(()=>Fn(""),1e3))})(wt),xn&&setTimeout(()=>xn.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(en.current),[]),useFocusGuards();const zt=reactExports.useCallback(nn=>{var fn,Sn;return pn.current===((fn=Yt.current)==null?void 0:fn.side)&&isPointerInGraceArea(nn,(Sn=Yt.current)==null?void 0:Sn.area)},[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:a,searchRef:jt,onItemEnter:reactExports.useCallback(nn=>{zt(nn)&&nn.preventDefault()},[zt]),onItemLeave:reactExports.useCallback(nn=>{var wt;zt(nn)||((wt=kt.current)==null||wt.focus(),vt(null))},[zt]),onTriggerLeave:reactExports.useCallback(nn=>{zt(nn)&&nn.preventDefault()},[zt]),pointerGraceTimerRef:tn,onPointerGraceIntentChange:reactExports.useCallback(nn=>{Yt.current=nn},[]),children:jsxRuntimeExports.jsx(dn,{...On,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:d,onMountAutoFocus:composeEventHandlers(g,nn=>{var wt;nn.preventDefault(),(wt=kt.current)==null||wt.focus({preventScroll:!0})}),onUnmountAutoFocus:b,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:_,onEscapeKeyDown:tt,onPointerDownOutside:nt,onFocusOutside:it,onInteractOutside:st,onDismiss:ot,children:jsxRuntimeExports.jsx(Root$5,{asChild:!0,...St,dir:pt.dir,orientation:"vertical",loop:c,currentTabStopId:bt,onCurrentTabStopIdChange:vt,onEntryFocus:composeEventHandlers(_e,nn=>{pt.isUsingKeyboardRef.current||nn.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content$1,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(Et.open),"data-radix-menu-content":"",dir:pt.dir,...gt,...dt,ref:Nt,style:{outline:"none",...dt.style},onKeyDown:composeEventHandlers(dt.onKeyDown,nn=>{const fn=nn.target.closest("[data-radix-menu-content]")===nn.currentTarget,Sn=nn.ctrlKey||nn.altKey||nn.metaKey,Pt=nn.key.length===1;fn&&(nn.key==="Tab"&&nn.preventDefault(),!Sn&&Pt&&hn(nn.key));const wn=kt.current;if(nn.target!==wn||!FIRST_LAST_KEYS.includes(nn.key))return;nn.preventDefault();const xn=Tt().filter(Wn=>!Wn.disabled).map(Wn=>Wn.ref.current);LAST_KEYS.includes(nn.key)&&xn.reverse(),focusFirst(xn)}),onBlur:composeEventHandlers(o.onBlur,nn=>{nn.currentTarget.contains(nn.target)||(window.clearTimeout(en.current),jt.current="")}),onPointerMove:composeEventHandlers(o.onPointerMove,whenMouse(nn=>{const wt=nn.target,fn=mn.current!==nn.clientX;if(nn.currentTarget.contains(wt)&&fn){const Sn=nn.clientX>mn.current?"right":"left";pn.current=Sn,mn.current=nn.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$3;var GROUP_NAME$1="MenuGroup",MenuGroup=reactExports.forwardRef((o,e)=>{const{__scopeMenu:a,...c}=o;return jsxRuntimeExports.jsx(Primitive.div,{role:"group",...c,ref:e})});MenuGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="MenuLabel",MenuLabel=reactExports.forwardRef((o,e)=>{const{__scopeMenu:a,...c}=o;return jsxRuntimeExports.jsx(Primitive.div,{...c,ref:e})});MenuLabel.displayName=LABEL_NAME$1;var ITEM_NAME$1="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef((o,e)=>{const{disabled:a=!1,onSelect:c,...d}=o,g=reactExports.useRef(null),b=useMenuRootContext(ITEM_NAME$1,o.__scopeMenu),_=useMenuContentContext(ITEM_NAME$1,o.__scopeMenu),_e=useComposedRefs(e,g),tt=reactExports.useRef(!1),nt=()=>{const it=g.current;if(!a&&it){const st=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});it.addEventListener(ITEM_SELECT,ot=>c==null?void 0:c(ot),{once:!0}),dispatchDiscreteCustomEvent(it,st),st.defaultPrevented?tt.current=!1:b.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...d,ref:_e,disabled:a,onClick:composeEventHandlers(o.onClick,nt),onPointerDown:it=>{var st;(st=o.onPointerDown)==null||st.call(o,it),tt.current=!0},onPointerUp:composeEventHandlers(o.onPointerUp,it=>{var st;tt.current||(st=it.currentTarget)==null||st.click()}),onKeyDown:composeEventHandlers(o.onKeyDown,it=>{const st=_.searchRef.current!=="";a||st&&it.key===" "||SELECTION_KEYS.includes(it.key)&&(it.currentTarget.click(),it.preventDefault())})})});MenuItem.displayName=ITEM_NAME$1;var MenuItemImpl=reactExports.forwardRef((o,e)=>{const{__scopeMenu:a,disabled:c=!1,textValue:d,...g}=o,b=useMenuContentContext(ITEM_NAME$1,a),_=useRovingFocusGroupScope$1(a),_e=reactExports.useRef(null),tt=useComposedRefs(e,_e),[nt,it]=reactExports.useState(!1),[st,ot]=reactExports.useState("");return reactExports.useEffect(()=>{const ht=_e.current;ht&&ot((ht.textContent??"").trim())},[g.children]),jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:a,disabled:c,textValue:d??st,children:jsxRuntimeExports.jsx(Item,{asChild:!0,..._,focusable:!c,children:jsxRuntimeExports.jsx(Primitive.div,{role:"menuitem","data-highlighted":nt?"":void 0,"aria-disabled":c||void 0,"data-disabled":c?"":void 0,...g,ref:tt,onPointerMove:composeEventHandlers(o.onPointerMove,whenMouse(ht=>{c?b.onItemLeave(ht):(b.onItemEnter(ht),ht.defaultPrevented||ht.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers(o.onPointerLeave,whenMouse(ht=>b.onItemLeave(ht))),onFocus:composeEventHandlers(o.onFocus,()=>it(!0)),onBlur:composeEventHandlers(o.onBlur,()=>it(!1))})})})}),CHECKBOX_ITEM_NAME$1="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef((o,e)=>{const{checked:a=!1,onCheckedChange:c,...d}=o;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:o.__scopeMenu,checked:a,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate(a)?"mixed":a,...d,ref:e,"data-state":getCheckedState(a),onSelect:composeEventHandlers(d.onSelect,()=>c==null?void 0:c(isIndeterminate(a)?!0:!a),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$1="MenuRadioGroup",[RadioGroupProvider,useRadioGroupContext]=createMenuContext(RADIO_GROUP_NAME$1,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef((o,e)=>{const{value:a,onValueChange:c,...d}=o,g=useCallbackRef$1(c);return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:o.__scopeMenu,value:a,onValueChange:g,children:jsxRuntimeExports.jsx(MenuGroup,{...d,ref:e})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME$1="MenuRadioItem",MenuRadioItem=reactExports.forwardRef((o,e)=>{const{value:a,...c}=o,d=useRadioGroupContext(RADIO_ITEM_NAME$1,o.__scopeMenu),g=a===d.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:o.__scopeMenu,checked:g,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":g,...c,ref:e,"data-state":getCheckedState(g),onSelect:composeEventHandlers(c.onSelect,()=>{var b;return(b=d.onValueChange)==null?void 0:b.call(d,a)},{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$1;var ITEM_INDICATOR_NAME="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME,{checked:!1}),MenuItemIndicator=reactExports.forwardRef((o,e)=>{const{__scopeMenu:a,forceMount:c,...d}=o,g=useItemIndicatorContext(ITEM_INDICATOR_NAME,a);return jsxRuntimeExports.jsx(Presence,{present:c||isIndeterminate(g.checked)||g.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{...d,ref:e,"data-state":getCheckedState(g.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME;var SEPARATOR_NAME$1="MenuSeparator",MenuSeparator=reactExports.forwardRef((o,e)=>{const{__scopeMenu:a,...c}=o;return jsxRuntimeExports.jsx(Primitive.div,{role:"separator","aria-orientation":"horizontal",...c,ref:e})});MenuSeparator.displayName=SEPARATOR_NAME$1;var ARROW_NAME$2="MenuArrow",MenuArrow=reactExports.forwardRef((o,e)=>{const{__scopeMenu:a,...c}=o,d=usePopperScope$1(a);return jsxRuntimeExports.jsx(Arrow,{...d,...c,ref:e})});MenuArrow.displayName=ARROW_NAME$2;var SUB_NAME="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME),SUB_TRIGGER_NAME$1="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef((o,e)=>{const a=useMenuContext(SUB_TRIGGER_NAME$1,o.__scopeMenu),c=useMenuRootContext(SUB_TRIGGER_NAME$1,o.__scopeMenu),d=useMenuSubContext(SUB_TRIGGER_NAME$1,o.__scopeMenu),g=useMenuContentContext(SUB_TRIGGER_NAME$1,o.__scopeMenu),b=reactExports.useRef(null),{pointerGraceTimerRef:_,onPointerGraceIntentChange:_e}=g,tt={__scopeMenu:o.__scopeMenu},nt=reactExports.useCallback(()=>{b.current&&window.clearTimeout(b.current),b.current=null},[]);return reactExports.useEffect(()=>nt,[nt]),reactExports.useEffect(()=>{const it=_.current;return()=>{window.clearTimeout(it),_e(null)}},[_,_e]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,...tt,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:d.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":d.contentId,"data-state":getOpenState(a.open),...o,ref:composeRefs(e,d.onTriggerChange),onClick:it=>{var st;(st=o.onClick)==null||st.call(o,it),!(o.disabled||it.defaultPrevented)&&(it.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:composeEventHandlers(o.onPointerMove,whenMouse(it=>{g.onItemEnter(it),!it.defaultPrevented&&!o.disabled&&!a.open&&!b.current&&(g.onPointerGraceIntentChange(null),b.current=window.setTimeout(()=>{a.onOpenChange(!0),nt()},100))})),onPointerLeave:composeEventHandlers(o.onPointerLeave,whenMouse(it=>{var ot,ht;nt();const st=(ot=a.content)==null?void 0:ot.getBoundingClientRect();if(st){const dt=(ht=a.content)==null?void 0:ht.dataset.side,Et=dt==="right",pt=Et?-5:5,gt=st[Et?"left":"right"],St=st[Et?"right":"left"];g.onPointerGraceIntentChange({area:[{x:it.clientX+pt,y:it.clientY},{x:gt,y:st.top},{x:St,y:st.top},{x:St,y:st.bottom},{x:gt,y:st.bottom}],side:dt}),window.clearTimeout(_.current),_.current=window.setTimeout(()=>g.onPointerGraceIntentChange(null),300)}else{if(g.onTriggerLeave(it),it.defaultPrevented)return;g.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers(o.onKeyDown,it=>{var ot;const st=g.searchRef.current!=="";o.disabled||st&&it.key===" "||SUB_OPEN_KEYS[c.dir].includes(it.key)&&(a.onOpenChange(!0),(ot=a.content)==null||ot.focus(),it.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="MenuSubContent",MenuSubContent=reactExports.forwardRef((o,e)=>{const a=usePortalContext$2(CONTENT_NAME$3,o.__scopeMenu),{forceMount:c=a.forceMount,...d}=o,g=useMenuContext(CONTENT_NAME$3,o.__scopeMenu),b=useMenuRootContext(CONTENT_NAME$3,o.__scopeMenu),_=useMenuSubContext(SUB_CONTENT_NAME$1,o.__scopeMenu),_e=reactExports.useRef(null),tt=useComposedRefs(e,_e);return jsxRuntimeExports.jsx(Collection$2.Provider,{scope:o.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:c||g.open,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:o.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:_.contentId,"aria-labelledby":_.triggerId,...d,ref:tt,align:"start",side:b.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:nt=>{var it;b.isUsingKeyboardRef.current&&((it=_e.current)==null||it.focus()),nt.preventDefault()},onCloseAutoFocus:nt=>nt.preventDefault(),onFocusOutside:composeEventHandlers(o.onFocusOutside,nt=>{nt.target!==_.trigger&&g.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers(o.onEscapeKeyDown,nt=>{b.onClose(),nt.preventDefault()}),onKeyDown:composeEventHandlers(o.onKeyDown,nt=>{var ot;const it=nt.currentTarget.contains(nt.target),st=SUB_CLOSE_KEYS[b.dir].includes(nt.key);it&&st&&(g.onOpenChange(!1),(ot=_.trigger)==null||ot.focus(),nt.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$1;function getOpenState(o){return o?"open":"closed"}function isIndeterminate(o){return o==="indeterminate"}function getCheckedState(o){return isIndeterminate(o)?"indeterminate":o?"checked":"unchecked"}function focusFirst(o){const e=document.activeElement;for(const a of o)if(a===e||(a.focus(),document.activeElement!==e))return}function wrapArray$1(o,e){return o.map((a,c)=>o[(e+c)%o.length])}function getNextMatch(o,e,a){const d=e.length>1&&Array.from(e).every(tt=>tt===e[0])?e[0]:e,g=a?o.indexOf(a):-1;let b=wrapArray$1(o,Math.max(g,0));d.length===1&&(b=b.filter(tt=>tt!==a));const _e=b.find(tt=>tt.toLowerCase().startsWith(d.toLowerCase()));return _e!==a?_e:void 0}function isPointInPolygon$1(o,e){const{x:a,y:c}=o;let d=!1;for(let g=0,b=e.length-1;g<e.length;b=g++){const _=e[g].x,_e=e[g].y,tt=e[b].x,nt=e[b].y;_e>c!=nt>c&&a<(tt-_)*(c-_e)/(nt-_e)+_&&(d=!d)}return d}function isPointerInGraceArea(o,e){if(!e)return!1;const a={x:o.clientX,y:o.clientY};return isPointInPolygon$1(a,e)}function whenMouse(o){return e=>e.pointerType==="mouse"?o(e):void 0}var Root3$1=Menu$1,Anchor2=MenuAnchor,Portal$1=MenuPortal,Content2$2=MenuContent,Group=MenuGroup,Label$2=MenuLabel,Item2=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator=MenuItemIndicator,Separator=MenuSeparator,Arrow2=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,MENUBAR_NAME="Menubar",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(MENUBAR_NAME),[createMenubarContext,createMenubarScope]=createContextScope(MENUBAR_NAME,[createCollectionScope$1,createRovingFocusGroupScope]),useMenuScope=createMenuScope(),useRovingFocusGroupScope=createRovingFocusGroupScope(),[MenubarContextProvider,useMenubarContext]=createMenubarContext(MENUBAR_NAME),Menubar$1=reactExports.forwardRef((o,e)=>{const{__scopeMenubar:a,value:c,onValueChange:d,defaultValue:g,loop:b=!0,dir:_,..._e}=o,tt=useDirection(_),nt=useRovingFocusGroupScope(a),[it="",st]=useControllableState({prop:c,onChange:d,defaultProp:g}),[ot,ht]=reactExports.useState(null);return jsxRuntimeExports.jsx(MenubarContextProvider,{scope:a,value:it,onMenuOpen:reactExports.useCallback(dt=>{st(dt),ht(dt)},[st]),onMenuClose:reactExports.useCallback(()=>st(""),[st]),onMenuToggle:reactExports.useCallback(dt=>{st(Et=>Et?"":dt),ht(dt)},[st]),dir:tt,loop:b,children:jsxRuntimeExports.jsx(Collection$1.Provider,{scope:a,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:a,children:jsxRuntimeExports.jsx(Root$5,{asChild:!0,...nt,orientation:"horizontal",loop:b,dir:tt,currentTabStopId:ot,onCurrentTabStopIdChange:ht,children:jsxRuntimeExports.jsx(Primitive.div,{role:"menubar",..._e,ref:e})})})})})});Menubar$1.displayName=MENUBAR_NAME;var MENU_NAME="MenubarMenu",[MenubarMenuProvider,useMenubarMenuContext]=createMenubarContext(MENU_NAME),MenubarMenu$1=o=>{const{__scopeMenubar:e,value:a,...c}=o,d=useId(),g=a||d||"LEGACY_REACT_AUTO_VALUE",b=useMenubarContext(MENU_NAME,e),_=useMenuScope(e),_e=reactExports.useRef(null),tt=reactExports.useRef(!1),nt=b.value===g;return reactExports.useEffect(()=>{nt||(tt.current=!1)},[nt]),jsxRuntimeExports.jsx(MenubarMenuProvider,{scope:e,value:g,triggerId:useId(),triggerRef:_e,contentId:useId(),wasKeyboardTriggerOpenRef:tt,children:jsxRuntimeExports.jsx(Root3$1,{..._,open:nt,onOpenChange:it=>{it||b.onMenuClose()},modal:!1,dir:b.dir,...c})})};MenubarMenu$1.displayName=MENU_NAME;var TRIGGER_NAME$2="MenubarTrigger",MenubarTrigger$1=reactExports.forwardRef((o,e)=>{const{__scopeMenubar:a,disabled:c=!1,...d}=o,g=useRovingFocusGroupScope(a),b=useMenuScope(a),_=useMenubarContext(TRIGGER_NAME$2,a),_e=useMenubarMenuContext(TRIGGER_NAME$2,a),tt=reactExports.useRef(null),nt=useComposedRefs(e,tt,_e.triggerRef),[it,st]=reactExports.useState(!1),ot=_.value===_e.value;return jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:a,value:_e.value,disabled:c,children:jsxRuntimeExports.jsx(Item,{asChild:!0,...g,focusable:!c,tabStopId:_e.value,children:jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...b,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"menuitem",id:_e.triggerId,"aria-haspopup":"menu","aria-expanded":ot,"aria-controls":ot?_e.contentId:void 0,"data-highlighted":it?"":void 0,"data-state":ot?"open":"closed","data-disabled":c?"":void 0,disabled:c,...d,ref:nt,onPointerDown:composeEventHandlers(o.onPointerDown,ht=>{!c&&ht.button===0&&ht.ctrlKey===!1&&(_.onMenuOpen(_e.value),ot||ht.preventDefault())}),onPointerEnter:composeEventHandlers(o.onPointerEnter,()=>{var dt;!!_.value&&!ot&&(_.onMenuOpen(_e.value),(dt=tt.current)==null||dt.focus())}),onKeyDown:composeEventHandlers(o.onKeyDown,ht=>{c||(["Enter"," "].includes(ht.key)&&_.onMenuToggle(_e.value),ht.key==="ArrowDown"&&_.onMenuOpen(_e.value),["Enter"," ","ArrowDown"].includes(ht.key)&&(_e.wasKeyboardTriggerOpenRef.current=!0,ht.preventDefault()))}),onFocus:composeEventHandlers(o.onFocus,()=>st(!0)),onBlur:composeEventHandlers(o.onBlur,()=>st(!1))})})})})});MenubarTrigger$1.displayName=TRIGGER_NAME$2;var PORTAL_NAME$2="MenubarPortal",MenubarPortal=o=>{const{__scopeMenubar:e,...a}=o,c=useMenuScope(e);return jsxRuntimeExports.jsx(Portal$1,{...c,...a})};MenubarPortal.displayName=PORTAL_NAME$2;var CONTENT_NAME$2="MenubarContent",MenubarContent$1=reactExports.forwardRef((o,e)=>{const{__scopeMenubar:a,align:c="start",...d}=o,g=useMenuScope(a),b=useMenubarContext(CONTENT_NAME$2,a),_=useMenubarMenuContext(CONTENT_NAME$2,a),_e=useCollection$1(a),tt=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$2,{id:_.contentId,"aria-labelledby":_.triggerId,"data-radix-menubar-content":"",...g,...d,ref:e,align:c,onCloseAutoFocus:composeEventHandlers(o.onCloseAutoFocus,nt=>{var st;!!!b.value&&!tt.current&&((st=_.triggerRef.current)==null||st.focus()),tt.current=!1,nt.preventDefault()}),onFocusOutside:composeEventHandlers(o.onFocusOutside,nt=>{const it=nt.target;_e().some(ot=>{var ht;return(ht=ot.ref.current)==null?void 0:ht.contains(it)})&&nt.preventDefault()}),onInteractOutside:composeEventHandlers(o.onInteractOutside,()=>{tt.current=!0}),onEntryFocus:nt=>{_.wasKeyboardTriggerOpenRef.current||nt.preventDefault()},onKeyDown:composeEventHandlers(o.onKeyDown,nt=>{if(["ArrowRight","ArrowLeft"].includes(nt.key)){const it=nt.target,st=it.hasAttribute("data-radix-menubar-subtrigger"),ot=it.closest("[data-radix-menubar-content]")!==nt.currentTarget,dt=(b.dir==="rtl"?"ArrowRight":"ArrowLeft")===nt.key;if(!dt&&st||ot&&dt)return;let gt=_e().filter(bt=>!bt.disabled).map(bt=>bt.value);dt&&gt.reverse();const St=gt.indexOf(_.value);gt=b.loop?wrapArray(gt,St+1):gt.slice(St+1);const[Tt]=gt;Tt&&b.onMenuOpen(Tt)}},{checkForDefaultPrevented:!1}),style:{...o.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});MenubarContent$1.displayName=CONTENT_NAME$2;var GROUP_NAME="MenubarGroup",MenubarGroup=reactExports.forwardRef((o,e)=>{const{__scopeMenubar:a,...c}=o,d=useMenuScope(a);return jsxRuntimeExports.jsx(Group,{...d,...c,ref:e})});MenubarGroup.displayName=GROUP_NAME;var LABEL_NAME="MenubarLabel",MenubarLabel$1=reactExports.forwardRef((o,e)=>{const{__scopeMenubar:a,...c}=o,d=useMenuScope(a);return jsxRuntimeExports.jsx(Label$2,{...d,...c,ref:e})});MenubarLabel$1.displayName=LABEL_NAME;var ITEM_NAME="MenubarItem",MenubarItem$1=reactExports.forwardRef((o,e)=>{const{__scopeMenubar:a,...c}=o,d=useMenuScope(a);return jsxRuntimeExports.jsx(Item2,{...d,...c,ref:e})});MenubarItem$1.displayName=ITEM_NAME;var CHECKBOX_ITEM_NAME="MenubarCheckboxItem",MenubarCheckboxItem$1=reactExports.forwardRef((o,e)=>{const{__scopeMenubar:a,...c}=o,d=useMenuScope(a);return jsxRuntimeExports.jsx(CheckboxItem,{...d,...c,ref:e})});MenubarCheckboxItem$1.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME="MenubarRadioGroup",MenubarRadioGroup=reactExports.forwardRef((o,e)=>{const{__scopeMenubar:a,...c}=o,d=useMenuScope(a);return jsxRuntimeExports.jsx(RadioGroup,{...d,...c,ref:e})});MenubarRadioGroup.displayName=RADIO_GROUP_NAME;var RADIO_ITEM_NAME="MenubarRadioItem",MenubarRadioItem$1=reactExports.forwardRef((o,e)=>{const{__scopeMenubar:a,...c}=o,d=useMenuScope(a);return jsxRuntimeExports.jsx(RadioItem,{...d,...c,ref:e})});MenubarRadioItem$1.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME="MenubarItemIndicator",MenubarItemIndicator=reactExports.forwardRef((o,e)=>{const{__scopeMenubar:a,...c}=o,d=useMenuScope(a);return jsxRuntimeExports.jsx(ItemIndicator,{...d,...c,ref:e})});MenubarItemIndicator.displayName=INDICATOR_NAME;var SEPARATOR_NAME="MenubarSeparator",MenubarSeparator$1=reactExports.forwardRef((o,e)=>{const{__scopeMenubar:a,...c}=o,d=useMenuScope(a);return jsxRuntimeExports.jsx(Separator,{...d,...c,ref:e})});MenubarSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME$1="MenubarArrow",MenubarArrow=reactExports.forwardRef((o,e)=>{const{__scopeMenubar:a,...c}=o,d=useMenuScope(a);return jsxRuntimeExports.jsx(Arrow2,{...d,...c,ref:e})});MenubarArrow.displayName=ARROW_NAME$1;var SUB_TRIGGER_NAME="MenubarSubTrigger",MenubarSubTrigger$1=reactExports.forwardRef((o,e)=>{const{__scopeMenubar:a,...c}=o,d=useMenuScope(a);return jsxRuntimeExports.jsx(SubTrigger,{"data-radix-menubar-subtrigger":"",...d,...c,ref:e})});MenubarSubTrigger$1.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="MenubarSubContent",MenubarSubContent$1=reactExports.forwardRef((o,e)=>{const{__scopeMenubar:a,...c}=o,d=useMenuScope(a);return jsxRuntimeExports.jsx(SubContent,{...d,"data-radix-menubar-content":"",...c,ref:e,style:{...o.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});MenubarSubContent$1.displayName=SUB_CONTENT_NAME;function wrapArray(o,e){return o.map((a,c)=>o[(e+c)%o.length])}var Root3=Menubar$1,Menu=MenubarMenu$1,Trigger=MenubarTrigger$1,Portal2=MenubarPortal,Content2$1=MenubarContent$1,Label2=MenubarLabel$1,Item3=MenubarItem$1,CheckboxItem2=MenubarCheckboxItem$1,RadioItem2=MenubarRadioItem$1,ItemIndicator2=MenubarItemIndicator,Separator2=MenubarSeparator$1,SubTrigger2=MenubarSubTrigger$1,SubContent2=MenubarSubContent$1;/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...o)=>o.filter((e,a,c)=>!!e&&c.indexOf(e)===a).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:o="currentColor",size:e=24,strokeWidth:a=2,absoluteStrokeWidth:c,className:d="",children:g,iconNode:b,..._},_e)=>reactExports.createElement("svg",{ref:_e,...defaultAttributes,width:e,height:e,stroke:o,strokeWidth:c?Number(a)*24/Number(e):a,className:mergeClasses("lucide",d),..._},[...b.map(([tt,nt])=>reactExports.createElement(tt,nt)),...Array.isArray(g)?g:[g]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(o,e)=>{const a=reactExports.forwardRef(({className:c,...d},g)=>reactExports.createElement(Icon,{ref:g,iconNode:e,className:mergeClasses(`lucide-${toKebabCase(o)}`,c),...d}));return a.displayName=`${o}`,a};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleHelp=createLucideIcon("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Circle=createLucideIcon("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const List=createLucideIcon("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Maximize=createLucideIcon("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pen=createLucideIcon("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Redo=createLucideIcon("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Share2=createLucideIcon("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Type=createLucideIcon("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Undo=createLucideIcon("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function r$1(o){var e,a,c="";if(typeof o=="string"||typeof o=="number")c+=o;else if(typeof o=="object")if(Array.isArray(o)){var d=o.length;for(e=0;e<d;e++)o[e]&&(a=r$1(o[e]))&&(c&&(c+=" "),c+=a)}else for(a in o)o[a]&&(c&&(c+=" "),c+=a);return c}function clsx$1(){for(var o,e,a=0,c="",d=arguments.length;a<d;a++)(o=arguments[a])&&(e=r$1(o))&&(c&&(c+=" "),c+=e);return c}const CLASS_PART_SEPARATOR="-";function createClassGroupUtils(o){const e=createClassMap(o),{conflictingClassGroups:a,conflictingClassGroupModifiers:c}=o;function d(b){const _=b.split(CLASS_PART_SEPARATOR);return _[0]===""&&_.length!==1&&_.shift(),getGroupRecursive(_,e)||getGroupIdForArbitraryProperty(b)}function g(b,_){const _e=a[b]||[];return _&&c[b]?[..._e,...c[b]]:_e}return{getClassGroupId:d,getConflictingClassGroupIds:g}}function getGroupRecursive(o,e){var b;if(o.length===0)return e.classGroupId;const a=o[0],c=e.nextPart.get(a),d=c?getGroupRecursive(o.slice(1),c):void 0;if(d)return d;if(e.validators.length===0)return;const g=o.join(CLASS_PART_SEPARATOR);return(b=e.validators.find(({validator:_})=>_(g)))==null?void 0:b.classGroupId}const arbitraryPropertyRegex=/^\[(.+)\]$/;function getGroupIdForArbitraryProperty(o){if(arbitraryPropertyRegex.test(o)){const e=arbitraryPropertyRegex.exec(o)[1],a=e==null?void 0:e.substring(0,e.indexOf(":"));if(a)return"arbitrary.."+a}}function createClassMap(o){const{theme:e,prefix:a}=o,c={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(o.classGroups),a).forEach(([g,b])=>{processClassesRecursively(b,c,g,e)}),c}function processClassesRecursively(o,e,a,c){o.forEach(d=>{if(typeof d=="string"){const g=d===""?e:getPart(e,d);g.classGroupId=a;return}if(typeof d=="function"){if(isThemeGetter(d)){processClassesRecursively(d(c),e,a,c);return}e.validators.push({validator:d,classGroupId:a});return}Object.entries(d).forEach(([g,b])=>{processClassesRecursively(b,getPart(e,g),a,c)})})}function getPart(o,e){let a=o;return e.split(CLASS_PART_SEPARATOR).forEach(c=>{a.nextPart.has(c)||a.nextPart.set(c,{nextPart:new Map,validators:[]}),a=a.nextPart.get(c)}),a}function isThemeGetter(o){return o.isThemeGetter}function getPrefixedClassGroupEntries(o,e){return e?o.map(([a,c])=>{const d=c.map(g=>typeof g=="string"?e+g:typeof g=="object"?Object.fromEntries(Object.entries(g).map(([b,_])=>[e+b,_])):g);return[a,d]}):o}function createLruCache(o){if(o<1)return{get:()=>{},set:()=>{}};let e=0,a=new Map,c=new Map;function d(g,b){a.set(g,b),e++,e>o&&(e=0,c=a,a=new Map)}return{get(g){let b=a.get(g);if(b!==void 0)return b;if((b=c.get(g))!==void 0)return d(g,b),b},set(g,b){a.has(g)?a.set(g,b):d(g,b)}}}const IMPORTANT_MODIFIER="!";function createParseClassName(o){const{separator:e,experimentalParseClassName:a}=o,c=e.length===1,d=e[0],g=e.length;function b(_){const _e=[];let tt=0,nt=0,it;for(let Et=0;Et<_.length;Et++){let pt=_[Et];if(tt===0){if(pt===d&&(c||_.slice(Et,Et+g)===e)){_e.push(_.slice(nt,Et)),nt=Et+g;continue}if(pt==="/"){it=Et;continue}}pt==="["?tt++:pt==="]"&&tt--}const st=_e.length===0?_:_.substring(nt),ot=st.startsWith(IMPORTANT_MODIFIER),ht=ot?st.substring(1):st,dt=it&&it>nt?it-nt:void 0;return{modifiers:_e,hasImportantModifier:ot,baseClassName:ht,maybePostfixModifierPosition:dt}}return a?function(_e){return a({className:_e,parseClassName:b})}:b}function sortModifiers(o){if(o.length<=1)return o;const e=[];let a=[];return o.forEach(c=>{c[0]==="["?(e.push(...a.sort(),c),a=[]):a.push(c)}),e.push(...a.sort()),e}function createConfigUtils(o){return{cache:createLruCache(o.cacheSize),parseClassName:createParseClassName(o),...createClassGroupUtils(o)}}const SPLIT_CLASSES_REGEX=/\s+/;function mergeClassList(o,e){const{parseClassName:a,getClassGroupId:c,getConflictingClassGroupIds:d}=e,g=new Set;return o.trim().split(SPLIT_CLASSES_REGEX).map(b=>{const{modifiers:_,hasImportantModifier:_e,baseClassName:tt,maybePostfixModifierPosition:nt}=a(b);let it=!!nt,st=c(it?tt.substring(0,nt):tt);if(!st){if(!it)return{isTailwindClass:!1,originalClassName:b};if(st=c(tt),!st)return{isTailwindClass:!1,originalClassName:b};it=!1}const ot=sortModifiers(_).join(":");return{isTailwindClass:!0,modifierId:_e?ot+IMPORTANT_MODIFIER:ot,classGroupId:st,originalClassName:b,hasPostfixModifier:it}}).reverse().filter(b=>{if(!b.isTailwindClass)return!0;const{modifierId:_,classGroupId:_e,hasPostfixModifier:tt}=b,nt=_+_e;return g.has(nt)?!1:(g.add(nt),d(_e,tt).forEach(it=>g.add(_+it)),!0)}).reverse().map(b=>b.originalClassName).join(" ")}function twJoin(){let o=0,e,a,c="";for(;o<arguments.length;)(e=arguments[o++])&&(a=toValue(e))&&(c&&(c+=" "),c+=a);return c}function toValue(o){if(typeof o=="string")return o;let e,a="";for(let c=0;c<o.length;c++)o[c]&&(e=toValue(o[c]))&&(a&&(a+=" "),a+=e);return a}function createTailwindMerge(o,...e){let a,c,d,g=b;function b(_e){const tt=e.reduce((nt,it)=>it(nt),o());return a=createConfigUtils(tt),c=a.cache.get,d=a.cache.set,g=_,_(_e)}function _(_e){const tt=c(_e);if(tt)return tt;const nt=mergeClassList(_e,a);return d(_e,nt),nt}return function(){return g(twJoin.apply(null,arguments))}}function fromTheme(o){const e=a=>a[o]||[];return e.isThemeGetter=!0,e}const arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function isLength(o){return isNumber(o)||stringLengths.has(o)||fractionRegex.test(o)}function isArbitraryLength(o){return getIsArbitraryValue(o,"length",isLengthOnly)}function isNumber(o){return!!o&&!Number.isNaN(Number(o))}function isArbitraryNumber(o){return getIsArbitraryValue(o,"number",isNumber)}function isInteger(o){return!!o&&Number.isInteger(Number(o))}function isPercent(o){return o.endsWith("%")&&isNumber(o.slice(0,-1))}function isArbitraryValue(o){return arbitraryValueRegex.test(o)}function isTshirtSize(o){return tshirtUnitRegex.test(o)}const sizeLabels=new Set(["length","size","percentage"]);function isArbitrarySize(o){return getIsArbitraryValue(o,sizeLabels,isNever)}function isArbitraryPosition(o){return getIsArbitraryValue(o,"position",isNever)}const imageLabels=new Set(["image","url"]);function isArbitraryImage(o){return getIsArbitraryValue(o,imageLabels,isImage)}function isArbitraryShadow(o){return getIsArbitraryValue(o,"",isShadow)}function isAny(){return!0}function getIsArbitraryValue(o,e,a){const c=arbitraryValueRegex.exec(o);return c?c[1]?typeof e=="string"?c[1]===e:e.has(c[1]):a(c[2]):!1}function isLengthOnly(o){return lengthUnitRegex.test(o)&&!colorFunctionRegex.test(o)}function isNever(){return!1}function isShadow(o){return shadowRegex.test(o)}function isImage(o){return imageRegex.test(o)}function getDefaultConfig(){const o=fromTheme("colors"),e=fromTheme("spacing"),a=fromTheme("blur"),c=fromTheme("brightness"),d=fromTheme("borderColor"),g=fromTheme("borderRadius"),b=fromTheme("borderSpacing"),_=fromTheme("borderWidth"),_e=fromTheme("contrast"),tt=fromTheme("grayscale"),nt=fromTheme("hueRotate"),it=fromTheme("invert"),st=fromTheme("gap"),ot=fromTheme("gradientColorStops"),ht=fromTheme("gradientColorStopPositions"),dt=fromTheme("inset"),Et=fromTheme("margin"),pt=fromTheme("opacity"),gt=fromTheme("padding"),St=fromTheme("saturate"),Tt=fromTheme("scale"),bt=fromTheme("sepia"),vt=fromTheme("skew"),kt=fromTheme("space"),Nt=fromTheme("translate"),en=()=>["auto","contain","none"],jt=()=>["auto","hidden","clip","visible","scroll"],tn=()=>["auto",isArbitraryValue,e],Yt=()=>[isArbitraryValue,e],pn=()=>["",isLength,isArbitraryLength],mn=()=>["auto",isNumber,isArbitraryValue],dn=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],On=()=>["solid","dashed","dotted","double","none"],hn=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],zt=()=>["start","end","center","between","around","evenly","stretch"],nn=()=>["","0",isArbitraryValue],wt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fn=()=>[isNumber,isArbitraryNumber],Sn=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:fn(),borderColor:[o],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:Yt(),borderWidth:pn(),contrast:fn(),grayscale:nn(),hueRotate:Sn(),invert:nn(),gap:Yt(),gradientColorStops:[o],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:tn(),margin:tn(),opacity:fn(),padding:Yt(),saturate:fn(),scale:fn(),sepia:nn(),skew:Sn(),space:Yt(),translate:Yt()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":wt()}],"break-before":[{"break-before":wt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...dn(),isArbitraryValue]}],overflow:[{overflow:jt()}],"overflow-x":[{"overflow-x":jt()}],"overflow-y":[{"overflow-y":jt()}],overscroll:[{overscroll:en()}],"overscroll-x":[{"overscroll-x":en()}],"overscroll-y":[{"overscroll-y":en()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[dt]}],"inset-x":[{"inset-x":[dt]}],"inset-y":[{"inset-y":[dt]}],start:[{start:[dt]}],end:[{end:[dt]}],top:[{top:[dt]}],right:[{right:[dt]}],bottom:[{bottom:[dt]}],left:[{left:[dt]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:tn()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:nn()}],shrink:[{shrink:nn()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":mn()}],"col-end":[{"col-end":mn()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":mn()}],"row-end":[{"row-end":mn()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[st]}],"gap-x":[{"gap-x":[st]}],"gap-y":[{"gap-y":[st]}],"justify-content":[{justify:["normal",...zt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...zt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...zt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[gt]}],px:[{px:[gt]}],py:[{py:[gt]}],ps:[{ps:[gt]}],pe:[{pe:[gt]}],pt:[{pt:[gt]}],pr:[{pr:[gt]}],pb:[{pb:[gt]}],pl:[{pl:[gt]}],m:[{m:[Et]}],mx:[{mx:[Et]}],my:[{my:[Et]}],ms:[{ms:[Et]}],me:[{me:[Et]}],mt:[{mt:[Et]}],mr:[{mr:[Et]}],mb:[{mb:[Et]}],ml:[{ml:[Et]}],"space-x":[{"space-x":[kt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[kt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,e]}],"min-w":[{"min-w":[isArbitraryValue,e,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,e,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[o]}],"placeholder-opacity":[{"placeholder-opacity":[pt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[o]}],"text-opacity":[{"text-opacity":[pt]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...On(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[o]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Yt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[pt]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...dn(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[o]}],"gradient-from-pos":[{from:[ht]}],"gradient-via-pos":[{via:[ht]}],"gradient-to-pos":[{to:[ht]}],"gradient-from":[{from:[ot]}],"gradient-via":[{via:[ot]}],"gradient-to":[{to:[ot]}],rounded:[{rounded:[g]}],"rounded-s":[{"rounded-s":[g]}],"rounded-e":[{"rounded-e":[g]}],"rounded-t":[{"rounded-t":[g]}],"rounded-r":[{"rounded-r":[g]}],"rounded-b":[{"rounded-b":[g]}],"rounded-l":[{"rounded-l":[g]}],"rounded-ss":[{"rounded-ss":[g]}],"rounded-se":[{"rounded-se":[g]}],"rounded-ee":[{"rounded-ee":[g]}],"rounded-es":[{"rounded-es":[g]}],"rounded-tl":[{"rounded-tl":[g]}],"rounded-tr":[{"rounded-tr":[g]}],"rounded-br":[{"rounded-br":[g]}],"rounded-bl":[{"rounded-bl":[g]}],"border-w":[{border:[_]}],"border-w-x":[{"border-x":[_]}],"border-w-y":[{"border-y":[_]}],"border-w-s":[{"border-s":[_]}],"border-w-e":[{"border-e":[_]}],"border-w-t":[{"border-t":[_]}],"border-w-r":[{"border-r":[_]}],"border-w-b":[{"border-b":[_]}],"border-w-l":[{"border-l":[_]}],"border-opacity":[{"border-opacity":[pt]}],"border-style":[{border:[...On(),"hidden"]}],"divide-x":[{"divide-x":[_]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[_]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[pt]}],"divide-style":[{divide:On()}],"border-color":[{border:[d]}],"border-color-x":[{"border-x":[d]}],"border-color-y":[{"border-y":[d]}],"border-color-t":[{"border-t":[d]}],"border-color-r":[{"border-r":[d]}],"border-color-b":[{"border-b":[d]}],"border-color-l":[{"border-l":[d]}],"divide-color":[{divide:[d]}],"outline-style":[{outline:["",...On()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[o]}],"ring-w":[{ring:pn()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[o]}],"ring-opacity":[{"ring-opacity":[pt]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[o]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[pt]}],"mix-blend":[{"mix-blend":[...hn(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":hn()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[c]}],contrast:[{contrast:[_e]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[tt]}],"hue-rotate":[{"hue-rotate":[nt]}],invert:[{invert:[it]}],saturate:[{saturate:[St]}],sepia:[{sepia:[bt]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[c]}],"backdrop-contrast":[{"backdrop-contrast":[_e]}],"backdrop-grayscale":[{"backdrop-grayscale":[tt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nt]}],"backdrop-invert":[{"backdrop-invert":[it]}],"backdrop-opacity":[{"backdrop-opacity":[pt]}],"backdrop-saturate":[{"backdrop-saturate":[St]}],"backdrop-sepia":[{"backdrop-sepia":[bt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[b]}],"border-spacing-x":[{"border-spacing-x":[b]}],"border-spacing-y":[{"border-spacing-y":[b]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:Sn()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:Sn()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Tt]}],"scale-x":[{"scale-x":[Tt]}],"scale-y":[{"scale-y":[Tt]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[Nt]}],"translate-y":[{"translate-y":[Nt]}],"skew-x":[{"skew-x":[vt]}],"skew-y":[{"skew-y":[vt]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",o]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[o]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Yt()}],"scroll-mx":[{"scroll-mx":Yt()}],"scroll-my":[{"scroll-my":Yt()}],"scroll-ms":[{"scroll-ms":Yt()}],"scroll-me":[{"scroll-me":Yt()}],"scroll-mt":[{"scroll-mt":Yt()}],"scroll-mr":[{"scroll-mr":Yt()}],"scroll-mb":[{"scroll-mb":Yt()}],"scroll-ml":[{"scroll-ml":Yt()}],"scroll-p":[{"scroll-p":Yt()}],"scroll-px":[{"scroll-px":Yt()}],"scroll-py":[{"scroll-py":Yt()}],"scroll-ps":[{"scroll-ps":Yt()}],"scroll-pe":[{"scroll-pe":Yt()}],"scroll-pt":[{"scroll-pt":Yt()}],"scroll-pr":[{"scroll-pr":Yt()}],"scroll-pb":[{"scroll-pb":Yt()}],"scroll-pl":[{"scroll-pl":Yt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[o,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[o,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const twMerge=createTailwindMerge(getDefaultConfig);function cn(...o){return twMerge(clsx$1(o))}const MenubarMenu=Menu,Menubar=reactExports.forwardRef(({className:o,...e},a)=>jsxRuntimeExports.jsx(Root3,{ref:a,className:cn("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",o),...e}));Menubar.displayName=Root3.displayName;const MenubarTrigger=reactExports.forwardRef(({className:o,...e},a)=>jsxRuntimeExports.jsx(Trigger,{ref:a,className:cn("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",o),...e}));MenubarTrigger.displayName=Trigger.displayName;const MenubarSubTrigger=reactExports.forwardRef(({className:o,inset:e,children:a,...c},d)=>jsxRuntimeExports.jsxs(SubTrigger2,{ref:d,className:cn("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",o),...c,children:[a,jsxRuntimeExports.jsx(ChevronRight,{className:"ml-auto h-4 w-4"})]}));MenubarSubTrigger.displayName=SubTrigger2.displayName;const MenubarSubContent=reactExports.forwardRef(({className:o,...e},a)=>jsxRuntimeExports.jsx(SubContent2,{ref:a,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...e}));MenubarSubContent.displayName=SubContent2.displayName;const MenubarContent=reactExports.forwardRef(({className:o,align:e="start",alignOffset:a=-4,sideOffset:c=8,...d},g)=>jsxRuntimeExports.jsx(Portal2,{children:jsxRuntimeExports.jsx(Content2$1,{ref:g,align:e,alignOffset:a,sideOffset:c,className:cn("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...d})}));MenubarContent.displayName=Content2$1.displayName;const MenubarItem=reactExports.forwardRef(({className:o,inset:e,...a},c)=>jsxRuntimeExports.jsx(Item3,{ref:c,className:cn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",o),...a}));MenubarItem.displayName=Item3.displayName;const MenubarCheckboxItem=reactExports.forwardRef(({className:o,children:e,checked:a,...c},d)=>jsxRuntimeExports.jsxs(CheckboxItem2,{ref:d,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),checked:a,...c,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),e]}));MenubarCheckboxItem.displayName=CheckboxItem2.displayName;const MenubarRadioItem=reactExports.forwardRef(({className:o,children:e,...a},c)=>jsxRuntimeExports.jsxs(RadioItem2,{ref:c,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...a,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Circle,{className:"h-2 w-2 fill-current"})})}),e]}));MenubarRadioItem.displayName=RadioItem2.displayName;const MenubarLabel=reactExports.forwardRef(({className:o,inset:e,...a},c)=>jsxRuntimeExports.jsx(Label2,{ref:c,className:cn("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",o),...a}));MenubarLabel.displayName=Label2.displayName;const MenubarSeparator=reactExports.forwardRef(({className:o,...e},a)=>jsxRuntimeExports.jsx(Separator2,{ref:a,className:cn("-mx-1 my-1 h-px bg-muted",o),...e}));MenubarSeparator.displayName=Separator2.displayName;function usePrevious(o){const e=reactExports.useRef({value:o,previous:o});return reactExports.useMemo(()=>(e.current.value!==o&&(e.current.previous=e.current.value,e.current.value=o),e.current.previous),[o])}var SWITCH_NAME="Switch",[createSwitchContext,createSwitchScope]=createContextScope(SWITCH_NAME),[SwitchProvider,useSwitchContext]=createSwitchContext(SWITCH_NAME),Switch$1=reactExports.forwardRef((o,e)=>{const{__scopeSwitch:a,name:c,checked:d,defaultChecked:g,required:b,disabled:_,value:_e="on",onCheckedChange:tt,...nt}=o,[it,st]=reactExports.useState(null),ot=useComposedRefs(e,gt=>st(gt)),ht=reactExports.useRef(!1),dt=it?!!it.closest("form"):!0,[Et=!1,pt]=useControllableState({prop:d,defaultProp:g,onChange:tt});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:a,checked:Et,disabled:_,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"switch","aria-checked":Et,"aria-required":b,"data-state":getState$1(Et),"data-disabled":_?"":void 0,disabled:_,value:_e,...nt,ref:ot,onClick:composeEventHandlers(o.onClick,gt=>{pt(St=>!St),dt&&(ht.current=gt.isPropagationStopped(),ht.current||gt.stopPropagation())})}),dt&&jsxRuntimeExports.jsx(BubbleInput$1,{control:it,bubbles:!ht.current,name:c,value:_e,checked:Et,required:b,disabled:_,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName=SWITCH_NAME;var THUMB_NAME$1="SwitchThumb",SwitchThumb=reactExports.forwardRef((o,e)=>{const{__scopeSwitch:a,...c}=o,d=useSwitchContext(THUMB_NAME$1,a);return jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$1(d.checked),"data-disabled":d.disabled?"":void 0,...c,ref:e})});SwitchThumb.displayName=THUMB_NAME$1;var BubbleInput$1=o=>{const{control:e,checked:a,bubbles:c=!0,...d}=o,g=reactExports.useRef(null),b=usePrevious(a),_=useSize(e);return reactExports.useEffect(()=>{const _e=g.current,tt=window.HTMLInputElement.prototype,it=Object.getOwnPropertyDescriptor(tt,"checked").set;if(b!==a&&it){const st=new Event("click",{bubbles:c});it.call(_e,a),_e.dispatchEvent(st)}},[b,a,c]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...d,tabIndex:-1,ref:g,style:{...o.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function getState$1(o){return o?"checked":"unchecked"}var Root$4=Switch$1,Thumb$1=SwitchThumb;const Switch=reactExports.forwardRef(({className:o,...e},a)=>jsxRuntimeExports.jsx(Root$4,{className:cn("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",o),...e,ref:a,children:jsxRuntimeExports.jsx(Thumb$1,{className:cn("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Switch.displayName=Root$4.displayName;var NAME$1="Label",Label$1=reactExports.forwardRef((o,e)=>jsxRuntimeExports.jsx(Primitive.label,{...o,ref:e,onMouseDown:a=>{var d;a.target.closest("button, input, select, textarea")||((d=o.onMouseDown)==null||d.call(o,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));Label$1.displayName=NAME$1;var Root$3=Label$1;function r(o){var e,a,c="";if(typeof o=="string"||typeof o=="number")c+=o;else if(typeof o=="object")if(Array.isArray(o))for(e=0;e<o.length;e++)o[e]&&(a=r(o[e]))&&(c&&(c+=" "),c+=a);else for(e in o)o[e]&&(c&&(c+=" "),c+=e);return c}function clsx(){for(var o,e,a=0,c="";a<arguments.length;)(o=arguments[a++])&&(e=r(o))&&(c&&(c+=" "),c+=e);return c}const falsyToString=o=>typeof o=="boolean"?"".concat(o):o===0?"0":o,cx=clsx,cva=(o,e)=>a=>{var c;if((e==null?void 0:e.variants)==null)return cx(o,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:d,defaultVariants:g}=e,b=Object.keys(d).map(tt=>{const nt=a==null?void 0:a[tt],it=g==null?void 0:g[tt];if(nt===null)return null;const st=falsyToString(nt)||falsyToString(it);return d[tt][st]}),_=a&&Object.entries(a).reduce((tt,nt)=>{let[it,st]=nt;return st===void 0||(tt[it]=st),tt},{}),_e=e==null||(c=e.compoundVariants)===null||c===void 0?void 0:c.reduce((tt,nt)=>{let{class:it,className:st,...ot}=nt;return Object.entries(ot).every(ht=>{let[dt,Et]=ht;return Array.isArray(Et)?Et.includes({...g,..._}[dt]):{...g,..._}[dt]===Et})?[...tt,it,st]:tt},[]);return cx(o,b,_e,a==null?void 0:a.class,a==null?void 0:a.className)},labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label=reactExports.forwardRef(({className:o,...e},a)=>jsxRuntimeExports.jsx(Root$3,{ref:a,className:cn(labelVariants(),o),...e}));Label.displayName=Root$3.displayName;function clamp(o,[e,a]){return Math.min(a,Math.max(e,o))}var PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection,useCollection,createCollectionScope]=createCollection(SLIDER_NAME),[createSliderContext,createSliderScope]=createContextScope(SLIDER_NAME,[createCollectionScope]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider$1=reactExports.forwardRef((o,e)=>{const{name:a,min:c=0,max:d=100,step:g=1,orientation:b="horizontal",disabled:_=!1,minStepsBetweenThumbs:_e=0,defaultValue:tt=[c],value:nt,onValueChange:it=()=>{},onValueCommit:st=()=>{},inverted:ot=!1,...ht}=o,dt=reactExports.useRef(new Set),Et=reactExports.useRef(0),gt=b==="horizontal"?SliderHorizontal:SliderVertical,[St=[],Tt]=useControllableState({prop:nt,defaultProp:tt,onChange:jt=>{var Yt;(Yt=[...dt.current][Et.current])==null||Yt.focus(),it(jt)}}),bt=reactExports.useRef(St);function vt(jt){const tn=getClosestValueIndex(St,jt);en(jt,tn)}function kt(jt){en(jt,Et.current)}function Nt(){const jt=bt.current[Et.current];St[Et.current]!==jt&&st(St)}function en(jt,tn,{commit:Yt}={commit:!1}){const pn=getDecimalCount(g),mn=roundValue(Math.round((jt-c)/g)*g+c,pn),dn=clamp(mn,[c,d]);Tt((On=[])=>{const hn=getNextSortedValues(On,dn,tn);if(hasMinStepsBetweenValues(hn,_e*g)){Et.current=hn.indexOf(dn);const zt=String(hn)!==String(On);return zt&&Yt&&st(hn),zt?hn:On}else return On})}return jsxRuntimeExports.jsx(SliderProvider,{scope:o.__scopeSlider,name:a,disabled:_,min:c,max:d,valueIndexToChangeRef:Et,thumbs:dt.current,values:St,orientation:b,children:jsxRuntimeExports.jsx(Collection.Provider,{scope:o.__scopeSlider,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:o.__scopeSlider,children:jsxRuntimeExports.jsx(gt,{"aria-disabled":_,"data-disabled":_?"":void 0,...ht,ref:e,onPointerDown:composeEventHandlers(ht.onPointerDown,()=>{_||(bt.current=St)}),min:c,max:d,inverted:ot,onSlideStart:_?void 0:vt,onSlideMove:_?void 0:kt,onSlideEnd:_?void 0:Nt,onHomeKeyDown:()=>!_&&en(c,0,{commit:!0}),onEndKeyDown:()=>!_&&en(d,St.length-1,{commit:!0}),onStepKeyDown:({event:jt,direction:tn})=>{if(!_){const mn=PAGE_KEYS.includes(jt.key)||jt.shiftKey&&ARROW_KEYS.includes(jt.key)?10:1,dn=Et.current,On=St[dn],hn=g*mn*tn;en(On+hn,dn,{commit:!0})}}})})})})});Slider$1.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef((o,e)=>{const{min:a,max:c,dir:d,inverted:g,onSlideStart:b,onSlideMove:_,onSlideEnd:_e,onStepKeyDown:tt,...nt}=o,[it,st]=reactExports.useState(null),ot=useComposedRefs(e,St=>st(St)),ht=reactExports.useRef(),dt=useDirection(d),Et=dt==="ltr",pt=Et&&!g||!Et&&g;function gt(St){const Tt=ht.current||it.getBoundingClientRect(),bt=[0,Tt.width],kt=linearScale(bt,pt?[a,c]:[c,a]);return ht.current=Tt,kt(St-Tt.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:o.__scopeSlider,startEdge:pt?"left":"right",endEdge:pt?"right":"left",direction:pt?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:dt,"data-orientation":"horizontal",...nt,ref:ot,style:{...nt.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:St=>{const Tt=gt(St.clientX);b==null||b(Tt)},onSlideMove:St=>{const Tt=gt(St.clientX);_==null||_(Tt)},onSlideEnd:()=>{ht.current=void 0,_e==null||_e()},onStepKeyDown:St=>{const bt=BACK_KEYS[pt?"from-left":"from-right"].includes(St.key);tt==null||tt({event:St,direction:bt?-1:1})}})})}),SliderVertical=reactExports.forwardRef((o,e)=>{const{min:a,max:c,inverted:d,onSlideStart:g,onSlideMove:b,onSlideEnd:_,onStepKeyDown:_e,...tt}=o,nt=reactExports.useRef(null),it=useComposedRefs(e,nt),st=reactExports.useRef(),ot=!d;function ht(dt){const Et=st.current||nt.current.getBoundingClientRect(),pt=[0,Et.height],St=linearScale(pt,ot?[c,a]:[a,c]);return st.current=Et,St(dt-Et.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:o.__scopeSlider,startEdge:ot?"bottom":"top",endEdge:ot?"top":"bottom",size:"height",direction:ot?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",...tt,ref:it,style:{...tt.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:dt=>{const Et=ht(dt.clientY);g==null||g(Et)},onSlideMove:dt=>{const Et=ht(dt.clientY);b==null||b(Et)},onSlideEnd:()=>{st.current=void 0,_==null||_()},onStepKeyDown:dt=>{const pt=BACK_KEYS[ot?"from-bottom":"from-top"].includes(dt.key);_e==null||_e({event:dt,direction:pt?-1:1})}})})}),SliderImpl=reactExports.forwardRef((o,e)=>{const{__scopeSlider:a,onSlideStart:c,onSlideMove:d,onSlideEnd:g,onHomeKeyDown:b,onEndKeyDown:_,onStepKeyDown:_e,...tt}=o,nt=useSliderContext(SLIDER_NAME,a);return jsxRuntimeExports.jsx(Primitive.span,{...tt,ref:e,onKeyDown:composeEventHandlers(o.onKeyDown,it=>{it.key==="Home"?(b(it),it.preventDefault()):it.key==="End"?(_(it),it.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(it.key)&&(_e(it),it.preventDefault())}),onPointerDown:composeEventHandlers(o.onPointerDown,it=>{const st=it.target;st.setPointerCapture(it.pointerId),it.preventDefault(),nt.thumbs.has(st)?st.focus():c(it)}),onPointerMove:composeEventHandlers(o.onPointerMove,it=>{it.target.hasPointerCapture(it.pointerId)&&d(it)}),onPointerUp:composeEventHandlers(o.onPointerUp,it=>{const st=it.target;st.hasPointerCapture(it.pointerId)&&(st.releasePointerCapture(it.pointerId),g(it))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef((o,e)=>{const{__scopeSlider:a,...c}=o,d=useSliderContext(TRACK_NAME,a);return jsxRuntimeExports.jsx(Primitive.span,{"data-disabled":d.disabled?"":void 0,"data-orientation":d.orientation,...c,ref:e})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef((o,e)=>{const{__scopeSlider:a,...c}=o,d=useSliderContext(RANGE_NAME,a),g=useSliderOrientationContext(RANGE_NAME,a),b=reactExports.useRef(null),_=useComposedRefs(e,b),_e=d.values.length,tt=d.values.map(st=>convertValueToPercentage(st,d.min,d.max)),nt=_e>1?Math.min(...tt):0,it=100-Math.max(...tt);return jsxRuntimeExports.jsx(Primitive.span,{"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,...c,ref:_,style:{...o.style,[g.startEdge]:nt+"%",[g.endEdge]:it+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME="SliderThumb",SliderThumb=reactExports.forwardRef((o,e)=>{const a=useCollection(o.__scopeSlider),[c,d]=reactExports.useState(null),g=useComposedRefs(e,_=>d(_)),b=reactExports.useMemo(()=>c?a().findIndex(_=>_.ref.current===c):-1,[a,c]);return jsxRuntimeExports.jsx(SliderThumbImpl,{...o,ref:g,index:b})}),SliderThumbImpl=reactExports.forwardRef((o,e)=>{const{__scopeSlider:a,index:c,name:d,...g}=o,b=useSliderContext(THUMB_NAME,a),_=useSliderOrientationContext(THUMB_NAME,a),[_e,tt]=reactExports.useState(null),nt=useComposedRefs(e,gt=>tt(gt)),it=_e?!!_e.closest("form"):!0,st=useSize(_e),ot=b.values[c],ht=ot===void 0?0:convertValueToPercentage(ot,b.min,b.max),dt=getLabel(c,b.values.length),Et=st==null?void 0:st[_.size],pt=Et?getThumbInBoundsOffset(Et,ht,_.direction):0;return reactExports.useEffect(()=>{if(_e)return b.thumbs.add(_e),()=>{b.thumbs.delete(_e)}},[_e,b.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[_.startEdge]:`calc(${ht}% + ${pt}px)`},children:[jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:o.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive.span,{role:"slider","aria-label":o["aria-label"]||dt,"aria-valuemin":b.min,"aria-valuenow":ot,"aria-valuemax":b.max,"aria-orientation":b.orientation,"data-orientation":b.orientation,"data-disabled":b.disabled?"":void 0,tabIndex:b.disabled?void 0:0,...g,ref:nt,style:ot===void 0?{display:"none"}:o.style,onFocus:composeEventHandlers(o.onFocus,()=>{b.valueIndexToChangeRef.current=c})})}),it&&jsxRuntimeExports.jsx(BubbleInput,{name:d??(b.name?b.name+(b.values.length>1?"[]":""):void 0),value:ot},c)]})});SliderThumb.displayName=THUMB_NAME;var BubbleInput=o=>{const{value:e,...a}=o,c=reactExports.useRef(null),d=usePrevious(e);return reactExports.useEffect(()=>{const g=c.current,b=window.HTMLInputElement.prototype,_e=Object.getOwnPropertyDescriptor(b,"value").set;if(d!==e&&_e){const tt=new Event("input",{bubbles:!0});_e.call(g,e),g.dispatchEvent(tt)}},[d,e]),jsxRuntimeExports.jsx("input",{style:{display:"none"},...a,ref:c,defaultValue:e})};function getNextSortedValues(o=[],e,a){const c=[...o];return c[a]=e,c.sort((d,g)=>d-g)}function convertValueToPercentage(o,e,a){const g=100/(a-e)*(o-e);return clamp(g,[0,100])}function getLabel(o,e){return e>2?`Value ${o+1} of ${e}`:e===2?["Minimum","Maximum"][o]:void 0}function getClosestValueIndex(o,e){if(o.length===1)return 0;const a=o.map(d=>Math.abs(d-e)),c=Math.min(...a);return a.indexOf(c)}function getThumbInBoundsOffset(o,e,a){const c=o/2,g=linearScale([0,50],[0,c]);return(c-g(e)*a)*a}function getStepsBetweenValues(o){return o.slice(0,-1).map((e,a)=>o[a+1]-e)}function hasMinStepsBetweenValues(o,e){if(e>0){const a=getStepsBetweenValues(o);return Math.min(...a)>=e}return!0}function linearScale(o,e){return a=>{if(o[0]===o[1]||e[0]===e[1])return e[0];const c=(e[1]-e[0])/(o[1]-o[0]);return e[0]+c*(a-o[0])}}function getDecimalCount(o){return(String(o).split(".")[1]||"").length}function roundValue(o,e){const a=Math.pow(10,e);return Math.round(o*a)/a}var Root$2=Slider$1,Track=SliderTrack,Range=SliderRange,Thumb=SliderThumb;const Slider=reactExports.forwardRef(({className:o,...e},a)=>jsxRuntimeExports.jsxs(Root$2,{ref:a,className:cn("relative flex w-full touch-none select-none items-center",o),...e,children:[jsxRuntimeExports.jsx(Track,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:jsxRuntimeExports.jsx(Range,{className:"absolute h-full bg-primary"})}),jsxRuntimeExports.jsx(Thumb,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Slider.displayName=Root$2.displayName;const buttonVariants=cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:o,variant:e,size:a,asChild:c=!1,...d},g)=>{const b=c?Slot:"button";return jsxRuntimeExports.jsx(b,{className:cn(buttonVariants({variant:e,size:a,className:o})),ref:g,...d})});Button.displayName="Button";const AIFunctions=({aiActions:o,sendAIRequest:e,handleEditPrompt:a,handleAddPrompt:c,isPromptEditOpen:d,setIsPromptEditOpen:g,currentPrompt:b,setCurrentPrompt:_,closeMenu:_e,getSelectedText:tt,addNotification:nt})=>{const it=st=>{const ot=tt();e(st.prompt,ot),_e()};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[o&&o.length>0?o.map(st=>jsxRuntimeExports.jsxs(MenubarItem,{onSelect:()=>it(st),className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex-grow cursor-pointer",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"mr-2 h-4 w-4 inline"}),st.name]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:ot=>{ot.stopPropagation(),a(st)},"aria-label":`Edit ${st.name} prompt`,children:jsxRuntimeExports.jsx(Pen,{className:"h-4 w-4"})})]},st.name)):jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"No AI actions available"}),jsxRuntimeExports.jsxs("div",{onClick:c,className:"cursor-pointer flex items-center",children:[jsxRuntimeExports.jsx(Plus,{className:"mr-2 h-4 w-4 inline"}),"Add New Prompt"]})]})},MenuBar=({openFile:o,downloadFile:e,saveNote:a,shareNote:c,renderMarkdown:d,setRenderMarkdown:g,showLineNumbers:b,setShowLineNumbers:_,uiScale:_e,setUiScale:tt,fontSize:nt,setFontSize:it,darkMode:st,setDarkMode:ot,toggleFullscreen:ht,setIsSettingsOpen:dt,aiActions:Et,sendAIRequest:pt,handleEditPrompt:gt,handleAddPrompt:St,isPromptEditOpen:Tt,setIsPromptEditOpen:bt,currentPrompt:vt,setCurrentPrompt:kt,handleUndo:Nt,handleRedo:en,getSelectedText:jt,addNotification:tn,setIsHelpOpen:Yt})=>jsxRuntimeExports.jsx(Menubar,{className:"px-2 border-b border-border flex justify-between items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsxs(MenubarMenu,{children:[jsxRuntimeExports.jsx(MenubarTrigger,{children:"File"}),jsxRuntimeExports.jsxs(MenubarContent,{children:[jsxRuntimeExports.jsxs(MenubarItem,{onSelect:o,children:[jsxRuntimeExports.jsx(FileText,{className:"mr-2 h-4 w-4"}),"Open"]}),jsxRuntimeExports.jsxs(MenubarItem,{onSelect:e,children:[jsxRuntimeExports.jsx(Download,{className:"mr-2 h-4 w-4"}),"Download"]}),jsxRuntimeExports.jsxs(MenubarItem,{onSelect:a,children:[jsxRuntimeExports.jsx(Save,{className:"mr-2 h-4 w-4"}),"Save"]}),jsxRuntimeExports.jsxs(MenubarItem,{onSelect:c,children:[jsxRuntimeExports.jsx(Share2,{className:"mr-2 h-4 w-4"}),"Share"]})]})]}),jsxRuntimeExports.jsxs(MenubarMenu,{children:[jsxRuntimeExports.jsx(MenubarTrigger,{children:"View"}),jsxRuntimeExports.jsxs(MenubarContent,{children:[jsxRuntimeExports.jsx(MenubarItem,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Eye,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx(Label,{htmlFor:"markdown-switch",className:"mr-2",children:"Render Markdown"}),jsxRuntimeExports.jsx(Switch,{id:"markdown-switch",checked:d,onCheckedChange:g})]})}),jsxRuntimeExports.jsx(MenubarItem,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(List,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx(Label,{htmlFor:"line-numbers-switch",className:"mr-2",children:"Show Line Numbers"}),jsxRuntimeExports.jsx(Switch,{id:"line-numbers-switch",checked:b,onCheckedChange:pn=>_(pn)})]})}),jsxRuntimeExports.jsx(MenubarSeparator,{}),jsxRuntimeExports.jsx(MenubarItem,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(ZoomIn,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx(Label,{htmlFor:"ui-scale",className:"mr-2",children:"UI Scale"}),jsxRuntimeExports.jsx(Slider,{id:"ui-scale",min:50,max:200,step:10,value:[_e],onValueChange:pn=>tt(pn[0]),className:"w-32"})]})}),jsxRuntimeExports.jsx(MenubarItem,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Type,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx(Label,{htmlFor:"font-size",className:"mr-2",children:"Font Size"}),jsxRuntimeExports.jsx(Slider,{id:"font-size",min:8,max:24,step:1,value:[nt],onValueChange:pn=>it(pn[0]),className:"w-32"})]})}),jsxRuntimeExports.jsx(MenubarItem,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[st?jsxRuntimeExports.jsx(Moon,{className:"mr-2 h-4 w-4"}):jsxRuntimeExports.jsx(Sun,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx(Label,{htmlFor:"dark-mode-switch",className:"mr-2",children:"Dark Mode"}),jsxRuntimeExports.jsx(Switch,{id:"dark-mode-switch",checked:st,onCheckedChange:ot})]})}),jsxRuntimeExports.jsxs(MenubarItem,{onSelect:ht,children:[jsxRuntimeExports.jsx(Maximize,{className:"mr-2 h-4 w-4"}),"Fullscreen"]})]})]}),jsxRuntimeExports.jsxs(MenubarMenu,{children:[jsxRuntimeExports.jsx(MenubarTrigger,{children:"AI"}),jsxRuntimeExports.jsx(MenubarContent,{children:jsxRuntimeExports.jsx(AIFunctions,{aiActions:Et,sendAIRequest:pt,handleEditPrompt:gt,handleAddPrompt:St,isPromptEditOpen:Tt,setIsPromptEditOpen:bt,currentPrompt:vt,setCurrentPrompt:kt,closeMenu:()=>{},getSelectedText:jt,addNotification:tn})})]}),jsxRuntimeExports.jsxs(MenubarMenu,{children:[jsxRuntimeExports.jsx(MenubarTrigger,{children:"Settings"}),jsxRuntimeExports.jsxs(MenubarContent,{children:[jsxRuntimeExports.jsxs(MenubarItem,{onSelect:()=>dt(!0),children:[jsxRuntimeExports.jsx(Settings,{className:"mr-2 h-4 w-4"}),"Set Note ID"]}),jsxRuntimeExports.jsx(MenubarSeparator,{}),jsxRuntimeExports.jsxs(MenubarItem,{onSelect:()=>Yt(!0),children:[jsxRuntimeExports.jsx(CircleHelp,{className:"mr-2 h-4 w-4"}),"Help"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:Nt,children:jsxRuntimeExports.jsx(Undo,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:en,children:jsxRuntimeExports.jsx(Redo,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>g(!d),children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]})]})}),NoteControls=({openFile:o,downloadFile:e,saveNote:a,shareNote:c,renderMarkdown:d,setRenderMarkdown:g,showLineNumbers:b,setShowLineNumbers:_,uiScale:_e,setUiScale:tt,fontSize:nt,setFontSize:it,darkMode:st,setDarkMode:ot,toggleFullscreen:ht,setIsSettingsOpen:dt,aiActions:Et,sendAIRequest:pt,handleEditPrompt:gt,handleAddPrompt:St,isPromptEditOpen:Tt,setIsPromptEditOpen:bt,currentPrompt:vt,setCurrentPrompt:kt,handleUndo:Nt,handleRedo:en,getSelectedText:jt,addNotification:tn,setIsHelpOpen:Yt})=>jsxRuntimeExports.jsx(MenuBar,{openFile:o,downloadFile:e,saveNote:a,shareNote:c,renderMarkdown:d,setRenderMarkdown:g,showLineNumbers:b,setShowLineNumbers:_,uiScale:_e,setUiScale:tt,fontSize:nt,setFontSize:it,darkMode:st,setDarkMode:ot,toggleFullscreen:ht,setIsSettingsOpen:dt,aiActions:Et,sendAIRequest:pt,handleEditPrompt:gt,handleAddPrompt:St,isPromptEditOpen:Tt,setIsPromptEditOpen:bt,currentPrompt:vt,setCurrentPrompt:kt,handleUndo:Nt,handleRedo:en,getSelectedText:jt,addNotification:tn,setIsHelpOpen:Yt});var DIALOG_NAME="Dialog",[createDialogContext,createDialogScope]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog$1=o=>{const{__scopeDialog:e,children:a,open:c,defaultOpen:d,onOpenChange:g,modal:b=!0}=o,_=reactExports.useRef(null),_e=reactExports.useRef(null),[tt=!1,nt]=useControllableState({prop:c,defaultProp:d,onChange:g});return jsxRuntimeExports.jsx(DialogProvider,{scope:e,triggerRef:_,contentRef:_e,contentId:useId(),titleId:useId(),descriptionId:useId(),open:tt,onOpenChange:nt,onOpenToggle:reactExports.useCallback(()=>nt(it=>!it),[nt]),modal:b,children:a})};Dialog$1.displayName=DIALOG_NAME;var TRIGGER_NAME$1="DialogTrigger",DialogTrigger=reactExports.forwardRef((o,e)=>{const{__scopeDialog:a,...c}=o,d=useDialogContext(TRIGGER_NAME$1,a),g=useComposedRefs(e,d.triggerRef);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":getState(d.open),...c,ref:g,onClick:composeEventHandlers(o.onClick,d.onOpenToggle)})});DialogTrigger.displayName=TRIGGER_NAME$1;var PORTAL_NAME$1="DialogPortal",[PortalProvider$1,usePortalContext$1]=createDialogContext(PORTAL_NAME$1,{forceMount:void 0}),DialogPortal$1=o=>{const{__scopeDialog:e,forceMount:a,children:c,container:d}=o,g=useDialogContext(PORTAL_NAME$1,e);return jsxRuntimeExports.jsx(PortalProvider$1,{scope:e,forceMount:a,children:reactExports.Children.map(c,b=>jsxRuntimeExports.jsx(Presence,{present:a||g.open,children:jsxRuntimeExports.jsx(Portal$2,{asChild:!0,container:d,children:b})}))})};DialogPortal$1.displayName=PORTAL_NAME$1;var OVERLAY_NAME="DialogOverlay",DialogOverlay$1=reactExports.forwardRef((o,e)=>{const a=usePortalContext$1(OVERLAY_NAME,o.__scopeDialog),{forceMount:c=a.forceMount,...d}=o,g=useDialogContext(OVERLAY_NAME,o.__scopeDialog);return g.modal?jsxRuntimeExports.jsx(Presence,{present:c||g.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...d,ref:e})}):null});DialogOverlay$1.displayName=OVERLAY_NAME;var DialogOverlayImpl=reactExports.forwardRef((o,e)=>{const{__scopeDialog:a,...c}=o,d=useDialogContext(OVERLAY_NAME,a);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,shards:[d.contentRef],children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState(d.open),...c,ref:e,style:{pointerEvents:"auto",...c.style}})})}),CONTENT_NAME$1="DialogContent",DialogContent$1=reactExports.forwardRef((o,e)=>{const a=usePortalContext$1(CONTENT_NAME$1,o.__scopeDialog),{forceMount:c=a.forceMount,...d}=o,g=useDialogContext(CONTENT_NAME$1,o.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:c||g.open,children:g.modal?jsxRuntimeExports.jsx(DialogContentModal,{...d,ref:e}):jsxRuntimeExports.jsx(DialogContentNonModal,{...d,ref:e})})});DialogContent$1.displayName=CONTENT_NAME$1;var DialogContentModal=reactExports.forwardRef((o,e)=>{const a=useDialogContext(CONTENT_NAME$1,o.__scopeDialog),c=reactExports.useRef(null),d=useComposedRefs(e,a.contentRef,c);return reactExports.useEffect(()=>{const g=c.current;if(g)return hideOthers(g)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...o,ref:d,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(o.onCloseAutoFocus,g=>{var b;g.preventDefault(),(b=a.triggerRef.current)==null||b.focus()}),onPointerDownOutside:composeEventHandlers(o.onPointerDownOutside,g=>{const b=g.detail.originalEvent,_=b.button===0&&b.ctrlKey===!0;(b.button===2||_)&&g.preventDefault()}),onFocusOutside:composeEventHandlers(o.onFocusOutside,g=>g.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((o,e)=>{const a=useDialogContext(CONTENT_NAME$1,o.__scopeDialog),c=reactExports.useRef(!1),d=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...o,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:g=>{var b,_;(b=o.onCloseAutoFocus)==null||b.call(o,g),g.defaultPrevented||(c.current||(_=a.triggerRef.current)==null||_.focus(),g.preventDefault()),c.current=!1,d.current=!1},onInteractOutside:g=>{var _e,tt;(_e=o.onInteractOutside)==null||_e.call(o,g),g.defaultPrevented||(c.current=!0,g.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const b=g.target;((tt=a.triggerRef.current)==null?void 0:tt.contains(b))&&g.preventDefault(),g.detail.originalEvent.type==="focusin"&&d.current&&g.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((o,e)=>{const{__scopeDialog:a,trapFocus:c,onOpenAutoFocus:d,onCloseAutoFocus:g,...b}=o,_=useDialogContext(CONTENT_NAME$1,a),_e=reactExports.useRef(null),tt=useComposedRefs(e,_e);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:d,onUnmountAutoFocus:g,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:_.contentId,"aria-describedby":_.descriptionId,"aria-labelledby":_.titleId,"data-state":getState(_.open),...b,ref:tt,onDismiss:()=>_.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:_.titleId}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:_e,descriptionId:_.descriptionId})]})]})}),TITLE_NAME="DialogTitle",DialogTitle$1=reactExports.forwardRef((o,e)=>{const{__scopeDialog:a,...c}=o,d=useDialogContext(TITLE_NAME,a);return jsxRuntimeExports.jsx(Primitive.h2,{id:d.titleId,...c,ref:e})});DialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="DialogDescription",DialogDescription$1=reactExports.forwardRef((o,e)=>{const{__scopeDialog:a,...c}=o,d=useDialogContext(DESCRIPTION_NAME,a);return jsxRuntimeExports.jsx(Primitive.p,{id:d.descriptionId,...c,ref:e})});DialogDescription$1.displayName=DESCRIPTION_NAME;var CLOSE_NAME="DialogClose",DialogClose=reactExports.forwardRef((o,e)=>{const{__scopeDialog:a,...c}=o,d=useDialogContext(CLOSE_NAME,a);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...c,ref:e,onClick:composeEventHandlers(o.onClick,()=>d.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME;function getState(o){return o?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$1,titleName:TITLE_NAME,docsSlug:"dialog"}),TitleWarning=({titleId:o})=>{const e=useWarningContext(TITLE_WARNING_NAME),a=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return reactExports.useEffect(()=>{o&&(document.getElementById(o)||console.error(a))},[a,o]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning=({contentRef:o,descriptionId:e})=>{const c=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{var g;const d=(g=o.current)==null?void 0:g.getAttribute("aria-describedby");e&&d&&(document.getElementById(e)||console.warn(c))},[c,o,e]),null},Root$1=Dialog$1,Portal=DialogPortal$1,Overlay=DialogOverlay$1,Content=DialogContent$1,Title=DialogTitle$1,Description=DialogDescription$1,Close=DialogClose;const Dialog=Root$1,DialogPortal=Portal,DialogOverlay=reactExports.forwardRef(({className:o,...e},a)=>jsxRuntimeExports.jsx(Overlay,{ref:a,className:cn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",o),...e}));DialogOverlay.displayName=Overlay.displayName;const DialogContent=reactExports.forwardRef(({className:o,children:e,...a},c)=>jsxRuntimeExports.jsxs(DialogPortal,{children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content,{ref:c,className:cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",o),...a,children:[e,jsxRuntimeExports.jsxs(Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[jsxRuntimeExports.jsx(X,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));DialogContent.displayName=Content.displayName;const DialogHeader=({className:o,...e})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-1.5 text-center sm:text-left",o),...e});DialogHeader.displayName="DialogHeader";const DialogTitle=reactExports.forwardRef(({className:o,...e},a)=>jsxRuntimeExports.jsx(Title,{ref:a,className:cn("text-lg font-semibold leading-none tracking-tight",o),...e}));DialogTitle.displayName=Title.displayName;const DialogDescription=reactExports.forwardRef(({className:o,...e},a)=>jsxRuntimeExports.jsx(Description,{ref:a,className:cn("text-sm text-muted-foreground",o),...e}));DialogDescription.displayName=Description.displayName;const Input=reactExports.forwardRef(({className:o,type:e,...a},c)=>jsxRuntimeExports.jsx("input",{type:e,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o),ref:c,...a}));Input.displayName="Input";const Notification=({id:o,message:e,onClose:a,onClick:c})=>{const[d,g]=reactExports.useState(!1),b=()=>{g(!d),c(o)};return jsxRuntimeExports.jsxs("div",{className:`flex flex-col bg-blue-500 text-white px-4 py-2 rounded shadow-lg mb-2 max-w-[500px] transition-all duration-300 ease-in-out ${d?"h-[500px]":"h-[100px]"}`,onClick:b,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:`whitespace-pre-wrap ${d?"":"line-clamp-4"}`,children:e})}),jsxRuntimeExports.jsx("button",{onClick:_=>{_.stopPropagation(),a(o)},className:"ml-4 flex-shrink-0 focus:outline-none","aria-label":"Close Notification",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-2",children:d?jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})})]})},supabaseUrl="https://vyqkmpjwvoodeeskzvrk.supabase.co",supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ5cWttcGp3dm9vZGVlc2t6dnJrIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTcyNzA2MDI1MCwiZXhwIjoyMDQyNjM2MjUwfQ.I-vbtdO1vl0RlNW_Ww7n4mo6Pl3NiMfJ0vWvcMdSq50",HelpDialog=({isOpen:o,setIsOpen:e})=>jsxRuntimeExports.jsx(Dialog,{open:o,onOpenChange:e,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-3xl",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"How to Use the App"})}),jsxRuntimeExports.jsxs(DialogDescription,{className:"max-h-[70vh] overflow-y-auto pr-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold mt-4",children:"Basic Usage:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:"Type or paste your text in the main editor area."}),jsxRuntimeExports.jsx("li",{children:"Use the toolbar options to customize your view and edit settings."}),jsxRuntimeExports.jsx("li",{children:"Your notes are automatically saved as you type."})]}),jsxRuntimeExports.jsx("h3",{className:"font-bold mt-4",children:"Using AI Functions:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:'Click on the "AI" menu in the toolbar.'}),jsxRuntimeExports.jsx("li",{children:"Select an AI action (e.g., Ask, Correct, Translate)."}),jsxRuntimeExports.jsx("li",{children:"The AI will process your request based on the selected text or current context."})]}),jsxRuntimeExports.jsx("h3",{className:"font-bold mt-4",children:"Selecting Text for AI:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:"Highlight the specific text you want the AI to work with."}),jsxRuntimeExports.jsx("li",{children:"If no text is selected, the AI will use the surrounding context (2 lines before and after the cursor)."}),jsxRuntimeExports.jsx("li",{children:'After selecting text, choose an AI action from the "AI" menu.'})]}),jsxRuntimeExports.jsx("h3",{className:"font-bold mt-4",children:"Sharing Notes:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:'Click on the "File" menu in the toolbar.'}),jsxRuntimeExports.jsx("li",{children:'Select the "Share" option.'}),jsxRuntimeExports.jsx("li",{children:"A shareable URL will be copied to your clipboard."}),jsxRuntimeExports.jsx("li",{children:"You can also click on the URL displayed at the bottom of the screen to copy it."})]}),jsxRuntimeExports.jsx("h3",{className:"font-bold mt-4",children:"Rendering Markdown:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:'Click on the "View" menu in the toolbar.'}),jsxRuntimeExports.jsx("li",{children:'Toggle the "Render Markdown" switch to on.'}),jsxRuntimeExports.jsx("li",{children:"Your note will now be displayed as rendered markdown."}),jsxRuntimeExports.jsx("li",{children:"Toggle the switch off to return to the plain text editor view."})]}),jsxRuntimeExports.jsx("h3",{className:"font-bold mt-4",children:"Using HTML in Markdown:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:"You can use HTML tags like <audio> and <iframe> in your markdown."}),jsxRuntimeExports.jsx("li",{children:'These tags will be rendered properly when "Render Markdown" is enabled.'}),jsxRuntimeExports.jsx("li",{children:'Example: <audio controls src="path/to/audio.mp3"></audio>'}),jsxRuntimeExports.jsx("li",{children:'Example: <iframe src="https://www.youtube.com/embed/VIDEO_ID"></iframe>'})]})]})]})});var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(o,e){(function(){var a,c="4.17.21",d=200,g="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",b="Expected a function",_="Invalid `variable` option passed into `_.template`",_e="__lodash_hash_undefined__",tt=500,nt="__lodash_placeholder__",it=1,st=2,ot=4,ht=1,dt=2,Et=1,pt=2,gt=4,St=8,Tt=16,bt=32,vt=64,kt=128,Nt=256,en=512,jt=30,tn="...",Yt=800,pn=16,mn=1,dn=2,On=3,hn=1/0,zt=9007199254740991,nn=17976931348623157e292,wt=NaN,fn=4294967295,Sn=fn-1,Pt=fn>>>1,wn=[["ary",kt],["bind",Et],["bindKey",pt],["curry",St],["curryRight",Tt],["flip",en],["partial",bt],["partialRight",vt],["rearg",Nt]],In="[object Arguments]",xn="[object Array]",Wn="[object AsyncFunction]",Gn="[object Boolean]",Fn="[object Date]",ir="[object DOMException]",pr="[object Error]",mr="[object Function]",Nr="[object GeneratorFunction]",ar="[object Map]",wr="[object Number]",Cr="[object Null]",gr="[object Object]",hs="[object Promise]",er="[object Proxy]",Er="[object RegExp]",Sr="[object Set]",Xr="[object String]",Br="[object Symbol]",Gs="[object Undefined]",Yr="[object WeakMap]",Lt="[object WeakSet]",sn="[object ArrayBuffer]",En="[object DataView]",bn="[object Float32Array]",Dn="[object Float64Array]",tr="[object Int8Array]",lr="[object Int16Array]",hr="[object Int32Array]",yr="[object Uint8Array]",kr="[object Uint8ClampedArray]",qn="[object Uint16Array]",qr="[object Uint32Array]",vn=/\b__p \+= '';/g,Xn=/\b(__p \+=) '' \+/g,Zn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fr=/&(?:amp|lt|gt|quot|#39);/g,jr=/[&<>"']/g,ro=RegExp(Fr.source),Yl=RegExp(jr.source),V0=/<%-([\s\S]+?)%>/g,z0=/<%([\s\S]+?)%>/g,ap=/<%=([\s\S]+?)%>/g,W0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z0=/^\w*$/,X0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kl=/[\\^$.*+?()[\]{}|]/g,Y0=RegExp(Kl.source),Jl=/^\s+/,q0=/\s/,K0=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J0=/\{\n\/\* \[wrapped with (.+)\] \*/,eO=/,? & /,tO=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,nO=/[()=,{}\[\]\/\s]/,rO=/\\(\\)?/g,iO=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lp=/\w*$/,sO=/^[-+]0x[0-9a-f]+$/i,oO=/^0b[01]+$/i,aO=/^\[object .+?Constructor\]$/,lO=/^0o[0-7]+$/i,uO=/^(?:0|[1-9]\d*)$/,cO=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Vo=/($^)/,hO=/['\n\r\u2028\u2029\\]/g,zo="\\ud800-\\udfff",dO="\\u0300-\\u036f",fO="\\ufe20-\\ufe2f",pO="\\u20d0-\\u20ff",up=dO+fO+pO,cp="\\u2700-\\u27bf",hp="a-z\\xdf-\\xf6\\xf8-\\xff",mO="\\xac\\xb1\\xd7\\xf7",gO="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",OO="\\u2000-\\u206f",EO=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dp="A-Z\\xc0-\\xd6\\xd8-\\xde",fp="\\ufe0e\\ufe0f",pp=mO+gO+OO+EO,eu="[']",SO="["+zo+"]",mp="["+pp+"]",Wo="["+up+"]",gp="\\d+",yO="["+cp+"]",Op="["+hp+"]",Ep="[^"+zo+pp+gp+cp+hp+dp+"]",tu="\\ud83c[\\udffb-\\udfff]",TO="(?:"+Wo+"|"+tu+")",Sp="[^"+zo+"]",nu="(?:\\ud83c[\\udde6-\\uddff]){2}",ru="[\\ud800-\\udbff][\\udc00-\\udfff]",io="["+dp+"]",yp="\\u200d",Tp="(?:"+Op+"|"+Ep+")",bO="(?:"+io+"|"+Ep+")",bp="(?:"+eu+"(?:d|ll|m|re|s|t|ve))?",xp="(?:"+eu+"(?:D|LL|M|RE|S|T|VE))?",_p=TO+"?",vp="["+fp+"]?",xO="(?:"+yp+"(?:"+[Sp,nu,ru].join("|")+")"+vp+_p+")*",_O="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vO="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ap=vp+_p+xO,AO="(?:"+[yO,nu,ru].join("|")+")"+Ap,wO="(?:"+[Sp+Wo+"?",Wo,nu,ru,SO].join("|")+")",CO=RegExp(eu,"g"),kO=RegExp(Wo,"g"),iu=RegExp(tu+"(?="+tu+")|"+wO+Ap,"g"),PO=RegExp([io+"?"+Op+"+"+bp+"(?="+[mp,io,"$"].join("|")+")",bO+"+"+xp+"(?="+[mp,io+Tp,"$"].join("|")+")",io+"?"+Tp+"+"+bp,io+"+"+xp,vO,_O,gp,AO].join("|"),"g"),RO=RegExp("["+yp+zo+up+fp+"]"),IO=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,DO=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],NO=-1,Jn={};Jn[bn]=Jn[Dn]=Jn[tr]=Jn[lr]=Jn[hr]=Jn[yr]=Jn[kr]=Jn[qn]=Jn[qr]=!0,Jn[In]=Jn[xn]=Jn[sn]=Jn[Gn]=Jn[En]=Jn[Fn]=Jn[pr]=Jn[mr]=Jn[ar]=Jn[wr]=Jn[gr]=Jn[Er]=Jn[Sr]=Jn[Xr]=Jn[Yr]=!1;var Kn={};Kn[In]=Kn[xn]=Kn[sn]=Kn[En]=Kn[Gn]=Kn[Fn]=Kn[bn]=Kn[Dn]=Kn[tr]=Kn[lr]=Kn[hr]=Kn[ar]=Kn[wr]=Kn[gr]=Kn[Er]=Kn[Sr]=Kn[Xr]=Kn[Br]=Kn[yr]=Kn[kr]=Kn[qn]=Kn[qr]=!0,Kn[pr]=Kn[mr]=Kn[Yr]=!1;var MO={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},$O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},LO={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},QO={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},BO=parseFloat,FO=parseInt,wp=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,jO=typeof self=="object"&&self&&self.Object===Object&&self,Tr=wp||jO||Function("return this")(),su=e&&!e.nodeType&&e,Hs=su&&!0&&o&&!o.nodeType&&o,Cp=Hs&&Hs.exports===su,ou=Cp&&wp.process,Kr=function(){try{var Bt=Hs&&Hs.require&&Hs.require("util").types;return Bt||ou&&ou.binding&&ou.binding("util")}catch{}}(),kp=Kr&&Kr.isArrayBuffer,Pp=Kr&&Kr.isDate,Rp=Kr&&Kr.isMap,Ip=Kr&&Kr.isRegExp,Dp=Kr&&Kr.isSet,Np=Kr&&Kr.isTypedArray;function Ur(Bt,on,rn){switch(rn.length){case 0:return Bt.call(on);case 1:return Bt.call(on,rn[0]);case 2:return Bt.call(on,rn[0],rn[1]);case 3:return Bt.call(on,rn[0],rn[1],rn[2])}return Bt.apply(on,rn)}function UO(Bt,on,rn,Tn){for(var Pn=-1,Un=Bt==null?0:Bt.length;++Pn<Un;){var dr=Bt[Pn];on(Tn,dr,rn(dr),Bt)}return Tn}function Jr(Bt,on){for(var rn=-1,Tn=Bt==null?0:Bt.length;++rn<Tn&&on(Bt[rn],rn,Bt)!==!1;);return Bt}function GO(Bt,on){for(var rn=Bt==null?0:Bt.length;rn--&&on(Bt[rn],rn,Bt)!==!1;);return Bt}function Mp(Bt,on){for(var rn=-1,Tn=Bt==null?0:Bt.length;++rn<Tn;)if(!on(Bt[rn],rn,Bt))return!1;return!0}function Cs(Bt,on){for(var rn=-1,Tn=Bt==null?0:Bt.length,Pn=0,Un=[];++rn<Tn;){var dr=Bt[rn];on(dr,rn,Bt)&&(Un[Pn++]=dr)}return Un}function Zo(Bt,on){var rn=Bt==null?0:Bt.length;return!!rn&&so(Bt,on,0)>-1}function au(Bt,on,rn){for(var Tn=-1,Pn=Bt==null?0:Bt.length;++Tn<Pn;)if(rn(on,Bt[Tn]))return!0;return!1}function nr(Bt,on){for(var rn=-1,Tn=Bt==null?0:Bt.length,Pn=Array(Tn);++rn<Tn;)Pn[rn]=on(Bt[rn],rn,Bt);return Pn}function ks(Bt,on){for(var rn=-1,Tn=on.length,Pn=Bt.length;++rn<Tn;)Bt[Pn+rn]=on[rn];return Bt}function lu(Bt,on,rn,Tn){var Pn=-1,Un=Bt==null?0:Bt.length;for(Tn&&Un&&(rn=Bt[++Pn]);++Pn<Un;)rn=on(rn,Bt[Pn],Pn,Bt);return rn}function HO(Bt,on,rn,Tn){var Pn=Bt==null?0:Bt.length;for(Tn&&Pn&&(rn=Bt[--Pn]);Pn--;)rn=on(rn,Bt[Pn],Pn,Bt);return rn}function uu(Bt,on){for(var rn=-1,Tn=Bt==null?0:Bt.length;++rn<Tn;)if(on(Bt[rn],rn,Bt))return!0;return!1}var VO=cu("length");function zO(Bt){return Bt.split("")}function WO(Bt){return Bt.match(tO)||[]}function $p(Bt,on,rn){var Tn;return rn(Bt,function(Pn,Un,dr){if(on(Pn,Un,dr))return Tn=Un,!1}),Tn}function Xo(Bt,on,rn,Tn){for(var Pn=Bt.length,Un=rn+(Tn?1:-1);Tn?Un--:++Un<Pn;)if(on(Bt[Un],Un,Bt))return Un;return-1}function so(Bt,on,rn){return on===on?s1(Bt,on,rn):Xo(Bt,Lp,rn)}function ZO(Bt,on,rn,Tn){for(var Pn=rn-1,Un=Bt.length;++Pn<Un;)if(Tn(Bt[Pn],on))return Pn;return-1}function Lp(Bt){return Bt!==Bt}function Qp(Bt,on){var rn=Bt==null?0:Bt.length;return rn?du(Bt,on)/rn:wt}function cu(Bt){return function(on){return on==null?a:on[Bt]}}function hu(Bt){return function(on){return Bt==null?a:Bt[on]}}function Bp(Bt,on,rn,Tn,Pn){return Pn(Bt,function(Un,dr,Yn){rn=Tn?(Tn=!1,Un):on(rn,Un,dr,Yn)}),rn}function XO(Bt,on){var rn=Bt.length;for(Bt.sort(on);rn--;)Bt[rn]=Bt[rn].value;return Bt}function du(Bt,on){for(var rn,Tn=-1,Pn=Bt.length;++Tn<Pn;){var Un=on(Bt[Tn]);Un!==a&&(rn=rn===a?Un:rn+Un)}return rn}function fu(Bt,on){for(var rn=-1,Tn=Array(Bt);++rn<Bt;)Tn[rn]=on(rn);return Tn}function YO(Bt,on){return nr(on,function(rn){return[rn,Bt[rn]]})}function Fp(Bt){return Bt&&Bt.slice(0,Hp(Bt)+1).replace(Jl,"")}function Gr(Bt){return function(on){return Bt(on)}}function pu(Bt,on){return nr(on,function(rn){return Bt[rn]})}function Co(Bt,on){return Bt.has(on)}function jp(Bt,on){for(var rn=-1,Tn=Bt.length;++rn<Tn&&so(on,Bt[rn],0)>-1;);return rn}function Up(Bt,on){for(var rn=Bt.length;rn--&&so(on,Bt[rn],0)>-1;);return rn}function qO(Bt,on){for(var rn=Bt.length,Tn=0;rn--;)Bt[rn]===on&&++Tn;return Tn}var KO=hu(MO),JO=hu($O);function e1(Bt){return"\\"+QO[Bt]}function t1(Bt,on){return Bt==null?a:Bt[on]}function oo(Bt){return RO.test(Bt)}function n1(Bt){return IO.test(Bt)}function r1(Bt){for(var on,rn=[];!(on=Bt.next()).done;)rn.push(on.value);return rn}function mu(Bt){var on=-1,rn=Array(Bt.size);return Bt.forEach(function(Tn,Pn){rn[++on]=[Pn,Tn]}),rn}function Gp(Bt,on){return function(rn){return Bt(on(rn))}}function Ps(Bt,on){for(var rn=-1,Tn=Bt.length,Pn=0,Un=[];++rn<Tn;){var dr=Bt[rn];(dr===on||dr===nt)&&(Bt[rn]=nt,Un[Pn++]=rn)}return Un}function Yo(Bt){var on=-1,rn=Array(Bt.size);return Bt.forEach(function(Tn){rn[++on]=Tn}),rn}function i1(Bt){var on=-1,rn=Array(Bt.size);return Bt.forEach(function(Tn){rn[++on]=[Tn,Tn]}),rn}function s1(Bt,on,rn){for(var Tn=rn-1,Pn=Bt.length;++Tn<Pn;)if(Bt[Tn]===on)return Tn;return-1}function o1(Bt,on,rn){for(var Tn=rn+1;Tn--;)if(Bt[Tn]===on)return Tn;return Tn}function ao(Bt){return oo(Bt)?l1(Bt):VO(Bt)}function os(Bt){return oo(Bt)?u1(Bt):zO(Bt)}function Hp(Bt){for(var on=Bt.length;on--&&q0.test(Bt.charAt(on)););return on}var a1=hu(LO);function l1(Bt){for(var on=iu.lastIndex=0;iu.test(Bt);)++on;return on}function u1(Bt){return Bt.match(iu)||[]}function c1(Bt){return Bt.match(PO)||[]}var h1=function Bt(on){on=on==null?Tr:lo.defaults(Tr.Object(),on,lo.pick(Tr,DO));var rn=on.Array,Tn=on.Date,Pn=on.Error,Un=on.Function,dr=on.Math,Yn=on.Object,gu=on.RegExp,d1=on.String,_i=on.TypeError,qo=rn.prototype,f1=Un.prototype,uo=Yn.prototype,Ko=on["__core-js_shared__"],Jo=f1.toString,zn=uo.hasOwnProperty,p1=0,Vp=function(){var et=/[^.]+$/.exec(Ko&&Ko.keys&&Ko.keys.IE_PROTO||"");return et?"Symbol(src)_1."+et:""}(),na=uo.toString,m1=Jo.call(Yn),g1=Tr._,O1=gu("^"+Jo.call(zn).replace(Kl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ga=Cp?on.Buffer:a,Rs=on.Symbol,ba=on.Uint8Array,zp=ga?ga.allocUnsafe:a,xa=Gp(Yn.getPrototypeOf,Yn),Wp=Yn.create,Zp=uo.propertyIsEnumerable,$a=qo.splice,Xp=Rs?Rs.isConcatSpreadable:a,ko=Rs?Rs.iterator:a,Vs=Rs?Rs.toStringTag:a,Ol=function(){try{var et=Ys(Yn,"defineProperty");return et({},"",{}),et}catch{}}(),E1=on.clearTimeout!==Tr.clearTimeout&&on.clearTimeout,S1=Tn&&Tn.now!==Tr.Date.now&&Tn.now,y1=on.setTimeout!==Tr.setTimeout&&on.setTimeout,El=dr.ceil,Sl=dr.floor,Ou=Yn.getOwnPropertySymbols,T1=ga?ga.isBuffer:a,Yp=on.isFinite,b1=qo.join,x1=Gp(Yn.keys,Yn),fr=dr.max,xr=dr.min,_1=Tn.now,v1=on.parseInt,qp=dr.random,A1=qo.reverse,Eu=Ys(on,"DataView"),Po=Ys(on,"Map"),Su=Ys(on,"Promise"),co=Ys(on,"Set"),Ro=Ys(on,"WeakMap"),Io=Ys(Yn,"create"),yl=Ro&&new Ro,ho={},w1=qs(Eu),C1=qs(Po),k1=qs(Su),P1=qs(co),R1=qs(Ro),Tl=Rs?Rs.prototype:a,Do=Tl?Tl.valueOf:a,Kp=Tl?Tl.toString:a;function xt(et){if(sr(et)&&!Rn(et)&&!(et instanceof Bn)){if(et instanceof es)return et;if(zn.call(et,"__wrapped__"))return _g(et)}return new es(et)}var fo=function(){function et(){}return function(rt){if(!rr(rt))return{};if(Wp)return Wp(rt);et.prototype=rt;var at=new et;return et.prototype=a,at}}();function xl(){}function es(et,rt){this.__wrapped__=et,this.__actions__=[],this.__chain__=!!rt,this.__index__=0,this.__values__=a}xt.templateSettings={escape:V0,evaluate:z0,interpolate:ap,variable:"",imports:{_:xt}},xt.prototype=xl.prototype,xt.prototype.constructor=xt,es.prototype=fo(xl.prototype),es.prototype.constructor=es;function Bn(et){this.__wrapped__=et,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=fn,this.__views__=[]}function I1(){var et=new Bn(this.__wrapped__);return et.__actions__=Mr(this.__actions__),et.__dir__=this.__dir__,et.__filtered__=this.__filtered__,et.__iteratees__=Mr(this.__iteratees__),et.__takeCount__=this.__takeCount__,et.__views__=Mr(this.__views__),et}function D1(){if(this.__filtered__){var et=new Bn(this);et.__dir__=-1,et.__filtered__=!0}else et=this.clone(),et.__dir__*=-1;return et}function N1(){var et=this.__wrapped__.value(),rt=this.__dir__,at=Rn(et),mt=rt<0,yt=at?et.length:0,At=zE(0,yt,this.__views__),Rt=At.start,Mt=At.end,Gt=Mt-Rt,an=mt?Mt:Rt-1,ln=this.__iteratees__,gn=ln.length,yn=0,_n=xr(Gt,this.__takeCount__);if(!at||!mt&&yt==Gt&&_n==Gt)return xm(et,this.__actions__);var Cn=[];e:for(;Gt--&&yn<_n;){an+=rt;for(var Mn=-1,kn=et[an];++Mn<gn;){var Qn=ln[Mn],jn=Qn.iteratee,zr=Qn.type,Ir=jn(kn);if(zr==dn)kn=Ir;else if(!Ir){if(zr==mn)continue e;break e}}Cn[yn++]=kn}return Cn}Bn.prototype=fo(xl.prototype),Bn.prototype.constructor=Bn;function zs(et){var rt=-1,at=et==null?0:et.length;for(this.clear();++rt<at;){var mt=et[rt];this.set(mt[0],mt[1])}}function M1(){this.__data__=Io?Io(null):{},this.size=0}function $1(et){var rt=this.has(et)&&delete this.__data__[et];return this.size-=rt?1:0,rt}function L1(et){var rt=this.__data__;if(Io){var at=rt[et];return at===_e?a:at}return zn.call(rt,et)?rt[et]:a}function Q1(et){var rt=this.__data__;return Io?rt[et]!==a:zn.call(rt,et)}function B1(et,rt){var at=this.__data__;return this.size+=this.has(et)?0:1,at[et]=Io&&rt===a?_e:rt,this}zs.prototype.clear=M1,zs.prototype.delete=$1,zs.prototype.get=L1,zs.prototype.has=Q1,zs.prototype.set=B1;function Es(et){var rt=-1,at=et==null?0:et.length;for(this.clear();++rt<at;){var mt=et[rt];this.set(mt[0],mt[1])}}function F1(){this.__data__=[],this.size=0}function j1(et){var rt=this.__data__,at=_l(rt,et);if(at<0)return!1;var mt=rt.length-1;return at==mt?rt.pop():$a.call(rt,at,1),--this.size,!0}function U1(et){var rt=this.__data__,at=_l(rt,et);return at<0?a:rt[at][1]}function G1(et){return _l(this.__data__,et)>-1}function H1(et,rt){var at=this.__data__,mt=_l(at,et);return mt<0?(++this.size,at.push([et,rt])):at[mt][1]=rt,this}Es.prototype.clear=F1,Es.prototype.delete=j1,Es.prototype.get=U1,Es.prototype.has=G1,Es.prototype.set=H1;function Ss(et){var rt=-1,at=et==null?0:et.length;for(this.clear();++rt<at;){var mt=et[rt];this.set(mt[0],mt[1])}}function V1(){this.size=0,this.__data__={hash:new zs,map:new(Po||Es),string:new zs}}function z1(et){var rt=Ql(this,et).delete(et);return this.size-=rt?1:0,rt}function W1(et){return Ql(this,et).get(et)}function Z1(et){return Ql(this,et).has(et)}function X1(et,rt){var at=Ql(this,et),mt=at.size;return at.set(et,rt),this.size+=at.size==mt?0:1,this}Ss.prototype.clear=V1,Ss.prototype.delete=z1,Ss.prototype.get=W1,Ss.prototype.has=Z1,Ss.prototype.set=X1;function Ws(et){var rt=-1,at=et==null?0:et.length;for(this.__data__=new Ss;++rt<at;)this.add(et[rt])}function Y1(et){return this.__data__.set(et,_e),this}function q1(et){return this.__data__.has(et)}Ws.prototype.add=Ws.prototype.push=Y1,Ws.prototype.has=q1;function as(et){var rt=this.__data__=new Es(et);this.size=rt.size}function K1(){this.__data__=new Es,this.size=0}function J1(et){var rt=this.__data__,at=rt.delete(et);return this.size=rt.size,at}function eE(et){return this.__data__.get(et)}function tE(et){return this.__data__.has(et)}function nE(et,rt){var at=this.__data__;if(at instanceof Es){var mt=at.__data__;if(!Po||mt.length<d-1)return mt.push([et,rt]),this.size=++at.size,this;at=this.__data__=new Ss(mt)}return at.set(et,rt),this.size=at.size,this}as.prototype.clear=K1,as.prototype.delete=J1,as.prototype.get=eE,as.prototype.has=tE,as.prototype.set=nE;function Jp(et,rt){var at=Rn(et),mt=!at&&Ks(et),yt=!at&&!mt&&$s(et),At=!at&&!mt&&!yt&&Oo(et),Rt=at||mt||yt||At,Mt=Rt?fu(et.length,d1):[],Gt=Mt.length;for(var an in et)(rt||zn.call(et,an))&&!(Rt&&(an=="length"||yt&&(an=="offset"||an=="parent")||At&&(an=="buffer"||an=="byteLength"||an=="byteOffset")||xs(an,Gt)))&&Mt.push(an);return Mt}function em(et){var rt=et.length;return rt?et[Pu(0,rt-1)]:a}function rE(et,rt){return Bl(Mr(et),Zs(rt,0,et.length))}function iE(et){return Bl(Mr(et))}function yu(et,rt,at){(at!==a&&!ls(et[rt],at)||at===a&&!(rt in et))&&ys(et,rt,at)}function No(et,rt,at){var mt=et[rt];(!(zn.call(et,rt)&&ls(mt,at))||at===a&&!(rt in et))&&ys(et,rt,at)}function _l(et,rt){for(var at=et.length;at--;)if(ls(et[at][0],rt))return at;return-1}function sE(et,rt,at,mt){return Is(et,function(yt,At,Rt){rt(mt,yt,at(yt),Rt)}),mt}function tm(et,rt){return et&&fs(rt,Or(rt),et)}function oE(et,rt){return et&&fs(rt,Lr(rt),et)}function ys(et,rt,at){rt=="__proto__"&&Ol?Ol(et,rt,{configurable:!0,enumerable:!0,value:at,writable:!0}):et[rt]=at}function Tu(et,rt){for(var at=-1,mt=rt.length,yt=rn(mt),At=et==null;++at<mt;)yt[at]=At?a:_h(et,rt[at]);return yt}function Zs(et,rt,at){return et===et&&(at!==a&&(et=et<=at?et:at),rt!==a&&(et=et>=rt?et:rt)),et}function ts(et,rt,at,mt,yt,At){var Rt,Mt=rt&it,Gt=rt&st,an=rt&ot;if(at&&(Rt=yt?at(et,mt,yt,At):at(et)),Rt!==a)return Rt;if(!rr(et))return et;var ln=Rn(et);if(ln){if(Rt=ZE(et),!Mt)return Mr(et,Rt)}else{var gn=_r(et),yn=gn==mr||gn==Nr;if($s(et))return Am(et,Mt);if(gn==gr||gn==In||yn&&!yt){if(Rt=Gt||yn?{}:Vm(et),!Mt)return Gt?LE(et,oE(Rt,et)):$E(et,tm(Rt,et))}else{if(!Kn[gn])return yt?et:{};Rt=XE(et,gn,Mt)}}At||(At=new as);var _n=At.get(et);if(_n)return _n;At.set(et,Rt),S0(et)?et.forEach(function(kn){Rt.add(ts(kn,rt,at,kn,et,At))}):O0(et)&&et.forEach(function(kn,Qn){Rt.set(Qn,ts(kn,rt,at,Qn,et,At))});var Cn=an?Gt?ju:Fu:Gt?Lr:Or,Mn=ln?a:Cn(et);return Jr(Mn||et,function(kn,Qn){Mn&&(Qn=kn,kn=et[Qn]),No(Rt,Qn,ts(kn,rt,at,Qn,et,At))}),Rt}function aE(et){var rt=Or(et);return function(at){return nm(at,et,rt)}}function nm(et,rt,at){var mt=at.length;if(et==null)return!mt;for(et=Yn(et);mt--;){var yt=at[mt],At=rt[yt],Rt=et[yt];if(Rt===a&&!(yt in et)||!At(Rt))return!1}return!0}function im(et,rt,at){if(typeof et!="function")throw new _i(b);return jo(function(){et.apply(a,at)},rt)}function Mo(et,rt,at,mt){var yt=-1,At=Zo,Rt=!0,Mt=et.length,Gt=[],an=rt.length;if(!Mt)return Gt;at&&(rt=nr(rt,Gr(at))),mt?(At=au,Rt=!1):rt.length>=d&&(At=Co,Rt=!1,rt=new Ws(rt));e:for(;++yt<Mt;){var ln=et[yt],gn=at==null?ln:at(ln);if(ln=mt||ln!==0?ln:0,Rt&&gn===gn){for(var yn=an;yn--;)if(rt[yn]===gn)continue e;Gt.push(ln)}else At(rt,gn,mt)||Gt.push(ln)}return Gt}var Is=Rm(ds),sm=Rm(xu,!0);function lE(et,rt){var at=!0;return Is(et,function(mt,yt,At){return at=!!rt(mt,yt,At),at}),at}function Al(et,rt,at){for(var mt=-1,yt=et.length;++mt<yt;){var At=et[mt],Rt=rt(At);if(Rt!=null&&(Mt===a?Rt===Rt&&!Vr(Rt):at(Rt,Mt)))var Mt=Rt,Gt=At}return Gt}function uE(et,rt,at,mt){var yt=et.length;for(at=Nn(at),at<0&&(at=-at>yt?0:yt+at),mt=mt===a||mt>yt?yt:Nn(mt),mt<0&&(mt+=yt),mt=at>mt?0:T0(mt);at<mt;)et[at++]=rt;return et}function om(et,rt){var at=[];return Is(et,function(mt,yt,At){rt(mt,yt,At)&&at.push(mt)}),at}function br(et,rt,at,mt,yt){var At=-1,Rt=et.length;for(at||(at=qE),yt||(yt=[]);++At<Rt;){var Mt=et[At];rt>0&&at(Mt)?rt>1?br(Mt,rt-1,at,mt,yt):ks(yt,Mt):mt||(yt[yt.length]=Mt)}return yt}var bu=Im(),am=Im(!0);function ds(et,rt){return et&&bu(et,rt,Or)}function xu(et,rt){return et&&am(et,rt,Or)}function wl(et,rt){return Cs(rt,function(at){return _s(et[at])})}function Xs(et,rt){rt=Ns(rt,et);for(var at=0,mt=rt.length;et!=null&&at<mt;)et=et[ps(rt[at++])];return at&&at==mt?et:a}function lm(et,rt,at){var mt=rt(et);return Rn(et)?mt:ks(mt,at(et))}function Pr(et){return et==null?et===a?Gs:Cr:Vs&&Vs in Yn(et)?VE(et):iS(et)}function _u(et,rt){return et>rt}function cE(et,rt){return et!=null&&zn.call(et,rt)}function hE(et,rt){return et!=null&&rt in Yn(et)}function dE(et,rt,at){return et>=xr(rt,at)&&et<fr(rt,at)}function vu(et,rt,at){for(var mt=at?au:Zo,yt=et[0].length,At=et.length,Rt=At,Mt=rn(At),Gt=1/0,an=[];Rt--;){var ln=et[Rt];Rt&&rt&&(ln=nr(ln,Gr(rt))),Gt=xr(ln.length,Gt),Mt[Rt]=!at&&(rt||yt>=120&&ln.length>=120)?new Ws(Rt&&ln):a}ln=et[0];var gn=-1,yn=Mt[0];e:for(;++gn<yt&&an.length<Gt;){var _n=ln[gn],Cn=rt?rt(_n):_n;if(_n=at||_n!==0?_n:0,!(yn?Co(yn,Cn):mt(an,Cn,at))){for(Rt=At;--Rt;){var Mn=Mt[Rt];if(!(Mn?Co(Mn,Cn):mt(et[Rt],Cn,at)))continue e}yn&&yn.push(Cn),an.push(_n)}}return an}function fE(et,rt,at,mt){return ds(et,function(yt,At,Rt){rt(mt,at(yt),At,Rt)}),mt}function $o(et,rt,at){rt=Ns(rt,et),et=Xm(et,rt);var mt=et==null?et:et[ps(rs(rt))];return mt==null?a:Ur(mt,et,at)}function um(et){return sr(et)&&Pr(et)==In}function pE(et){return sr(et)&&Pr(et)==sn}function mE(et){return sr(et)&&Pr(et)==Fn}function Lo(et,rt,at,mt,yt){return et===rt?!0:et==null||rt==null||!sr(et)&&!sr(rt)?et!==et&&rt!==rt:gE(et,rt,at,mt,Lo,yt)}function gE(et,rt,at,mt,yt,At){var Rt=Rn(et),Mt=Rn(rt),Gt=Rt?xn:_r(et),an=Mt?xn:_r(rt);Gt=Gt==In?gr:Gt,an=an==In?gr:an;var ln=Gt==gr,gn=an==gr,yn=Gt==an;if(yn&&$s(et)){if(!$s(rt))return!1;Rt=!0,ln=!1}if(yn&&!ln)return At||(At=new as),Rt||Oo(et)?Um(et,rt,at,mt,yt,At):GE(et,rt,Gt,at,mt,yt,At);if(!(at&ht)){var _n=ln&&zn.call(et,"__wrapped__"),Cn=gn&&zn.call(rt,"__wrapped__");if(_n||Cn){var Mn=_n?et.value():et,kn=Cn?rt.value():rt;return At||(At=new as),yt(Mn,kn,at,mt,At)}}return yn?(At||(At=new as),HE(et,rt,at,mt,yt,At)):!1}function OE(et){return sr(et)&&_r(et)==ar}function Au(et,rt,at,mt){var yt=at.length,At=yt,Rt=!mt;if(et==null)return!At;for(et=Yn(et);yt--;){var Mt=at[yt];if(Rt&&Mt[2]?Mt[1]!==et[Mt[0]]:!(Mt[0]in et))return!1}for(;++yt<At;){Mt=at[yt];var Gt=Mt[0],an=et[Gt],ln=Mt[1];if(Rt&&Mt[2]){if(an===a&&!(Gt in et))return!1}else{var gn=new as;if(mt)var yn=mt(an,ln,Gt,et,rt,gn);if(!(yn===a?Lo(ln,an,ht|dt,mt,gn):yn))return!1}}return!0}function cm(et){if(!rr(et)||JE(et))return!1;var rt=_s(et)?O1:aO;return rt.test(qs(et))}function EE(et){return sr(et)&&Pr(et)==Er}function SE(et){return sr(et)&&_r(et)==Sr}function yE(et){return sr(et)&&zl(et.length)&&!!Jn[Pr(et)]}function hm(et){return typeof et=="function"?et:et==null?Qr:typeof et=="object"?Rn(et)?pm(et[0],et[1]):fm(et):I0(et)}function wu(et){if(!Fo(et))return x1(et);var rt=[];for(var at in Yn(et))zn.call(et,at)&&at!="constructor"&&rt.push(at);return rt}function TE(et){if(!rr(et))return rS(et);var rt=Fo(et),at=[];for(var mt in et)mt=="constructor"&&(rt||!zn.call(et,mt))||at.push(mt);return at}function Cu(et,rt){return et<rt}function dm(et,rt){var at=-1,mt=$r(et)?rn(et.length):[];return Is(et,function(yt,At,Rt){mt[++at]=rt(yt,At,Rt)}),mt}function fm(et){var rt=Gu(et);return rt.length==1&&rt[0][2]?Wm(rt[0][0],rt[0][1]):function(at){return at===et||Au(at,et,rt)}}function pm(et,rt){return Vu(et)&&zm(rt)?Wm(ps(et),rt):function(at){var mt=_h(at,et);return mt===a&&mt===rt?_d(at,et):Lo(rt,mt,ht|dt)}}function Cl(et,rt,at,mt,yt){et!==rt&&bu(rt,function(At,Rt){if(yt||(yt=new as),rr(At))bE(et,rt,Rt,at,Cl,mt,yt);else{var Mt=mt?mt(Wu(et,Rt),At,Rt+"",et,rt,yt):a;Mt===a&&(Mt=At),yu(et,Rt,Mt)}},Lr)}function bE(et,rt,at,mt,yt,At,Rt){var Mt=Wu(et,at),Gt=Wu(rt,at),an=Rt.get(Gt);if(an){yu(et,at,an);return}var ln=At?At(Mt,Gt,at+"",et,rt,Rt):a,gn=ln===a;if(gn){var yn=Rn(Gt),_n=!yn&&$s(Gt),Cn=!yn&&!_n&&Oo(Gt);ln=Gt,yn||_n||Cn?Rn(Mt)?ln=Mt:ur(Mt)?ln=Mr(Mt):_n?(gn=!1,ln=Am(Gt,!0)):Cn?(gn=!1,ln=wm(Gt,!0)):ln=[]:Uo(Gt)||Ks(Gt)?(ln=Mt,Ks(Mt)?ln=b0(Mt):(!rr(Mt)||_s(Mt))&&(ln=Vm(Gt))):gn=!1}gn&&(Rt.set(Gt,ln),yt(ln,Gt,mt,At,Rt),Rt.delete(Gt)),yu(et,at,ln)}function mm(et,rt){var at=et.length;if(at)return rt+=rt<0?at:0,xs(rt,at)?et[rt]:a}function gm(et,rt,at){rt.length?rt=nr(rt,function(At){return Rn(At)?function(Rt){return Xs(Rt,At.length===1?At[0]:At)}:At}):rt=[Qr];var mt=-1;rt=nr(rt,Gr(An()));var yt=dm(et,function(At,Rt,Mt){var Gt=nr(rt,function(an){return an(At)});return{criteria:Gt,index:++mt,value:At}});return XO(yt,function(At,Rt){return ME(At,Rt,at)})}function xE(et,rt){return Om(et,rt,function(at,mt){return _d(et,mt)})}function Om(et,rt,at){for(var mt=-1,yt=rt.length,At={};++mt<yt;){var Rt=rt[mt],Mt=Xs(et,Rt);at(Mt,Rt)&&Qo(At,Ns(Rt,et),Mt)}return At}function _E(et){return function(rt){return Xs(rt,et)}}function ku(et,rt,at,mt){var yt=mt?ZO:so,At=-1,Rt=rt.length,Mt=et;for(et===rt&&(rt=Mr(rt)),at&&(Mt=nr(et,Gr(at)));++At<Rt;)for(var Gt=0,an=rt[At],ln=at?at(an):an;(Gt=yt(Mt,ln,Gt,mt))>-1;)Mt!==et&&$a.call(Mt,Gt,1),$a.call(et,Gt,1);return et}function Em(et,rt){for(var at=et?rt.length:0,mt=at-1;at--;){var yt=rt[at];if(at==mt||yt!==At){var At=yt;xs(yt)?$a.call(et,yt,1):Du(et,yt)}}return et}function Pu(et,rt){return et+Sl(qp()*(rt-et+1))}function vE(et,rt,at,mt){for(var yt=-1,At=fr(El((rt-et)/(at||1)),0),Rt=rn(At);At--;)Rt[mt?At:++yt]=et,et+=at;return Rt}function Ru(et,rt){var at="";if(!et||rt<1||rt>zt)return at;do rt%2&&(at+=et),rt=Sl(rt/2),rt&&(et+=et);while(rt);return at}function Ln(et,rt){return Zu(Zm(et,rt,Qr),et+"")}function AE(et){return em(Eo(et))}function wE(et,rt){var at=Eo(et);return Bl(at,Zs(rt,0,at.length))}function Qo(et,rt,at,mt){if(!rr(et))return et;rt=Ns(rt,et);for(var yt=-1,At=rt.length,Rt=At-1,Mt=et;Mt!=null&&++yt<At;){var Gt=ps(rt[yt]),an=at;if(Gt==="__proto__"||Gt==="constructor"||Gt==="prototype")return et;if(yt!=Rt){var ln=Mt[Gt];an=mt?mt(ln,Gt,Mt):a,an===a&&(an=rr(ln)?ln:xs(rt[yt+1])?[]:{})}No(Mt,Gt,an),Mt=Mt[Gt]}return et}var Sm=yl?function(et,rt){return yl.set(et,rt),et}:Qr,CE=Ol?function(et,rt){return Ol(et,"toString",{configurable:!0,enumerable:!1,value:ep(rt),writable:!0})}:Qr;function kE(et){return Bl(Eo(et))}function ns(et,rt,at){var mt=-1,yt=et.length;rt<0&&(rt=-rt>yt?0:yt+rt),at=at>yt?yt:at,at<0&&(at+=yt),yt=rt>at?0:at-rt>>>0,rt>>>=0;for(var At=rn(yt);++mt<yt;)At[mt]=et[mt+rt];return At}function PE(et,rt){var at;return Is(et,function(mt,yt,At){return at=rt(mt,yt,At),!at}),!!at}function Pl(et,rt,at){var mt=0,yt=et==null?mt:et.length;if(typeof rt=="number"&&rt===rt&&yt<=Pt){for(;mt<yt;){var At=mt+yt>>>1,Rt=et[At];Rt!==null&&!Vr(Rt)&&(at?Rt<=rt:Rt<rt)?mt=At+1:yt=At}return yt}return Iu(et,rt,Qr,at)}function Iu(et,rt,at,mt){var yt=0,At=et==null?0:et.length;if(At===0)return 0;rt=at(rt);for(var Rt=rt!==rt,Mt=rt===null,Gt=Vr(rt),an=rt===a;yt<At;){var ln=Sl((yt+At)/2),gn=at(et[ln]),yn=gn!==a,_n=gn===null,Cn=gn===gn,Mn=Vr(gn);if(Rt)var kn=mt||Cn;else an?kn=Cn&&(mt||yn):Mt?kn=Cn&&yn&&(mt||!_n):Gt?kn=Cn&&yn&&!_n&&(mt||!Mn):_n||Mn?kn=!1:kn=mt?gn<=rt:gn<rt;kn?yt=ln+1:At=ln}return xr(At,Sn)}function ym(et,rt){for(var at=-1,mt=et.length,yt=0,At=[];++at<mt;){var Rt=et[at],Mt=rt?rt(Rt):Rt;if(!at||!ls(Mt,Gt)){var Gt=Mt;At[yt++]=Rt===0?0:Rt}}return At}function Tm(et){return typeof et=="number"?et:Vr(et)?wt:+et}function Hr(et){if(typeof et=="string")return et;if(Rn(et))return nr(et,Hr)+"";if(Vr(et))return Kp?Kp.call(et):"";var rt=et+"";return rt=="0"&&1/et==-hn?"-0":rt}function Ds(et,rt,at){var mt=-1,yt=Zo,At=et.length,Rt=!0,Mt=[],Gt=Mt;if(at)Rt=!1,yt=au;else if(At>=d){var an=rt?null:jE(et);if(an)return Yo(an);Rt=!1,yt=Co,Gt=new Ws}else Gt=rt?[]:Mt;e:for(;++mt<At;){var ln=et[mt],gn=rt?rt(ln):ln;if(ln=at||ln!==0?ln:0,Rt&&gn===gn){for(var yn=Gt.length;yn--;)if(Gt[yn]===gn)continue e;rt&&Gt.push(gn),Mt.push(ln)}else yt(Gt,gn,at)||(Gt!==Mt&&Gt.push(gn),Mt.push(ln))}return Mt}function Du(et,rt){return rt=Ns(rt,et),et=Xm(et,rt),et==null||delete et[ps(rs(rt))]}function bm(et,rt,at,mt){return Qo(et,rt,at(Xs(et,rt)),mt)}function Rl(et,rt,at,mt){for(var yt=et.length,At=mt?yt:-1;(mt?At--:++At<yt)&&rt(et[At],At,et););return at?ns(et,mt?0:At,mt?At+1:yt):ns(et,mt?At+1:0,mt?yt:At)}function xm(et,rt){var at=et;return at instanceof Bn&&(at=at.value()),lu(rt,function(mt,yt){return yt.func.apply(yt.thisArg,ks([mt],yt.args))},at)}function Nu(et,rt,at){var mt=et.length;if(mt<2)return mt?Ds(et[0]):[];for(var yt=-1,At=rn(mt);++yt<mt;)for(var Rt=et[yt],Mt=-1;++Mt<mt;)Mt!=yt&&(At[yt]=Mo(At[yt]||Rt,et[Mt],rt,at));return Ds(br(At,1),rt,at)}function _m(et,rt,at){for(var mt=-1,yt=et.length,At=rt.length,Rt={};++mt<yt;){var Mt=mt<At?rt[mt]:a;at(Rt,et[mt],Mt)}return Rt}function Mu(et){return ur(et)?et:[]}function $u(et){return typeof et=="function"?et:Qr}function Ns(et,rt){return Rn(et)?et:Vu(et,rt)?[et]:Jm(Hn(et))}var RE=Ln;function Ms(et,rt,at){var mt=et.length;return at=at===a?mt:at,!rt&&at>=mt?et:ns(et,rt,at)}var vm=E1||function(et){return Tr.clearTimeout(et)};function Am(et,rt){if(rt)return et.slice();var at=et.length,mt=zp?zp(at):new et.constructor(at);return et.copy(mt),mt}function Lu(et){var rt=new et.constructor(et.byteLength);return new ba(rt).set(new ba(et)),rt}function IE(et,rt){var at=rt?Lu(et.buffer):et.buffer;return new et.constructor(at,et.byteOffset,et.byteLength)}function DE(et){var rt=new et.constructor(et.source,lp.exec(et));return rt.lastIndex=et.lastIndex,rt}function NE(et){return Do?Yn(Do.call(et)):{}}function wm(et,rt){var at=rt?Lu(et.buffer):et.buffer;return new et.constructor(at,et.byteOffset,et.length)}function Cm(et,rt){if(et!==rt){var at=et!==a,mt=et===null,yt=et===et,At=Vr(et),Rt=rt!==a,Mt=rt===null,Gt=rt===rt,an=Vr(rt);if(!Mt&&!an&&!At&&et>rt||At&&Rt&&Gt&&!Mt&&!an||mt&&Rt&&Gt||!at&&Gt||!yt)return 1;if(!mt&&!At&&!an&&et<rt||an&&at&&yt&&!mt&&!At||Mt&&at&&yt||!Rt&&yt||!Gt)return-1}return 0}function ME(et,rt,at){for(var mt=-1,yt=et.criteria,At=rt.criteria,Rt=yt.length,Mt=at.length;++mt<Rt;){var Gt=Cm(yt[mt],At[mt]);if(Gt){if(mt>=Mt)return Gt;var an=at[mt];return Gt*(an=="desc"?-1:1)}}return et.index-rt.index}function km(et,rt,at,mt){for(var yt=-1,At=et.length,Rt=at.length,Mt=-1,Gt=rt.length,an=fr(At-Rt,0),ln=rn(Gt+an),gn=!mt;++Mt<Gt;)ln[Mt]=rt[Mt];for(;++yt<Rt;)(gn||yt<At)&&(ln[at[yt]]=et[yt]);for(;an--;)ln[Mt++]=et[yt++];return ln}function Pm(et,rt,at,mt){for(var yt=-1,At=et.length,Rt=-1,Mt=at.length,Gt=-1,an=rt.length,ln=fr(At-Mt,0),gn=rn(ln+an),yn=!mt;++yt<ln;)gn[yt]=et[yt];for(var _n=yt;++Gt<an;)gn[_n+Gt]=rt[Gt];for(;++Rt<Mt;)(yn||yt<At)&&(gn[_n+at[Rt]]=et[yt++]);return gn}function Mr(et,rt){var at=-1,mt=et.length;for(rt||(rt=rn(mt));++at<mt;)rt[at]=et[at];return rt}function fs(et,rt,at,mt){var yt=!at;at||(at={});for(var At=-1,Rt=rt.length;++At<Rt;){var Mt=rt[At],Gt=mt?mt(at[Mt],et[Mt],Mt,at,et):a;Gt===a&&(Gt=et[Mt]),yt?ys(at,Mt,Gt):No(at,Mt,Gt)}return at}function $E(et,rt){return fs(et,Hu(et),rt)}function LE(et,rt){return fs(et,Gm(et),rt)}function Il(et,rt){return function(at,mt){var yt=Rn(at)?UO:sE,At=rt?rt():{};return yt(at,et,An(mt,2),At)}}function po(et){return Ln(function(rt,at){var mt=-1,yt=at.length,At=yt>1?at[yt-1]:a,Rt=yt>2?at[2]:a;for(At=et.length>3&&typeof At=="function"?(yt--,At):a,Rt&&Rr(at[0],at[1],Rt)&&(At=yt<3?a:At,yt=1),rt=Yn(rt);++mt<yt;){var Mt=at[mt];Mt&&et(rt,Mt,mt,At)}return rt})}function Rm(et,rt){return function(at,mt){if(at==null)return at;if(!$r(at))return et(at,mt);for(var yt=at.length,At=rt?yt:-1,Rt=Yn(at);(rt?At--:++At<yt)&&mt(Rt[At],At,Rt)!==!1;);return at}}function Im(et){return function(rt,at,mt){for(var yt=-1,At=Yn(rt),Rt=mt(rt),Mt=Rt.length;Mt--;){var Gt=Rt[et?Mt:++yt];if(at(At[Gt],Gt,At)===!1)break}return rt}}function QE(et,rt,at){var mt=rt&Et,yt=Bo(et);function At(){var Rt=this&&this!==Tr&&this instanceof At?yt:et;return Rt.apply(mt?at:this,arguments)}return At}function Dm(et){return function(rt){rt=Hn(rt);var at=oo(rt)?os(rt):a,mt=at?at[0]:rt.charAt(0),yt=at?Ms(at,1).join(""):rt.slice(1);return mt[et]()+yt}}function mo(et){return function(rt){return lu(P0(k0(rt).replace(CO,"")),et,"")}}function Bo(et){return function(){var rt=arguments;switch(rt.length){case 0:return new et;case 1:return new et(rt[0]);case 2:return new et(rt[0],rt[1]);case 3:return new et(rt[0],rt[1],rt[2]);case 4:return new et(rt[0],rt[1],rt[2],rt[3]);case 5:return new et(rt[0],rt[1],rt[2],rt[3],rt[4]);case 6:return new et(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5]);case 7:return new et(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5],rt[6])}var at=fo(et.prototype),mt=et.apply(at,rt);return rr(mt)?mt:at}}function BE(et,rt,at){var mt=Bo(et);function yt(){for(var At=arguments.length,Rt=rn(At),Mt=At,Gt=go(yt);Mt--;)Rt[Mt]=arguments[Mt];var an=At<3&&Rt[0]!==Gt&&Rt[At-1]!==Gt?[]:Ps(Rt,Gt);if(At-=an.length,At<at)return Qm(et,rt,Dl,yt.placeholder,a,Rt,an,a,a,at-At);var ln=this&&this!==Tr&&this instanceof yt?mt:et;return Ur(ln,this,Rt)}return yt}function Nm(et){return function(rt,at,mt){var yt=Yn(rt);if(!$r(rt)){var At=An(at,3);rt=Or(rt),at=function(Mt){return At(yt[Mt],Mt,yt)}}var Rt=et(rt,at,mt);return Rt>-1?yt[At?rt[Rt]:Rt]:a}}function Mm(et){return bs(function(rt){var at=rt.length,mt=at,yt=es.prototype.thru;for(et&&rt.reverse();mt--;){var At=rt[mt];if(typeof At!="function")throw new _i(b);if(yt&&!Rt&&Ll(At)=="wrapper")var Rt=new es([],!0)}for(mt=Rt?mt:at;++mt<at;){At=rt[mt];var Mt=Ll(At),Gt=Mt=="wrapper"?Uu(At):a;Gt&&zu(Gt[0])&&Gt[1]==(kt|St|bt|Nt)&&!Gt[4].length&&Gt[9]==1?Rt=Rt[Ll(Gt[0])].apply(Rt,Gt[3]):Rt=At.length==1&&zu(At)?Rt[Mt]():Rt.thru(At)}return function(){var an=arguments,ln=an[0];if(Rt&&an.length==1&&Rn(ln))return Rt.plant(ln).value();for(var gn=0,yn=at?rt[gn].apply(this,an):ln;++gn<at;)yn=rt[gn].call(this,yn);return yn}})}function Dl(et,rt,at,mt,yt,At,Rt,Mt,Gt,an){var ln=rt&kt,gn=rt&Et,yn=rt&pt,_n=rt&(St|Tt),Cn=rt&en,Mn=yn?a:Bo(et);function kn(){for(var Qn=arguments.length,jn=rn(Qn),zr=Qn;zr--;)jn[zr]=arguments[zr];if(_n)var Ir=go(kn),Wr=qO(jn,Ir);if(mt&&(jn=km(jn,mt,yt,_n)),At&&(jn=Pm(jn,At,Rt,_n)),Qn-=Wr,_n&&Qn<an){var cr=Ps(jn,Ir);return Qm(et,rt,Dl,kn.placeholder,at,jn,cr,Mt,Gt,an-Qn)}var us=gn?at:this,As=yn?us[et]:et;return Qn=jn.length,Mt?jn=sS(jn,Mt):Cn&&Qn>1&&jn.reverse(),ln&&Gt<Qn&&(jn.length=Gt),this&&this!==Tr&&this instanceof kn&&(As=Mn||Bo(As)),As.apply(us,jn)}return kn}function $m(et,rt){return function(at,mt){return fE(at,et,rt(mt),{})}}function Nl(et,rt){return function(at,mt){var yt;if(at===a&&mt===a)return rt;if(at!==a&&(yt=at),mt!==a){if(yt===a)return mt;typeof at=="string"||typeof mt=="string"?(at=Hr(at),mt=Hr(mt)):(at=Tm(at),mt=Tm(mt)),yt=et(at,mt)}return yt}}function Qu(et){return bs(function(rt){return rt=nr(rt,Gr(An())),Ln(function(at){var mt=this;return et(rt,function(yt){return Ur(yt,mt,at)})})})}function Ml(et,rt){rt=rt===a?" ":Hr(rt);var at=rt.length;if(at<2)return at?Ru(rt,et):rt;var mt=Ru(rt,El(et/ao(rt)));return oo(rt)?Ms(os(mt),0,et).join(""):mt.slice(0,et)}function FE(et,rt,at,mt){var yt=rt&Et,At=Bo(et);function Rt(){for(var Mt=-1,Gt=arguments.length,an=-1,ln=mt.length,gn=rn(ln+Gt),yn=this&&this!==Tr&&this instanceof Rt?At:et;++an<ln;)gn[an]=mt[an];for(;Gt--;)gn[an++]=arguments[++Mt];return Ur(yn,yt?at:this,gn)}return Rt}function Lm(et){return function(rt,at,mt){return mt&&typeof mt!="number"&&Rr(rt,at,mt)&&(at=mt=a),rt=vs(rt),at===a?(at=rt,rt=0):at=vs(at),mt=mt===a?rt<at?1:-1:vs(mt),vE(rt,at,mt,et)}}function $l(et){return function(rt,at){return typeof rt=="string"&&typeof at=="string"||(rt=is(rt),at=is(at)),et(rt,at)}}function Qm(et,rt,at,mt,yt,At,Rt,Mt,Gt,an){var ln=rt&St,gn=ln?Rt:a,yn=ln?a:Rt,_n=ln?At:a,Cn=ln?a:At;rt|=ln?bt:vt,rt&=~(ln?vt:bt),rt&gt||(rt&=~(Et|pt));var Mn=[et,rt,yt,_n,gn,Cn,yn,Mt,Gt,an],kn=at.apply(a,Mn);return zu(et)&&Ym(kn,Mn),kn.placeholder=mt,qm(kn,et,rt)}function Bu(et){var rt=dr[et];return function(at,mt){if(at=is(at),mt=mt==null?0:xr(Nn(mt),292),mt&&Yp(at)){var yt=(Hn(at)+"e").split("e"),At=rt(yt[0]+"e"+(+yt[1]+mt));return yt=(Hn(At)+"e").split("e"),+(yt[0]+"e"+(+yt[1]-mt))}return rt(at)}}var jE=co&&1/Yo(new co([,-0]))[1]==hn?function(et){return new co(et)}:rp;function Bm(et){return function(rt){var at=_r(rt);return at==ar?mu(rt):at==Sr?i1(rt):YO(rt,et(rt))}}function Ts(et,rt,at,mt,yt,At,Rt,Mt){var Gt=rt&pt;if(!Gt&&typeof et!="function")throw new _i(b);var an=mt?mt.length:0;if(an||(rt&=~(bt|vt),mt=yt=a),Rt=Rt===a?Rt:fr(Nn(Rt),0),Mt=Mt===a?Mt:Nn(Mt),an-=yt?yt.length:0,rt&vt){var ln=mt,gn=yt;mt=yt=a}var yn=Gt?a:Uu(et),_n=[et,rt,at,mt,yt,ln,gn,At,Rt,Mt];if(yn&&nS(_n,yn),et=_n[0],rt=_n[1],at=_n[2],mt=_n[3],yt=_n[4],Mt=_n[9]=_n[9]===a?Gt?0:et.length:fr(_n[9]-an,0),!Mt&&rt&(St|Tt)&&(rt&=~(St|Tt)),!rt||rt==Et)var Cn=QE(et,rt,at);else rt==St||rt==Tt?Cn=BE(et,rt,Mt):(rt==bt||rt==(Et|bt))&&!yt.length?Cn=FE(et,rt,at,mt):Cn=Dl.apply(a,_n);var Mn=yn?Sm:Ym;return qm(Mn(Cn,_n),et,rt)}function Fm(et,rt,at,mt){return et===a||ls(et,uo[at])&&!zn.call(mt,at)?rt:et}function jm(et,rt,at,mt,yt,At){return rr(et)&&rr(rt)&&(At.set(rt,et),Cl(et,rt,a,jm,At),At.delete(rt)),et}function UE(et){return Uo(et)?a:et}function Um(et,rt,at,mt,yt,At){var Rt=at&ht,Mt=et.length,Gt=rt.length;if(Mt!=Gt&&!(Rt&&Gt>Mt))return!1;var an=At.get(et),ln=At.get(rt);if(an&&ln)return an==rt&&ln==et;var gn=-1,yn=!0,_n=at&dt?new Ws:a;for(At.set(et,rt),At.set(rt,et);++gn<Mt;){var Cn=et[gn],Mn=rt[gn];if(mt)var kn=Rt?mt(Mn,Cn,gn,rt,et,At):mt(Cn,Mn,gn,et,rt,At);if(kn!==a){if(kn)continue;yn=!1;break}if(_n){if(!uu(rt,function(Qn,jn){if(!Co(_n,jn)&&(Cn===Qn||yt(Cn,Qn,at,mt,At)))return _n.push(jn)})){yn=!1;break}}else if(!(Cn===Mn||yt(Cn,Mn,at,mt,At))){yn=!1;break}}return At.delete(et),At.delete(rt),yn}function GE(et,rt,at,mt,yt,At,Rt){switch(at){case En:if(et.byteLength!=rt.byteLength||et.byteOffset!=rt.byteOffset)return!1;et=et.buffer,rt=rt.buffer;case sn:return!(et.byteLength!=rt.byteLength||!At(new ba(et),new ba(rt)));case Gn:case Fn:case wr:return ls(+et,+rt);case pr:return et.name==rt.name&&et.message==rt.message;case Er:case Xr:return et==rt+"";case ar:var Mt=mu;case Sr:var Gt=mt&ht;if(Mt||(Mt=Yo),et.size!=rt.size&&!Gt)return!1;var an=Rt.get(et);if(an)return an==rt;mt|=dt,Rt.set(et,rt);var ln=Um(Mt(et),Mt(rt),mt,yt,At,Rt);return Rt.delete(et),ln;case Br:if(Do)return Do.call(et)==Do.call(rt)}return!1}function HE(et,rt,at,mt,yt,At){var Rt=at&ht,Mt=Fu(et),Gt=Mt.length,an=Fu(rt),ln=an.length;if(Gt!=ln&&!Rt)return!1;for(var gn=Gt;gn--;){var yn=Mt[gn];if(!(Rt?yn in rt:zn.call(rt,yn)))return!1}var _n=At.get(et),Cn=At.get(rt);if(_n&&Cn)return _n==rt&&Cn==et;var Mn=!0;At.set(et,rt),At.set(rt,et);for(var kn=Rt;++gn<Gt;){yn=Mt[gn];var Qn=et[yn],jn=rt[yn];if(mt)var zr=Rt?mt(jn,Qn,yn,rt,et,At):mt(Qn,jn,yn,et,rt,At);if(!(zr===a?Qn===jn||yt(Qn,jn,at,mt,At):zr)){Mn=!1;break}kn||(kn=yn=="constructor")}if(Mn&&!kn){var Ir=et.constructor,Wr=rt.constructor;Ir!=Wr&&"constructor"in et&&"constructor"in rt&&!(typeof Ir=="function"&&Ir instanceof Ir&&typeof Wr=="function"&&Wr instanceof Wr)&&(Mn=!1)}return At.delete(et),At.delete(rt),Mn}function bs(et){return Zu(Zm(et,a,n0),et+"")}function Fu(et){return lm(et,Or,Hu)}function ju(et){return lm(et,Lr,Gm)}var Uu=yl?function(et){return yl.get(et)}:rp;function Ll(et){for(var rt=et.name+"",at=ho[rt],mt=zn.call(ho,rt)?at.length:0;mt--;){var yt=at[mt],At=yt.func;if(At==null||At==et)return yt.name}return rt}function go(et){var rt=zn.call(xt,"placeholder")?xt:et;return rt.placeholder}function An(){var et=xt.iteratee||tp;return et=et===tp?hm:et,arguments.length?et(arguments[0],arguments[1]):et}function Ql(et,rt){var at=et.__data__;return KE(rt)?at[typeof rt=="string"?"string":"hash"]:at.map}function Gu(et){for(var rt=Or(et),at=rt.length;at--;){var mt=rt[at],yt=et[mt];rt[at]=[mt,yt,zm(yt)]}return rt}function Ys(et,rt){var at=t1(et,rt);return cm(at)?at:a}function VE(et){var rt=zn.call(et,Vs),at=et[Vs];try{et[Vs]=a;var mt=!0}catch{}var yt=na.call(et);return mt&&(rt?et[Vs]=at:delete et[Vs]),yt}var Hu=Ou?function(et){return et==null?[]:(et=Yn(et),Cs(Ou(et),function(rt){return Zp.call(et,rt)}))}:ip,Gm=Ou?function(et){for(var rt=[];et;)ks(rt,Hu(et)),et=xa(et);return rt}:ip,_r=Pr;(Eu&&_r(new Eu(new ArrayBuffer(1)))!=En||Po&&_r(new Po)!=ar||Su&&_r(Su.resolve())!=hs||co&&_r(new co)!=Sr||Ro&&_r(new Ro)!=Yr)&&(_r=function(et){var rt=Pr(et),at=rt==gr?et.constructor:a,mt=at?qs(at):"";if(mt)switch(mt){case w1:return En;case C1:return ar;case k1:return hs;case P1:return Sr;case R1:return Yr}return rt});function zE(et,rt,at){for(var mt=-1,yt=at.length;++mt<yt;){var At=at[mt],Rt=At.size;switch(At.type){case"drop":et+=Rt;break;case"dropRight":rt-=Rt;break;case"take":rt=xr(rt,et+Rt);break;case"takeRight":et=fr(et,rt-Rt);break}}return{start:et,end:rt}}function WE(et){var rt=et.match(J0);return rt?rt[1].split(eO):[]}function Hm(et,rt,at){rt=Ns(rt,et);for(var mt=-1,yt=rt.length,At=!1;++mt<yt;){var Rt=ps(rt[mt]);if(!(At=et!=null&&at(et,Rt)))break;et=et[Rt]}return At||++mt!=yt?At:(yt=et==null?0:et.length,!!yt&&zl(yt)&&xs(Rt,yt)&&(Rn(et)||Ks(et)))}function ZE(et){var rt=et.length,at=new et.constructor(rt);return rt&&typeof et[0]=="string"&&zn.call(et,"index")&&(at.index=et.index,at.input=et.input),at}function Vm(et){return typeof et.constructor=="function"&&!Fo(et)?fo(xa(et)):{}}function XE(et,rt,at){var mt=et.constructor;switch(rt){case sn:return Lu(et);case Gn:case Fn:return new mt(+et);case En:return IE(et,at);case bn:case Dn:case tr:case lr:case hr:case yr:case kr:case qn:case qr:return wm(et,at);case ar:return new mt;case wr:case Xr:return new mt(et);case Er:return DE(et);case Sr:return new mt;case Br:return NE(et)}}function YE(et,rt){var at=rt.length;if(!at)return et;var mt=at-1;return rt[mt]=(at>1?"& ":"")+rt[mt],rt=rt.join(at>2?", ":" "),et.replace(K0,`{
/* [wrapped with `+rt+`] */
`)}function qE(et){return Rn(et)||Ks(et)||!!(Xp&&et&&et[Xp])}function xs(et,rt){var at=typeof et;return rt=rt??zt,!!rt&&(at=="number"||at!="symbol"&&uO.test(et))&&et>-1&&et%1==0&&et<rt}function Rr(et,rt,at){if(!rr(at))return!1;var mt=typeof rt;return(mt=="number"?$r(at)&&xs(rt,at.length):mt=="string"&&rt in at)?ls(at[rt],et):!1}function Vu(et,rt){if(Rn(et))return!1;var at=typeof et;return at=="number"||at=="symbol"||at=="boolean"||et==null||Vr(et)?!0:Z0.test(et)||!W0.test(et)||rt!=null&&et in Yn(rt)}function KE(et){var rt=typeof et;return rt=="string"||rt=="number"||rt=="symbol"||rt=="boolean"?et!=="__proto__":et===null}function zu(et){var rt=Ll(et),at=xt[rt];if(typeof at!="function"||!(rt in Bn.prototype))return!1;if(et===at)return!0;var mt=Uu(at);return!!mt&&et===mt[0]}function JE(et){return!!Vp&&Vp in et}var eS=Ko?_s:sp;function Fo(et){var rt=et&&et.constructor,at=typeof rt=="function"&&rt.prototype||uo;return et===at}function zm(et){return et===et&&!rr(et)}function Wm(et,rt){return function(at){return at==null?!1:at[et]===rt&&(rt!==a||et in Yn(at))}}function tS(et){var rt=Hl(et,function(mt){return at.size===tt&&at.clear(),mt}),at=rt.cache;return rt}function nS(et,rt){var at=et[1],mt=rt[1],yt=at|mt,At=yt<(Et|pt|kt),Rt=mt==kt&&at==St||mt==kt&&at==Nt&&et[7].length<=rt[8]||mt==(kt|Nt)&&rt[7].length<=rt[8]&&at==St;if(!(At||Rt))return et;mt&Et&&(et[2]=rt[2],yt|=at&Et?0:gt);var Mt=rt[3];if(Mt){var Gt=et[3];et[3]=Gt?km(Gt,Mt,rt[4]):Mt,et[4]=Gt?Ps(et[3],nt):rt[4]}return Mt=rt[5],Mt&&(Gt=et[5],et[5]=Gt?Pm(Gt,Mt,rt[6]):Mt,et[6]=Gt?Ps(et[5],nt):rt[6]),Mt=rt[7],Mt&&(et[7]=Mt),mt&kt&&(et[8]=et[8]==null?rt[8]:xr(et[8],rt[8])),et[9]==null&&(et[9]=rt[9]),et[0]=rt[0],et[1]=yt,et}function rS(et){var rt=[];if(et!=null)for(var at in Yn(et))rt.push(at);return rt}function iS(et){return na.call(et)}function Zm(et,rt,at){return rt=fr(rt===a?et.length-1:rt,0),function(){for(var mt=arguments,yt=-1,At=fr(mt.length-rt,0),Rt=rn(At);++yt<At;)Rt[yt]=mt[rt+yt];yt=-1;for(var Mt=rn(rt+1);++yt<rt;)Mt[yt]=mt[yt];return Mt[rt]=at(Rt),Ur(et,this,Mt)}}function Xm(et,rt){return rt.length<2?et:Xs(et,ns(rt,0,-1))}function sS(et,rt){for(var at=et.length,mt=xr(rt.length,at),yt=Mr(et);mt--;){var At=rt[mt];et[mt]=xs(At,at)?yt[At]:a}return et}function Wu(et,rt){if(!(rt==="constructor"&&typeof et[rt]=="function")&&rt!="__proto__")return et[rt]}var Ym=Km(Sm),jo=y1||function(et,rt){return Tr.setTimeout(et,rt)},Zu=Km(CE);function qm(et,rt,at){var mt=rt+"";return Zu(et,YE(mt,oS(WE(mt),at)))}function Km(et){var rt=0,at=0;return function(){var mt=_1(),yt=pn-(mt-at);if(at=mt,yt>0){if(++rt>=Yt)return arguments[0]}else rt=0;return et.apply(a,arguments)}}function Bl(et,rt){var at=-1,mt=et.length,yt=mt-1;for(rt=rt===a?mt:rt;++at<rt;){var At=Pu(at,yt),Rt=et[At];et[At]=et[at],et[at]=Rt}return et.length=rt,et}var Jm=tS(function(et){var rt=[];return et.charCodeAt(0)===46&&rt.push(""),et.replace(X0,function(at,mt,yt,At){rt.push(yt?At.replace(rO,"$1"):mt||at)}),rt});function ps(et){if(typeof et=="string"||Vr(et))return et;var rt=et+"";return rt=="0"&&1/et==-hn?"-0":rt}function qs(et){if(et!=null){try{return Jo.call(et)}catch{}try{return et+""}catch{}}return""}function oS(et,rt){return Jr(wn,function(at){var mt="_."+at[0];rt&at[1]&&!Zo(et,mt)&&et.push(mt)}),et.sort()}function _g(et){if(et instanceof Bn)return et.clone();var rt=new es(et.__wrapped__,et.__chain__);return rt.__actions__=Mr(et.__actions__),rt.__index__=et.__index__,rt.__values__=et.__values__,rt}function aS(et,rt,at){(at?Rr(et,rt,at):rt===a)?rt=1:rt=fr(Nn(rt),0);var mt=et==null?0:et.length;if(!mt||rt<1)return[];for(var yt=0,At=0,Rt=rn(El(mt/rt));yt<mt;)Rt[At++]=ns(et,yt,yt+=rt);return Rt}function lS(et){for(var rt=-1,at=et==null?0:et.length,mt=0,yt=[];++rt<at;){var At=et[rt];At&&(yt[mt++]=At)}return yt}function uS(){var et=arguments.length;if(!et)return[];for(var rt=rn(et-1),at=arguments[0],mt=et;mt--;)rt[mt-1]=arguments[mt];return ks(Rn(at)?Mr(at):[at],br(rt,1))}var cS=Ln(function(et,rt){return ur(et)?Mo(et,br(rt,1,ur,!0)):[]}),hS=Ln(function(et,rt){var at=rs(rt);return ur(at)&&(at=a),ur(et)?Mo(et,br(rt,1,ur,!0),An(at,2)):[]}),dS=Ln(function(et,rt){var at=rs(rt);return ur(at)&&(at=a),ur(et)?Mo(et,br(rt,1,ur,!0),a,at):[]});function fS(et,rt,at){var mt=et==null?0:et.length;return mt?(rt=at||rt===a?1:Nn(rt),ns(et,rt<0?0:rt,mt)):[]}function pS(et,rt,at){var mt=et==null?0:et.length;return mt?(rt=at||rt===a?1:Nn(rt),rt=mt-rt,ns(et,0,rt<0?0:rt)):[]}function mS(et,rt){return et&&et.length?Rl(et,An(rt,3),!0,!0):[]}function gS(et,rt){return et&&et.length?Rl(et,An(rt,3),!0):[]}function OS(et,rt,at,mt){var yt=et==null?0:et.length;return yt?(at&&typeof at!="number"&&Rr(et,rt,at)&&(at=0,mt=yt),uE(et,rt,at,mt)):[]}function e0(et,rt,at){var mt=et==null?0:et.length;if(!mt)return-1;var yt=at==null?0:Nn(at);return yt<0&&(yt=fr(mt+yt,0)),Xo(et,An(rt,3),yt)}function t0(et,rt,at){var mt=et==null?0:et.length;if(!mt)return-1;var yt=mt-1;return at!==a&&(yt=Nn(at),yt=at<0?fr(mt+yt,0):xr(yt,mt-1)),Xo(et,An(rt,3),yt,!0)}function n0(et){var rt=et==null?0:et.length;return rt?br(et,1):[]}function ES(et){var rt=et==null?0:et.length;return rt?br(et,hn):[]}function SS(et,rt){var at=et==null?0:et.length;return at?(rt=rt===a?1:Nn(rt),br(et,rt)):[]}function yS(et){for(var rt=-1,at=et==null?0:et.length,mt={};++rt<at;){var yt=et[rt];mt[yt[0]]=yt[1]}return mt}function r0(et){return et&&et.length?et[0]:a}function TS(et,rt,at){var mt=et==null?0:et.length;if(!mt)return-1;var yt=at==null?0:Nn(at);return yt<0&&(yt=fr(mt+yt,0)),so(et,rt,yt)}function bS(et){var rt=et==null?0:et.length;return rt?ns(et,0,-1):[]}var xS=Ln(function(et){var rt=nr(et,Mu);return rt.length&&rt[0]===et[0]?vu(rt):[]}),_S=Ln(function(et){var rt=rs(et),at=nr(et,Mu);return rt===rs(at)?rt=a:at.pop(),at.length&&at[0]===et[0]?vu(at,An(rt,2)):[]}),vS=Ln(function(et){var rt=rs(et),at=nr(et,Mu);return rt=typeof rt=="function"?rt:a,rt&&at.pop(),at.length&&at[0]===et[0]?vu(at,a,rt):[]});function AS(et,rt){return et==null?"":b1.call(et,rt)}function rs(et){var rt=et==null?0:et.length;return rt?et[rt-1]:a}function wS(et,rt,at){var mt=et==null?0:et.length;if(!mt)return-1;var yt=mt;return at!==a&&(yt=Nn(at),yt=yt<0?fr(mt+yt,0):xr(yt,mt-1)),rt===rt?o1(et,rt,yt):Xo(et,Lp,yt,!0)}function CS(et,rt){return et&&et.length?mm(et,Nn(rt)):a}var kS=Ln(i0);function i0(et,rt){return et&&et.length&&rt&&rt.length?ku(et,rt):et}function PS(et,rt,at){return et&&et.length&&rt&&rt.length?ku(et,rt,An(at,2)):et}function RS(et,rt,at){return et&&et.length&&rt&&rt.length?ku(et,rt,a,at):et}var IS=bs(function(et,rt){var at=et==null?0:et.length,mt=Tu(et,rt);return Em(et,nr(rt,function(yt){return xs(yt,at)?+yt:yt}).sort(Cm)),mt});function DS(et,rt){var at=[];if(!(et&&et.length))return at;var mt=-1,yt=[],At=et.length;for(rt=An(rt,3);++mt<At;){var Rt=et[mt];rt(Rt,mt,et)&&(at.push(Rt),yt.push(mt))}return Em(et,yt),at}function Xu(et){return et==null?et:A1.call(et)}function MS(et,rt,at){var mt=et==null?0:et.length;return mt?(at&&typeof at!="number"&&Rr(et,rt,at)?(rt=0,at=mt):(rt=rt==null?0:Nn(rt),at=at===a?mt:Nn(at)),ns(et,rt,at)):[]}function $S(et,rt){return Pl(et,rt)}function LS(et,rt,at){return Iu(et,rt,An(at,2))}function QS(et,rt){var at=et==null?0:et.length;if(at){var mt=Pl(et,rt);if(mt<at&&ls(et[mt],rt))return mt}return-1}function BS(et,rt){return Pl(et,rt,!0)}function FS(et,rt,at){return Iu(et,rt,An(at,2),!0)}function jS(et,rt){var at=et==null?0:et.length;if(at){var mt=Pl(et,rt,!0)-1;if(ls(et[mt],rt))return mt}return-1}function US(et){return et&&et.length?ym(et):[]}function GS(et,rt){return et&&et.length?ym(et,An(rt,2)):[]}function HS(et){var rt=et==null?0:et.length;return rt?ns(et,1,rt):[]}function VS(et,rt,at){return et&&et.length?(rt=at||rt===a?1:Nn(rt),ns(et,0,rt<0?0:rt)):[]}function zS(et,rt,at){var mt=et==null?0:et.length;return mt?(rt=at||rt===a?1:Nn(rt),rt=mt-rt,ns(et,rt<0?0:rt,mt)):[]}function WS(et,rt){return et&&et.length?Rl(et,An(rt,3),!1,!0):[]}function ZS(et,rt){return et&&et.length?Rl(et,An(rt,3)):[]}var XS=Ln(function(et){return Ds(br(et,1,ur,!0))}),YS=Ln(function(et){var rt=rs(et);return ur(rt)&&(rt=a),Ds(br(et,1,ur,!0),An(rt,2))}),qS=Ln(function(et){var rt=rs(et);return rt=typeof rt=="function"?rt:a,Ds(br(et,1,ur,!0),a,rt)});function KS(et){return et&&et.length?Ds(et):[]}function JS(et,rt){return et&&et.length?Ds(et,An(rt,2)):[]}function ey(et,rt){return rt=typeof rt=="function"?rt:a,et&&et.length?Ds(et,a,rt):[]}function Yu(et){if(!(et&&et.length))return[];var rt=0;return et=Cs(et,function(at){if(ur(at))return rt=fr(at.length,rt),!0}),fu(rt,function(at){return nr(et,cu(at))})}function s0(et,rt){if(!(et&&et.length))return[];var at=Yu(et);return rt==null?at:nr(at,function(mt){return Ur(rt,a,mt)})}var ty=Ln(function(et,rt){return ur(et)?Mo(et,rt):[]}),ny=Ln(function(et){return Nu(Cs(et,ur))}),ry=Ln(function(et){var rt=rs(et);return ur(rt)&&(rt=a),Nu(Cs(et,ur),An(rt,2))}),iy=Ln(function(et){var rt=rs(et);return rt=typeof rt=="function"?rt:a,Nu(Cs(et,ur),a,rt)}),sy=Ln(Yu);function oy(et,rt){return _m(et||[],rt||[],No)}function ay(et,rt){return _m(et||[],rt||[],Qo)}var ly=Ln(function(et){var rt=et.length,at=rt>1?et[rt-1]:a;return at=typeof at=="function"?(et.pop(),at):a,s0(et,at)});function o0(et){var rt=xt(et);return rt.__chain__=!0,rt}function uy(et,rt){return rt(et),et}function Fl(et,rt){return rt(et)}var cy=bs(function(et){var rt=et.length,at=rt?et[0]:0,mt=this.__wrapped__,yt=function(At){return Tu(At,et)};return rt>1||this.__actions__.length||!(mt instanceof Bn)||!xs(at)?this.thru(yt):(mt=mt.slice(at,+at+(rt?1:0)),mt.__actions__.push({func:Fl,args:[yt],thisArg:a}),new es(mt,this.__chain__).thru(function(At){return rt&&!At.length&&At.push(a),At}))});function hy(){return o0(this)}function dy(){return new es(this.value(),this.__chain__)}function fy(){this.__values__===a&&(this.__values__=y0(this.value()));var et=this.__index__>=this.__values__.length,rt=et?a:this.__values__[this.__index__++];return{done:et,value:rt}}function py(){return this}function my(et){for(var rt,at=this;at instanceof xl;){var mt=_g(at);mt.__index__=0,mt.__values__=a,rt?yt.__wrapped__=mt:rt=mt;var yt=mt;at=at.__wrapped__}return yt.__wrapped__=et,rt}function gy(){var et=this.__wrapped__;if(et instanceof Bn){var rt=et;return this.__actions__.length&&(rt=new Bn(this)),rt=rt.reverse(),rt.__actions__.push({func:Fl,args:[Xu],thisArg:a}),new es(rt,this.__chain__)}return this.thru(Xu)}function Oy(){return xm(this.__wrapped__,this.__actions__)}var Ey=Il(function(et,rt,at){zn.call(et,at)?++et[at]:ys(et,at,1)});function Sy(et,rt,at){var mt=Rn(et)?Mp:lE;return at&&Rr(et,rt,at)&&(rt=a),mt(et,An(rt,3))}function yy(et,rt){var at=Rn(et)?Cs:om;return at(et,An(rt,3))}var Ty=Nm(e0),by=Nm(t0);function xy(et,rt){return br(Ul(et,rt),1)}function _y(et,rt){return br(Ul(et,rt),hn)}function vy(et,rt,at){return at=at===a?1:Nn(at),br(Ul(et,rt),at)}function a0(et,rt){var at=Rn(et)?Jr:Is;return at(et,An(rt,3))}function l0(et,rt){var at=Rn(et)?GO:sm;return at(et,An(rt,3))}var Ay=Il(function(et,rt,at){zn.call(et,at)?et[at].push(rt):ys(et,at,[rt])});function wy(et,rt,at,mt){et=$r(et)?et:Eo(et),at=at&&!mt?Nn(at):0;var yt=et.length;return at<0&&(at=fr(yt+at,0)),Wl(et)?at<=yt&&et.indexOf(rt,at)>-1:!!yt&&so(et,rt,at)>-1}var Cy=Ln(function(et,rt,at){var mt=-1,yt=typeof rt=="function",At=$r(et)?rn(et.length):[];return Is(et,function(Rt){At[++mt]=yt?Ur(rt,Rt,at):$o(Rt,rt,at)}),At}),ky=Il(function(et,rt,at){ys(et,at,rt)});function Ul(et,rt){var at=Rn(et)?nr:dm;return at(et,An(rt,3))}function Py(et,rt,at,mt){return et==null?[]:(Rn(rt)||(rt=rt==null?[]:[rt]),at=mt?a:at,Rn(at)||(at=at==null?[]:[at]),gm(et,rt,at))}var Ry=Il(function(et,rt,at){et[at?0:1].push(rt)},function(){return[[],[]]});function Iy(et,rt,at){var mt=Rn(et)?lu:Bp,yt=arguments.length<3;return mt(et,An(rt,4),at,yt,Is)}function Dy(et,rt,at){var mt=Rn(et)?HO:Bp,yt=arguments.length<3;return mt(et,An(rt,4),at,yt,sm)}function Ny(et,rt){var at=Rn(et)?Cs:om;return at(et,Vl(An(rt,3)))}function My(et){var rt=Rn(et)?em:AE;return rt(et)}function $y(et,rt,at){(at?Rr(et,rt,at):rt===a)?rt=1:rt=Nn(rt);var mt=Rn(et)?rE:wE;return mt(et,rt)}function Ly(et){var rt=Rn(et)?iE:kE;return rt(et)}function Qy(et){if(et==null)return 0;if($r(et))return Wl(et)?ao(et):et.length;var rt=_r(et);return rt==ar||rt==Sr?et.size:wu(et).length}function By(et,rt,at){var mt=Rn(et)?uu:PE;return at&&Rr(et,rt,at)&&(rt=a),mt(et,An(rt,3))}var Fy=Ln(function(et,rt){if(et==null)return[];var at=rt.length;return at>1&&Rr(et,rt[0],rt[1])?rt=[]:at>2&&Rr(rt[0],rt[1],rt[2])&&(rt=[rt[0]]),gm(et,br(rt,1),[])}),Gl=S1||function(){return Tr.Date.now()};function jy(et,rt){if(typeof rt!="function")throw new _i(b);return et=Nn(et),function(){if(--et<1)return rt.apply(this,arguments)}}function u0(et,rt,at){return rt=at?a:rt,rt=et&&rt==null?et.length:rt,Ts(et,kt,a,a,a,a,rt)}function c0(et,rt){var at;if(typeof rt!="function")throw new _i(b);return et=Nn(et),function(){return--et>0&&(at=rt.apply(this,arguments)),et<=1&&(rt=a),at}}var qu=Ln(function(et,rt,at){var mt=Et;if(at.length){var yt=Ps(at,go(qu));mt|=bt}return Ts(et,mt,rt,at,yt)}),h0=Ln(function(et,rt,at){var mt=Et|pt;if(at.length){var yt=Ps(at,go(h0));mt|=bt}return Ts(rt,mt,et,at,yt)});function d0(et,rt,at){rt=at?a:rt;var mt=Ts(et,St,a,a,a,a,a,rt);return mt.placeholder=d0.placeholder,mt}function f0(et,rt,at){rt=at?a:rt;var mt=Ts(et,Tt,a,a,a,a,a,rt);return mt.placeholder=f0.placeholder,mt}function p0(et,rt,at){var mt,yt,At,Rt,Mt,Gt,an=0,ln=!1,gn=!1,yn=!0;if(typeof et!="function")throw new _i(b);rt=is(rt)||0,rr(at)&&(ln=!!at.leading,gn="maxWait"in at,At=gn?fr(is(at.maxWait)||0,rt):At,yn="trailing"in at?!!at.trailing:yn);function _n(cr){var us=mt,As=yt;return mt=yt=a,an=cr,Rt=et.apply(As,us),Rt}function Cn(cr){return an=cr,Mt=jo(Qn,rt),ln?_n(cr):Rt}function Mn(cr){var us=cr-Gt,As=cr-an,D0=rt-us;return gn?xr(D0,At-As):D0}function kn(cr){var us=cr-Gt,As=cr-an;return Gt===a||us>=rt||us<0||gn&&As>=At}function Qn(){var cr=Gl();if(kn(cr))return jn(cr);Mt=jo(Qn,Mn(cr))}function jn(cr){return Mt=a,yn&&mt?_n(cr):(mt=yt=a,Rt)}function zr(){Mt!==a&&vm(Mt),an=0,mt=Gt=yt=Mt=a}function Ir(){return Mt===a?Rt:jn(Gl())}function Wr(){var cr=Gl(),us=kn(cr);if(mt=arguments,yt=this,Gt=cr,us){if(Mt===a)return Cn(Gt);if(gn)return vm(Mt),Mt=jo(Qn,rt),_n(Gt)}return Mt===a&&(Mt=jo(Qn,rt)),Rt}return Wr.cancel=zr,Wr.flush=Ir,Wr}var Uy=Ln(function(et,rt){return im(et,1,rt)}),Gy=Ln(function(et,rt,at){return im(et,is(rt)||0,at)});function Hy(et){return Ts(et,en)}function Hl(et,rt){if(typeof et!="function"||rt!=null&&typeof rt!="function")throw new _i(b);var at=function(){var mt=arguments,yt=rt?rt.apply(this,mt):mt[0],At=at.cache;if(At.has(yt))return At.get(yt);var Rt=et.apply(this,mt);return at.cache=At.set(yt,Rt)||At,Rt};return at.cache=new(Hl.Cache||Ss),at}Hl.Cache=Ss;function Vl(et){if(typeof et!="function")throw new _i(b);return function(){var rt=arguments;switch(rt.length){case 0:return!et.call(this);case 1:return!et.call(this,rt[0]);case 2:return!et.call(this,rt[0],rt[1]);case 3:return!et.call(this,rt[0],rt[1],rt[2])}return!et.apply(this,rt)}}function Vy(et){return c0(2,et)}var zy=RE(function(et,rt){rt=rt.length==1&&Rn(rt[0])?nr(rt[0],Gr(An())):nr(br(rt,1),Gr(An()));var at=rt.length;return Ln(function(mt){for(var yt=-1,At=xr(mt.length,at);++yt<At;)mt[yt]=rt[yt].call(this,mt[yt]);return Ur(et,this,mt)})}),Ku=Ln(function(et,rt){var at=Ps(rt,go(Ku));return Ts(et,bt,a,rt,at)}),m0=Ln(function(et,rt){var at=Ps(rt,go(m0));return Ts(et,vt,a,rt,at)}),Wy=bs(function(et,rt){return Ts(et,Nt,a,a,a,rt)});function Zy(et,rt){if(typeof et!="function")throw new _i(b);return rt=rt===a?rt:Nn(rt),Ln(et,rt)}function Xy(et,rt){if(typeof et!="function")throw new _i(b);return rt=rt==null?0:fr(Nn(rt),0),Ln(function(at){var mt=at[rt],yt=Ms(at,0,rt);return mt&&ks(yt,mt),Ur(et,this,yt)})}function Yy(et,rt,at){var mt=!0,yt=!0;if(typeof et!="function")throw new _i(b);return rr(at)&&(mt="leading"in at?!!at.leading:mt,yt="trailing"in at?!!at.trailing:yt),p0(et,rt,{leading:mt,maxWait:rt,trailing:yt})}function qy(et){return u0(et,1)}function Ky(et,rt){return Ku($u(rt),et)}function Jy(){if(!arguments.length)return[];var et=arguments[0];return Rn(et)?et:[et]}function eT(et){return ts(et,ot)}function tT(et,rt){return rt=typeof rt=="function"?rt:a,ts(et,ot,rt)}function nT(et){return ts(et,it|ot)}function rT(et,rt){return rt=typeof rt=="function"?rt:a,ts(et,it|ot,rt)}function iT(et,rt){return rt==null||nm(et,rt,Or(rt))}function ls(et,rt){return et===rt||et!==et&&rt!==rt}var sT=$l(_u),oT=$l(function(et,rt){return et>=rt}),Ks=um(function(){return arguments}())?um:function(et){return sr(et)&&zn.call(et,"callee")&&!Zp.call(et,"callee")},Rn=rn.isArray,aT=kp?Gr(kp):pE;function $r(et){return et!=null&&zl(et.length)&&!_s(et)}function ur(et){return sr(et)&&$r(et)}function lT(et){return et===!0||et===!1||sr(et)&&Pr(et)==Gn}var $s=T1||sp,uT=Pp?Gr(Pp):mE;function cT(et){return sr(et)&&et.nodeType===1&&!Uo(et)}function hT(et){if(et==null)return!0;if($r(et)&&(Rn(et)||typeof et=="string"||typeof et.splice=="function"||$s(et)||Oo(et)||Ks(et)))return!et.length;var rt=_r(et);if(rt==ar||rt==Sr)return!et.size;if(Fo(et))return!wu(et).length;for(var at in et)if(zn.call(et,at))return!1;return!0}function dT(et,rt){return Lo(et,rt)}function fT(et,rt,at){at=typeof at=="function"?at:a;var mt=at?at(et,rt):a;return mt===a?Lo(et,rt,a,at):!!mt}function Ju(et){if(!sr(et))return!1;var rt=Pr(et);return rt==pr||rt==ir||typeof et.message=="string"&&typeof et.name=="string"&&!Uo(et)}function pT(et){return typeof et=="number"&&Yp(et)}function _s(et){if(!rr(et))return!1;var rt=Pr(et);return rt==mr||rt==Nr||rt==Wn||rt==er}function g0(et){return typeof et=="number"&&et==Nn(et)}function zl(et){return typeof et=="number"&&et>-1&&et%1==0&&et<=zt}function rr(et){var rt=typeof et;return et!=null&&(rt=="object"||rt=="function")}function sr(et){return et!=null&&typeof et=="object"}var O0=Rp?Gr(Rp):OE;function mT(et,rt){return et===rt||Au(et,rt,Gu(rt))}function gT(et,rt,at){return at=typeof at=="function"?at:a,Au(et,rt,Gu(rt),at)}function OT(et){return E0(et)&&et!=+et}function ET(et){if(eS(et))throw new Pn(g);return cm(et)}function ST(et){return et===null}function yT(et){return et==null}function E0(et){return typeof et=="number"||sr(et)&&Pr(et)==wr}function Uo(et){if(!sr(et)||Pr(et)!=gr)return!1;var rt=xa(et);if(rt===null)return!0;var at=zn.call(rt,"constructor")&&rt.constructor;return typeof at=="function"&&at instanceof at&&Jo.call(at)==m1}var _c=Ip?Gr(Ip):EE;function TT(et){return g0(et)&&et>=-zt&&et<=zt}var S0=Dp?Gr(Dp):SE;function Wl(et){return typeof et=="string"||!Rn(et)&&sr(et)&&Pr(et)==Xr}function Vr(et){return typeof et=="symbol"||sr(et)&&Pr(et)==Br}var Oo=Np?Gr(Np):yE;function bT(et){return et===a}function xT(et){return sr(et)&&_r(et)==Yr}function _T(et){return sr(et)&&Pr(et)==Lt}var vT=$l(Cu),AT=$l(function(et,rt){return et<=rt});function y0(et){if(!et)return[];if($r(et))return Wl(et)?os(et):Mr(et);if(ko&&et[ko])return r1(et[ko]());var rt=_r(et),at=rt==ar?mu:rt==Sr?Yo:Eo;return at(et)}function vs(et){if(!et)return et===0?et:0;if(et=is(et),et===hn||et===-hn){var rt=et<0?-1:1;return rt*nn}return et===et?et:0}function Nn(et){var rt=vs(et),at=rt%1;return rt===rt?at?rt-at:rt:0}function T0(et){return et?Zs(Nn(et),0,fn):0}function is(et){if(typeof et=="number")return et;if(Vr(et))return wt;if(rr(et)){var rt=typeof et.valueOf=="function"?et.valueOf():et;et=rr(rt)?rt+"":rt}if(typeof et!="string")return et===0?et:+et;et=Fp(et);var at=oO.test(et);return at||lO.test(et)?FO(et.slice(2),at?2:8):sO.test(et)?wt:+et}function b0(et){return fs(et,Lr(et))}function wT(et){return et?Zs(Nn(et),-zt,zt):et===0?et:0}function Hn(et){return et==null?"":Hr(et)}var CT=po(function(et,rt){if(Fo(rt)||$r(rt)){fs(rt,Or(rt),et);return}for(var at in rt)zn.call(rt,at)&&No(et,at,rt[at])}),x0=po(function(et,rt){fs(rt,Lr(rt),et)}),Zl=po(function(et,rt,at,mt){fs(rt,Lr(rt),et,mt)}),kT=po(function(et,rt,at,mt){fs(rt,Or(rt),et,mt)}),PT=bs(Tu);function RT(et,rt){var at=fo(et);return rt==null?at:tm(at,rt)}var IT=Ln(function(et,rt){et=Yn(et);var at=-1,mt=rt.length,yt=mt>2?rt[2]:a;for(yt&&Rr(rt[0],rt[1],yt)&&(mt=1);++at<mt;)for(var At=rt[at],Rt=Lr(At),Mt=-1,Gt=Rt.length;++Mt<Gt;){var an=Rt[Mt],ln=et[an];(ln===a||ls(ln,uo[an])&&!zn.call(et,an))&&(et[an]=At[an])}return et}),DT=Ln(function(et){return et.push(a,jm),Ur(_0,a,et)});function NT(et,rt){return $p(et,An(rt,3),ds)}function MT(et,rt){return $p(et,An(rt,3),xu)}function $T(et,rt){return et==null?et:bu(et,An(rt,3),Lr)}function LT(et,rt){return et==null?et:am(et,An(rt,3),Lr)}function QT(et,rt){return et&&ds(et,An(rt,3))}function BT(et,rt){return et&&xu(et,An(rt,3))}function FT(et){return et==null?[]:wl(et,Or(et))}function jT(et){return et==null?[]:wl(et,Lr(et))}function _h(et,rt,at){var mt=et==null?a:Xs(et,rt);return mt===a?at:mt}function UT(et,rt){return et!=null&&Hm(et,rt,cE)}function _d(et,rt){return et!=null&&Hm(et,rt,hE)}var GT=$m(function(et,rt,at){rt!=null&&typeof rt.toString!="function"&&(rt=na.call(rt)),et[rt]=at},ep(Qr)),HT=$m(function(et,rt,at){rt!=null&&typeof rt.toString!="function"&&(rt=na.call(rt)),zn.call(et,rt)?et[rt].push(at):et[rt]=[at]},An),VT=Ln($o);function Or(et){return $r(et)?Jp(et):wu(et)}function Lr(et){return $r(et)?Jp(et,!0):TE(et)}function zT(et,rt){var at={};return rt=An(rt,3),ds(et,function(mt,yt,At){ys(at,rt(mt,yt,At),mt)}),at}function WT(et,rt){var at={};return rt=An(rt,3),ds(et,function(mt,yt,At){ys(at,yt,rt(mt,yt,At))}),at}var ZT=po(function(et,rt,at){Cl(et,rt,at)}),_0=po(function(et,rt,at,mt){Cl(et,rt,at,mt)}),XT=bs(function(et,rt){var at={};if(et==null)return at;var mt=!1;rt=nr(rt,function(At){return At=Ns(At,et),mt||(mt=At.length>1),At}),fs(et,ju(et),at),mt&&(at=ts(at,it|st|ot,UE));for(var yt=rt.length;yt--;)Du(at,rt[yt]);return at});function YT(et,rt){return v0(et,Vl(An(rt)))}var qT=bs(function(et,rt){return et==null?{}:xE(et,rt)});function v0(et,rt){if(et==null)return{};var at=nr(ju(et),function(mt){return[mt]});return rt=An(rt),Om(et,at,function(mt,yt){return rt(mt,yt[0])})}function KT(et,rt,at){rt=Ns(rt,et);var mt=-1,yt=rt.length;for(yt||(yt=1,et=a);++mt<yt;){var At=et==null?a:et[ps(rt[mt])];At===a&&(mt=yt,At=at),et=_s(At)?At.call(et):At}return et}function JT(et,rt,at){return et==null?et:Qo(et,rt,at)}function _b(et,rt,at,mt){return mt=typeof mt=="function"?mt:a,et==null?et:Qo(et,rt,at,mt)}var A0=Bm(Or),w0=Bm(Lr);function ex(et,rt,at){var mt=Rn(et),yt=mt||$s(et)||Oo(et);if(rt=An(rt,4),at==null){var At=et&&et.constructor;yt?at=mt?new At:[]:rr(et)?at=_s(At)?fo(xa(et)):{}:at={}}return(yt?Jr:ds)(et,function(Rt,Mt,Gt){return rt(at,Rt,Mt,Gt)}),at}function tx(et,rt){return et==null?!0:Du(et,rt)}function nx(et,rt,at){return et==null?et:bm(et,rt,$u(at))}function rx(et,rt,at,mt){return mt=typeof mt=="function"?mt:a,et==null?et:bm(et,rt,$u(at),mt)}function Eo(et){return et==null?[]:pu(et,Or(et))}function ix(et){return et==null?[]:pu(et,Lr(et))}function sx(et,rt,at){return at===a&&(at=rt,rt=a),at!==a&&(at=is(at),at=at===at?at:0),rt!==a&&(rt=is(rt),rt=rt===rt?rt:0),Zs(is(et),rt,at)}function ox(et,rt,at){return rt=vs(rt),at===a?(at=rt,rt=0):at=vs(at),et=is(et),dE(et,rt,at)}function ax(et,rt,at){if(at&&typeof at!="boolean"&&Rr(et,rt,at)&&(rt=at=a),at===a&&(typeof rt=="boolean"?(at=rt,rt=a):typeof et=="boolean"&&(at=et,et=a)),et===a&&rt===a?(et=0,rt=1):(et=vs(et),rt===a?(rt=et,et=0):rt=vs(rt)),et>rt){var mt=et;et=rt,rt=mt}if(at||et%1||rt%1){var yt=qp();return xr(et+yt*(rt-et+BO("1e-"+((yt+"").length-1))),rt)}return Pu(et,rt)}var lx=mo(function(et,rt,at){return rt=rt.toLowerCase(),et+(at?C0(rt):rt)});function C0(et){return _f(Hn(et).toLowerCase())}function k0(et){return et=Hn(et),et&&et.replace(cO,KO).replace(kO,"")}function ux(et,rt,at){et=Hn(et),rt=Hr(rt);var mt=et.length;at=at===a?mt:Zs(Nn(at),0,mt);var yt=at;return at-=rt.length,at>=0&&et.slice(at,yt)==rt}function hx(et){return et=Hn(et),et&&Yl.test(et)?et.replace(jr,JO):et}function dx(et){return et=Hn(et),et&&Y0.test(et)?et.replace(Kl,"\\$&"):et}var fx=mo(function(et,rt,at){return et+(at?"-":"")+rt.toLowerCase()}),mx=mo(function(et,rt,at){return et+(at?" ":"")+rt.toLowerCase()}),gx=Dm("toLowerCase");function Ox(et,rt,at){et=Hn(et),rt=Nn(rt);var mt=rt?ao(et):0;if(!rt||mt>=rt)return et;var yt=(rt-mt)/2;return Ml(Sl(yt),at)+et+Ml(El(yt),at)}function Ex(et,rt,at){et=Hn(et),rt=Nn(rt);var mt=rt?ao(et):0;return rt&&mt<rt?et+Ml(rt-mt,at):et}function Sx(et,rt,at){et=Hn(et),rt=Nn(rt);var mt=rt?ao(et):0;return rt&&mt<rt?Ml(rt-mt,at)+et:et}function yx(et,rt,at){return at||rt==null?rt=0:rt&&(rt=+rt),v1(Hn(et).replace(Jl,""),rt||0)}function Tx(et,rt,at){return(at?Rr(et,rt,at):rt===a)?rt=1:rt=Nn(rt),Ru(Hn(et),rt)}function bx(){var et=arguments,rt=Hn(et[0]);return et.length<3?rt:rt.replace(et[1],et[2])}var xx=mo(function(et,rt,at){return et+(at?"_":"")+rt.toLowerCase()});function _x(et,rt,at){return at&&typeof at!="number"&&Rr(et,rt,at)&&(rt=at=a),at=at===a?fn:at>>>0,at?(et=Hn(et),et&&(typeof rt=="string"||rt!=null&&!_c(rt))&&(rt=Hr(rt),!rt&&oo(et))?Ms(os(et),0,at):et.split(rt,at)):[]}var vx=mo(function(et,rt,at){return et+(at?" ":"")+_f(rt)});function Ax(et,rt,at){return et=Hn(et),at=at==null?0:Zs(Nn(at),0,et.length),rt=Hr(rt),et.slice(at,at+rt.length)==rt}function wx(et,rt,at){var mt=xt.templateSettings;at&&Rr(et,rt,at)&&(rt=a),et=Hn(et),rt=Zl({},rt,mt,Fm);var yt=Zl({},rt.imports,mt.imports,Fm),At=Or(yt),Rt=pu(yt,At),Mt,Gt,an=0,ln=rt.interpolate||Vo,gn="__p += '",yn=gu((rt.escape||Vo).source+"|"+ln.source+"|"+(ln===ap?iO:Vo).source+"|"+(rt.evaluate||Vo).source+"|$","g"),_n="//# sourceURL="+(zn.call(rt,"sourceURL")?(rt.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++NO+"]")+`
`;et.replace(yn,function(kn,Qn,jn,zr,Ir,Wr){return jn||(jn=zr),gn+=et.slice(an,Wr).replace(hO,e1),Qn&&(Mt=!0,gn+=`' +
__e(`+Qn+`) +
'`),Ir&&(Gt=!0,gn+=`';
`+Ir+`;
__p += '`),jn&&(gn+=`' +
((__t = (`+jn+`)) == null ? '' : __t) +
'`),an=Wr+kn.length,kn}),gn+=`';
`;var Cn=zn.call(rt,"variable")&&rt.variable;if(!Cn)gn=`with (obj) {
`+gn+`
}
`;else if(nO.test(Cn))throw new Pn(_);gn=(Gt?gn.replace(vn,""):gn).replace(Xn,"$1").replace(Zn,"$1;"),gn="function("+(Cn||"obj")+`) {
`+(Cn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Mt?", __e = _.escape":"")+(Gt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+gn+`return __p
}`;var Mn=R0(function(){return Un(At,_n+"return "+gn).apply(a,Rt)});if(Mn.source=gn,Ju(Mn))throw Mn;return Mn}function Cx(et){return Hn(et).toLowerCase()}function kx(et){return Hn(et).toUpperCase()}function Px(et,rt,at){if(et=Hn(et),et&&(at||rt===a))return Fp(et);if(!et||!(rt=Hr(rt)))return et;var mt=os(et),yt=os(rt),At=jp(mt,yt),Rt=Up(mt,yt)+1;return Ms(mt,At,Rt).join("")}function Rx(et,rt,at){if(et=Hn(et),et&&(at||rt===a))return et.slice(0,Hp(et)+1);if(!et||!(rt=Hr(rt)))return et;var mt=os(et),yt=Up(mt,os(rt))+1;return Ms(mt,0,yt).join("")}function Ix(et,rt,at){if(et=Hn(et),et&&(at||rt===a))return et.replace(Jl,"");if(!et||!(rt=Hr(rt)))return et;var mt=os(et),yt=jp(mt,os(rt));return Ms(mt,yt).join("")}function Dx(et,rt){var at=jt,mt=tn;if(rr(rt)){var yt="separator"in rt?rt.separator:yt;at="length"in rt?Nn(rt.length):at,mt="omission"in rt?Hr(rt.omission):mt}et=Hn(et);var At=et.length;if(oo(et)){var Rt=os(et);At=Rt.length}if(at>=At)return et;var Mt=at-ao(mt);if(Mt<1)return mt;var Gt=Rt?Ms(Rt,0,Mt).join(""):et.slice(0,Mt);if(yt===a)return Gt+mt;if(Rt&&(Mt+=Gt.length-Mt),_c(yt)){if(et.slice(Mt).search(yt)){var an,ln=Gt;for(yt.global||(yt=gu(yt.source,Hn(lp.exec(yt))+"g")),yt.lastIndex=0;an=yt.exec(ln);)var gn=an.index;Gt=Gt.slice(0,gn===a?Mt:gn)}}else if(et.indexOf(Hr(yt),Mt)!=Mt){var yn=Gt.lastIndexOf(yt);yn>-1&&(Gt=Gt.slice(0,yn))}return Gt+mt}function Nx(et){return et=Hn(et),et&&ro.test(et)?et.replace(Fr,a1):et}var Mx=mo(function(et,rt,at){return et+(at?" ":"")+rt.toUpperCase()}),_f=Dm("toUpperCase");function P0(et,rt,at){return et=Hn(et),rt=at?a:rt,rt===a?n1(et)?c1(et):WO(et):et.match(rt)||[]}var R0=Ln(function(et,rt){try{return Ur(et,a,rt)}catch(at){return Ju(at)?at:new Pn(at)}}),$x=bs(function(et,rt){return Jr(rt,function(at){at=ps(at),ys(et,at,qu(et[at],et))}),et});function Lx(et){var rt=et==null?0:et.length,at=An();return et=rt?nr(et,function(mt){if(typeof mt[1]!="function")throw new _i(b);return[at(mt[0]),mt[1]]}):[],Ln(function(mt){for(var yt=-1;++yt<rt;){var At=et[yt];if(Ur(At[0],this,mt))return Ur(At[1],this,mt)}})}function Qx(et){return aE(ts(et,it))}function ep(et){return function(){return et}}function Bx(et,rt){return et==null||et!==et?rt:et}var Fx=Mm(),jx=Mm(!0);function Qr(et){return et}function tp(et){return hm(typeof et=="function"?et:ts(et,it))}function Ux(et){return fm(ts(et,it))}function Gx(et,rt){return pm(et,ts(rt,it))}var Hx=Ln(function(et,rt){return function(at){return $o(at,et,rt)}}),Vx=Ln(function(et,rt){return function(at){return $o(et,at,rt)}});function np(et,rt,at){var mt=Or(rt),yt=wl(rt,mt);at==null&&!(rr(rt)&&(yt.length||!mt.length))&&(at=rt,rt=et,et=this,yt=wl(rt,Or(rt)));var At=!(rr(at)&&"chain"in at)||!!at.chain,Rt=_s(et);return Jr(yt,function(Mt){var Gt=rt[Mt];et[Mt]=Gt,Rt&&(et.prototype[Mt]=function(){var an=this.__chain__;if(At||an){var ln=et(this.__wrapped__),gn=ln.__actions__=Mr(this.__actions__);return gn.push({func:Gt,args:arguments,thisArg:et}),ln.__chain__=an,ln}return Gt.apply(et,ks([this.value()],arguments))})}),et}function zx(){return Tr._===this&&(Tr._=g1),this}function rp(){}function Wx(et){return et=Nn(et),Ln(function(rt){return mm(rt,et)})}var Zx=Qu(nr),Xx=Qu(Mp),Yx=Qu(uu);function I0(et){return Vu(et)?cu(ps(et)):_E(et)}function qx(et){return function(rt){return et==null?a:Xs(et,rt)}}var Kx=Lm(),Jx=Lm(!0);function ip(){return[]}function sp(){return!1}function e_(){return{}}function t_(){return""}function n_(){return!0}function r_(et,rt){if(et=Nn(et),et<1||et>zt)return[];var at=fn,mt=xr(et,fn);rt=An(rt),et-=fn;for(var yt=fu(mt,rt);++at<et;)rt(at);return yt}function i_(et){return Rn(et)?nr(et,ps):Vr(et)?[et]:Mr(Jm(Hn(et)))}function s_(et){var rt=++p1;return Hn(et)+rt}var o_=Nl(function(et,rt){return et+rt},0),a_=Bu("ceil"),l_=Nl(function(et,rt){return et/rt},1),u_=Bu("floor");function c_(et){return et&&et.length?Al(et,Qr,_u):a}function h_(et,rt){return et&&et.length?Al(et,An(rt,2),_u):a}function d_(et){return Qp(et,Qr)}function f_(et,rt){return Qp(et,An(rt,2))}function p_(et){return et&&et.length?Al(et,Qr,Cu):a}function m_(et,rt){return et&&et.length?Al(et,An(rt,2),Cu):a}var g_=Nl(function(et,rt){return et*rt},1),O_=Bu("round"),E_=Nl(function(et,rt){return et-rt},0);function S_(et){return et&&et.length?du(et,Qr):0}function y_(et,rt){return et&&et.length?du(et,An(rt,2)):0}return xt.after=jy,xt.ary=u0,xt.assign=CT,xt.assignIn=x0,xt.assignInWith=Zl,xt.assignWith=kT,xt.at=PT,xt.before=c0,xt.bind=qu,xt.bindAll=$x,xt.bindKey=h0,xt.castArray=Jy,xt.chain=o0,xt.chunk=aS,xt.compact=lS,xt.concat=uS,xt.cond=Lx,xt.conforms=Qx,xt.constant=ep,xt.countBy=Ey,xt.create=RT,xt.curry=d0,xt.curryRight=f0,xt.debounce=p0,xt.defaults=IT,xt.defaultsDeep=DT,xt.defer=Uy,xt.delay=Gy,xt.difference=cS,xt.differenceBy=hS,xt.differenceWith=dS,xt.drop=fS,xt.dropRight=pS,xt.dropRightWhile=mS,xt.dropWhile=gS,xt.fill=OS,xt.filter=yy,xt.flatMap=xy,xt.flatMapDeep=_y,xt.flatMapDepth=vy,xt.flatten=n0,xt.flattenDeep=ES,xt.flattenDepth=SS,xt.flip=Hy,xt.flow=Fx,xt.flowRight=jx,xt.fromPairs=yS,xt.functions=FT,xt.functionsIn=jT,xt.groupBy=Ay,xt.initial=bS,xt.intersection=xS,xt.intersectionBy=_S,xt.intersectionWith=vS,xt.invert=GT,xt.invertBy=HT,xt.invokeMap=Cy,xt.iteratee=tp,xt.keyBy=ky,xt.keys=Or,xt.keysIn=Lr,xt.map=Ul,xt.mapKeys=zT,xt.mapValues=WT,xt.matches=Ux,xt.matchesProperty=Gx,xt.memoize=Hl,xt.merge=ZT,xt.mergeWith=_0,xt.method=Hx,xt.methodOf=Vx,xt.mixin=np,xt.negate=Vl,xt.nthArg=Wx,xt.omit=XT,xt.omitBy=YT,xt.once=Vy,xt.orderBy=Py,xt.over=Zx,xt.overArgs=zy,xt.overEvery=Xx,xt.overSome=Yx,xt.partial=Ku,xt.partialRight=m0,xt.partition=Ry,xt.pick=qT,xt.pickBy=v0,xt.property=I0,xt.propertyOf=qx,xt.pull=kS,xt.pullAll=i0,xt.pullAllBy=PS,xt.pullAllWith=RS,xt.pullAt=IS,xt.range=Kx,xt.rangeRight=Jx,xt.rearg=Wy,xt.reject=Ny,xt.remove=DS,xt.rest=Zy,xt.reverse=Xu,xt.sampleSize=$y,xt.set=JT,xt.setWith=_b,xt.shuffle=Ly,xt.slice=MS,xt.sortBy=Fy,xt.sortedUniq=US,xt.sortedUniqBy=GS,xt.split=_x,xt.spread=Xy,xt.tail=HS,xt.take=VS,xt.takeRight=zS,xt.takeRightWhile=WS,xt.takeWhile=ZS,xt.tap=uy,xt.throttle=Yy,xt.thru=Fl,xt.toArray=y0,xt.toPairs=A0,xt.toPairsIn=w0,xt.toPath=i_,xt.toPlainObject=b0,xt.transform=ex,xt.unary=qy,xt.union=XS,xt.unionBy=YS,xt.unionWith=qS,xt.uniq=KS,xt.uniqBy=JS,xt.uniqWith=ey,xt.unset=tx,xt.unzip=Yu,xt.unzipWith=s0,xt.update=nx,xt.updateWith=rx,xt.values=Eo,xt.valuesIn=ix,xt.without=ty,xt.words=P0,xt.wrap=Ky,xt.xor=ny,xt.xorBy=ry,xt.xorWith=iy,xt.zip=sy,xt.zipObject=oy,xt.zipObjectDeep=ay,xt.zipWith=ly,xt.entries=A0,xt.entriesIn=w0,xt.extend=x0,xt.extendWith=Zl,np(xt,xt),xt.add=o_,xt.attempt=R0,xt.camelCase=lx,xt.capitalize=C0,xt.ceil=a_,xt.clamp=sx,xt.clone=eT,xt.cloneDeep=nT,xt.cloneDeepWith=rT,xt.cloneWith=tT,xt.conformsTo=iT,xt.deburr=k0,xt.defaultTo=Bx,xt.divide=l_,xt.endsWith=ux,xt.eq=ls,xt.escape=hx,xt.escapeRegExp=dx,xt.every=Sy,xt.find=Ty,xt.findIndex=e0,xt.findKey=NT,xt.findLast=by,xt.findLastIndex=t0,xt.findLastKey=MT,xt.floor=u_,xt.forEach=a0,xt.forEachRight=l0,xt.forIn=$T,xt.forInRight=LT,xt.forOwn=QT,xt.forOwnRight=BT,xt.get=_h,xt.gt=sT,xt.gte=oT,xt.has=UT,xt.hasIn=_d,xt.head=r0,xt.identity=Qr,xt.includes=wy,xt.indexOf=TS,xt.inRange=ox,xt.invoke=VT,xt.isArguments=Ks,xt.isArray=Rn,xt.isArrayBuffer=aT,xt.isArrayLike=$r,xt.isArrayLikeObject=ur,xt.isBoolean=lT,xt.isBuffer=$s,xt.isDate=uT,xt.isElement=cT,xt.isEmpty=hT,xt.isEqual=dT,xt.isEqualWith=fT,xt.isError=Ju,xt.isFinite=pT,xt.isFunction=_s,xt.isInteger=g0,xt.isLength=zl,xt.isMap=O0,xt.isMatch=mT,xt.isMatchWith=gT,xt.isNaN=OT,xt.isNative=ET,xt.isNil=yT,xt.isNull=ST,xt.isNumber=E0,xt.isObject=rr,xt.isObjectLike=sr,xt.isPlainObject=Uo,xt.isRegExp=_c,xt.isSafeInteger=TT,xt.isSet=S0,xt.isString=Wl,xt.isSymbol=Vr,xt.isTypedArray=Oo,xt.isUndefined=bT,xt.isWeakMap=xT,xt.isWeakSet=_T,xt.join=AS,xt.kebabCase=fx,xt.last=rs,xt.lastIndexOf=wS,xt.lowerCase=mx,xt.lowerFirst=gx,xt.lt=vT,xt.lte=AT,xt.max=c_,xt.maxBy=h_,xt.mean=d_,xt.meanBy=f_,xt.min=p_,xt.minBy=m_,xt.stubArray=ip,xt.stubFalse=sp,xt.stubObject=e_,xt.stubString=t_,xt.stubTrue=n_,xt.multiply=g_,xt.nth=CS,xt.noConflict=zx,xt.noop=rp,xt.now=Gl,xt.pad=Ox,xt.padEnd=Ex,xt.padStart=Sx,xt.parseInt=yx,xt.random=ax,xt.reduce=Iy,xt.reduceRight=Dy,xt.repeat=Tx,xt.replace=bx,xt.result=KT,xt.round=O_,xt.runInContext=Bt,xt.sample=My,xt.size=Qy,xt.snakeCase=xx,xt.some=By,xt.sortedIndex=$S,xt.sortedIndexBy=LS,xt.sortedIndexOf=QS,xt.sortedLastIndex=BS,xt.sortedLastIndexBy=FS,xt.sortedLastIndexOf=jS,xt.startCase=vx,xt.startsWith=Ax,xt.subtract=E_,xt.sum=S_,xt.sumBy=y_,xt.template=wx,xt.times=r_,xt.toFinite=vs,xt.toInteger=Nn,xt.toLength=T0,xt.toLower=Cx,xt.toNumber=is,xt.toSafeInteger=wT,xt.toString=Hn,xt.toUpper=kx,xt.trim=Px,xt.trimEnd=Rx,xt.trimStart=Ix,xt.truncate=Dx,xt.unescape=Nx,xt.uniqueId=s_,xt.upperCase=Mx,xt.upperFirst=_f,xt.each=a0,xt.eachRight=l0,xt.first=r0,np(xt,function(){var et={};return ds(xt,function(rt,at){zn.call(xt.prototype,at)||(et[at]=rt)}),et}(),{chain:!1}),xt.VERSION=c,Jr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(et){xt[et].placeholder=xt}),Jr(["drop","take"],function(et,rt){Bn.prototype[et]=function(at){at=at===a?1:fr(Nn(at),0);var mt=this.__filtered__&&!rt?new Bn(this):this.clone();return mt.__filtered__?mt.__takeCount__=xr(at,mt.__takeCount__):mt.__views__.push({size:xr(at,fn),type:et+(mt.__dir__<0?"Right":"")}),mt},Bn.prototype[et+"Right"]=function(at){return this.reverse()[et](at).reverse()}}),Jr(["filter","map","takeWhile"],function(et,rt){var at=rt+1,mt=at==mn||at==On;Bn.prototype[et]=function(yt){var At=this.clone();return At.__iteratees__.push({iteratee:An(yt,3),type:at}),At.__filtered__=At.__filtered__||mt,At}}),Jr(["head","last"],function(et,rt){var at="take"+(rt?"Right":"");Bn.prototype[et]=function(){return this[at](1).value()[0]}}),Jr(["initial","tail"],function(et,rt){var at="drop"+(rt?"":"Right");Bn.prototype[et]=function(){return this.__filtered__?new Bn(this):this[at](1)}}),Bn.prototype.compact=function(){return this.filter(Qr)},Bn.prototype.find=function(et){return this.filter(et).head()},Bn.prototype.findLast=function(et){return this.reverse().find(et)},Bn.prototype.invokeMap=Ln(function(et,rt){return typeof et=="function"?new Bn(this):this.map(function(at){return $o(at,et,rt)})}),Bn.prototype.reject=function(et){return this.filter(Vl(An(et)))},Bn.prototype.slice=function(et,rt){et=Nn(et);var at=this;return at.__filtered__&&(et>0||rt<0)?new Bn(at):(et<0?at=at.takeRight(-et):et&&(at=at.drop(et)),rt!==a&&(rt=Nn(rt),at=rt<0?at.dropRight(-rt):at.take(rt-et)),at)},Bn.prototype.takeRightWhile=function(et){return this.reverse().takeWhile(et).reverse()},Bn.prototype.toArray=function(){return this.take(fn)},ds(Bn.prototype,function(et,rt){var at=/^(?:filter|find|map|reject)|While$/.test(rt),mt=/^(?:head|last)$/.test(rt),yt=xt[mt?"take"+(rt=="last"?"Right":""):rt],At=mt||/^find/.test(rt);yt&&(xt.prototype[rt]=function(){var Rt=this.__wrapped__,Mt=mt?[1]:arguments,Gt=Rt instanceof Bn,an=Mt[0],ln=Gt||Rn(Rt),gn=function(Qn){var jn=yt.apply(xt,ks([Qn],Mt));return mt&&yn?jn[0]:jn};ln&&at&&typeof an=="function"&&an.length!=1&&(Gt=ln=!1);var yn=this.__chain__,_n=!!this.__actions__.length,Cn=At&&!yn,Mn=Gt&&!_n;if(!At&&ln){Rt=Mn?Rt:new Bn(this);var kn=et.apply(Rt,Mt);return kn.__actions__.push({func:Fl,args:[gn],thisArg:a}),new es(kn,yn)}return Cn&&Mn?et.apply(this,Mt):(kn=this.thru(gn),Cn?mt?kn.value()[0]:kn.value():kn)})}),Jr(["pop","push","shift","sort","splice","unshift"],function(et){var rt=qo[et],at=/^(?:push|sort|unshift)$/.test(et)?"tap":"thru",mt=/^(?:pop|shift)$/.test(et);xt.prototype[et]=function(){var yt=arguments;if(mt&&!this.__chain__){var At=this.value();return rt.apply(Rn(At)?At:[],yt)}return this[at](function(Rt){return rt.apply(Rn(Rt)?Rt:[],yt)})}}),ds(Bn.prototype,function(et,rt){var at=xt[rt];if(at){var mt=at.name+"";zn.call(ho,mt)||(ho[mt]=[]),ho[mt].push({name:rt,func:at})}}),ho[Dl(a,pt).name]=[{name:"wrapper",func:a}],Bn.prototype.clone=I1,Bn.prototype.reverse=D1,Bn.prototype.value=N1,xt.prototype.at=cy,xt.prototype.chain=hy,xt.prototype.commit=dy,xt.prototype.next=fy,xt.prototype.plant=my,xt.prototype.reverse=gy,xt.prototype.toJSON=xt.prototype.valueOf=xt.prototype.value=Oy,xt.prototype.first=xt.prototype.head,ko&&(xt.prototype[ko]=py),xt},lo=h1();Hs?((Hs.exports=lo)._=lo,su._=lo):Tr._=lo}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;const supabase=createClient(supabaseUrl,supabaseKey);function NoteTakingApp(){const[o,e]=reactExports.useState(""),[a,c]=reactExports.useState(14),[d,g]=reactExports.useState(100),[b,_]=reactExports.useState(!1),[_e,tt]=reactExports.useState(!1),[nt,it]=reactExports.useState(0),[st,ot]=reactExports.useState(!1),[ht,dt]=reactExports.useState(""),[Et,pt]=reactExports.useState(!1),[gt,St]=reactExports.useState(!0),[Tt,bt]=reactExports.useState(!1),[vt,kt]=reactExports.useState({name:"",prompt:""}),Nt=reactExports.useRef(null),en=reactExports.useRef(null),jt=reactExports.useRef(null),tn=useNavigate(),Yt=useLocation(),[pn,mn]=reactExports.useState([]),[dn,On]=reactExports.useState(-1),[hn,zt]=reactExports.useState([]),[nn,wt]=reactExports.useState(()=>{const Lt=localStorage.getItem("aiActions");return Lt?JSON.parse(Lt):[{name:"Ask",prompt:"response me in concise and cool way now:"},{name:"Correct",prompt:"correct the text , just only give me corrected text"},{name:"Translate",prompt:"translate text to English and Japanese:"}]}),[fn,Sn]=reactExports.useState(!1),[Pt,wn]=reactExports.useState(!0);reactExports.useEffect(()=>{localStorage.setItem("aiActions",JSON.stringify(nn))},[nn]);const In=Lt=>{const sn=v4(),En=setTimeout(()=>xn(sn),5e3);zt(bn=>[...bn,{id:sn,message:Lt,timeoutId:En}])},xn=Lt=>{zt(sn=>sn.filter(En=>En.id!==Lt))},Wn=Lt=>{zt(sn=>sn.map(bn=>bn.id===Lt?(clearTimeout(bn.timeoutId),{...bn,timeoutId:null}):bn))},Gn=()=>{if(jt.current){const{state:Lt}=jt.current,sn=Lt.selection.main;if(sn.from!==sn.to)return Lt.sliceDoc(sn.from,sn.to);{const En=Lt.doc.toString(),bn=sn.from,tr=En.substring(0,bn).lastIndexOf(`


`),lr=tr!==-1?tr+3:0,yr=En.substring(bn).indexOf(`


`),kr=yr!==-1?bn+yr:En.length;return En.substring(lr,kr).trim()}}return""},Fn=async(Lt,sn)=>{const En=`${Lt}

${sn}`;try{const Dn=await(await fetch("https://simpleai.devilent2.workers.dev",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({q:En})})).text(),lr=new Date().toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),hr=jt.current.state.selection.main.to,yr=jt.current.state.doc.lineAt(hr).to;jt.current.dispatch({changes:{from:yr,insert:`
### AI Response (${lr}):
${Dn}
`},selection:{anchor:yr+1}}),In(`AI request sent for the current block.

Full Prompt:
${En}`)}catch(bn){console.error("Error sending AI request:",bn)}},ir=()=>{if(vt.name&&vt.prompt){const Lt=nn.findIndex(sn=>sn.name===vt.name);if(Lt!==-1){const sn=[...nn];sn[Lt]=vt,wt(sn),In(`Prompt updated: ${vt.name}`)}else wt([...nn,vt]),In(`New prompt added: ${vt.name}`);bt(!1)}else alert("Please provide both a name and a prompt.")},pr=reactExports.useCallback(Lt=>{var sn;if(Lt.ctrlKey&&Lt.key==="Enter"&&(Lt.preventDefault(),jt.current)){jt.current.focus();const En=Gn();if(En){const bn=((sn=nn.find(Dn=>Dn.name==="Ask"))==null?void 0:sn.prompt)||"Be concise:";Fn(bn,En)}}},[jt,Fn,Gn,nn]);reactExports.useEffect(()=>(window.addEventListener("keydown",pr),()=>window.removeEventListener("keydown",pr)),[pr]);const mr=reactExports.useCallback(lodashExports.debounce(async Lt=>{if(ht){wn(!1);try{const{error:sn}=await supabase.from("notes").upsert({id:ht,content:Lt,last_updated:new Date().toISOString()});if(sn)throw sn;console.log("Note saved successfully"),wn(!0),setTimeout(()=>wn(!1),3e3)}catch(sn){console.error("Error saving note:",sn),wn(!1)}}},5e3),[ht]),Nr=reactExports.useCallback((Lt,sn)=>{e(Lt),it(Lt.trim().split(/\s+/).length),mr(Lt),jt.current=sn.view,mn(En=>[...En.slice(0,dn+1),Lt]),On(En=>En+1)},[ht,dn,mr]),ar=()=>{dn>0&&(On(Lt=>Lt-1),e(pn[dn-1]))},wr=()=>{dn<pn.length-1&&(On(Lt=>Lt+1),e(pn[dn+1]))},Cr=()=>{var Lt;(Lt=Nt.current)==null||Lt.click()},gr=Lt=>{var En;const sn=(En=Lt.target.files)==null?void 0:En[0];if(sn){const bn=new FileReader;bn.onload=Dn=>{var lr;const tr=(lr=Dn.target)==null?void 0:lr.result;e(tr),mr(tr)},bn.readAsText(sn)}},hs=()=>{const Lt=document.createElement("a"),sn=new Blob([o],{type:"text/plain"});Lt.href=URL.createObjectURL(sn),Lt.download=`note-${ht}.txt`,document.body.appendChild(Lt),Lt.click(),document.body.removeChild(Lt)},er=()=>{var Lt;document.fullscreenElement?(document.exitFullscreen(),ot(!1)):((Lt=en.current)==null||Lt.requestFullscreen(),ot(!0))},Er=()=>{const Lt=`${window.location.origin}?id=${ht}`;navigator.clipboard.writeText(Lt),Jt.success("Share URL copied to clipboard!")},Sr=async Lt=>{dt(Lt),pt(!1),await Xr(Lt),tn(`?id=${Lt}`,{replace:!0})},Xr=async Lt=>{try{const{data:sn,error:En}=await supabase.from("notes").select("content").eq("id",Lt).single();if(En&&En.code!=="PGRST116")throw En;sn?(e(sn.content),it(sn.content.trim().split(/\s+/).length),mn([sn.content]),On(0)):(e(""),it(0),mn([]),On(-1))}catch(sn){console.error("Error fetching note:",sn),e(""),it(0),mn([]),On(-1)}};reactExports.useEffect(()=>{(async()=>{let En=new URLSearchParams(Yt.search).get("id");En||(En=localStorage.getItem("noteId")||v4(),tn(`?id=${En}`,{replace:!0})),dt(En),await Xr(En),localStorage.setItem("noteId",En)})()},[Yt,tn]);const Br=()=>{kt({name:"",prompt:""}),bt(!0)},Gs=Lt=>{kt(Lt),bt(!0)},Yr=()=>{const Lt=`${window.location.origin}?id=${ht}`;navigator.clipboard.writeText(Lt),Jt.success("URL copied to clipboard!")};return jsxRuntimeExports.jsxs("div",{ref:en,className:`min-h-screen ${_e?"dark":""}`,children:[jsxRuntimeExports.jsxs("div",{className:`fixed top-0 left-0 w-screen h-screen flex flex-col ${_e?"bg-gray-900 text-white":"bg-white text-black"}`,style:{fontSize:`${a}px`,zoom:`${d}%`},children:[jsxRuntimeExports.jsxs("div",{className:"flex-shrink-0 relative",children:[jsxRuntimeExports.jsx(NoteControls,{openFile:Cr,downloadFile:hs,saveNote:()=>mr(o),shareNote:Er,renderMarkdown:b,setRenderMarkdown:_,showLineNumbers:gt,setShowLineNumbers:St,uiScale:d,setUiScale:g,fontSize:a,setFontSize:c,darkMode:_e,setDarkMode:tt,toggleFullscreen:er,setIsSettingsOpen:pt,aiActions:nn,sendAIRequest:Fn,handleEditPrompt:Gs,handleAddPrompt:Br,isPromptEditOpen:Tt,setIsPromptEditOpen:bt,currentPrompt:vt,setCurrentPrompt:kt,handleUndo:ar,handleRedo:wr,getSelectedText:Gn,addNotification:In,setIsHelpOpen:Sn}),Pt&&jsxRuntimeExports.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded text-xs",children:"Synced"})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-auto",children:jsxRuntimeExports.jsx(NoteEditor,{content:o,renderMarkdown:b,darkMode:_e,fontSize:a,showLineNumbers:gt,handleChange:Nr,editorRef:jt})}),jsxRuntimeExports.jsxs("div",{className:"flex-shrink-0 p-2 bg-gray-100 dark:bg-gray-800 text-sm flex justify-between items-center",children:[jsxRuntimeExports.jsxs("span",{children:["Word count: ",nt]}),jsxRuntimeExports.jsx("button",{onClick:Yr,className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:`${window.location.origin}?id=${ht}`})]}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-16 right-4 z-50 space-y-2 max-w-[500px]",children:hn.map(Lt=>jsxRuntimeExports.jsx(Notification,{id:Lt.id,message:Lt.message,onClose:xn,onClick:()=>Wn(Lt.id)},Lt.id))})]}),jsxRuntimeExports.jsx("input",{type:"file",ref:Nt,onChange:gr,style:{display:"none"},accept:".txt,.md"}),jsxRuntimeExports.jsx(Dialog,{open:Et,onOpenChange:pt,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Set Note ID"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Enter note ID",value:ht,onChange:Lt=>dt(Lt.target.value)}),jsxRuntimeExports.jsx(Button,{onClick:()=>Sr(ht),children:"Set ID"})]})]})}),jsxRuntimeExports.jsx(Dialog,{open:Tt,onOpenChange:bt,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:vt.name?"Edit AI Prompt":"Add New AI Prompt"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"prompt-name",children:"Name"}),jsxRuntimeExports.jsx(Input,{id:"prompt-name",value:vt.name,onChange:Lt=>kt({...vt,name:Lt.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"prompt-content",children:"Prompt"}),jsxRuntimeExports.jsx(Input,{id:"prompt-content",value:vt.prompt,onChange:Lt=>kt({...vt,prompt:Lt.target.value})})]}),jsxRuntimeExports.jsx(Button,{onClick:ir,children:"Save Prompt"})]})]})}),jsxRuntimeExports.jsx(HelpDialog,{isOpen:fn,setIsOpen:Sn})]})}var P=["light","dark"],E="(prefers-color-scheme: dark)",L=reactExports.createContext(void 0),D={setTheme:o=>{},themes:[]},j=()=>{var o;return(o=reactExports.useContext(L))!=null?o:D};reactExports.memo(({forcedTheme:o,storageKey:e,attribute:a,enableSystem:c,enableColorScheme:d,defaultTheme:g,value:b,attrs:_,nonce:_e})=>{let tt=g==="system",nt=a==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${_.map(ht=>`'${ht}'`).join(",")})`};`:`var d=document.documentElement,n='${a}',s='setAttribute';`,it=d?P.includes(g)&&g?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${g}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",st=(ht,dt=!1,Et=!0)=>{let pt=b?b[ht]:ht,gt=dt?ht+"|| ''":`'${pt}'`,St="";return d&&Et&&!dt&&P.includes(ht)&&(St+=`d.style.colorScheme = '${ht}';`),a==="class"?dt||pt?St+=`c.add(${gt})`:St+="null":pt&&(St+=`d[s](n,${gt})`),St},ot=o?`!function(){${nt}${st(o)}}()`:c?`!function(){try{${nt}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${tt})){var t='${E}',m=window.matchMedia(t);if(m.media!==t||m.matches){${st("dark")}}else{${st("light")}}}else if(e){${b?`var x=${JSON.stringify(b)};`:""}${st(b?"x[e]":"e",!0)}}${tt?"":"else{"+st(g,!1,!1)+"}"}${it}}catch(e){}}()`:`!function(){try{${nt}var e=localStorage.getItem('${e}');if(e){${b?`var x=${JSON.stringify(b)};`:""}${st(b?"x[e]":"e",!0)}}else{${st(g,!1,!1)};}${it}}catch(t){}}();`;return reactExports.createElement("script",{nonce:_e,dangerouslySetInnerHTML:{__html:ot}})});const Toaster=({...o})=>{const{theme:e="system"}=j();return jsxRuntimeExports.jsx(Te,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...o})};var NAME="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((o,e)=>jsxRuntimeExports.jsx(Primitive.span,{...o,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...o.style}}));VisuallyHidden.displayName=NAME;var Root=VisuallyHidden,[createTooltipContext,createTooltipScope]=createContextScope("Tooltip",[createPopperScope]),usePopperScope=createPopperScope(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider$1=o=>{const{__scopeTooltip:e,delayDuration:a=DEFAULT_DELAY_DURATION,skipDelayDuration:c=300,disableHoverableContent:d=!1,children:g}=o,[b,_]=reactExports.useState(!0),_e=reactExports.useRef(!1),tt=reactExports.useRef(0);return reactExports.useEffect(()=>{const nt=tt.current;return()=>window.clearTimeout(nt)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:e,isOpenDelayed:b,delayDuration:a,onOpen:reactExports.useCallback(()=>{window.clearTimeout(tt.current),_(!1)},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(tt.current),tt.current=window.setTimeout(()=>_(!0),c)},[c]),isPointerInTransitRef:_e,onPointerInTransitChange:reactExports.useCallback(nt=>{_e.current=nt},[]),disableHoverableContent:d,children:g})};TooltipProvider$1.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),TRIGGER_NAME="TooltipTrigger",TooltipTrigger=reactExports.forwardRef((o,e)=>{const{__scopeTooltip:a,...c}=o,d=useTooltipContext(TRIGGER_NAME,a),g=useTooltipProviderContext(TRIGGER_NAME,a),b=usePopperScope(a),_=reactExports.useRef(null),_e=useComposedRefs(e,_,d.onTriggerChange),tt=reactExports.useRef(!1),nt=reactExports.useRef(!1),it=reactExports.useCallback(()=>tt.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",it),[it]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...b,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":d.open?d.contentId:void 0,"data-state":d.stateAttribute,...c,ref:_e,onPointerMove:composeEventHandlers(o.onPointerMove,st=>{st.pointerType!=="touch"&&!nt.current&&!g.isPointerInTransitRef.current&&(d.onTriggerEnter(),nt.current=!0)}),onPointerLeave:composeEventHandlers(o.onPointerLeave,()=>{d.onTriggerLeave(),nt.current=!1}),onPointerDown:composeEventHandlers(o.onPointerDown,()=>{tt.current=!0,document.addEventListener("pointerup",it,{once:!0})}),onFocus:composeEventHandlers(o.onFocus,()=>{tt.current||d.onOpen()}),onBlur:composeEventHandlers(o.onBlur,d.onClose),onClick:composeEventHandlers(o.onClick,d.onClose)})})});TooltipTrigger.displayName=TRIGGER_NAME;var PORTAL_NAME="TooltipPortal",[PortalProvider,usePortalContext]=createTooltipContext(PORTAL_NAME,{forceMount:void 0}),CONTENT_NAME="TooltipContent",TooltipContent$1=reactExports.forwardRef((o,e)=>{const a=usePortalContext(CONTENT_NAME,o.__scopeTooltip),{forceMount:c=a.forceMount,side:d="top",...g}=o,b=useTooltipContext(CONTENT_NAME,o.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:c||b.open,children:b.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:d,...g,ref:e}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:d,...g,ref:e})})}),TooltipContentHoverable=reactExports.forwardRef((o,e)=>{const a=useTooltipContext(CONTENT_NAME,o.__scopeTooltip),c=useTooltipProviderContext(CONTENT_NAME,o.__scopeTooltip),d=reactExports.useRef(null),g=useComposedRefs(e,d),[b,_]=reactExports.useState(null),{trigger:_e,onClose:tt}=a,nt=d.current,{onPointerInTransitChange:it}=c,st=reactExports.useCallback(()=>{_(null),it(!1)},[it]),ot=reactExports.useCallback((ht,dt)=>{const Et=ht.currentTarget,pt={x:ht.clientX,y:ht.clientY},gt=getExitSideFromRect(pt,Et.getBoundingClientRect()),St=getPaddedExitPoints(pt,gt),Tt=getPointsFromRect(dt.getBoundingClientRect()),bt=getHull([...St,...Tt]);_(bt),it(!0)},[it]);return reactExports.useEffect(()=>()=>st(),[st]),reactExports.useEffect(()=>{if(_e&&nt){const ht=Et=>ot(Et,nt),dt=Et=>ot(Et,_e);return _e.addEventListener("pointerleave",ht),nt.addEventListener("pointerleave",dt),()=>{_e.removeEventListener("pointerleave",ht),nt.removeEventListener("pointerleave",dt)}}},[_e,nt,ot,st]),reactExports.useEffect(()=>{if(b){const ht=dt=>{const Et=dt.target,pt={x:dt.clientX,y:dt.clientY},gt=(_e==null?void 0:_e.contains(Et))||(nt==null?void 0:nt.contains(Et)),St=!isPointInPolygon(pt,b);gt?st():St&&(st(),tt())};return document.addEventListener("pointermove",ht),()=>document.removeEventListener("pointermove",ht)}},[_e,nt,b,tt,st]),jsxRuntimeExports.jsx(TooltipContentImpl,{...o,ref:g})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),TooltipContentImpl=reactExports.forwardRef((o,e)=>{const{__scopeTooltip:a,children:c,"aria-label":d,onEscapeKeyDown:g,onPointerDownOutside:b,..._}=o,_e=useTooltipContext(CONTENT_NAME,a),tt=usePopperScope(a),{onClose:nt}=_e;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,nt),()=>document.removeEventListener(TOOLTIP_OPEN,nt)),[nt]),reactExports.useEffect(()=>{if(_e.trigger){const it=st=>{const ot=st.target;ot!=null&&ot.contains(_e.trigger)&&nt()};return window.addEventListener("scroll",it,{capture:!0}),()=>window.removeEventListener("scroll",it,{capture:!0})}},[_e.trigger,nt]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:g,onPointerDownOutside:b,onFocusOutside:it=>it.preventDefault(),onDismiss:nt,children:jsxRuntimeExports.jsxs(Content$1,{"data-state":_e.stateAttribute,...tt,..._,ref:e,style:{..._.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable,{children:c}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:a,isInside:!0,children:jsxRuntimeExports.jsx(Root,{id:_e.contentId,role:"tooltip",children:d||c})})]})})});TooltipContent$1.displayName=CONTENT_NAME;var ARROW_NAME="TooltipArrow",TooltipArrow=reactExports.forwardRef((o,e)=>{const{__scopeTooltip:a,...c}=o,d=usePopperScope(a);return useVisuallyHiddenContentContext(ARROW_NAME,a).isInside?null:jsxRuntimeExports.jsx(Arrow,{...d,...c,ref:e})});TooltipArrow.displayName=ARROW_NAME;function getExitSideFromRect(o,e){const a=Math.abs(e.top-o.y),c=Math.abs(e.bottom-o.y),d=Math.abs(e.right-o.x),g=Math.abs(e.left-o.x);switch(Math.min(a,c,d,g)){case g:return"left";case d:return"right";case a:return"top";case c:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(o,e,a=5){const c=[];switch(e){case"top":c.push({x:o.x-a,y:o.y+a},{x:o.x+a,y:o.y+a});break;case"bottom":c.push({x:o.x-a,y:o.y-a},{x:o.x+a,y:o.y-a});break;case"left":c.push({x:o.x+a,y:o.y-a},{x:o.x+a,y:o.y+a});break;case"right":c.push({x:o.x-a,y:o.y-a},{x:o.x-a,y:o.y+a});break}return c}function getPointsFromRect(o){const{top:e,right:a,bottom:c,left:d}=o;return[{x:d,y:e},{x:a,y:e},{x:a,y:c},{x:d,y:c}]}function isPointInPolygon(o,e){const{x:a,y:c}=o;let d=!1;for(let g=0,b=e.length-1;g<e.length;b=g++){const _=e[g].x,_e=e[g].y,tt=e[b].x,nt=e[b].y;_e>c!=nt>c&&a<(tt-_)*(c-_e)/(nt-_e)+_&&(d=!d)}return d}function getHull(o){const e=o.slice();return e.sort((a,c)=>a.x<c.x?-1:a.x>c.x?1:a.y<c.y?-1:a.y>c.y?1:0),getHullPresorted(e)}function getHullPresorted(o){if(o.length<=1)return o.slice();const e=[];for(let c=0;c<o.length;c++){const d=o[c];for(;e.length>=2;){const g=e[e.length-1],b=e[e.length-2];if((g.x-b.x)*(d.y-b.y)>=(g.y-b.y)*(d.x-b.x))e.pop();else break}e.push(d)}e.pop();const a=[];for(let c=o.length-1;c>=0;c--){const d=o[c];for(;a.length>=2;){const g=a[a.length-1],b=a[a.length-2];if((g.x-b.x)*(d.y-b.y)>=(g.y-b.y)*(d.x-b.x))a.pop();else break}a.push(d)}return a.pop(),e.length===1&&a.length===1&&e[0].x===a[0].x&&e[0].y===a[0].y?e:e.concat(a)}var Provider=TooltipProvider$1,Content2=TooltipContent$1;const TooltipProvider=Provider,TooltipContent=reactExports.forwardRef(({className:o,sideOffset:e=4,...a},c)=>jsxRuntimeExports.jsx(Content2,{ref:c,sideOffset:e,className:cn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...a}));TooltipContent.displayName=Content2.displayName;var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(o){return this.listeners.add(o),this.onSubscribe(),()=>{this.listeners.delete(o),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop(){}function functionalUpdate(o,e){return typeof o=="function"?o(e):o}function isValidTimeout(o){return typeof o=="number"&&o>=0&&o!==1/0}function timeUntilStale(o,e){return Math.max(o+(e||0)-Date.now(),0)}function resolveStaleTime(o,e){return typeof o=="function"?o(e):o}function resolveEnabled(o,e){return typeof o=="function"?o(e):o}function matchQuery(o,e){const{type:a="all",exact:c,fetchStatus:d,predicate:g,queryKey:b,stale:_}=o;if(b){if(c){if(e.queryHash!==hashQueryKeyByOptions(b,e.options))return!1}else if(!partialMatchKey(e.queryKey,b))return!1}if(a!=="all"){const _e=e.isActive();if(a==="active"&&!_e||a==="inactive"&&_e)return!1}return!(typeof _=="boolean"&&e.isStale()!==_||d&&d!==e.state.fetchStatus||g&&!g(e))}function matchMutation(o,e){const{exact:a,status:c,predicate:d,mutationKey:g}=o;if(g){if(!e.options.mutationKey)return!1;if(a){if(hashKey(e.options.mutationKey)!==hashKey(g))return!1}else if(!partialMatchKey(e.options.mutationKey,g))return!1}return!(c&&e.state.status!==c||d&&!d(e))}function hashQueryKeyByOptions(o,e){return((e==null?void 0:e.queryKeyHashFn)||hashKey)(o)}function hashKey(o){return JSON.stringify(o,(e,a)=>isPlainObject(a)?Object.keys(a).sort().reduce((c,d)=>(c[d]=a[d],c),{}):a)}function partialMatchKey(o,e){return o===e?!0:typeof o!=typeof e?!1:o&&e&&typeof o=="object"&&typeof e=="object"?!Object.keys(e).some(a=>!partialMatchKey(o[a],e[a])):!1}function replaceEqualDeep(o,e){if(o===e)return o;const a=isPlainArray(o)&&isPlainArray(e);if(a||isPlainObject(o)&&isPlainObject(e)){const c=a?o:Object.keys(o),d=c.length,g=a?e:Object.keys(e),b=g.length,_=a?[]:{};let _e=0;for(let tt=0;tt<b;tt++){const nt=a?tt:g[tt];(!a&&c.includes(nt)||a)&&o[nt]===void 0&&e[nt]===void 0?(_[nt]=void 0,_e++):(_[nt]=replaceEqualDeep(o[nt],e[nt]),_[nt]===o[nt]&&o[nt]!==void 0&&_e++)}return d===b&&_e===d?o:_}return e}function isPlainArray(o){return Array.isArray(o)&&o.length===Object.keys(o).length}function isPlainObject(o){if(!hasObjectPrototype(o))return!1;const e=o.constructor;if(e===void 0)return!0;const a=e.prototype;return!(!hasObjectPrototype(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(o)!==Object.prototype)}function hasObjectPrototype(o){return Object.prototype.toString.call(o)==="[object Object]"}function sleep(o){return new Promise(e=>{setTimeout(e,o)})}function replaceData(o,e,a){return typeof a.structuralSharing=="function"?a.structuralSharing(o,e):a.structuralSharing!==!1?replaceEqualDeep(o,e):e}function addToEnd(o,e,a=0){const c=[...o,e];return a&&c.length>a?c.slice(1):c}function addToStart(o,e,a=0){const c=[e,...o];return a&&c.length>a?c.slice(0,-1):c}var skipToken=Symbol();function ensureQueryFn(o,e){return!o.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!o.queryFn||o.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${o.queryHash}'`)):o.queryFn}var Js,Qs,So,M0,FocusManager=(M0=class extends Subscribable{constructor(){super();Vn(this,Js);Vn(this,Qs);Vn(this,So);$n(this,So,e=>{if(!isServer&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){un(this,Qs)||this.setEventListener(un(this,So))}onUnsubscribe(){var e;this.hasListeners()||((e=un(this,Qs))==null||e.call(this),$n(this,Qs,void 0))}setEventListener(e){var a;$n(this,So,e),(a=un(this,Qs))==null||a.call(this),$n(this,Qs,e(c=>{typeof c=="boolean"?this.setFocused(c):this.onFocus()}))}setFocused(e){un(this,Js)!==e&&($n(this,Js,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){var e;return typeof un(this,Js)=="boolean"?un(this,Js):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Js=new WeakMap,Qs=new WeakMap,So=new WeakMap,M0),focusManager=new FocusManager,yo,Bs,To,$0,OnlineManager=($0=class extends Subscribable{constructor(){super();Vn(this,yo,!0);Vn(this,Bs);Vn(this,To);$n(this,To,e=>{if(!isServer&&window.addEventListener){const a=()=>e(!0),c=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",c,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",c)}}})}onSubscribe(){un(this,Bs)||this.setEventListener(un(this,To))}onUnsubscribe(){var e;this.hasListeners()||((e=un(this,Bs))==null||e.call(this),$n(this,Bs,void 0))}setEventListener(e){var a;$n(this,To,e),(a=un(this,Bs))==null||a.call(this),$n(this,Bs,e(this.setOnline.bind(this)))}setOnline(e){un(this,yo)!==e&&($n(this,yo,e),this.listeners.forEach(c=>{c(e)}))}isOnline(){return un(this,yo)}},yo=new WeakMap,Bs=new WeakMap,To=new WeakMap,$0),onlineManager=new OnlineManager;function defaultRetryDelay(o){return Math.min(1e3*2**o,3e4)}function canFetch(o){return(o??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class{constructor(o){this.revert=o==null?void 0:o.revert,this.silent=o==null?void 0:o.silent}};function isCancelledError(o){return o instanceof CancelledError}function createRetryer(o){let e=!1,a=0,c=!1,d,g,b;const _=new Promise((pt,gt)=>{g=pt,b=gt}),_e=pt=>{var gt;c||(ht(new CancelledError(pt)),(gt=o.abort)==null||gt.call(o))},tt=()=>{e=!0},nt=()=>{e=!1},it=()=>focusManager.isFocused()&&(o.networkMode==="always"||onlineManager.isOnline())&&o.canRun(),st=()=>canFetch(o.networkMode)&&o.canRun(),ot=pt=>{var gt;c||(c=!0,(gt=o.onSuccess)==null||gt.call(o,pt),d==null||d(),g(pt))},ht=pt=>{var gt;c||(c=!0,(gt=o.onError)==null||gt.call(o,pt),d==null||d(),b(pt))},dt=()=>new Promise(pt=>{var gt;d=St=>{(c||it())&&pt(St)},(gt=o.onPause)==null||gt.call(o)}).then(()=>{var pt;d=void 0,c||(pt=o.onContinue)==null||pt.call(o)}),Et=()=>{if(c)return;let pt;const gt=a===0?o.initialPromise:void 0;try{pt=gt??o.fn()}catch(St){pt=Promise.reject(St)}Promise.resolve(pt).then(ot).catch(St=>{var Nt;if(c)return;const Tt=o.retry??(isServer?0:3),bt=o.retryDelay??defaultRetryDelay,vt=typeof bt=="function"?bt(a,St):bt,kt=Tt===!0||typeof Tt=="number"&&a<Tt||typeof Tt=="function"&&Tt(a,St);if(e||!kt){ht(St);return}a++,(Nt=o.onFail)==null||Nt.call(o,a,St),sleep(vt).then(()=>it()?void 0:dt()).then(()=>{e?ht(St):Et()})})};return{promise:_,cancel:_e,continue:()=>(d==null||d(),_),cancelRetry:tt,continueRetry:nt,canStart:st,start:()=>(st()?Et():dt().then(Et),_)}}function createNotifyManager(){let o=[],e=0,a=st=>{st()},c=st=>{st()},d=st=>setTimeout(st,0);const g=st=>{d=st},b=st=>{let ot;e++;try{ot=st()}finally{e--,e||tt()}return ot},_=st=>{e?o.push(st):d(()=>{a(st)})},_e=st=>(...ot)=>{_(()=>{st(...ot)})},tt=()=>{const st=o;o=[],st.length&&d(()=>{c(()=>{st.forEach(ot=>{a(ot)})})})};return{batch:b,batchCalls:_e,schedule:_,setNotifyFunction:st=>{a=st},setBatchNotifyFunction:st=>{c=st},setScheduler:g}}var notifyManager=createNotifyManager(),eo,L0,Removable=(L0=class{constructor(){Vn(this,eo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&$n(this,eo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(o){this.gcTime=Math.max(this.gcTime||0,o??(isServer?1/0:5*60*1e3))}clearGcTimeout(){un(this,eo)&&(clearTimeout(un(this,eo)),$n(this,eo,void 0))}},eo=new WeakMap,L0),bo,xo,ss,Ar,Go,to,cs,ws,Q0,Query=(Q0=class extends Removable{constructor(e){super();Vn(this,cs);Vn(this,bo);Vn(this,xo);Vn(this,ss);Vn(this,Ar);Vn(this,Go);Vn(this,to);$n(this,to,!1),$n(this,Go,e.defaultOptions),this.setOptions(e.options),this.observers=[],$n(this,ss,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,$n(this,bo,e.state||getDefaultState$1(this.options)),this.state=un(this,bo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=un(this,Ar))==null?void 0:e.promise}setOptions(e){this.options={...un(this,Go),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&un(this,ss).remove(this)}setData(e,a){const c=replaceData(this.state.data,e,this.options);return vr(this,cs,ws).call(this,{data:c,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),c}setState(e,a){vr(this,cs,ws).call(this,{type:"setState",state:e,setStateOptions:a})}cancel(e){var c,d;const a=(c=un(this,Ar))==null?void 0:c.promise;return(d=un(this,Ar))==null||d.cancel(e),a?a.then(noop).catch(noop):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(un(this,bo))}isActive(){return this.observers.some(e=>resolveEnabled(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,e)}onFocus(){var a;const e=this.observers.find(c=>c.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(a=un(this,Ar))==null||a.continue()}onOnline(){var a;const e=this.observers.find(c=>c.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(a=un(this,Ar))==null||a.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),un(this,ss).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(un(this,Ar)&&(un(this,to)?un(this,Ar).cancel({revert:!0}):un(this,Ar).cancelRetry()),this.scheduleGc()),un(this,ss).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vr(this,cs,ws).call(this,{type:"invalidate"})}fetch(e,a){var _e,tt,nt;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(un(this,Ar))return un(this,Ar).continueRetry(),un(this,Ar).promise}if(e&&this.setOptions(e),!this.options.queryFn){const it=this.observers.find(st=>st.options.queryFn);it&&this.setOptions(it.options)}const c=new AbortController,d=it=>{Object.defineProperty(it,"signal",{enumerable:!0,get:()=>($n(this,to,!0),c.signal)})},g=()=>{const it=ensureQueryFn(this.options,a),st={queryKey:this.queryKey,meta:this.meta};return d(st),$n(this,to,!1),this.options.persister?this.options.persister(it,st,this):it(st)},b={fetchOptions:a,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:g};d(b),(_e=this.options.behavior)==null||_e.onFetch(b,this),$n(this,xo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((tt=b.fetchOptions)==null?void 0:tt.meta))&&vr(this,cs,ws).call(this,{type:"fetch",meta:(nt=b.fetchOptions)==null?void 0:nt.meta});const _=it=>{var st,ot,ht,dt;isCancelledError(it)&&it.silent||vr(this,cs,ws).call(this,{type:"error",error:it}),isCancelledError(it)||((ot=(st=un(this,ss).config).onError)==null||ot.call(st,it,this),(dt=(ht=un(this,ss).config).onSettled)==null||dt.call(ht,this.state.data,it,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return $n(this,Ar,createRetryer({initialPromise:a==null?void 0:a.initialPromise,fn:b.fetchFn,abort:c.abort.bind(c),onSuccess:it=>{var st,ot,ht,dt;if(it===void 0){_(new Error(`${this.queryHash} data is undefined`));return}this.setData(it),(ot=(st=un(this,ss).config).onSuccess)==null||ot.call(st,it,this),(dt=(ht=un(this,ss).config).onSettled)==null||dt.call(ht,it,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:_,onFail:(it,st)=>{vr(this,cs,ws).call(this,{type:"failed",failureCount:it,error:st})},onPause:()=>{vr(this,cs,ws).call(this,{type:"pause"})},onContinue:()=>{vr(this,cs,ws).call(this,{type:"continue"})},retry:b.options.retry,retryDelay:b.options.retryDelay,networkMode:b.options.networkMode,canRun:()=>!0})),un(this,Ar).start()}},bo=new WeakMap,xo=new WeakMap,ss=new WeakMap,Ar=new WeakMap,Go=new WeakMap,to=new WeakMap,cs=new WeakSet,ws=function(e){const a=c=>{switch(e.type){case"failed":return{...c,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...c,fetchStatus:"paused"};case"continue":return{...c,fetchStatus:"fetching"};case"fetch":return{...c,...fetchState(c.data,this.options),fetchMeta:e.meta??null};case"success":return{...c,data:e.data,dataUpdateCount:c.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const d=e.error;return isCancelledError(d)&&d.revert&&un(this,xo)?{...un(this,xo),fetchStatus:"idle"}:{...c,error:d,errorUpdateCount:c.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:c.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...c,isInvalidated:!0};case"setState":return{...c,...e.state}}};this.state=a(this.state),notifyManager.batch(()=>{this.observers.forEach(c=>{c.onQueryUpdate()}),un(this,ss).notify({query:this,type:"updated",action:e})})},Q0);function fetchState(o,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(e.networkMode)?"fetching":"paused",...o===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(o){const e=typeof o.initialData=="function"?o.initialData():o.initialData,a=e!==void 0,c=a?typeof o.initialDataUpdatedAt=="function"?o.initialDataUpdatedAt():o.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:a?c??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var ms,B0,QueryCache=(B0=class extends Subscribable{constructor(e={}){super();Vn(this,ms);this.config=e,$n(this,ms,new Map)}build(e,a,c){const d=a.queryKey,g=a.queryHash??hashQueryKeyByOptions(d,a);let b=this.get(g);return b||(b=new Query({cache:this,queryKey:d,queryHash:g,options:e.defaultQueryOptions(a),state:c,defaultOptions:e.getQueryDefaults(d)}),this.add(b)),b}add(e){un(this,ms).has(e.queryHash)||(un(this,ms).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=un(this,ms).get(e.queryHash);a&&(e.destroy(),a===e&&un(this,ms).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return un(this,ms).get(e)}getAll(){return[...un(this,ms).values()]}find(e){const a={exact:!0,...e};return this.getAll().find(c=>matchQuery(a,c))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(c=>matchQuery(e,c)):a}notify(e){notifyManager.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ms=new WeakMap,B0),gs,Dr,no,Os,Ls,F0,Mutation=(F0=class extends Removable{constructor(e){super();Vn(this,Os);Vn(this,gs);Vn(this,Dr);Vn(this,no);this.mutationId=e.mutationId,$n(this,Dr,e.mutationCache),$n(this,gs,[]),this.state=e.state||getDefaultState(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){un(this,gs).includes(e)||(un(this,gs).push(e),this.clearGcTimeout(),un(this,Dr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){$n(this,gs,un(this,gs).filter(a=>a!==e)),this.scheduleGc(),un(this,Dr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){un(this,gs).length||(this.state.status==="pending"?this.scheduleGc():un(this,Dr).remove(this))}continue(){var e;return((e=un(this,no))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var d,g,b,_,_e,tt,nt,it,st,ot,ht,dt,Et,pt,gt,St,Tt,bt,vt,kt;$n(this,no,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(Nt,en)=>{vr(this,Os,Ls).call(this,{type:"failed",failureCount:Nt,error:en})},onPause:()=>{vr(this,Os,Ls).call(this,{type:"pause"})},onContinue:()=>{vr(this,Os,Ls).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>un(this,Dr).canRun(this)}));const a=this.state.status==="pending",c=!un(this,no).canStart();try{if(!a){vr(this,Os,Ls).call(this,{type:"pending",variables:e,isPaused:c}),await((g=(d=un(this,Dr).config).onMutate)==null?void 0:g.call(d,e,this));const en=await((_=(b=this.options).onMutate)==null?void 0:_.call(b,e));en!==this.state.context&&vr(this,Os,Ls).call(this,{type:"pending",context:en,variables:e,isPaused:c})}const Nt=await un(this,no).start();return await((tt=(_e=un(this,Dr).config).onSuccess)==null?void 0:tt.call(_e,Nt,e,this.state.context,this)),await((it=(nt=this.options).onSuccess)==null?void 0:it.call(nt,Nt,e,this.state.context)),await((ot=(st=un(this,Dr).config).onSettled)==null?void 0:ot.call(st,Nt,null,this.state.variables,this.state.context,this)),await((dt=(ht=this.options).onSettled)==null?void 0:dt.call(ht,Nt,null,e,this.state.context)),vr(this,Os,Ls).call(this,{type:"success",data:Nt}),Nt}catch(Nt){try{throw await((pt=(Et=un(this,Dr).config).onError)==null?void 0:pt.call(Et,Nt,e,this.state.context,this)),await((St=(gt=this.options).onError)==null?void 0:St.call(gt,Nt,e,this.state.context)),await((bt=(Tt=un(this,Dr).config).onSettled)==null?void 0:bt.call(Tt,void 0,Nt,this.state.variables,this.state.context,this)),await((kt=(vt=this.options).onSettled)==null?void 0:kt.call(vt,void 0,Nt,e,this.state.context)),Nt}finally{vr(this,Os,Ls).call(this,{type:"error",error:Nt})}}finally{un(this,Dr).runNext(this)}}},gs=new WeakMap,Dr=new WeakMap,no=new WeakMap,Os=new WeakSet,Ls=function(e){const a=c=>{switch(e.type){case"failed":return{...c,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...c,isPaused:!0};case"continue":return{...c,isPaused:!1};case"pending":return{...c,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...c,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...c,data:void 0,error:e.error,failureCount:c.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),notifyManager.batch(()=>{un(this,gs).forEach(c=>{c.onMutationUpdate(e)}),un(this,Dr).notify({mutation:this,type:"updated",action:e})})},F0);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zr,Ho,j0,MutationCache=(j0=class extends Subscribable{constructor(e={}){super();Vn(this,Zr);Vn(this,Ho);this.config=e,$n(this,Zr,new Map),$n(this,Ho,Date.now())}build(e,a,c){const d=new Mutation({mutationCache:this,mutationId:++Xl(this,Ho)._,options:e.defaultMutationOptions(a),state:c});return this.add(d),d}add(e){const a=scopeFor(e),c=un(this,Zr).get(a)??[];c.push(e),un(this,Zr).set(a,c),this.notify({type:"added",mutation:e})}remove(e){var c;const a=scopeFor(e);if(un(this,Zr).has(a)){const d=(c=un(this,Zr).get(a))==null?void 0:c.filter(g=>g!==e);d&&(d.length===0?un(this,Zr).delete(a):un(this,Zr).set(a,d))}this.notify({type:"removed",mutation:e})}canRun(e){var c;const a=(c=un(this,Zr).get(scopeFor(e)))==null?void 0:c.find(d=>d.state.status==="pending");return!a||a===e}runNext(e){var c;const a=(c=un(this,Zr).get(scopeFor(e)))==null?void 0:c.find(d=>d!==e&&d.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}clear(){notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...un(this,Zr).values()].flat()}find(e){const a={exact:!0,...e};return this.getAll().find(c=>matchMutation(a,c))}findAll(e={}){return this.getAll().filter(a=>matchMutation(e,a))}notify(e){notifyManager.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return notifyManager.batch(()=>Promise.all(e.map(a=>a.continue().catch(noop))))}},Zr=new WeakMap,Ho=new WeakMap,j0);function scopeFor(o){var e;return((e=o.options.scope)==null?void 0:e.id)??String(o.mutationId)}function infiniteQueryBehavior(o){return{onFetch:(e,a)=>{const c=async()=>{var ht,dt,Et,pt,gt;const d=e.options,g=(Et=(dt=(ht=e.fetchOptions)==null?void 0:ht.meta)==null?void 0:dt.fetchMore)==null?void 0:Et.direction,b=((pt=e.state.data)==null?void 0:pt.pages)||[],_=((gt=e.state.data)==null?void 0:gt.pageParams)||[],_e={pages:[],pageParams:[]};let tt=!1;const nt=St=>{Object.defineProperty(St,"signal",{enumerable:!0,get:()=>(e.signal.aborted?tt=!0:e.signal.addEventListener("abort",()=>{tt=!0}),e.signal)})},it=ensureQueryFn(e.options,e.fetchOptions),st=async(St,Tt,bt)=>{if(tt)return Promise.reject();if(Tt==null&&St.pages.length)return Promise.resolve(St);const vt={queryKey:e.queryKey,pageParam:Tt,direction:bt?"backward":"forward",meta:e.options.meta};nt(vt);const kt=await it(vt),{maxPages:Nt}=e.options,en=bt?addToStart:addToEnd;return{pages:en(St.pages,kt,Nt),pageParams:en(St.pageParams,Tt,Nt)}};let ot;if(g&&b.length){const St=g==="backward",Tt=St?getPreviousPageParam:getNextPageParam,bt={pages:b,pageParams:_},vt=Tt(d,bt);ot=await st(bt,vt,St)}else{ot=await st(_e,_[0]??d.initialPageParam);const St=o??b.length;for(let Tt=1;Tt<St;Tt++){const bt=getNextPageParam(d,ot);if(bt==null)break;ot=await st(ot,bt)}}return ot};e.options.persister?e.fetchFn=()=>{var d,g;return(g=(d=e.options).persister)==null?void 0:g.call(d,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},a)}:e.fetchFn=c}}}function getNextPageParam(o,{pages:e,pageParams:a}){const c=e.length-1;return e.length>0?o.getNextPageParam(e[c],e,a[c],a):void 0}function getPreviousPageParam(o,{pages:e,pageParams:a}){var c;return e.length>0?(c=o.getPreviousPageParam)==null?void 0:c.call(o,e[0],e,a[0],a):void 0}var or,Fs,js,_o,vo,Us,Ao,wo,U0,QueryClient=(U0=class{constructor(o={}){Vn(this,or);Vn(this,Fs);Vn(this,js);Vn(this,_o);Vn(this,vo);Vn(this,Us);Vn(this,Ao);Vn(this,wo);$n(this,or,o.queryCache||new QueryCache),$n(this,Fs,o.mutationCache||new MutationCache),$n(this,js,o.defaultOptions||{}),$n(this,_o,new Map),$n(this,vo,new Map),$n(this,Us,0)}mount(){Xl(this,Us)._++,un(this,Us)===1&&($n(this,Ao,focusManager.subscribe(async o=>{o&&(await this.resumePausedMutations(),un(this,or).onFocus())})),$n(this,wo,onlineManager.subscribe(async o=>{o&&(await this.resumePausedMutations(),un(this,or).onOnline())})))}unmount(){var o,e;Xl(this,Us)._--,un(this,Us)===0&&((o=un(this,Ao))==null||o.call(this),$n(this,Ao,void 0),(e=un(this,wo))==null||e.call(this),$n(this,wo,void 0))}isFetching(o){return un(this,or).findAll({...o,fetchStatus:"fetching"}).length}isMutating(o){return un(this,Fs).findAll({...o,status:"pending"}).length}getQueryData(o){var a;const e=this.defaultQueryOptions({queryKey:o});return(a=un(this,or).get(e.queryHash))==null?void 0:a.state.data}ensureQueryData(o){const e=this.getQueryData(o.queryKey);if(e===void 0)return this.fetchQuery(o);{const a=this.defaultQueryOptions(o),c=un(this,or).build(this,a);return o.revalidateIfStale&&c.isStaleByTime(resolveStaleTime(a.staleTime,c))&&this.prefetchQuery(a),Promise.resolve(e)}}getQueriesData(o){return un(this,or).findAll(o).map(({queryKey:e,state:a})=>{const c=a.data;return[e,c]})}setQueryData(o,e,a){const c=this.defaultQueryOptions({queryKey:o}),d=un(this,or).get(c.queryHash),g=d==null?void 0:d.state.data,b=functionalUpdate(e,g);if(b!==void 0)return un(this,or).build(this,c).setData(b,{...a,manual:!0})}setQueriesData(o,e,a){return notifyManager.batch(()=>un(this,or).findAll(o).map(({queryKey:c})=>[c,this.setQueryData(c,e,a)]))}getQueryState(o){var a;const e=this.defaultQueryOptions({queryKey:o});return(a=un(this,or).get(e.queryHash))==null?void 0:a.state}removeQueries(o){const e=un(this,or);notifyManager.batch(()=>{e.findAll(o).forEach(a=>{e.remove(a)})})}resetQueries(o,e){const a=un(this,or),c={type:"active",...o};return notifyManager.batch(()=>(a.findAll(o).forEach(d=>{d.reset()}),this.refetchQueries(c,e)))}cancelQueries(o={},e={}){const a={revert:!0,...e},c=notifyManager.batch(()=>un(this,or).findAll(o).map(d=>d.cancel(a)));return Promise.all(c).then(noop).catch(noop)}invalidateQueries(o={},e={}){return notifyManager.batch(()=>{if(un(this,or).findAll(o).forEach(c=>{c.invalidate()}),o.refetchType==="none")return Promise.resolve();const a={...o,type:o.refetchType??o.type??"active"};return this.refetchQueries(a,e)})}refetchQueries(o={},e){const a={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},c=notifyManager.batch(()=>un(this,or).findAll(o).filter(d=>!d.isDisabled()).map(d=>{let g=d.fetch(void 0,a);return a.throwOnError||(g=g.catch(noop)),d.state.fetchStatus==="paused"?Promise.resolve():g}));return Promise.all(c).then(noop)}fetchQuery(o){const e=this.defaultQueryOptions(o);e.retry===void 0&&(e.retry=!1);const a=un(this,or).build(this,e);return a.isStaleByTime(resolveStaleTime(e.staleTime,a))?a.fetch(e):Promise.resolve(a.state.data)}prefetchQuery(o){return this.fetchQuery(o).then(noop).catch(noop)}fetchInfiniteQuery(o){return o.behavior=infiniteQueryBehavior(o.pages),this.fetchQuery(o)}prefetchInfiniteQuery(o){return this.fetchInfiniteQuery(o).then(noop).catch(noop)}resumePausedMutations(){return onlineManager.isOnline()?un(this,Fs).resumePausedMutations():Promise.resolve()}getQueryCache(){return un(this,or)}getMutationCache(){return un(this,Fs)}getDefaultOptions(){return un(this,js)}setDefaultOptions(o){$n(this,js,o)}setQueryDefaults(o,e){un(this,_o).set(hashKey(o),{queryKey:o,defaultOptions:e})}getQueryDefaults(o){const e=[...un(this,_o).values()];let a={};return e.forEach(c=>{partialMatchKey(o,c.queryKey)&&(a={...a,...c.defaultOptions})}),a}setMutationDefaults(o,e){un(this,vo).set(hashKey(o),{mutationKey:o,defaultOptions:e})}getMutationDefaults(o){const e=[...un(this,vo).values()];let a={};return e.forEach(c=>{partialMatchKey(o,c.mutationKey)&&(a={...a,...c.defaultOptions})}),a}defaultQueryOptions(o){if(o._defaulted)return o;const e={...un(this,js).queries,...this.getQueryDefaults(o.queryKey),...o,_defaulted:!0};return e.queryHash||(e.queryHash=hashQueryKeyByOptions(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===skipToken&&(e.enabled=!1),e}defaultMutationOptions(o){return o!=null&&o._defaulted?o:{...un(this,js).mutations,...(o==null?void 0:o.mutationKey)&&this.getMutationDefaults(o.mutationKey),...o,_defaulted:!0}}clear(){un(this,or).clear(),un(this,Fs).clear()}},or=new WeakMap,Fs=new WeakMap,js=new WeakMap,_o=new WeakMap,vo=new WeakMap,Us=new WeakMap,Ao=new WeakMap,wo=new WeakMap,U0),QueryClientContext=reactExports.createContext(void 0),QueryClientProvider=({client:o,children:e})=>(reactExports.useEffect(()=>(o.mount(),()=>{o.unmount()}),[o]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:o,children:e}));const queryClient=new QueryClient;function App(){return jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsxs(TooltipProvider,{children:[jsxRuntimeExports.jsx(Toaster,{}),jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(Routes,{children:jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(NoteTakingApp,{})})})})]})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{ContextTracker as C,ExternalTokenizer as E,IterMode as I,LRLanguage as L,NodeWeakMap as N,LanguageSupport as a,LRParser as b,continuedIndent as c,ifNotIn as d,completeFromList as e,foldNodeProp as f,syntaxTree as g,flatIndent as h,indentNodeProp as i,delimitedIndent as j,foldInside as k,LocalTokenGroup as l,snippetCompletion as m,defineCSSCompletionSource as n,EditorView as o,EditorSelection as p,html$3 as q,parseMixed as r,styleTags as s,tags$1 as t,bracketMatchingHandle as u,javascriptLanguage as v,getDefaultExportFromCjs as w};
